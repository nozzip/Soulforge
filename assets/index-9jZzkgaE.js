var g4=Object.defineProperty;var sE=t=>{throw TypeError(t)};var y4=(t,e,r)=>e in t?g4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var $p=(t,e,r)=>y4(t,typeof e!="symbol"?e+"":e,r),Nx=(t,e,r)=>e.has(t)||sE("Cannot "+r);var X=(t,e,r)=>(Nx(t,e,"read from private field"),r?r.call(t):e.get(t)),Ot=(t,e,r)=>e.has(t)?sE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ht=(t,e,r,n)=>(Nx(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),er=(t,e,r)=>(Nx(t,e,"access private method"),r);var Vm=(t,e,r,n)=>({set _(o){ht(t,e,o,r)},get _(){return X(t,e,n)}});function v4(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(n,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();function Th(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lx={exports:{}},Fp={},Dx={exports:{}},sr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE;function x4(){if(aE)return sr;aE=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function m(H){return H===null||typeof H!="object"?null:(H=h&&H[h]||H["@@iterator"],typeof H=="function"?H:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,b={};function x(H,J,ne){this.props=H,this.context=J,this.refs=b,this.updater=ne||y}x.prototype.isReactComponent={},x.prototype.setState=function(H,J){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,J,"setState")},x.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function C(){}C.prototype=x.prototype;function E(H,J,ne){this.props=H,this.context=J,this.refs=b,this.updater=ne||y}var j=E.prototype=new C;j.constructor=E,v(j,x.prototype),j.isPureReactComponent=!0;var T=Array.isArray,k=Object.prototype.hasOwnProperty,A={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function I(H,J,ne){var me,ge={},ce=null,te=null;if(J!=null)for(me in J.ref!==void 0&&(te=J.ref),J.key!==void 0&&(ce=""+J.key),J)k.call(J,me)&&!_.hasOwnProperty(me)&&(ge[me]=J[me]);var ve=arguments.length-2;if(ve===1)ge.children=ne;else if(1<ve){for(var Ie=Array(ve),qe=0;qe<ve;qe++)Ie[qe]=arguments[qe+2];ge.children=Ie}if(H&&H.defaultProps)for(me in ve=H.defaultProps,ve)ge[me]===void 0&&(ge[me]=ve[me]);return{$$typeof:t,type:H,key:ce,ref:te,props:ge,_owner:A.current}}function P(H,J){return{$$typeof:t,type:H.type,key:J,ref:H.ref,props:H.props,_owner:H._owner}}function N(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function B(H){var J={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ne){return J[ne]})}var O=/\/+/g;function D(H,J){return typeof H=="object"&&H!==null&&H.key!=null?B(""+H.key):J.toString(36)}function F(H,J,ne,me,ge){var ce=typeof H;(ce==="undefined"||ce==="boolean")&&(H=null);var te=!1;if(H===null)te=!0;else switch(ce){case"string":case"number":te=!0;break;case"object":switch(H.$$typeof){case t:case e:te=!0}}if(te)return te=H,ge=ge(te),H=me===""?"."+D(te,0):me,T(ge)?(ne="",H!=null&&(ne=H.replace(O,"$&/")+"/"),F(ge,J,ne,"",function(qe){return qe})):ge!=null&&(N(ge)&&(ge=P(ge,ne+(!ge.key||te&&te.key===ge.key?"":(""+ge.key).replace(O,"$&/")+"/")+H)),J.push(ge)),1;if(te=0,me=me===""?".":me+":",T(H))for(var ve=0;ve<H.length;ve++){ce=H[ve];var Ie=me+D(ce,ve);te+=F(ce,J,ne,Ie,ge)}else if(Ie=m(H),typeof Ie=="function")for(H=Ie.call(H),ve=0;!(ce=H.next()).done;)ce=ce.value,Ie=me+D(ce,ve++),te+=F(ce,J,ne,Ie,ge);else if(ce==="object")throw J=String(H),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return te}function U(H,J,ne){if(H==null)return H;var me=[],ge=0;return F(H,me,"","",function(ce){return J.call(ne,ce,ge++)}),me}function V(H){if(H._status===-1){var J=H._result;J=J(),J.then(function(ne){(H._status===0||H._status===-1)&&(H._status=1,H._result=ne)},function(ne){(H._status===0||H._status===-1)&&(H._status=2,H._result=ne)}),H._status===-1&&(H._status=0,H._result=J)}if(H._status===1)return H._result.default;throw H._result}var G={current:null},W={transition:null},K={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:W,ReactCurrentOwner:A};return sr.Children={map:U,forEach:function(H,J,ne){U(H,function(){J.apply(this,arguments)},ne)},count:function(H){var J=0;return U(H,function(){J++}),J},toArray:function(H){return U(H,function(J){return J})||[]},only:function(H){if(!N(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},sr.Component=x,sr.Fragment=r,sr.Profiler=o,sr.PureComponent=E,sr.StrictMode=n,sr.Suspense=l,sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,sr.cloneElement=function(H,J,ne){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var me=v({},H.props),ge=H.key,ce=H.ref,te=H._owner;if(J!=null){if(J.ref!==void 0&&(ce=J.ref,te=A.current),J.key!==void 0&&(ge=""+J.key),H.type&&H.type.defaultProps)var ve=H.type.defaultProps;for(Ie in J)k.call(J,Ie)&&!_.hasOwnProperty(Ie)&&(me[Ie]=J[Ie]===void 0&&ve!==void 0?ve[Ie]:J[Ie])}var Ie=arguments.length-2;if(Ie===1)me.children=ne;else if(1<Ie){ve=Array(Ie);for(var qe=0;qe<Ie;qe++)ve[qe]=arguments[qe+2];me.children=ve}return{$$typeof:t,type:H.type,key:ge,ref:ce,props:me,_owner:te}},sr.createContext=function(H){return H={$$typeof:s,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:i,_context:H},H.Consumer=H},sr.createElement=I,sr.createFactory=function(H){var J=I.bind(null,H);return J.type=H,J},sr.createRef=function(){return{current:null}},sr.forwardRef=function(H){return{$$typeof:a,render:H}},sr.isValidElement=N,sr.lazy=function(H){return{$$typeof:f,_payload:{_status:-1,_result:H},_init:V}},sr.memo=function(H,J){return{$$typeof:p,type:H,compare:J===void 0?null:J}},sr.startTransition=function(H){var J=W.transition;W.transition={};try{H()}finally{W.transition=J}},sr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},sr.useCallback=function(H,J){return G.current.useCallback(H,J)},sr.useContext=function(H){return G.current.useContext(H)},sr.useDebugValue=function(){},sr.useDeferredValue=function(H){return G.current.useDeferredValue(H)},sr.useEffect=function(H,J){return G.current.useEffect(H,J)},sr.useId=function(){return G.current.useId()},sr.useImperativeHandle=function(H,J,ne){return G.current.useImperativeHandle(H,J,ne)},sr.useInsertionEffect=function(H,J){return G.current.useInsertionEffect(H,J)},sr.useLayoutEffect=function(H,J){return G.current.useLayoutEffect(H,J)},sr.useMemo=function(H,J){return G.current.useMemo(H,J)},sr.useReducer=function(H,J,ne){return G.current.useReducer(H,J,ne)},sr.useRef=function(H){return G.current.useRef(H)},sr.useState=function(H){return G.current.useState(H)},sr.useSyncExternalStore=function(H,J,ne){return G.current.useSyncExternalStore(H,J,ne)},sr.useTransition=function(){return G.current.useTransition()},sr.version="18.2.0",sr}var lE;function nu(){return lE||(lE=1,Dx.exports=x4()),Dx.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function b4(){if(cE)return Fp;cE=1;var t=nu(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function s(a,l,p){var f,h={},m=null,y=null;p!==void 0&&(m=""+p),l.key!==void 0&&(m=""+l.key),l.ref!==void 0&&(y=l.ref);for(f in l)n.call(l,f)&&!i.hasOwnProperty(f)&&(h[f]=l[f]);if(a&&a.defaultProps)for(f in l=a.defaultProps,l)h[f]===void 0&&(h[f]=l[f]);return{$$typeof:e,type:a,key:m,ref:y,props:h,_owner:o.current}}return Fp.Fragment=r,Fp.jsx=s,Fp.jsxs=s,Fp}var uE;function w4(){return uE||(uE=1,Lx.exports=b4()),Lx.exports}var u=w4(),S=nu();const Gt=Th(S),qg=v4({__proto__:null,default:Gt},[S]);var qm={},zx={exports:{}},No={},$x={exports:{}},Fx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function S4(){return dE||(dE=1,(function(t){function e(W,K){var H=W.length;W.push(K);e:for(;0<H;){var J=H-1>>>1,ne=W[J];if(0<o(ne,K))W[J]=K,W[H]=ne,H=J;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var K=W[0],H=W.pop();if(H!==K){W[0]=H;e:for(var J=0,ne=W.length,me=ne>>>1;J<me;){var ge=2*(J+1)-1,ce=W[ge],te=ge+1,ve=W[te];if(0>o(ce,H))te<ne&&0>o(ve,ce)?(W[J]=ve,W[te]=H,J=te):(W[J]=ce,W[ge]=H,J=ge);else if(te<ne&&0>o(ve,H))W[J]=ve,W[te]=H,J=te;else break e}}return K}function o(W,K){var H=W.sortIndex-K.sortIndex;return H!==0?H:W.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],p=[],f=1,h=null,m=3,y=!1,v=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(W){for(var K=r(p);K!==null;){if(K.callback===null)n(p);else if(K.startTime<=W)n(p),K.sortIndex=K.expirationTime,e(l,K);else break;K=r(p)}}function T(W){if(b=!1,j(W),!v)if(r(l)!==null)v=!0,V(k);else{var K=r(p);K!==null&&G(T,K.startTime-W)}}function k(W,K){v=!1,b&&(b=!1,C(I),I=-1),y=!0;var H=m;try{for(j(K),h=r(l);h!==null&&(!(h.expirationTime>K)||W&&!B());){var J=h.callback;if(typeof J=="function"){h.callback=null,m=h.priorityLevel;var ne=J(h.expirationTime<=K);K=t.unstable_now(),typeof ne=="function"?h.callback=ne:h===r(l)&&n(l),j(K)}else n(l);h=r(l)}if(h!==null)var me=!0;else{var ge=r(p);ge!==null&&G(T,ge.startTime-K),me=!1}return me}finally{h=null,m=H,y=!1}}var A=!1,_=null,I=-1,P=5,N=-1;function B(){return!(t.unstable_now()-N<P)}function O(){if(_!==null){var W=t.unstable_now();N=W;var K=!0;try{K=_(!0,W)}finally{K?D():(A=!1,_=null)}}else A=!1}var D;if(typeof E=="function")D=function(){E(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,U=F.port2;F.port1.onmessage=O,D=function(){U.postMessage(null)}}else D=function(){x(O,0)};function V(W){_=W,A||(A=!0,D())}function G(W,K){I=x(function(){W(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,V(k))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(W){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var H=m;m=K;try{return W()}finally{m=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,K){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var H=m;m=W;try{return K()}finally{m=H}},t.unstable_scheduleCallback=function(W,K,H){var J=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?J+H:J):H=J,W){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=H+ne,W={id:f++,callback:K,priorityLevel:W,startTime:H,expirationTime:ne,sortIndex:-1},H>J?(W.sortIndex=H,e(p,W),r(l)===null&&W===r(p)&&(b?(C(I),I=-1):b=!0,G(T,H-J))):(W.sortIndex=ne,e(l,W),v||y||(v=!0,V(k))),W},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(W){var K=m;return function(){var H=m;m=K;try{return W.apply(this,arguments)}finally{m=H}}}})(Fx)),Fx}var pE;function C4(){return pE||(pE=1,$x.exports=S4()),$x.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function k4(){if(fE)return No;fE=1;var t=nu(),e=C4();function r(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+c,g=1;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function i(c,d){s(c,d),s(c+"Capture",d)}function s(c,d){for(o[c]=d,c=0;c<d.length;c++)n.add(d[c])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(c){return l.call(h,c)?!0:l.call(f,c)?!1:p.test(c)?h[c]=!0:(f[c]=!0,!1)}function y(c,d,g,w){if(g!==null&&g.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return w?!1:g!==null?!g.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function v(c,d,g,w){if(d===null||typeof d>"u"||y(c,d,g,w))return!0;if(w)return!1;if(g!==null)switch(g.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function b(c,d,g,w,R,M,z){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=w,this.attributeNamespace=R,this.mustUseProperty=g,this.propertyName=c,this.type=d,this.sanitizeURL=M,this.removeEmptyString=z}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){x[c]=new b(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var d=c[0];x[d]=new b(d,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){x[c]=new b(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){x[c]=new b(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){x[c]=new b(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){x[c]=new b(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){x[c]=new b(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){x[c]=new b(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){x[c]=new b(c,5,!1,c.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function E(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var d=c.replace(C,E);x[d]=new b(d,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var d=c.replace(C,E);x[d]=new b(d,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var d=c.replace(C,E);x[d]=new b(d,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){x[c]=new b(c,1,!1,c.toLowerCase(),null,!1,!1)}),x.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){x[c]=new b(c,1,!1,c.toLowerCase(),null,!0,!0)});function j(c,d,g,w){var R=x.hasOwnProperty(d)?x[d]:null;(R!==null?R.type!==0:w||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(v(d,g,R,w)&&(g=null),w||R===null?m(d)&&(g===null?c.removeAttribute(d):c.setAttribute(d,""+g)):R.mustUseProperty?c[R.propertyName]=g===null?R.type===3?!1:"":g:(d=R.attributeName,w=R.attributeNamespace,g===null?c.removeAttribute(d):(R=R.type,g=R===3||R===4&&g===!0?"":""+g,w?c.setAttributeNS(w,d,g):c.setAttribute(d,g))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),A=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),B=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),W=Symbol.iterator;function K(c){return c===null||typeof c!="object"?null:(c=W&&c[W]||c["@@iterator"],typeof c=="function"?c:null)}var H=Object.assign,J;function ne(c){if(J===void 0)try{throw Error()}catch(g){var d=g.stack.trim().match(/\n( *(at )?)/);J=d&&d[1]||""}return`
`+J+c}var me=!1;function ge(c,d){if(!c||me)return"";me=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(de){var w=de}Reflect.construct(c,[],d)}else{try{d.call()}catch(de){w=de}c.call(d.prototype)}else{try{throw Error()}catch(de){w=de}c()}}catch(de){if(de&&w&&typeof de.stack=="string"){for(var R=de.stack.split(`
`),M=w.stack.split(`
`),z=R.length-1,Y=M.length-1;1<=z&&0<=Y&&R[z]!==M[Y];)Y--;for(;1<=z&&0<=Y;z--,Y--)if(R[z]!==M[Y]){if(z!==1||Y!==1)do if(z--,Y--,0>Y||R[z]!==M[Y]){var Q=`
`+R[z].replace(" at new "," at ");return c.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",c.displayName)),Q}while(1<=z&&0<=Y);break}}}finally{me=!1,Error.prepareStackTrace=g}return(c=c?c.displayName||c.name:"")?ne(c):""}function ce(c){switch(c.tag){case 5:return ne(c.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return c=ge(c.type,!1),c;case 11:return c=ge(c.type.render,!1),c;case 1:return c=ge(c.type,!0),c;default:return""}}function te(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case _:return"Fragment";case A:return"Portal";case P:return"Profiler";case I:return"StrictMode";case D:return"Suspense";case F:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case B:return(c.displayName||"Context")+".Consumer";case N:return(c._context.displayName||"Context")+".Provider";case O:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case U:return d=c.displayName||null,d!==null?d:te(c.type)||"Memo";case V:d=c._payload,c=c._init;try{return te(c(d))}catch{}}return null}function ve(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=d.render,c=c.displayName||c.name||"",d.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return te(d);case 8:return d===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Ie(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function qe(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Ne(c){var d=qe(c)?"checked":"value",g=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),w=""+c[d];if(!c.hasOwnProperty(d)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var R=g.get,M=g.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return R.call(this)},set:function(z){w=""+z,M.call(this,z)}}),Object.defineProperty(c,d,{enumerable:g.enumerable}),{getValue:function(){return w},setValue:function(z){w=""+z},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function lt(c){c._valueTracker||(c._valueTracker=Ne(c))}function Xe(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var g=d.getValue(),w="";return c&&(w=qe(c)?c.checked?"true":"false":c.value),c=w,c!==g?(d.setValue(c),!0):!1}function He(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Le(c,d){var g=d.checked;return H({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??c._wrapperState.initialChecked})}function Re(c,d){var g=d.defaultValue==null?"":d.defaultValue,w=d.checked!=null?d.checked:d.defaultChecked;g=Ie(d.value!=null?d.value:g),c._wrapperState={initialChecked:w,initialValue:g,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function ae(c,d){d=d.checked,d!=null&&j(c,"checked",d,!1)}function ke(c,d){ae(c,d);var g=Ie(d.value),w=d.type;if(g!=null)w==="number"?(g===0&&c.value===""||c.value!=g)&&(c.value=""+g):c.value!==""+g&&(c.value=""+g);else if(w==="submit"||w==="reset"){c.removeAttribute("value");return}d.hasOwnProperty("value")?dt(c,d.type,g):d.hasOwnProperty("defaultValue")&&dt(c,d.type,Ie(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(c.defaultChecked=!!d.defaultChecked)}function fe(c,d,g){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var w=d.type;if(!(w!=="submit"&&w!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+c._wrapperState.initialValue,g||d===c.value||(c.value=d),c.defaultValue=d}g=c.name,g!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,g!==""&&(c.name=g)}function dt(c,d,g){(d!=="number"||He(c.ownerDocument)!==c)&&(g==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+g&&(c.defaultValue=""+g))}var Be=Array.isArray;function Te(c,d,g,w){if(c=c.options,d){d={};for(var R=0;R<g.length;R++)d["$"+g[R]]=!0;for(g=0;g<c.length;g++)R=d.hasOwnProperty("$"+c[g].value),c[g].selected!==R&&(c[g].selected=R),R&&w&&(c[g].defaultSelected=!0)}else{for(g=""+Ie(g),d=null,R=0;R<c.length;R++){if(c[R].value===g){c[R].selected=!0,w&&(c[R].defaultSelected=!0);return}d!==null||c[R].disabled||(d=c[R])}d!==null&&(d.selected=!0)}}function ie(c,d){if(d.dangerouslySetInnerHTML!=null)throw Error(r(91));return H({},d,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function Ce(c,d){var g=d.value;if(g==null){if(g=d.children,d=d.defaultValue,g!=null){if(d!=null)throw Error(r(92));if(Be(g)){if(1<g.length)throw Error(r(93));g=g[0]}d=g}d==null&&(d=""),g=d}c._wrapperState={initialValue:Ie(g)}}function We(c,d){var g=Ie(d.value),w=Ie(d.defaultValue);g!=null&&(g=""+g,g!==c.value&&(c.value=g),d.defaultValue==null&&c.defaultValue!==g&&(c.defaultValue=g)),w!=null&&(c.defaultValue=""+w)}function Qe(c){var d=c.textContent;d===c._wrapperState.initialValue&&d!==""&&d!==null&&(c.value=d)}function mt(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(c,d){return c==null||c==="http://www.w3.org/1999/xhtml"?mt(d):c==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var Ze,ot=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,g,w,R){MSApp.execUnsafeLocalFunction(function(){return c(d,g,w,R)})}:c})(function(c,d){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=d;else{for(Ze=Ze||document.createElement("div"),Ze.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=Ze.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;d.firstChild;)c.appendChild(d.firstChild)}});function ft(c,d){if(d){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=d;return}}c.textContent=d}var Ae={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ct=["Webkit","ms","Moz","O"];Object.keys(Ae).forEach(function(c){ct.forEach(function(d){d=d+c.charAt(0).toUpperCase()+c.substring(1),Ae[d]=Ae[c]})});function at(c,d,g){return d==null||typeof d=="boolean"||d===""?"":g||typeof d!="number"||d===0||Ae.hasOwnProperty(c)&&Ae[c]?(""+d).trim():d+"px"}function ee(c,d){c=c.style;for(var g in d)if(d.hasOwnProperty(g)){var w=g.indexOf("--")===0,R=at(g,d[g],w);g==="float"&&(g="cssFloat"),w?c.setProperty(g,R):c[g]=R}}var we=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Me(c,d){if(d){if(we[c]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(r(137,c));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(r(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61))}if(d.style!=null&&typeof d.style!="object")throw Error(r(62))}}function _t(c,d){if(c.indexOf("-")===-1)return typeof d.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gt=null;function $t(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var or=null,Oe=null,Je=null;function Lt(c){if(c=kp(c)){if(typeof or!="function")throw Error(r(280));var d=c.stateNode;d&&(d=sm(d),or(c.stateNode,c.type,d))}}function qt(c){Oe?Je?Je.push(c):Je=[c]:Oe=c}function vr(){if(Oe){var c=Oe,d=Je;if(Je=Oe=null,Lt(c),d)for(c=0;c<d.length;c++)Lt(d[c])}}function xr(c,d){return c(d)}function Ct(){}var ir=!1;function $e(c,d,g){if(ir)return c(d,g);ir=!0;try{return xr(c,d,g)}finally{ir=!1,(Oe!==null||Je!==null)&&(Ct(),vr())}}function Ge(c,d){var g=c.stateNode;if(g===null)return null;var w=sm(g);if(w===null)return null;g=w[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(c=c.type,w=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!w;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(r(231,d,typeof g));return g}var At=!1;if(a)try{var jt={};Object.defineProperty(jt,"passive",{get:function(){At=!0}}),window.addEventListener("test",jt,jt),window.removeEventListener("test",jt,jt)}catch{At=!1}function Jt(c,d,g,w,R,M,z,Y,Q){var de=Array.prototype.slice.call(arguments,3);try{d.apply(g,de)}catch(De){this.onError(De)}}var jr=!1,Wr=null,Pr=!1,On=null,Pn={onError:function(c){jr=!0,Wr=c}};function Qt(c,d,g,w,R,M,z,Y,Q){jr=!1,Wr=null,Jt.apply(Pn,arguments)}function qr(c,d,g,w,R,M,z,Y,Q){if(Qt.apply(this,arguments),jr){if(jr){var de=Wr;jr=!1,Wr=null}else throw Error(r(198));Pr||(Pr=!0,On=de)}}function cr(c){var d=c,g=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(g=d.return),c=d.return;while(c)}return d.tag===3?g:null}function zs(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function br(c){if(cr(c)!==c)throw Error(r(188))}function ci(c){var d=c.alternate;if(!d){if(d=cr(c),d===null)throw Error(r(188));return d!==c?null:c}for(var g=c,w=d;;){var R=g.return;if(R===null)break;var M=R.alternate;if(M===null){if(w=R.return,w!==null){g=w;continue}break}if(R.child===M.child){for(M=R.child;M;){if(M===g)return br(R),c;if(M===w)return br(R),d;M=M.sibling}throw Error(r(188))}if(g.return!==w.return)g=R,w=M;else{for(var z=!1,Y=R.child;Y;){if(Y===g){z=!0,g=R,w=M;break}if(Y===w){z=!0,w=R,g=M;break}Y=Y.sibling}if(!z){for(Y=M.child;Y;){if(Y===g){z=!0,g=M,w=R;break}if(Y===w){z=!0,w=M,g=R;break}Y=Y.sibling}if(!z)throw Error(r(189))}}if(g.alternate!==w)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?c:d}function ye(c){return c=ci(c),c!==null?he(c):null}function he(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var d=he(c);if(d!==null)return d;c=c.sibling}return null}var ut=e.unstable_scheduleCallback,It=e.unstable_cancelCallback,Wt=e.unstable_shouldYield,Gr=e.unstable_requestPaint,Ft=e.unstable_now,Nn=e.unstable_getCurrentPriorityLevel,oo=e.unstable_ImmediatePriority,$s=e.unstable_UserBlockingPriority,Vo=e.unstable_NormalPriority,qo=e.unstable_LowPriority,Zt=e.unstable_IdlePriority,Ln=null,tn=null;function ds(c){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Ln,c,void 0,(c.current.flags&128)===128)}catch{}}var Go=Math.clz32?Math.clz32:ka,lp=Math.log,Vl=Math.LN2;function ka(c){return c>>>=0,c===0?32:31-(lp(c)/Vl|0)|0}var go=64,Ea=4194304;function Ta(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function ql(c,d){var g=c.pendingLanes;if(g===0)return 0;var w=0,R=c.suspendedLanes,M=c.pingedLanes,z=g&268435455;if(z!==0){var Y=z&~R;Y!==0?w=Ta(Y):(M&=z,M!==0&&(w=Ta(M)))}else z=g&~R,z!==0?w=Ta(z):M!==0&&(w=Ta(M));if(w===0)return 0;if(d!==0&&d!==w&&(d&R)===0&&(R=w&-w,M=d&-d,R>=M||R===16&&(M&4194240)!==0))return d;if((w&4)!==0&&(w|=g&16),d=c.entangledLanes,d!==0)for(c=c.entanglements,d&=w;0<d;)g=31-Go(d),R=1<<g,w|=c[g],d&=~R;return w}function cp(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gh(c,d){for(var g=c.suspendedLanes,w=c.pingedLanes,R=c.expirationTimes,M=c.pendingLanes;0<M;){var z=31-Go(M),Y=1<<z,Q=R[z];Q===-1?((Y&g)===0||(Y&w)!==0)&&(R[z]=cp(Y,d)):Q<=d&&(c.expiredLanes|=Y),M&=~Y}}function ja(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function Gl(){var c=go;return go<<=1,(go&4194240)===0&&(go=64),c}function Ko(c){for(var d=[],g=0;31>g;g++)d.push(c);return d}function ui(c,d,g){c.pendingLanes|=d,d!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,d=31-Go(d),c[d]=g}function up(c,d){var g=c.pendingLanes&~d;c.pendingLanes=d,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=d,c.mutableReadLanes&=d,c.entangledLanes&=d,d=c.entanglements;var w=c.eventTimes;for(c=c.expirationTimes;0<g;){var R=31-Go(g),M=1<<R;d[R]=0,w[R]=-1,c[R]=-1,g&=~M}}function Kl(c,d){var g=c.entangledLanes|=d;for(c=c.entanglements;g;){var w=31-Go(g),R=1<<w;R&d|c[w]&d&&(c[w]|=d),g&=~R}}var hr=0;function Yl(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var Jl,dp,Ra,Kh,Yh,Kr=!1,Wi=[],ps=null,Hi=null,di=null,Aa=new Map,_a=new Map,fs=[],pi="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hs(c,d){switch(c){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":Aa.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":_a.delete(d.pointerId)}}function Ma(c,d,g,w,R,M){return c===null||c.nativeEvent!==M?(c={blockedOn:d,domEventName:g,eventSystemFlags:w,nativeEvent:M,targetContainers:[R]},d!==null&&(d=kp(d),d!==null&&dp(d)),c):(c.eventSystemFlags|=w,d=c.targetContainers,R!==null&&d.indexOf(R)===-1&&d.push(R),c)}function Jh(c,d,g,w,R){switch(d){case"focusin":return ps=Ma(ps,c,d,g,w,R),!0;case"dragenter":return Hi=Ma(Hi,c,d,g,w,R),!0;case"mouseover":return di=Ma(di,c,d,g,w,R),!0;case"pointerover":var M=R.pointerId;return Aa.set(M,Ma(Aa.get(M)||null,c,d,g,w,R)),!0;case"gotpointercapture":return M=R.pointerId,_a.set(M,Ma(_a.get(M)||null,c,d,g,w,R)),!0}return!1}function au(c){var d=Ql(c.target);if(d!==null){var g=cr(d);if(g!==null){if(d=g.tag,d===13){if(d=zs(g),d!==null){c.blockedOn=d,Yh(c.priority,function(){Ra(g)});return}}else if(d===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Xl(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var g=Rr(c.domEventName,c.eventSystemFlags,d[0],c.nativeEvent);if(g===null){g=c.nativeEvent;var w=new g.constructor(g.type,g);gt=w,g.target.dispatchEvent(w),gt=null}else return d=kp(g),d!==null&&dp(d),c.blockedOn=g,!1;d.shift()}return!0}function fi(c,d,g){Xl(c)&&g.delete(d)}function Xh(){Kr=!1,ps!==null&&Xl(ps)&&(ps=null),Hi!==null&&Xl(Hi)&&(Hi=null),di!==null&&Xl(di)&&(di=null),Aa.forEach(fi),_a.forEach(fi)}function Ia(c,d){c.blockedOn===d&&(c.blockedOn=null,Kr||(Kr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Xh)))}function Oa(c){function d(R){return Ia(R,c)}if(0<Wi.length){Ia(Wi[0],c);for(var g=1;g<Wi.length;g++){var w=Wi[g];w.blockedOn===c&&(w.blockedOn=null)}}for(ps!==null&&Ia(ps,c),Hi!==null&&Ia(Hi,c),di!==null&&Ia(di,c),Aa.forEach(d),_a.forEach(d),g=0;g<fs.length;g++)w=fs[g],w.blockedOn===c&&(w.blockedOn=null);for(;0<fs.length&&(g=fs[0],g.blockedOn===null);)au(g),g.blockedOn===null&&fs.shift()}var Fs=T.ReactCurrentBatchConfig,lu=!0;function Mt(c,d,g,w){var R=hr,M=Fs.transition;Fs.transition=null;try{hr=1,Ue(c,d,g,w)}finally{hr=R,Fs.transition=M}}function Z(c,d,g,w){var R=hr,M=Fs.transition;Fs.transition=null;try{hr=4,Ue(c,d,g,w)}finally{hr=R,Fs.transition=M}}function Ue(c,d,g,w){if(lu){var R=Rr(c,d,g,w);if(R===null)Ev(c,d,w,xt,g),hs(c,w);else if(Jh(R,c,d,g,w))w.stopPropagation();else if(hs(c,w),d&4&&-1<pi.indexOf(c)){for(;R!==null;){var M=kp(R);if(M!==null&&Jl(M),M=Rr(c,d,g,w),M===null&&Ev(c,d,w,xt,g),M===R)break;R=M}R!==null&&w.stopPropagation()}else Ev(c,d,w,null,g)}}var xt=null;function Rr(c,d,g,w){if(xt=null,c=$t(w),c=Ql(c),c!==null)if(d=cr(c),d===null)c=null;else if(g=d.tag,g===13){if(c=zs(d),c!==null)return c;c=null}else if(g===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null);return xt=c,null}function Cn(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nn()){case oo:return 1;case $s:return 4;case Vo:case qo:return 16;case Zt:return 536870912;default:return 16}default:return 16}}var Cr=null,Dn=null,Ao=null;function Bs(){if(Ao)return Ao;var c,d=Dn,g=d.length,w,R="value"in Cr?Cr.value:Cr.textContent,M=R.length;for(c=0;c<g&&d[c]===R[c];c++);var z=g-c;for(w=1;w<=z&&d[g-w]===R[M-w];w++);return Ao=R.slice(c,1<w?1-w:void 0)}function Pa(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function rn(){return!0}function pp(){return!1}function io(c){function d(g,w,R,M,z){this._reactName=g,this._targetInst=R,this.type=w,this.nativeEvent=M,this.target=z,this.currentTarget=null;for(var Y in c)c.hasOwnProperty(Y)&&(g=c[Y],this[Y]=g?g(M):M[Y]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?rn:pp,this.isPropagationStopped=pp,this}return H(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),d}var cu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uv=io(cu),fp=H({},cu,{view:0,detail:0}),HN=io(fp),dv,pv,hp,Qh=H({},fp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hv,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==hp&&(hp&&c.type==="mousemove"?(dv=c.screenX-hp.screenX,pv=c.screenY-hp.screenY):pv=dv=0,hp=c),dv)},movementY:function(c){return"movementY"in c?c.movementY:pv}}),KC=io(Qh),UN=H({},Qh,{dataTransfer:0}),VN=io(UN),qN=H({},fp,{relatedTarget:0}),fv=io(qN),GN=H({},cu,{animationName:0,elapsedTime:0,pseudoElement:0}),KN=io(GN),YN=H({},cu,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),JN=io(YN),XN=H({},cu,{data:0}),YC=io(XN),QN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t3(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=e3[c])?!!d[c]:!1}function hv(){return t3}var r3=H({},fp,{key:function(c){if(c.key){var d=QN[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=Pa(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?ZN[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hv,charCode:function(c){return c.type==="keypress"?Pa(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Pa(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),n3=io(r3),o3=H({},Qh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JC=io(o3),i3=H({},fp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hv}),s3=io(i3),a3=H({},cu,{propertyName:0,elapsedTime:0,pseudoElement:0}),l3=io(a3),c3=H({},Qh,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),u3=io(c3),d3=[9,13,27,32],mv=a&&"CompositionEvent"in window,mp=null;a&&"documentMode"in document&&(mp=document.documentMode);var p3=a&&"TextEvent"in window&&!mp,XC=a&&(!mv||mp&&8<mp&&11>=mp),QC=" ",ZC=!1;function e2(c,d){switch(c){case"keyup":return d3.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t2(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var uu=!1;function f3(c,d){switch(c){case"compositionend":return t2(d);case"keypress":return d.which!==32?null:(ZC=!0,QC);case"textInput":return c=d.data,c===QC&&ZC?null:c;default:return null}}function h3(c,d){if(uu)return c==="compositionend"||!mv&&e2(c,d)?(c=Bs(),Ao=Dn=Cr=null,uu=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return XC&&d.locale!=="ko"?null:d.data;default:return null}}var m3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r2(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!m3[c.type]:d==="textarea"}function n2(c,d,g,w){qt(w),d=nm(d,"onChange"),0<d.length&&(g=new uv("onChange","change",null,g,w),c.push({event:g,listeners:d}))}var gp=null,yp=null;function g3(c){w2(c,0)}function Zh(c){var d=mu(c);if(Xe(d))return c}function y3(c,d){if(c==="change")return d}var o2=!1;if(a){var gv;if(a){var yv="oninput"in document;if(!yv){var i2=document.createElement("div");i2.setAttribute("oninput","return;"),yv=typeof i2.oninput=="function"}gv=yv}else gv=!1;o2=gv&&(!document.documentMode||9<document.documentMode)}function s2(){gp&&(gp.detachEvent("onpropertychange",a2),yp=gp=null)}function a2(c){if(c.propertyName==="value"&&Zh(yp)){var d=[];n2(d,yp,c,$t(c)),$e(g3,d)}}function v3(c,d,g){c==="focusin"?(s2(),gp=d,yp=g,gp.attachEvent("onpropertychange",a2)):c==="focusout"&&s2()}function x3(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Zh(yp)}function b3(c,d){if(c==="click")return Zh(d)}function w3(c,d){if(c==="input"||c==="change")return Zh(d)}function S3(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var Ui=typeof Object.is=="function"?Object.is:S3;function vp(c,d){if(Ui(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var g=Object.keys(c),w=Object.keys(d);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var R=g[w];if(!l.call(d,R)||!Ui(c[R],d[R]))return!1}return!0}function l2(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function c2(c,d){var g=l2(c);c=0;for(var w;g;){if(g.nodeType===3){if(w=c+g.textContent.length,c<=d&&w>=d)return{node:g,offset:d-c};c=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=l2(g)}}function u2(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?u2(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function d2(){for(var c=window,d=He();d instanceof c.HTMLIFrameElement;){try{var g=typeof d.contentWindow.location.href=="string"}catch{g=!1}if(g)c=d.contentWindow;else break;d=He(c.document)}return d}function vv(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}function C3(c){var d=d2(),g=c.focusedElem,w=c.selectionRange;if(d!==g&&g&&g.ownerDocument&&u2(g.ownerDocument.documentElement,g)){if(w!==null&&vv(g)){if(d=w.start,c=w.end,c===void 0&&(c=d),"selectionStart"in g)g.selectionStart=d,g.selectionEnd=Math.min(c,g.value.length);else if(c=(d=g.ownerDocument||document)&&d.defaultView||window,c.getSelection){c=c.getSelection();var R=g.textContent.length,M=Math.min(w.start,R);w=w.end===void 0?M:Math.min(w.end,R),!c.extend&&M>w&&(R=w,w=M,M=R),R=c2(g,M);var z=c2(g,w);R&&z&&(c.rangeCount!==1||c.anchorNode!==R.node||c.anchorOffset!==R.offset||c.focusNode!==z.node||c.focusOffset!==z.offset)&&(d=d.createRange(),d.setStart(R.node,R.offset),c.removeAllRanges(),M>w?(c.addRange(d),c.extend(z.node,z.offset)):(d.setEnd(z.node,z.offset),c.addRange(d)))}}for(d=[],c=g;c=c.parentNode;)c.nodeType===1&&d.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<d.length;g++)c=d[g],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var k3=a&&"documentMode"in document&&11>=document.documentMode,du=null,xv=null,xp=null,bv=!1;function p2(c,d,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;bv||du==null||du!==He(w)||(w=du,"selectionStart"in w&&vv(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),xp&&vp(xp,w)||(xp=w,w=nm(xv,"onSelect"),0<w.length&&(d=new uv("onSelect","select",null,d,g),c.push({event:d,listeners:w}),d.target=du)))}function em(c,d){var g={};return g[c.toLowerCase()]=d.toLowerCase(),g["Webkit"+c]="webkit"+d,g["Moz"+c]="moz"+d,g}var pu={animationend:em("Animation","AnimationEnd"),animationiteration:em("Animation","AnimationIteration"),animationstart:em("Animation","AnimationStart"),transitionend:em("Transition","TransitionEnd")},wv={},f2={};a&&(f2=document.createElement("div").style,"AnimationEvent"in window||(delete pu.animationend.animation,delete pu.animationiteration.animation,delete pu.animationstart.animation),"TransitionEvent"in window||delete pu.transitionend.transition);function tm(c){if(wv[c])return wv[c];if(!pu[c])return c;var d=pu[c],g;for(g in d)if(d.hasOwnProperty(g)&&g in f2)return wv[c]=d[g];return c}var h2=tm("animationend"),m2=tm("animationiteration"),g2=tm("animationstart"),y2=tm("transitionend"),v2=new Map,x2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Na(c,d){v2.set(c,d),i(d,[c])}for(var Sv=0;Sv<x2.length;Sv++){var Cv=x2[Sv],E3=Cv.toLowerCase(),T3=Cv[0].toUpperCase()+Cv.slice(1);Na(E3,"on"+T3)}Na(h2,"onAnimationEnd"),Na(m2,"onAnimationIteration"),Na(g2,"onAnimationStart"),Na("dblclick","onDoubleClick"),Na("focusin","onFocus"),Na("focusout","onBlur"),Na(y2,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j3=new Set("cancel close invalid load scroll toggle".split(" ").concat(bp));function b2(c,d,g){var w=c.type||"unknown-event";c.currentTarget=g,qr(w,d,void 0,c),c.currentTarget=null}function w2(c,d){d=(d&4)!==0;for(var g=0;g<c.length;g++){var w=c[g],R=w.event;w=w.listeners;e:{var M=void 0;if(d)for(var z=w.length-1;0<=z;z--){var Y=w[z],Q=Y.instance,de=Y.currentTarget;if(Y=Y.listener,Q!==M&&R.isPropagationStopped())break e;b2(R,Y,de),M=Q}else for(z=0;z<w.length;z++){if(Y=w[z],Q=Y.instance,de=Y.currentTarget,Y=Y.listener,Q!==M&&R.isPropagationStopped())break e;b2(R,Y,de),M=Q}}}if(Pr)throw c=On,Pr=!1,On=null,c}function $r(c,d){var g=d[Mv];g===void 0&&(g=d[Mv]=new Set);var w=c+"__bubble";g.has(w)||(S2(d,c,2,!1),g.add(w))}function kv(c,d,g){var w=0;d&&(w|=4),S2(g,c,w,d)}var rm="_reactListening"+Math.random().toString(36).slice(2);function wp(c){if(!c[rm]){c[rm]=!0,n.forEach(function(g){g!=="selectionchange"&&(j3.has(g)||kv(g,!1,c),kv(g,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[rm]||(d[rm]=!0,kv("selectionchange",!1,d))}}function S2(c,d,g,w){switch(Cn(d)){case 1:var R=Mt;break;case 4:R=Z;break;default:R=Ue}g=R.bind(null,d,g,c),R=void 0,!At||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(R=!0),w?R!==void 0?c.addEventListener(d,g,{capture:!0,passive:R}):c.addEventListener(d,g,!0):R!==void 0?c.addEventListener(d,g,{passive:R}):c.addEventListener(d,g,!1)}function Ev(c,d,g,w,R){var M=w;if((d&1)===0&&(d&2)===0&&w!==null)e:for(;;){if(w===null)return;var z=w.tag;if(z===3||z===4){var Y=w.stateNode.containerInfo;if(Y===R||Y.nodeType===8&&Y.parentNode===R)break;if(z===4)for(z=w.return;z!==null;){var Q=z.tag;if((Q===3||Q===4)&&(Q=z.stateNode.containerInfo,Q===R||Q.nodeType===8&&Q.parentNode===R))return;z=z.return}for(;Y!==null;){if(z=Ql(Y),z===null)return;if(Q=z.tag,Q===5||Q===6){w=M=z;continue e}Y=Y.parentNode}}w=w.return}$e(function(){var de=M,De=$t(g),Fe=[];e:{var Pe=v2.get(c);if(Pe!==void 0){var yt=uv,kt=c;switch(c){case"keypress":if(Pa(g)===0)break e;case"keydown":case"keyup":yt=n3;break;case"focusin":kt="focus",yt=fv;break;case"focusout":kt="blur",yt=fv;break;case"beforeblur":case"afterblur":yt=fv;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":yt=KC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":yt=VN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":yt=s3;break;case h2:case m2:case g2:yt=KN;break;case y2:yt=l3;break;case"scroll":yt=HN;break;case"wheel":yt=u3;break;case"copy":case"cut":case"paste":yt=JN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":yt=JC}var Et=(d&4)!==0,mn=!Et&&c==="scroll",se=Et?Pe!==null?Pe+"Capture":null:Pe;Et=[];for(var re=de,le;re!==null;){le=re;var Ke=le.stateNode;if(le.tag===5&&Ke!==null&&(le=Ke,se!==null&&(Ke=Ge(re,se),Ke!=null&&Et.push(Sp(re,Ke,le)))),mn)break;re=re.return}0<Et.length&&(Pe=new yt(Pe,kt,null,g,De),Fe.push({event:Pe,listeners:Et}))}}if((d&7)===0){e:{if(Pe=c==="mouseover"||c==="pointerover",yt=c==="mouseout"||c==="pointerout",Pe&&g!==gt&&(kt=g.relatedTarget||g.fromElement)&&(Ql(kt)||kt[Ws]))break e;if((yt||Pe)&&(Pe=De.window===De?De:(Pe=De.ownerDocument)?Pe.defaultView||Pe.parentWindow:window,yt?(kt=g.relatedTarget||g.toElement,yt=de,kt=kt?Ql(kt):null,kt!==null&&(mn=cr(kt),kt!==mn||kt.tag!==5&&kt.tag!==6)&&(kt=null)):(yt=null,kt=de),yt!==kt)){if(Et=KC,Ke="onMouseLeave",se="onMouseEnter",re="mouse",(c==="pointerout"||c==="pointerover")&&(Et=JC,Ke="onPointerLeave",se="onPointerEnter",re="pointer"),mn=yt==null?Pe:mu(yt),le=kt==null?Pe:mu(kt),Pe=new Et(Ke,re+"leave",yt,g,De),Pe.target=mn,Pe.relatedTarget=le,Ke=null,Ql(De)===de&&(Et=new Et(se,re+"enter",kt,g,De),Et.target=le,Et.relatedTarget=mn,Ke=Et),mn=Ke,yt&&kt)t:{for(Et=yt,se=kt,re=0,le=Et;le;le=fu(le))re++;for(le=0,Ke=se;Ke;Ke=fu(Ke))le++;for(;0<re-le;)Et=fu(Et),re--;for(;0<le-re;)se=fu(se),le--;for(;re--;){if(Et===se||se!==null&&Et===se.alternate)break t;Et=fu(Et),se=fu(se)}Et=null}else Et=null;yt!==null&&C2(Fe,Pe,yt,Et,!1),kt!==null&&mn!==null&&C2(Fe,mn,kt,Et,!0)}}e:{if(Pe=de?mu(de):window,yt=Pe.nodeName&&Pe.nodeName.toLowerCase(),yt==="select"||yt==="input"&&Pe.type==="file")var Tt=y3;else if(r2(Pe))if(o2)Tt=w3;else{Tt=x3;var Dt=v3}else(yt=Pe.nodeName)&&yt.toLowerCase()==="input"&&(Pe.type==="checkbox"||Pe.type==="radio")&&(Tt=b3);if(Tt&&(Tt=Tt(c,de))){n2(Fe,Tt,g,De);break e}Dt&&Dt(c,Pe,de),c==="focusout"&&(Dt=Pe._wrapperState)&&Dt.controlled&&Pe.type==="number"&&dt(Pe,"number",Pe.value)}switch(Dt=de?mu(de):window,c){case"focusin":(r2(Dt)||Dt.contentEditable==="true")&&(du=Dt,xv=de,xp=null);break;case"focusout":xp=xv=du=null;break;case"mousedown":bv=!0;break;case"contextmenu":case"mouseup":case"dragend":bv=!1,p2(Fe,g,De);break;case"selectionchange":if(k3)break;case"keydown":case"keyup":p2(Fe,g,De)}var zt;if(mv)e:{switch(c){case"compositionstart":var Vt="onCompositionStart";break e;case"compositionend":Vt="onCompositionEnd";break e;case"compositionupdate":Vt="onCompositionUpdate";break e}Vt=void 0}else uu?e2(c,g)&&(Vt="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(Vt="onCompositionStart");Vt&&(XC&&g.locale!=="ko"&&(uu||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&uu&&(zt=Bs()):(Cr=De,Dn="value"in Cr?Cr.value:Cr.textContent,uu=!0)),Dt=nm(de,Vt),0<Dt.length&&(Vt=new YC(Vt,c,null,g,De),Fe.push({event:Vt,listeners:Dt}),zt?Vt.data=zt:(zt=t2(g),zt!==null&&(Vt.data=zt)))),(zt=p3?f3(c,g):h3(c,g))&&(de=nm(de,"onBeforeInput"),0<de.length&&(De=new YC("onBeforeInput","beforeinput",null,g,De),Fe.push({event:De,listeners:de}),De.data=zt))}w2(Fe,d)})}function Sp(c,d,g){return{instance:c,listener:d,currentTarget:g}}function nm(c,d){for(var g=d+"Capture",w=[];c!==null;){var R=c,M=R.stateNode;R.tag===5&&M!==null&&(R=M,M=Ge(c,g),M!=null&&w.unshift(Sp(c,M,R)),M=Ge(c,d),M!=null&&w.push(Sp(c,M,R))),c=c.return}return w}function fu(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function C2(c,d,g,w,R){for(var M=d._reactName,z=[];g!==null&&g!==w;){var Y=g,Q=Y.alternate,de=Y.stateNode;if(Q!==null&&Q===w)break;Y.tag===5&&de!==null&&(Y=de,R?(Q=Ge(g,M),Q!=null&&z.unshift(Sp(g,Q,Y))):R||(Q=Ge(g,M),Q!=null&&z.push(Sp(g,Q,Y)))),g=g.return}z.length!==0&&c.push({event:d,listeners:z})}var R3=/\r\n?/g,A3=/\u0000|\uFFFD/g;function k2(c){return(typeof c=="string"?c:""+c).replace(R3,`
`).replace(A3,"")}function om(c,d,g){if(d=k2(d),k2(c)!==d&&g)throw Error(r(425))}function im(){}var Tv=null,jv=null;function Rv(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Av=typeof setTimeout=="function"?setTimeout:void 0,_3=typeof clearTimeout=="function"?clearTimeout:void 0,E2=typeof Promise=="function"?Promise:void 0,M3=typeof queueMicrotask=="function"?queueMicrotask:typeof E2<"u"?function(c){return E2.resolve(null).then(c).catch(I3)}:Av;function I3(c){setTimeout(function(){throw c})}function _v(c,d){var g=d,w=0;do{var R=g.nextSibling;if(c.removeChild(g),R&&R.nodeType===8)if(g=R.data,g==="/$"){if(w===0){c.removeChild(R),Oa(d);return}w--}else g!=="$"&&g!=="$?"&&g!=="$!"||w++;g=R}while(g);Oa(d)}function La(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return c}function T2(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"){if(d===0)return c;d--}else g==="/$"&&d++}c=c.previousSibling}return null}var hu=Math.random().toString(36).slice(2),ms="__reactFiber$"+hu,Cp="__reactProps$"+hu,Ws="__reactContainer$"+hu,Mv="__reactEvents$"+hu,O3="__reactListeners$"+hu,P3="__reactHandles$"+hu;function Ql(c){var d=c[ms];if(d)return d;for(var g=c.parentNode;g;){if(d=g[Ws]||g[ms]){if(g=d.alternate,d.child!==null||g!==null&&g.child!==null)for(c=T2(c);c!==null;){if(g=c[ms])return g;c=T2(c)}return d}c=g,g=c.parentNode}return null}function kp(c){return c=c[ms]||c[Ws],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function mu(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(r(33))}function sm(c){return c[Cp]||null}var Iv=[],gu=-1;function Da(c){return{current:c}}function Fr(c){0>gu||(c.current=Iv[gu],Iv[gu]=null,gu--)}function Nr(c,d){gu++,Iv[gu]=c.current,c.current=d}var za={},so=Da(za),_o=Da(!1),Zl=za;function yu(c,d){var g=c.type.contextTypes;if(!g)return za;var w=c.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===d)return w.__reactInternalMemoizedMaskedChildContext;var R={},M;for(M in g)R[M]=d[M];return w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=R),R}function Mo(c){return c=c.childContextTypes,c!=null}function am(){Fr(_o),Fr(so)}function j2(c,d,g){if(so.current!==za)throw Error(r(168));Nr(so,d),Nr(_o,g)}function R2(c,d,g){var w=c.stateNode;if(d=d.childContextTypes,typeof w.getChildContext!="function")return g;w=w.getChildContext();for(var R in w)if(!(R in d))throw Error(r(108,ve(c)||"Unknown",R));return H({},g,w)}function lm(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||za,Zl=so.current,Nr(so,c),Nr(_o,_o.current),!0}function A2(c,d,g){var w=c.stateNode;if(!w)throw Error(r(169));g?(c=R2(c,d,Zl),w.__reactInternalMemoizedMergedChildContext=c,Fr(_o),Fr(so),Nr(so,c)):Fr(_o),Nr(_o,g)}var Hs=null,cm=!1,Ov=!1;function _2(c){Hs===null?Hs=[c]:Hs.push(c)}function N3(c){cm=!0,_2(c)}function $a(){if(!Ov&&Hs!==null){Ov=!0;var c=0,d=hr;try{var g=Hs;for(hr=1;c<g.length;c++){var w=g[c];do w=w(!0);while(w!==null)}Hs=null,cm=!1}catch(R){throw Hs!==null&&(Hs=Hs.slice(c+1)),ut(oo,$a),R}finally{hr=d,Ov=!1}}return null}var vu=[],xu=0,um=null,dm=0,hi=[],mi=0,ec=null,Us=1,Vs="";function tc(c,d){vu[xu++]=dm,vu[xu++]=um,um=c,dm=d}function M2(c,d,g){hi[mi++]=Us,hi[mi++]=Vs,hi[mi++]=ec,ec=c;var w=Us;c=Vs;var R=32-Go(w)-1;w&=~(1<<R),g+=1;var M=32-Go(d)+R;if(30<M){var z=R-R%5;M=(w&(1<<z)-1).toString(32),w>>=z,R-=z,Us=1<<32-Go(d)+R|g<<R|w,Vs=M+c}else Us=1<<M|g<<R|w,Vs=c}function Pv(c){c.return!==null&&(tc(c,1),M2(c,1,0))}function Nv(c){for(;c===um;)um=vu[--xu],vu[xu]=null,dm=vu[--xu],vu[xu]=null;for(;c===ec;)ec=hi[--mi],hi[mi]=null,Vs=hi[--mi],hi[mi]=null,Us=hi[--mi],hi[mi]=null}var Yo=null,Jo=null,Hr=!1,Vi=null;function I2(c,d){var g=xi(5,null,null,0);g.elementType="DELETED",g.stateNode=d,g.return=c,d=c.deletions,d===null?(c.deletions=[g],c.flags|=16):d.push(g)}function O2(c,d){switch(c.tag){case 5:var g=c.type;return d=d.nodeType!==1||g.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(c.stateNode=d,Yo=c,Jo=La(d.firstChild),!0):!1;case 6:return d=c.pendingProps===""||d.nodeType!==3?null:d,d!==null?(c.stateNode=d,Yo=c,Jo=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(g=ec!==null?{id:Us,overflow:Vs}:null,c.memoizedState={dehydrated:d,treeContext:g,retryLane:1073741824},g=xi(18,null,null,0),g.stateNode=d,g.return=c,c.child=g,Yo=c,Jo=null,!0):!1;default:return!1}}function Lv(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Dv(c){if(Hr){var d=Jo;if(d){var g=d;if(!O2(c,d)){if(Lv(c))throw Error(r(418));d=La(g.nextSibling);var w=Yo;d&&O2(c,d)?I2(w,g):(c.flags=c.flags&-4097|2,Hr=!1,Yo=c)}}else{if(Lv(c))throw Error(r(418));c.flags=c.flags&-4097|2,Hr=!1,Yo=c}}}function P2(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Yo=c}function pm(c){if(c!==Yo)return!1;if(!Hr)return P2(c),Hr=!0,!1;var d;if((d=c.tag!==3)&&!(d=c.tag!==5)&&(d=c.type,d=d!=="head"&&d!=="body"&&!Rv(c.type,c.memoizedProps)),d&&(d=Jo)){if(Lv(c))throw N2(),Error(r(418));for(;d;)I2(c,d),d=La(d.nextSibling)}if(P2(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8){var g=c.data;if(g==="/$"){if(d===0){Jo=La(c.nextSibling);break e}d--}else g!=="$"&&g!=="$!"&&g!=="$?"||d++}c=c.nextSibling}Jo=null}}else Jo=Yo?La(c.stateNode.nextSibling):null;return!0}function N2(){for(var c=Jo;c;)c=La(c.nextSibling)}function bu(){Jo=Yo=null,Hr=!1}function zv(c){Vi===null?Vi=[c]:Vi.push(c)}var L3=T.ReactCurrentBatchConfig;function qi(c,d){if(c&&c.defaultProps){d=H({},d),c=c.defaultProps;for(var g in c)d[g]===void 0&&(d[g]=c[g]);return d}return d}var fm=Da(null),hm=null,wu=null,$v=null;function Fv(){$v=wu=hm=null}function Bv(c){var d=fm.current;Fr(fm),c._currentValue=d}function Wv(c,d,g){for(;c!==null;){var w=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,w!==null&&(w.childLanes|=d)):w!==null&&(w.childLanes&d)!==d&&(w.childLanes|=d),c===g)break;c=c.return}}function Su(c,d){hm=c,$v=wu=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&d)!==0&&(Io=!0),c.firstContext=null)}function gi(c){var d=c._currentValue;if($v!==c)if(c={context:c,memoizedValue:d,next:null},wu===null){if(hm===null)throw Error(r(308));wu=c,hm.dependencies={lanes:0,firstContext:c}}else wu=wu.next=c;return d}var rc=null;function Hv(c){rc===null?rc=[c]:rc.push(c)}function L2(c,d,g,w){var R=d.interleaved;return R===null?(g.next=g,Hv(d)):(g.next=R.next,R.next=g),d.interleaved=g,qs(c,w)}function qs(c,d){c.lanes|=d;var g=c.alternate;for(g!==null&&(g.lanes|=d),g=c,c=c.return;c!==null;)c.childLanes|=d,g=c.alternate,g!==null&&(g.childLanes|=d),g=c,c=c.return;return g.tag===3?g.stateNode:null}var Fa=!1;function Uv(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function D2(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Gs(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function Ba(c,d,g){var w=c.updateQueue;if(w===null)return null;if(w=w.shared,(ur&2)!==0){var R=w.pending;return R===null?d.next=d:(d.next=R.next,R.next=d),w.pending=d,qs(c,g)}return R=w.interleaved,R===null?(d.next=d,Hv(w)):(d.next=R.next,R.next=d),w.interleaved=d,qs(c,g)}function mm(c,d,g){if(d=d.updateQueue,d!==null&&(d=d.shared,(g&4194240)!==0)){var w=d.lanes;w&=c.pendingLanes,g|=w,d.lanes=g,Kl(c,g)}}function z2(c,d){var g=c.updateQueue,w=c.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var R=null,M=null;if(g=g.firstBaseUpdate,g!==null){do{var z={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};M===null?R=M=z:M=M.next=z,g=g.next}while(g!==null);M===null?R=M=d:M=M.next=d}else R=M=d;g={baseState:w.baseState,firstBaseUpdate:R,lastBaseUpdate:M,shared:w.shared,effects:w.effects},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=d:c.next=d,g.lastBaseUpdate=d}function gm(c,d,g,w){var R=c.updateQueue;Fa=!1;var M=R.firstBaseUpdate,z=R.lastBaseUpdate,Y=R.shared.pending;if(Y!==null){R.shared.pending=null;var Q=Y,de=Q.next;Q.next=null,z===null?M=de:z.next=de,z=Q;var De=c.alternate;De!==null&&(De=De.updateQueue,Y=De.lastBaseUpdate,Y!==z&&(Y===null?De.firstBaseUpdate=de:Y.next=de,De.lastBaseUpdate=Q))}if(M!==null){var Fe=R.baseState;z=0,De=de=Q=null,Y=M;do{var Pe=Y.lane,yt=Y.eventTime;if((w&Pe)===Pe){De!==null&&(De=De.next={eventTime:yt,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var kt=c,Et=Y;switch(Pe=d,yt=g,Et.tag){case 1:if(kt=Et.payload,typeof kt=="function"){Fe=kt.call(yt,Fe,Pe);break e}Fe=kt;break e;case 3:kt.flags=kt.flags&-65537|128;case 0:if(kt=Et.payload,Pe=typeof kt=="function"?kt.call(yt,Fe,Pe):kt,Pe==null)break e;Fe=H({},Fe,Pe);break e;case 2:Fa=!0}}Y.callback!==null&&Y.lane!==0&&(c.flags|=64,Pe=R.effects,Pe===null?R.effects=[Y]:Pe.push(Y))}else yt={eventTime:yt,lane:Pe,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},De===null?(de=De=yt,Q=Fe):De=De.next=yt,z|=Pe;if(Y=Y.next,Y===null){if(Y=R.shared.pending,Y===null)break;Pe=Y,Y=Pe.next,Pe.next=null,R.lastBaseUpdate=Pe,R.shared.pending=null}}while(!0);if(De===null&&(Q=Fe),R.baseState=Q,R.firstBaseUpdate=de,R.lastBaseUpdate=De,d=R.shared.interleaved,d!==null){R=d;do z|=R.lane,R=R.next;while(R!==d)}else M===null&&(R.shared.lanes=0);ic|=z,c.lanes=z,c.memoizedState=Fe}}function $2(c,d,g){if(c=d.effects,d.effects=null,c!==null)for(d=0;d<c.length;d++){var w=c[d],R=w.callback;if(R!==null){if(w.callback=null,w=g,typeof R!="function")throw Error(r(191,R));R.call(w)}}}var F2=new t.Component().refs;function Vv(c,d,g,w){d=c.memoizedState,g=g(w,d),g=g==null?d:H({},d,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var ym={isMounted:function(c){return(c=c._reactInternals)?cr(c)===c:!1},enqueueSetState:function(c,d,g){c=c._reactInternals;var w=vo(),R=Va(c),M=Gs(w,R);M.payload=d,g!=null&&(M.callback=g),d=Ba(c,M,R),d!==null&&(Yi(d,c,R,w),mm(d,c,R))},enqueueReplaceState:function(c,d,g){c=c._reactInternals;var w=vo(),R=Va(c),M=Gs(w,R);M.tag=1,M.payload=d,g!=null&&(M.callback=g),d=Ba(c,M,R),d!==null&&(Yi(d,c,R,w),mm(d,c,R))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var g=vo(),w=Va(c),R=Gs(g,w);R.tag=2,d!=null&&(R.callback=d),d=Ba(c,R,w),d!==null&&(Yi(d,c,w,g),mm(d,c,w))}};function B2(c,d,g,w,R,M,z){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(w,M,z):d.prototype&&d.prototype.isPureReactComponent?!vp(g,w)||!vp(R,M):!0}function W2(c,d,g){var w=!1,R=za,M=d.contextType;return typeof M=="object"&&M!==null?M=gi(M):(R=Mo(d)?Zl:so.current,w=d.contextTypes,M=(w=w!=null)?yu(c,R):za),d=new d(g,M),c.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ym,c.stateNode=d,d._reactInternals=c,w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=R,c.__reactInternalMemoizedMaskedChildContext=M),d}function H2(c,d,g,w){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(g,w),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(g,w),d.state!==c&&ym.enqueueReplaceState(d,d.state,null)}function qv(c,d,g,w){var R=c.stateNode;R.props=g,R.state=c.memoizedState,R.refs=F2,Uv(c);var M=d.contextType;typeof M=="object"&&M!==null?R.context=gi(M):(M=Mo(d)?Zl:so.current,R.context=yu(c,M)),R.state=c.memoizedState,M=d.getDerivedStateFromProps,typeof M=="function"&&(Vv(c,d,M,g),R.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(d=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),d!==R.state&&ym.enqueueReplaceState(R,R.state,null),gm(c,g,R,w),R.state=c.memoizedState),typeof R.componentDidMount=="function"&&(c.flags|=4194308)}function Ep(c,d,g){if(c=g.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(r(309));var w=g.stateNode}if(!w)throw Error(r(147,c));var R=w,M=""+c;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===M?d.ref:(d=function(z){var Y=R.refs;Y===F2&&(Y=R.refs={}),z===null?delete Y[M]:Y[M]=z},d._stringRef=M,d)}if(typeof c!="string")throw Error(r(284));if(!g._owner)throw Error(r(290,c))}return c}function vm(c,d){throw c=Object.prototype.toString.call(d),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c))}function U2(c){var d=c._init;return d(c._payload)}function V2(c){function d(se,re){if(c){var le=se.deletions;le===null?(se.deletions=[re],se.flags|=16):le.push(re)}}function g(se,re){if(!c)return null;for(;re!==null;)d(se,re),re=re.sibling;return null}function w(se,re){for(se=new Map;re!==null;)re.key!==null?se.set(re.key,re):se.set(re.index,re),re=re.sibling;return se}function R(se,re){return se=Ga(se,re),se.index=0,se.sibling=null,se}function M(se,re,le){return se.index=le,c?(le=se.alternate,le!==null?(le=le.index,le<re?(se.flags|=2,re):le):(se.flags|=2,re)):(se.flags|=1048576,re)}function z(se){return c&&se.alternate===null&&(se.flags|=2),se}function Y(se,re,le,Ke){return re===null||re.tag!==6?(re=Ax(le,se.mode,Ke),re.return=se,re):(re=R(re,le),re.return=se,re)}function Q(se,re,le,Ke){var Tt=le.type;return Tt===_?De(se,re,le.props.children,Ke,le.key):re!==null&&(re.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===V&&U2(Tt)===re.type)?(Ke=R(re,le.props),Ke.ref=Ep(se,re,le),Ke.return=se,Ke):(Ke=Dm(le.type,le.key,le.props,null,se.mode,Ke),Ke.ref=Ep(se,re,le),Ke.return=se,Ke)}function de(se,re,le,Ke){return re===null||re.tag!==4||re.stateNode.containerInfo!==le.containerInfo||re.stateNode.implementation!==le.implementation?(re=_x(le,se.mode,Ke),re.return=se,re):(re=R(re,le.children||[]),re.return=se,re)}function De(se,re,le,Ke,Tt){return re===null||re.tag!==7?(re=cc(le,se.mode,Ke,Tt),re.return=se,re):(re=R(re,le),re.return=se,re)}function Fe(se,re,le){if(typeof re=="string"&&re!==""||typeof re=="number")return re=Ax(""+re,se.mode,le),re.return=se,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case k:return le=Dm(re.type,re.key,re.props,null,se.mode,le),le.ref=Ep(se,null,re),le.return=se,le;case A:return re=_x(re,se.mode,le),re.return=se,re;case V:var Ke=re._init;return Fe(se,Ke(re._payload),le)}if(Be(re)||K(re))return re=cc(re,se.mode,le,null),re.return=se,re;vm(se,re)}return null}function Pe(se,re,le,Ke){var Tt=re!==null?re.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return Tt!==null?null:Y(se,re,""+le,Ke);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case k:return le.key===Tt?Q(se,re,le,Ke):null;case A:return le.key===Tt?de(se,re,le,Ke):null;case V:return Tt=le._init,Pe(se,re,Tt(le._payload),Ke)}if(Be(le)||K(le))return Tt!==null?null:De(se,re,le,Ke,null);vm(se,le)}return null}function yt(se,re,le,Ke,Tt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return se=se.get(le)||null,Y(re,se,""+Ke,Tt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case k:return se=se.get(Ke.key===null?le:Ke.key)||null,Q(re,se,Ke,Tt);case A:return se=se.get(Ke.key===null?le:Ke.key)||null,de(re,se,Ke,Tt);case V:var Dt=Ke._init;return yt(se,re,le,Dt(Ke._payload),Tt)}if(Be(Ke)||K(Ke))return se=se.get(le)||null,De(re,se,Ke,Tt,null);vm(re,Ke)}return null}function kt(se,re,le,Ke){for(var Tt=null,Dt=null,zt=re,Vt=re=0,Fn=null;zt!==null&&Vt<le.length;Vt++){zt.index>Vt?(Fn=zt,zt=null):Fn=zt.sibling;var pr=Pe(se,zt,le[Vt],Ke);if(pr===null){zt===null&&(zt=Fn);break}c&&zt&&pr.alternate===null&&d(se,zt),re=M(pr,re,Vt),Dt===null?Tt=pr:Dt.sibling=pr,Dt=pr,zt=Fn}if(Vt===le.length)return g(se,zt),Hr&&tc(se,Vt),Tt;if(zt===null){for(;Vt<le.length;Vt++)zt=Fe(se,le[Vt],Ke),zt!==null&&(re=M(zt,re,Vt),Dt===null?Tt=zt:Dt.sibling=zt,Dt=zt);return Hr&&tc(se,Vt),Tt}for(zt=w(se,zt);Vt<le.length;Vt++)Fn=yt(zt,se,Vt,le[Vt],Ke),Fn!==null&&(c&&Fn.alternate!==null&&zt.delete(Fn.key===null?Vt:Fn.key),re=M(Fn,re,Vt),Dt===null?Tt=Fn:Dt.sibling=Fn,Dt=Fn);return c&&zt.forEach(function(Ka){return d(se,Ka)}),Hr&&tc(se,Vt),Tt}function Et(se,re,le,Ke){var Tt=K(le);if(typeof Tt!="function")throw Error(r(150));if(le=Tt.call(le),le==null)throw Error(r(151));for(var Dt=Tt=null,zt=re,Vt=re=0,Fn=null,pr=le.next();zt!==null&&!pr.done;Vt++,pr=le.next()){zt.index>Vt?(Fn=zt,zt=null):Fn=zt.sibling;var Ka=Pe(se,zt,pr.value,Ke);if(Ka===null){zt===null&&(zt=Fn);break}c&&zt&&Ka.alternate===null&&d(se,zt),re=M(Ka,re,Vt),Dt===null?Tt=Ka:Dt.sibling=Ka,Dt=Ka,zt=Fn}if(pr.done)return g(se,zt),Hr&&tc(se,Vt),Tt;if(zt===null){for(;!pr.done;Vt++,pr=le.next())pr=Fe(se,pr.value,Ke),pr!==null&&(re=M(pr,re,Vt),Dt===null?Tt=pr:Dt.sibling=pr,Dt=pr);return Hr&&tc(se,Vt),Tt}for(zt=w(se,zt);!pr.done;Vt++,pr=le.next())pr=yt(zt,se,Vt,pr.value,Ke),pr!==null&&(c&&pr.alternate!==null&&zt.delete(pr.key===null?Vt:pr.key),re=M(pr,re,Vt),Dt===null?Tt=pr:Dt.sibling=pr,Dt=pr);return c&&zt.forEach(function(m4){return d(se,m4)}),Hr&&tc(se,Vt),Tt}function mn(se,re,le,Ke){if(typeof le=="object"&&le!==null&&le.type===_&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case k:e:{for(var Tt=le.key,Dt=re;Dt!==null;){if(Dt.key===Tt){if(Tt=le.type,Tt===_){if(Dt.tag===7){g(se,Dt.sibling),re=R(Dt,le.props.children),re.return=se,se=re;break e}}else if(Dt.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===V&&U2(Tt)===Dt.type){g(se,Dt.sibling),re=R(Dt,le.props),re.ref=Ep(se,Dt,le),re.return=se,se=re;break e}g(se,Dt);break}else d(se,Dt);Dt=Dt.sibling}le.type===_?(re=cc(le.props.children,se.mode,Ke,le.key),re.return=se,se=re):(Ke=Dm(le.type,le.key,le.props,null,se.mode,Ke),Ke.ref=Ep(se,re,le),Ke.return=se,se=Ke)}return z(se);case A:e:{for(Dt=le.key;re!==null;){if(re.key===Dt)if(re.tag===4&&re.stateNode.containerInfo===le.containerInfo&&re.stateNode.implementation===le.implementation){g(se,re.sibling),re=R(re,le.children||[]),re.return=se,se=re;break e}else{g(se,re);break}else d(se,re);re=re.sibling}re=_x(le,se.mode,Ke),re.return=se,se=re}return z(se);case V:return Dt=le._init,mn(se,re,Dt(le._payload),Ke)}if(Be(le))return kt(se,re,le,Ke);if(K(le))return Et(se,re,le,Ke);vm(se,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,re!==null&&re.tag===6?(g(se,re.sibling),re=R(re,le),re.return=se,se=re):(g(se,re),re=Ax(le,se.mode,Ke),re.return=se,se=re),z(se)):g(se,re)}return mn}var Cu=V2(!0),q2=V2(!1),Tp={},gs=Da(Tp),jp=Da(Tp),Rp=Da(Tp);function nc(c){if(c===Tp)throw Error(r(174));return c}function Gv(c,d){switch(Nr(Rp,d),Nr(jp,c),Nr(gs,Tp),c=d.nodeType,c){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:je(null,"");break;default:c=c===8?d.parentNode:d,d=c.namespaceURI||null,c=c.tagName,d=je(d,c)}Fr(gs),Nr(gs,d)}function ku(){Fr(gs),Fr(jp),Fr(Rp)}function G2(c){nc(Rp.current);var d=nc(gs.current),g=je(d,c.type);d!==g&&(Nr(jp,c),Nr(gs,g))}function Kv(c){jp.current===c&&(Fr(gs),Fr(jp))}var Yr=Da(0);function xm(c){for(var d=c;d!==null;){if(d.tag===13){var g=d.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Yv=[];function Jv(){for(var c=0;c<Yv.length;c++)Yv[c]._workInProgressVersionPrimary=null;Yv.length=0}var bm=T.ReactCurrentDispatcher,Xv=T.ReactCurrentBatchConfig,oc=0,Jr=null,kn=null,zn=null,wm=!1,Ap=!1,_p=0,D3=0;function ao(){throw Error(r(321))}function Qv(c,d){if(d===null)return!1;for(var g=0;g<d.length&&g<c.length;g++)if(!Ui(c[g],d[g]))return!1;return!0}function Zv(c,d,g,w,R,M){if(oc=M,Jr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,bm.current=c===null||c.memoizedState===null?B3:W3,c=g(w,R),Ap){M=0;do{if(Ap=!1,_p=0,25<=M)throw Error(r(301));M+=1,zn=kn=null,d.updateQueue=null,bm.current=H3,c=g(w,R)}while(Ap)}if(bm.current=km,d=kn!==null&&kn.next!==null,oc=0,zn=kn=Jr=null,wm=!1,d)throw Error(r(300));return c}function ex(){var c=_p!==0;return _p=0,c}function ys(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?Jr.memoizedState=zn=c:zn=zn.next=c,zn}function yi(){if(kn===null){var c=Jr.alternate;c=c!==null?c.memoizedState:null}else c=kn.next;var d=zn===null?Jr.memoizedState:zn.next;if(d!==null)zn=d,kn=c;else{if(c===null)throw Error(r(310));kn=c,c={memoizedState:kn.memoizedState,baseState:kn.baseState,baseQueue:kn.baseQueue,queue:kn.queue,next:null},zn===null?Jr.memoizedState=zn=c:zn=zn.next=c}return zn}function Mp(c,d){return typeof d=="function"?d(c):d}function tx(c){var d=yi(),g=d.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=c;var w=kn,R=w.baseQueue,M=g.pending;if(M!==null){if(R!==null){var z=R.next;R.next=M.next,M.next=z}w.baseQueue=R=M,g.pending=null}if(R!==null){M=R.next,w=w.baseState;var Y=z=null,Q=null,de=M;do{var De=de.lane;if((oc&De)===De)Q!==null&&(Q=Q.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),w=de.hasEagerState?de.eagerState:c(w,de.action);else{var Fe={lane:De,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};Q===null?(Y=Q=Fe,z=w):Q=Q.next=Fe,Jr.lanes|=De,ic|=De}de=de.next}while(de!==null&&de!==M);Q===null?z=w:Q.next=Y,Ui(w,d.memoizedState)||(Io=!0),d.memoizedState=w,d.baseState=z,d.baseQueue=Q,g.lastRenderedState=w}if(c=g.interleaved,c!==null){R=c;do M=R.lane,Jr.lanes|=M,ic|=M,R=R.next;while(R!==c)}else R===null&&(g.lanes=0);return[d.memoizedState,g.dispatch]}function rx(c){var d=yi(),g=d.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=c;var w=g.dispatch,R=g.pending,M=d.memoizedState;if(R!==null){g.pending=null;var z=R=R.next;do M=c(M,z.action),z=z.next;while(z!==R);Ui(M,d.memoizedState)||(Io=!0),d.memoizedState=M,d.baseQueue===null&&(d.baseState=M),g.lastRenderedState=M}return[M,w]}function K2(){}function Y2(c,d){var g=Jr,w=yi(),R=d(),M=!Ui(w.memoizedState,R);if(M&&(w.memoizedState=R,Io=!0),w=w.queue,nx(Q2.bind(null,g,w,c),[c]),w.getSnapshot!==d||M||zn!==null&&zn.memoizedState.tag&1){if(g.flags|=2048,Ip(9,X2.bind(null,g,w,R,d),void 0,null),$n===null)throw Error(r(349));(oc&30)!==0||J2(g,d,R)}return R}function J2(c,d,g){c.flags|=16384,c={getSnapshot:d,value:g},d=Jr.updateQueue,d===null?(d={lastEffect:null,stores:null},Jr.updateQueue=d,d.stores=[c]):(g=d.stores,g===null?d.stores=[c]:g.push(c))}function X2(c,d,g,w){d.value=g,d.getSnapshot=w,Z2(d)&&ek(c)}function Q2(c,d,g){return g(function(){Z2(d)&&ek(c)})}function Z2(c){var d=c.getSnapshot;c=c.value;try{var g=d();return!Ui(c,g)}catch{return!0}}function ek(c){var d=qs(c,1);d!==null&&Yi(d,c,1,-1)}function tk(c){var d=ys();return typeof c=="function"&&(c=c()),d.memoizedState=d.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mp,lastRenderedState:c},d.queue=c,c=c.dispatch=F3.bind(null,Jr,c),[d.memoizedState,c]}function Ip(c,d,g,w){return c={tag:c,create:d,destroy:g,deps:w,next:null},d=Jr.updateQueue,d===null?(d={lastEffect:null,stores:null},Jr.updateQueue=d,d.lastEffect=c.next=c):(g=d.lastEffect,g===null?d.lastEffect=c.next=c:(w=g.next,g.next=c,c.next=w,d.lastEffect=c)),c}function rk(){return yi().memoizedState}function Sm(c,d,g,w){var R=ys();Jr.flags|=c,R.memoizedState=Ip(1|d,g,void 0,w===void 0?null:w)}function Cm(c,d,g,w){var R=yi();w=w===void 0?null:w;var M=void 0;if(kn!==null){var z=kn.memoizedState;if(M=z.destroy,w!==null&&Qv(w,z.deps)){R.memoizedState=Ip(d,g,M,w);return}}Jr.flags|=c,R.memoizedState=Ip(1|d,g,M,w)}function nk(c,d){return Sm(8390656,8,c,d)}function nx(c,d){return Cm(2048,8,c,d)}function ok(c,d){return Cm(4,2,c,d)}function ik(c,d){return Cm(4,4,c,d)}function sk(c,d){if(typeof d=="function")return c=c(),d(c),function(){d(null)};if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function ak(c,d,g){return g=g!=null?g.concat([c]):null,Cm(4,4,sk.bind(null,d,c),g)}function ox(){}function lk(c,d){var g=yi();d=d===void 0?null:d;var w=g.memoizedState;return w!==null&&d!==null&&Qv(d,w[1])?w[0]:(g.memoizedState=[c,d],c)}function ck(c,d){var g=yi();d=d===void 0?null:d;var w=g.memoizedState;return w!==null&&d!==null&&Qv(d,w[1])?w[0]:(c=c(),g.memoizedState=[c,d],c)}function uk(c,d,g){return(oc&21)===0?(c.baseState&&(c.baseState=!1,Io=!0),c.memoizedState=g):(Ui(g,d)||(g=Gl(),Jr.lanes|=g,ic|=g,c.baseState=!0),d)}function z3(c,d){var g=hr;hr=g!==0&&4>g?g:4,c(!0);var w=Xv.transition;Xv.transition={};try{c(!1),d()}finally{hr=g,Xv.transition=w}}function dk(){return yi().memoizedState}function $3(c,d,g){var w=Va(c);if(g={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null},pk(c))fk(d,g);else if(g=L2(c,d,g,w),g!==null){var R=vo();Yi(g,c,w,R),hk(g,d,w)}}function F3(c,d,g){var w=Va(c),R={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null};if(pk(c))fk(d,R);else{var M=c.alternate;if(c.lanes===0&&(M===null||M.lanes===0)&&(M=d.lastRenderedReducer,M!==null))try{var z=d.lastRenderedState,Y=M(z,g);if(R.hasEagerState=!0,R.eagerState=Y,Ui(Y,z)){var Q=d.interleaved;Q===null?(R.next=R,Hv(d)):(R.next=Q.next,Q.next=R),d.interleaved=R;return}}catch{}finally{}g=L2(c,d,R,w),g!==null&&(R=vo(),Yi(g,c,w,R),hk(g,d,w))}}function pk(c){var d=c.alternate;return c===Jr||d!==null&&d===Jr}function fk(c,d){Ap=wm=!0;var g=c.pending;g===null?d.next=d:(d.next=g.next,g.next=d),c.pending=d}function hk(c,d,g){if((g&4194240)!==0){var w=d.lanes;w&=c.pendingLanes,g|=w,d.lanes=g,Kl(c,g)}}var km={readContext:gi,useCallback:ao,useContext:ao,useEffect:ao,useImperativeHandle:ao,useInsertionEffect:ao,useLayoutEffect:ao,useMemo:ao,useReducer:ao,useRef:ao,useState:ao,useDebugValue:ao,useDeferredValue:ao,useTransition:ao,useMutableSource:ao,useSyncExternalStore:ao,useId:ao,unstable_isNewReconciler:!1},B3={readContext:gi,useCallback:function(c,d){return ys().memoizedState=[c,d===void 0?null:d],c},useContext:gi,useEffect:nk,useImperativeHandle:function(c,d,g){return g=g!=null?g.concat([c]):null,Sm(4194308,4,sk.bind(null,d,c),g)},useLayoutEffect:function(c,d){return Sm(4194308,4,c,d)},useInsertionEffect:function(c,d){return Sm(4,2,c,d)},useMemo:function(c,d){var g=ys();return d=d===void 0?null:d,c=c(),g.memoizedState=[c,d],c},useReducer:function(c,d,g){var w=ys();return d=g!==void 0?g(d):d,w.memoizedState=w.baseState=d,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d},w.queue=c,c=c.dispatch=$3.bind(null,Jr,c),[w.memoizedState,c]},useRef:function(c){var d=ys();return c={current:c},d.memoizedState=c},useState:tk,useDebugValue:ox,useDeferredValue:function(c){return ys().memoizedState=c},useTransition:function(){var c=tk(!1),d=c[0];return c=z3.bind(null,c[1]),ys().memoizedState=c,[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,g){var w=Jr,R=ys();if(Hr){if(g===void 0)throw Error(r(407));g=g()}else{if(g=d(),$n===null)throw Error(r(349));(oc&30)!==0||J2(w,d,g)}R.memoizedState=g;var M={value:g,getSnapshot:d};return R.queue=M,nk(Q2.bind(null,w,M,c),[c]),w.flags|=2048,Ip(9,X2.bind(null,w,M,g,d),void 0,null),g},useId:function(){var c=ys(),d=$n.identifierPrefix;if(Hr){var g=Vs,w=Us;g=(w&~(1<<32-Go(w)-1)).toString(32)+g,d=":"+d+"R"+g,g=_p++,0<g&&(d+="H"+g.toString(32)),d+=":"}else g=D3++,d=":"+d+"r"+g.toString(32)+":";return c.memoizedState=d},unstable_isNewReconciler:!1},W3={readContext:gi,useCallback:lk,useContext:gi,useEffect:nx,useImperativeHandle:ak,useInsertionEffect:ok,useLayoutEffect:ik,useMemo:ck,useReducer:tx,useRef:rk,useState:function(){return tx(Mp)},useDebugValue:ox,useDeferredValue:function(c){var d=yi();return uk(d,kn.memoizedState,c)},useTransition:function(){var c=tx(Mp)[0],d=yi().memoizedState;return[c,d]},useMutableSource:K2,useSyncExternalStore:Y2,useId:dk,unstable_isNewReconciler:!1},H3={readContext:gi,useCallback:lk,useContext:gi,useEffect:nx,useImperativeHandle:ak,useInsertionEffect:ok,useLayoutEffect:ik,useMemo:ck,useReducer:rx,useRef:rk,useState:function(){return rx(Mp)},useDebugValue:ox,useDeferredValue:function(c){var d=yi();return kn===null?d.memoizedState=c:uk(d,kn.memoizedState,c)},useTransition:function(){var c=rx(Mp)[0],d=yi().memoizedState;return[c,d]},useMutableSource:K2,useSyncExternalStore:Y2,useId:dk,unstable_isNewReconciler:!1};function Eu(c,d){try{var g="",w=d;do g+=ce(w),w=w.return;while(w);var R=g}catch(M){R=`
Error generating stack: `+M.message+`
`+M.stack}return{value:c,source:d,stack:R,digest:null}}function ix(c,d,g){return{value:c,source:null,stack:g??null,digest:d??null}}function sx(c,d){try{console.error(d.value)}catch(g){setTimeout(function(){throw g})}}var U3=typeof WeakMap=="function"?WeakMap:Map;function mk(c,d,g){g=Gs(-1,g),g.tag=3,g.payload={element:null};var w=d.value;return g.callback=function(){Mm||(Mm=!0,wx=w),sx(c,d)},g}function gk(c,d,g){g=Gs(-1,g),g.tag=3;var w=c.type.getDerivedStateFromError;if(typeof w=="function"){var R=d.value;g.payload=function(){return w(R)},g.callback=function(){sx(c,d)}}var M=c.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(g.callback=function(){sx(c,d),typeof w!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var z=d.stack;this.componentDidCatch(d.value,{componentStack:z!==null?z:""})}),g}function yk(c,d,g){var w=c.pingCache;if(w===null){w=c.pingCache=new U3;var R=new Set;w.set(d,R)}else R=w.get(d),R===void 0&&(R=new Set,w.set(d,R));R.has(g)||(R.add(g),c=o4.bind(null,c,d,g),d.then(c,c))}function vk(c){do{var d;if((d=c.tag===13)&&(d=c.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return c;c=c.return}while(c!==null);return null}function xk(c,d,g,w,R){return(c.mode&1)===0?(c===d?c.flags|=65536:(c.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(d=Gs(-1,1),d.tag=2,Ba(g,d,1))),g.lanes|=1),c):(c.flags|=65536,c.lanes=R,c)}var V3=T.ReactCurrentOwner,Io=!1;function yo(c,d,g,w){d.child=c===null?q2(d,null,g,w):Cu(d,c.child,g,w)}function bk(c,d,g,w,R){g=g.render;var M=d.ref;return Su(d,R),w=Zv(c,d,g,w,M,R),g=ex(),c!==null&&!Io?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~R,Ks(c,d,R)):(Hr&&g&&Pv(d),d.flags|=1,yo(c,d,w,R),d.child)}function wk(c,d,g,w,R){if(c===null){var M=g.type;return typeof M=="function"&&!Rx(M)&&M.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(d.tag=15,d.type=M,Sk(c,d,M,w,R)):(c=Dm(g.type,null,w,d,d.mode,R),c.ref=d.ref,c.return=d,d.child=c)}if(M=c.child,(c.lanes&R)===0){var z=M.memoizedProps;if(g=g.compare,g=g!==null?g:vp,g(z,w)&&c.ref===d.ref)return Ks(c,d,R)}return d.flags|=1,c=Ga(M,w),c.ref=d.ref,c.return=d,d.child=c}function Sk(c,d,g,w,R){if(c!==null){var M=c.memoizedProps;if(vp(M,w)&&c.ref===d.ref)if(Io=!1,d.pendingProps=w=M,(c.lanes&R)!==0)(c.flags&131072)!==0&&(Io=!0);else return d.lanes=c.lanes,Ks(c,d,R)}return ax(c,d,g,w,R)}function Ck(c,d,g){var w=d.pendingProps,R=w.children,M=c!==null?c.memoizedState:null;if(w.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nr(ju,Xo),Xo|=g;else{if((g&1073741824)===0)return c=M!==null?M.baseLanes|g:g,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null,transitions:null},d.updateQueue=null,Nr(ju,Xo),Xo|=c,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=M!==null?M.baseLanes:g,Nr(ju,Xo),Xo|=w}else M!==null?(w=M.baseLanes|g,d.memoizedState=null):w=g,Nr(ju,Xo),Xo|=w;return yo(c,d,R,g),d.child}function kk(c,d){var g=d.ref;(c===null&&g!==null||c!==null&&c.ref!==g)&&(d.flags|=512,d.flags|=2097152)}function ax(c,d,g,w,R){var M=Mo(g)?Zl:so.current;return M=yu(d,M),Su(d,R),g=Zv(c,d,g,w,M,R),w=ex(),c!==null&&!Io?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~R,Ks(c,d,R)):(Hr&&w&&Pv(d),d.flags|=1,yo(c,d,g,R),d.child)}function Ek(c,d,g,w,R){if(Mo(g)){var M=!0;lm(d)}else M=!1;if(Su(d,R),d.stateNode===null)Tm(c,d),W2(d,g,w),qv(d,g,w,R),w=!0;else if(c===null){var z=d.stateNode,Y=d.memoizedProps;z.props=Y;var Q=z.context,de=g.contextType;typeof de=="object"&&de!==null?de=gi(de):(de=Mo(g)?Zl:so.current,de=yu(d,de));var De=g.getDerivedStateFromProps,Fe=typeof De=="function"||typeof z.getSnapshotBeforeUpdate=="function";Fe||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(Y!==w||Q!==de)&&H2(d,z,w,de),Fa=!1;var Pe=d.memoizedState;z.state=Pe,gm(d,w,z,R),Q=d.memoizedState,Y!==w||Pe!==Q||_o.current||Fa?(typeof De=="function"&&(Vv(d,g,De,w),Q=d.memoizedState),(Y=Fa||B2(d,g,Y,w,Pe,Q,de))?(Fe||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(d.flags|=4194308)):(typeof z.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=w,d.memoizedState=Q),z.props=w,z.state=Q,z.context=de,w=Y):(typeof z.componentDidMount=="function"&&(d.flags|=4194308),w=!1)}else{z=d.stateNode,D2(c,d),Y=d.memoizedProps,de=d.type===d.elementType?Y:qi(d.type,Y),z.props=de,Fe=d.pendingProps,Pe=z.context,Q=g.contextType,typeof Q=="object"&&Q!==null?Q=gi(Q):(Q=Mo(g)?Zl:so.current,Q=yu(d,Q));var yt=g.getDerivedStateFromProps;(De=typeof yt=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(Y!==Fe||Pe!==Q)&&H2(d,z,w,Q),Fa=!1,Pe=d.memoizedState,z.state=Pe,gm(d,w,z,R);var kt=d.memoizedState;Y!==Fe||Pe!==kt||_o.current||Fa?(typeof yt=="function"&&(Vv(d,g,yt,w),kt=d.memoizedState),(de=Fa||B2(d,g,de,w,Pe,kt,Q)||!1)?(De||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(w,kt,Q),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(w,kt,Q)),typeof z.componentDidUpdate=="function"&&(d.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof z.componentDidUpdate!="function"||Y===c.memoizedProps&&Pe===c.memoizedState||(d.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||Y===c.memoizedProps&&Pe===c.memoizedState||(d.flags|=1024),d.memoizedProps=w,d.memoizedState=kt),z.props=w,z.state=kt,z.context=Q,w=de):(typeof z.componentDidUpdate!="function"||Y===c.memoizedProps&&Pe===c.memoizedState||(d.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||Y===c.memoizedProps&&Pe===c.memoizedState||(d.flags|=1024),w=!1)}return lx(c,d,g,w,M,R)}function lx(c,d,g,w,R,M){kk(c,d);var z=(d.flags&128)!==0;if(!w&&!z)return R&&A2(d,g,!1),Ks(c,d,M);w=d.stateNode,V3.current=d;var Y=z&&typeof g.getDerivedStateFromError!="function"?null:w.render();return d.flags|=1,c!==null&&z?(d.child=Cu(d,c.child,null,M),d.child=Cu(d,null,Y,M)):yo(c,d,Y,M),d.memoizedState=w.state,R&&A2(d,g,!0),d.child}function Tk(c){var d=c.stateNode;d.pendingContext?j2(c,d.pendingContext,d.pendingContext!==d.context):d.context&&j2(c,d.context,!1),Gv(c,d.containerInfo)}function jk(c,d,g,w,R){return bu(),zv(R),d.flags|=256,yo(c,d,g,w),d.child}var cx={dehydrated:null,treeContext:null,retryLane:0};function ux(c){return{baseLanes:c,cachePool:null,transitions:null}}function Rk(c,d,g){var w=d.pendingProps,R=Yr.current,M=!1,z=(d.flags&128)!==0,Y;if((Y=z)||(Y=c!==null&&c.memoizedState===null?!1:(R&2)!==0),Y?(M=!0,d.flags&=-129):(c===null||c.memoizedState!==null)&&(R|=1),Nr(Yr,R&1),c===null)return Dv(d),c=d.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((d.mode&1)===0?d.lanes=1:c.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(z=w.children,c=w.fallback,M?(w=d.mode,M=d.child,z={mode:"hidden",children:z},(w&1)===0&&M!==null?(M.childLanes=0,M.pendingProps=z):M=zm(z,w,0,null),c=cc(c,w,g,null),M.return=d,c.return=d,M.sibling=c,d.child=M,d.child.memoizedState=ux(g),d.memoizedState=cx,c):dx(d,z));if(R=c.memoizedState,R!==null&&(Y=R.dehydrated,Y!==null))return q3(c,d,z,w,Y,R,g);if(M){M=w.fallback,z=d.mode,R=c.child,Y=R.sibling;var Q={mode:"hidden",children:w.children};return(z&1)===0&&d.child!==R?(w=d.child,w.childLanes=0,w.pendingProps=Q,d.deletions=null):(w=Ga(R,Q),w.subtreeFlags=R.subtreeFlags&14680064),Y!==null?M=Ga(Y,M):(M=cc(M,z,g,null),M.flags|=2),M.return=d,w.return=d,w.sibling=M,d.child=w,w=M,M=d.child,z=c.child.memoizedState,z=z===null?ux(g):{baseLanes:z.baseLanes|g,cachePool:null,transitions:z.transitions},M.memoizedState=z,M.childLanes=c.childLanes&~g,d.memoizedState=cx,w}return M=c.child,c=M.sibling,w=Ga(M,{mode:"visible",children:w.children}),(d.mode&1)===0&&(w.lanes=g),w.return=d,w.sibling=null,c!==null&&(g=d.deletions,g===null?(d.deletions=[c],d.flags|=16):g.push(c)),d.child=w,d.memoizedState=null,w}function dx(c,d){return d=zm({mode:"visible",children:d},c.mode,0,null),d.return=c,c.child=d}function Em(c,d,g,w){return w!==null&&zv(w),Cu(d,c.child,null,g),c=dx(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function q3(c,d,g,w,R,M,z){if(g)return d.flags&256?(d.flags&=-257,w=ix(Error(r(422))),Em(c,d,z,w)):d.memoizedState!==null?(d.child=c.child,d.flags|=128,null):(M=w.fallback,R=d.mode,w=zm({mode:"visible",children:w.children},R,0,null),M=cc(M,R,z,null),M.flags|=2,w.return=d,M.return=d,w.sibling=M,d.child=w,(d.mode&1)!==0&&Cu(d,c.child,null,z),d.child.memoizedState=ux(z),d.memoizedState=cx,M);if((d.mode&1)===0)return Em(c,d,z,null);if(R.data==="$!"){if(w=R.nextSibling&&R.nextSibling.dataset,w)var Y=w.dgst;return w=Y,M=Error(r(419)),w=ix(M,w,void 0),Em(c,d,z,w)}if(Y=(z&c.childLanes)!==0,Io||Y){if(w=$n,w!==null){switch(z&-z){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}R=(R&(w.suspendedLanes|z))!==0?0:R,R!==0&&R!==M.retryLane&&(M.retryLane=R,qs(c,R),Yi(w,c,R,-1))}return jx(),w=ix(Error(r(421))),Em(c,d,z,w)}return R.data==="$?"?(d.flags|=128,d.child=c.child,d=i4.bind(null,c),R._reactRetry=d,null):(c=M.treeContext,Jo=La(R.nextSibling),Yo=d,Hr=!0,Vi=null,c!==null&&(hi[mi++]=Us,hi[mi++]=Vs,hi[mi++]=ec,Us=c.id,Vs=c.overflow,ec=d),d=dx(d,w.children),d.flags|=4096,d)}function Ak(c,d,g){c.lanes|=d;var w=c.alternate;w!==null&&(w.lanes|=d),Wv(c.return,d,g)}function px(c,d,g,w,R){var M=c.memoizedState;M===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:R}:(M.isBackwards=d,M.rendering=null,M.renderingStartTime=0,M.last=w,M.tail=g,M.tailMode=R)}function _k(c,d,g){var w=d.pendingProps,R=w.revealOrder,M=w.tail;if(yo(c,d,w.children,g),w=Yr.current,(w&2)!==0)w=w&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Ak(c,g,d);else if(c.tag===19)Ak(c,g,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}w&=1}if(Nr(Yr,w),(d.mode&1)===0)d.memoizedState=null;else switch(R){case"forwards":for(g=d.child,R=null;g!==null;)c=g.alternate,c!==null&&xm(c)===null&&(R=g),g=g.sibling;g=R,g===null?(R=d.child,d.child=null):(R=g.sibling,g.sibling=null),px(d,!1,R,g,M);break;case"backwards":for(g=null,R=d.child,d.child=null;R!==null;){if(c=R.alternate,c!==null&&xm(c)===null){d.child=R;break}c=R.sibling,R.sibling=g,g=R,R=c}px(d,!0,g,null,M);break;case"together":px(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Tm(c,d){(d.mode&1)===0&&c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2)}function Ks(c,d,g){if(c!==null&&(d.dependencies=c.dependencies),ic|=d.lanes,(g&d.childLanes)===0)return null;if(c!==null&&d.child!==c.child)throw Error(r(153));if(d.child!==null){for(c=d.child,g=Ga(c,c.pendingProps),d.child=g,g.return=d;c.sibling!==null;)c=c.sibling,g=g.sibling=Ga(c,c.pendingProps),g.return=d;g.sibling=null}return d.child}function G3(c,d,g){switch(d.tag){case 3:Tk(d),bu();break;case 5:G2(d);break;case 1:Mo(d.type)&&lm(d);break;case 4:Gv(d,d.stateNode.containerInfo);break;case 10:var w=d.type._context,R=d.memoizedProps.value;Nr(fm,w._currentValue),w._currentValue=R;break;case 13:if(w=d.memoizedState,w!==null)return w.dehydrated!==null?(Nr(Yr,Yr.current&1),d.flags|=128,null):(g&d.child.childLanes)!==0?Rk(c,d,g):(Nr(Yr,Yr.current&1),c=Ks(c,d,g),c!==null?c.sibling:null);Nr(Yr,Yr.current&1);break;case 19:if(w=(g&d.childLanes)!==0,(c.flags&128)!==0){if(w)return _k(c,d,g);d.flags|=128}if(R=d.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),Nr(Yr,Yr.current),w)break;return null;case 22:case 23:return d.lanes=0,Ck(c,d,g)}return Ks(c,d,g)}var Mk,fx,Ik,Ok;Mk=function(c,d){for(var g=d.child;g!==null;){if(g.tag===5||g.tag===6)c.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},fx=function(){},Ik=function(c,d,g,w){var R=c.memoizedProps;if(R!==w){c=d.stateNode,nc(gs.current);var M=null;switch(g){case"input":R=Le(c,R),w=Le(c,w),M=[];break;case"select":R=H({},R,{value:void 0}),w=H({},w,{value:void 0}),M=[];break;case"textarea":R=ie(c,R),w=ie(c,w),M=[];break;default:typeof R.onClick!="function"&&typeof w.onClick=="function"&&(c.onclick=im)}Me(g,w);var z;g=null;for(de in R)if(!w.hasOwnProperty(de)&&R.hasOwnProperty(de)&&R[de]!=null)if(de==="style"){var Y=R[de];for(z in Y)Y.hasOwnProperty(z)&&(g||(g={}),g[z]="")}else de!=="dangerouslySetInnerHTML"&&de!=="children"&&de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&de!=="autoFocus"&&(o.hasOwnProperty(de)?M||(M=[]):(M=M||[]).push(de,null));for(de in w){var Q=w[de];if(Y=R!=null?R[de]:void 0,w.hasOwnProperty(de)&&Q!==Y&&(Q!=null||Y!=null))if(de==="style")if(Y){for(z in Y)!Y.hasOwnProperty(z)||Q&&Q.hasOwnProperty(z)||(g||(g={}),g[z]="");for(z in Q)Q.hasOwnProperty(z)&&Y[z]!==Q[z]&&(g||(g={}),g[z]=Q[z])}else g||(M||(M=[]),M.push(de,g)),g=Q;else de==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,Y=Y?Y.__html:void 0,Q!=null&&Y!==Q&&(M=M||[]).push(de,Q)):de==="children"?typeof Q!="string"&&typeof Q!="number"||(M=M||[]).push(de,""+Q):de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&(o.hasOwnProperty(de)?(Q!=null&&de==="onScroll"&&$r("scroll",c),M||Y===Q||(M=[])):(M=M||[]).push(de,Q))}g&&(M=M||[]).push("style",g);var de=M;(d.updateQueue=de)&&(d.flags|=4)}},Ok=function(c,d,g,w){g!==w&&(d.flags|=4)};function Op(c,d){if(!Hr)switch(c.tailMode){case"hidden":d=c.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:w.sibling=null}}function lo(c){var d=c.alternate!==null&&c.alternate.child===c.child,g=0,w=0;if(d)for(var R=c.child;R!==null;)g|=R.lanes|R.childLanes,w|=R.subtreeFlags&14680064,w|=R.flags&14680064,R.return=c,R=R.sibling;else for(R=c.child;R!==null;)g|=R.lanes|R.childLanes,w|=R.subtreeFlags,w|=R.flags,R.return=c,R=R.sibling;return c.subtreeFlags|=w,c.childLanes=g,d}function K3(c,d,g){var w=d.pendingProps;switch(Nv(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lo(d),null;case 1:return Mo(d.type)&&am(),lo(d),null;case 3:return w=d.stateNode,ku(),Fr(_o),Fr(so),Jv(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(c===null||c.child===null)&&(pm(d)?d.flags|=4:c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Vi!==null&&(kx(Vi),Vi=null))),fx(c,d),lo(d),null;case 5:Kv(d);var R=nc(Rp.current);if(g=d.type,c!==null&&d.stateNode!=null)Ik(c,d,g,w,R),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!w){if(d.stateNode===null)throw Error(r(166));return lo(d),null}if(c=nc(gs.current),pm(d)){w=d.stateNode,g=d.type;var M=d.memoizedProps;switch(w[ms]=d,w[Cp]=M,c=(d.mode&1)!==0,g){case"dialog":$r("cancel",w),$r("close",w);break;case"iframe":case"object":case"embed":$r("load",w);break;case"video":case"audio":for(R=0;R<bp.length;R++)$r(bp[R],w);break;case"source":$r("error",w);break;case"img":case"image":case"link":$r("error",w),$r("load",w);break;case"details":$r("toggle",w);break;case"input":Re(w,M),$r("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!M.multiple},$r("invalid",w);break;case"textarea":Ce(w,M),$r("invalid",w)}Me(g,M),R=null;for(var z in M)if(M.hasOwnProperty(z)){var Y=M[z];z==="children"?typeof Y=="string"?w.textContent!==Y&&(M.suppressHydrationWarning!==!0&&om(w.textContent,Y,c),R=["children",Y]):typeof Y=="number"&&w.textContent!==""+Y&&(M.suppressHydrationWarning!==!0&&om(w.textContent,Y,c),R=["children",""+Y]):o.hasOwnProperty(z)&&Y!=null&&z==="onScroll"&&$r("scroll",w)}switch(g){case"input":lt(w),fe(w,M,!0);break;case"textarea":lt(w),Qe(w);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(w.onclick=im)}w=R,d.updateQueue=w,w!==null&&(d.flags|=4)}else{z=R.nodeType===9?R:R.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=mt(g)),c==="http://www.w3.org/1999/xhtml"?g==="script"?(c=z.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof w.is=="string"?c=z.createElement(g,{is:w.is}):(c=z.createElement(g),g==="select"&&(z=c,w.multiple?z.multiple=!0:w.size&&(z.size=w.size))):c=z.createElementNS(c,g),c[ms]=d,c[Cp]=w,Mk(c,d,!1,!1),d.stateNode=c;e:{switch(z=_t(g,w),g){case"dialog":$r("cancel",c),$r("close",c),R=w;break;case"iframe":case"object":case"embed":$r("load",c),R=w;break;case"video":case"audio":for(R=0;R<bp.length;R++)$r(bp[R],c);R=w;break;case"source":$r("error",c),R=w;break;case"img":case"image":case"link":$r("error",c),$r("load",c),R=w;break;case"details":$r("toggle",c),R=w;break;case"input":Re(c,w),R=Le(c,w),$r("invalid",c);break;case"option":R=w;break;case"select":c._wrapperState={wasMultiple:!!w.multiple},R=H({},w,{value:void 0}),$r("invalid",c);break;case"textarea":Ce(c,w),R=ie(c,w),$r("invalid",c);break;default:R=w}Me(g,R),Y=R;for(M in Y)if(Y.hasOwnProperty(M)){var Q=Y[M];M==="style"?ee(c,Q):M==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,Q!=null&&ot(c,Q)):M==="children"?typeof Q=="string"?(g!=="textarea"||Q!=="")&&ft(c,Q):typeof Q=="number"&&ft(c,""+Q):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(o.hasOwnProperty(M)?Q!=null&&M==="onScroll"&&$r("scroll",c):Q!=null&&j(c,M,Q,z))}switch(g){case"input":lt(c),fe(c,w,!1);break;case"textarea":lt(c),Qe(c);break;case"option":w.value!=null&&c.setAttribute("value",""+Ie(w.value));break;case"select":c.multiple=!!w.multiple,M=w.value,M!=null?Te(c,!!w.multiple,M,!1):w.defaultValue!=null&&Te(c,!!w.multiple,w.defaultValue,!0);break;default:typeof R.onClick=="function"&&(c.onclick=im)}switch(g){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return lo(d),null;case 6:if(c&&d.stateNode!=null)Ok(c,d,c.memoizedProps,w);else{if(typeof w!="string"&&d.stateNode===null)throw Error(r(166));if(g=nc(Rp.current),nc(gs.current),pm(d)){if(w=d.stateNode,g=d.memoizedProps,w[ms]=d,(M=w.nodeValue!==g)&&(c=Yo,c!==null))switch(c.tag){case 3:om(w.nodeValue,g,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&om(w.nodeValue,g,(c.mode&1)!==0)}M&&(d.flags|=4)}else w=(g.nodeType===9?g:g.ownerDocument).createTextNode(w),w[ms]=d,d.stateNode=w}return lo(d),null;case 13:if(Fr(Yr),w=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(Hr&&Jo!==null&&(d.mode&1)!==0&&(d.flags&128)===0)N2(),bu(),d.flags|=98560,M=!1;else if(M=pm(d),w!==null&&w.dehydrated!==null){if(c===null){if(!M)throw Error(r(318));if(M=d.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(r(317));M[ms]=d}else bu(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;lo(d),M=!1}else Vi!==null&&(kx(Vi),Vi=null),M=!0;if(!M)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=g,d):(w=w!==null,w!==(c!==null&&c.memoizedState!==null)&&w&&(d.child.flags|=8192,(d.mode&1)!==0&&(c===null||(Yr.current&1)!==0?En===0&&(En=3):jx())),d.updateQueue!==null&&(d.flags|=4),lo(d),null);case 4:return ku(),fx(c,d),c===null&&wp(d.stateNode.containerInfo),lo(d),null;case 10:return Bv(d.type._context),lo(d),null;case 17:return Mo(d.type)&&am(),lo(d),null;case 19:if(Fr(Yr),M=d.memoizedState,M===null)return lo(d),null;if(w=(d.flags&128)!==0,z=M.rendering,z===null)if(w)Op(M,!1);else{if(En!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(z=xm(c),z!==null){for(d.flags|=128,Op(M,!1),w=z.updateQueue,w!==null&&(d.updateQueue=w,d.flags|=4),d.subtreeFlags=0,w=g,g=d.child;g!==null;)M=g,c=w,M.flags&=14680066,z=M.alternate,z===null?(M.childLanes=0,M.lanes=c,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=z.childLanes,M.lanes=z.lanes,M.child=z.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=z.memoizedProps,M.memoizedState=z.memoizedState,M.updateQueue=z.updateQueue,M.type=z.type,c=z.dependencies,M.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),g=g.sibling;return Nr(Yr,Yr.current&1|2),d.child}c=c.sibling}M.tail!==null&&Ft()>Ru&&(d.flags|=128,w=!0,Op(M,!1),d.lanes=4194304)}else{if(!w)if(c=xm(z),c!==null){if(d.flags|=128,w=!0,g=c.updateQueue,g!==null&&(d.updateQueue=g,d.flags|=4),Op(M,!0),M.tail===null&&M.tailMode==="hidden"&&!z.alternate&&!Hr)return lo(d),null}else 2*Ft()-M.renderingStartTime>Ru&&g!==1073741824&&(d.flags|=128,w=!0,Op(M,!1),d.lanes=4194304);M.isBackwards?(z.sibling=d.child,d.child=z):(g=M.last,g!==null?g.sibling=z:d.child=z,M.last=z)}return M.tail!==null?(d=M.tail,M.rendering=d,M.tail=d.sibling,M.renderingStartTime=Ft(),d.sibling=null,g=Yr.current,Nr(Yr,w?g&1|2:g&1),d):(lo(d),null);case 22:case 23:return Tx(),w=d.memoizedState!==null,c!==null&&c.memoizedState!==null!==w&&(d.flags|=8192),w&&(d.mode&1)!==0?(Xo&1073741824)!==0&&(lo(d),d.subtreeFlags&6&&(d.flags|=8192)):lo(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag))}function Y3(c,d){switch(Nv(d),d.tag){case 1:return Mo(d.type)&&am(),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return ku(),Fr(_o),Fr(so),Jv(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 5:return Kv(d),null;case 13:if(Fr(Yr),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(r(340));bu()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return Fr(Yr),null;case 4:return ku(),null;case 10:return Bv(d.type._context),null;case 22:case 23:return Tx(),null;case 24:return null;default:return null}}var jm=!1,co=!1,J3=typeof WeakSet=="function"?WeakSet:Set,bt=null;function Tu(c,d){var g=c.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(w){nn(c,d,w)}else g.current=null}function hx(c,d,g){try{g()}catch(w){nn(c,d,w)}}var Pk=!1;function X3(c,d){if(Tv=lu,c=d2(),vv(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var R=w.anchorOffset,M=w.focusNode;w=w.focusOffset;try{g.nodeType,M.nodeType}catch{g=null;break e}var z=0,Y=-1,Q=-1,de=0,De=0,Fe=c,Pe=null;t:for(;;){for(var yt;Fe!==g||R!==0&&Fe.nodeType!==3||(Y=z+R),Fe!==M||w!==0&&Fe.nodeType!==3||(Q=z+w),Fe.nodeType===3&&(z+=Fe.nodeValue.length),(yt=Fe.firstChild)!==null;)Pe=Fe,Fe=yt;for(;;){if(Fe===c)break t;if(Pe===g&&++de===R&&(Y=z),Pe===M&&++De===w&&(Q=z),(yt=Fe.nextSibling)!==null)break;Fe=Pe,Pe=Fe.parentNode}Fe=yt}g=Y===-1||Q===-1?null:{start:Y,end:Q}}else g=null}g=g||{start:0,end:0}}else g=null;for(jv={focusedElem:c,selectionRange:g},lu=!1,bt=d;bt!==null;)if(d=bt,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,bt=c;else for(;bt!==null;){d=bt;try{var kt=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(kt!==null){var Et=kt.memoizedProps,mn=kt.memoizedState,se=d.stateNode,re=se.getSnapshotBeforeUpdate(d.elementType===d.type?Et:qi(d.type,Et),mn);se.__reactInternalSnapshotBeforeUpdate=re}break;case 3:var le=d.stateNode.containerInfo;le.nodeType===1?le.textContent="":le.nodeType===9&&le.documentElement&&le.removeChild(le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ke){nn(d,d.return,Ke)}if(c=d.sibling,c!==null){c.return=d.return,bt=c;break}bt=d.return}return kt=Pk,Pk=!1,kt}function Pp(c,d,g){var w=d.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var R=w=w.next;do{if((R.tag&c)===c){var M=R.destroy;R.destroy=void 0,M!==void 0&&hx(d,g,M)}R=R.next}while(R!==w)}}function Rm(c,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&c)===c){var w=g.create;g.destroy=w()}g=g.next}while(g!==d)}}function mx(c){var d=c.ref;if(d!==null){var g=c.stateNode;switch(c.tag){case 5:c=g;break;default:c=g}typeof d=="function"?d(c):d.current=c}}function Nk(c){var d=c.alternate;d!==null&&(c.alternate=null,Nk(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&(delete d[ms],delete d[Cp],delete d[Mv],delete d[O3],delete d[P3])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function Lk(c){return c.tag===5||c.tag===3||c.tag===4}function Dk(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||Lk(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function gx(c,d,g){var w=c.tag;if(w===5||w===6)c=c.stateNode,d?g.nodeType===8?g.parentNode.insertBefore(c,d):g.insertBefore(c,d):(g.nodeType===8?(d=g.parentNode,d.insertBefore(c,g)):(d=g,d.appendChild(c)),g=g._reactRootContainer,g!=null||d.onclick!==null||(d.onclick=im));else if(w!==4&&(c=c.child,c!==null))for(gx(c,d,g),c=c.sibling;c!==null;)gx(c,d,g),c=c.sibling}function yx(c,d,g){var w=c.tag;if(w===5||w===6)c=c.stateNode,d?g.insertBefore(c,d):g.appendChild(c);else if(w!==4&&(c=c.child,c!==null))for(yx(c,d,g),c=c.sibling;c!==null;)yx(c,d,g),c=c.sibling}var Gn=null,Gi=!1;function Wa(c,d,g){for(g=g.child;g!==null;)zk(c,d,g),g=g.sibling}function zk(c,d,g){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Ln,g)}catch{}switch(g.tag){case 5:co||Tu(g,d);case 6:var w=Gn,R=Gi;Gn=null,Wa(c,d,g),Gn=w,Gi=R,Gn!==null&&(Gi?(c=Gn,g=g.stateNode,c.nodeType===8?c.parentNode.removeChild(g):c.removeChild(g)):Gn.removeChild(g.stateNode));break;case 18:Gn!==null&&(Gi?(c=Gn,g=g.stateNode,c.nodeType===8?_v(c.parentNode,g):c.nodeType===1&&_v(c,g),Oa(c)):_v(Gn,g.stateNode));break;case 4:w=Gn,R=Gi,Gn=g.stateNode.containerInfo,Gi=!0,Wa(c,d,g),Gn=w,Gi=R;break;case 0:case 11:case 14:case 15:if(!co&&(w=g.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){R=w=w.next;do{var M=R,z=M.destroy;M=M.tag,z!==void 0&&((M&2)!==0||(M&4)!==0)&&hx(g,d,z),R=R.next}while(R!==w)}Wa(c,d,g);break;case 1:if(!co&&(Tu(g,d),w=g.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=g.memoizedProps,w.state=g.memoizedState,w.componentWillUnmount()}catch(Y){nn(g,d,Y)}Wa(c,d,g);break;case 21:Wa(c,d,g);break;case 22:g.mode&1?(co=(w=co)||g.memoizedState!==null,Wa(c,d,g),co=w):Wa(c,d,g);break;default:Wa(c,d,g)}}function $k(c){var d=c.updateQueue;if(d!==null){c.updateQueue=null;var g=c.stateNode;g===null&&(g=c.stateNode=new J3),d.forEach(function(w){var R=s4.bind(null,c,w);g.has(w)||(g.add(w),w.then(R,R))})}}function Ki(c,d){var g=d.deletions;if(g!==null)for(var w=0;w<g.length;w++){var R=g[w];try{var M=c,z=d,Y=z;e:for(;Y!==null;){switch(Y.tag){case 5:Gn=Y.stateNode,Gi=!1;break e;case 3:Gn=Y.stateNode.containerInfo,Gi=!0;break e;case 4:Gn=Y.stateNode.containerInfo,Gi=!0;break e}Y=Y.return}if(Gn===null)throw Error(r(160));zk(M,z,R),Gn=null,Gi=!1;var Q=R.alternate;Q!==null&&(Q.return=null),R.return=null}catch(de){nn(R,d,de)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)Fk(d,c),d=d.sibling}function Fk(c,d){var g=c.alternate,w=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(Ki(d,c),vs(c),w&4){try{Pp(3,c,c.return),Rm(3,c)}catch(Et){nn(c,c.return,Et)}try{Pp(5,c,c.return)}catch(Et){nn(c,c.return,Et)}}break;case 1:Ki(d,c),vs(c),w&512&&g!==null&&Tu(g,g.return);break;case 5:if(Ki(d,c),vs(c),w&512&&g!==null&&Tu(g,g.return),c.flags&32){var R=c.stateNode;try{ft(R,"")}catch(Et){nn(c,c.return,Et)}}if(w&4&&(R=c.stateNode,R!=null)){var M=c.memoizedProps,z=g!==null?g.memoizedProps:M,Y=c.type,Q=c.updateQueue;if(c.updateQueue=null,Q!==null)try{Y==="input"&&M.type==="radio"&&M.name!=null&&ae(R,M),_t(Y,z);var de=_t(Y,M);for(z=0;z<Q.length;z+=2){var De=Q[z],Fe=Q[z+1];De==="style"?ee(R,Fe):De==="dangerouslySetInnerHTML"?ot(R,Fe):De==="children"?ft(R,Fe):j(R,De,Fe,de)}switch(Y){case"input":ke(R,M);break;case"textarea":We(R,M);break;case"select":var Pe=R._wrapperState.wasMultiple;R._wrapperState.wasMultiple=!!M.multiple;var yt=M.value;yt!=null?Te(R,!!M.multiple,yt,!1):Pe!==!!M.multiple&&(M.defaultValue!=null?Te(R,!!M.multiple,M.defaultValue,!0):Te(R,!!M.multiple,M.multiple?[]:"",!1))}R[Cp]=M}catch(Et){nn(c,c.return,Et)}}break;case 6:if(Ki(d,c),vs(c),w&4){if(c.stateNode===null)throw Error(r(162));R=c.stateNode,M=c.memoizedProps;try{R.nodeValue=M}catch(Et){nn(c,c.return,Et)}}break;case 3:if(Ki(d,c),vs(c),w&4&&g!==null&&g.memoizedState.isDehydrated)try{Oa(d.containerInfo)}catch(Et){nn(c,c.return,Et)}break;case 4:Ki(d,c),vs(c);break;case 13:Ki(d,c),vs(c),R=c.child,R.flags&8192&&(M=R.memoizedState!==null,R.stateNode.isHidden=M,!M||R.alternate!==null&&R.alternate.memoizedState!==null||(bx=Ft())),w&4&&$k(c);break;case 22:if(De=g!==null&&g.memoizedState!==null,c.mode&1?(co=(de=co)||De,Ki(d,c),co=de):Ki(d,c),vs(c),w&8192){if(de=c.memoizedState!==null,(c.stateNode.isHidden=de)&&!De&&(c.mode&1)!==0)for(bt=c,De=c.child;De!==null;){for(Fe=bt=De;bt!==null;){switch(Pe=bt,yt=Pe.child,Pe.tag){case 0:case 11:case 14:case 15:Pp(4,Pe,Pe.return);break;case 1:Tu(Pe,Pe.return);var kt=Pe.stateNode;if(typeof kt.componentWillUnmount=="function"){w=Pe,g=Pe.return;try{d=w,kt.props=d.memoizedProps,kt.state=d.memoizedState,kt.componentWillUnmount()}catch(Et){nn(w,g,Et)}}break;case 5:Tu(Pe,Pe.return);break;case 22:if(Pe.memoizedState!==null){Hk(Fe);continue}}yt!==null?(yt.return=Pe,bt=yt):Hk(Fe)}De=De.sibling}e:for(De=null,Fe=c;;){if(Fe.tag===5){if(De===null){De=Fe;try{R=Fe.stateNode,de?(M=R.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(Y=Fe.stateNode,Q=Fe.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null,Y.style.display=at("display",z))}catch(Et){nn(c,c.return,Et)}}}else if(Fe.tag===6){if(De===null)try{Fe.stateNode.nodeValue=de?"":Fe.memoizedProps}catch(Et){nn(c,c.return,Et)}}else if((Fe.tag!==22&&Fe.tag!==23||Fe.memoizedState===null||Fe===c)&&Fe.child!==null){Fe.child.return=Fe,Fe=Fe.child;continue}if(Fe===c)break e;for(;Fe.sibling===null;){if(Fe.return===null||Fe.return===c)break e;De===Fe&&(De=null),Fe=Fe.return}De===Fe&&(De=null),Fe.sibling.return=Fe.return,Fe=Fe.sibling}}break;case 19:Ki(d,c),vs(c),w&4&&$k(c);break;case 21:break;default:Ki(d,c),vs(c)}}function vs(c){var d=c.flags;if(d&2){try{e:{for(var g=c.return;g!==null;){if(Lk(g)){var w=g;break e}g=g.return}throw Error(r(160))}switch(w.tag){case 5:var R=w.stateNode;w.flags&32&&(ft(R,""),w.flags&=-33);var M=Dk(c);yx(c,M,R);break;case 3:case 4:var z=w.stateNode.containerInfo,Y=Dk(c);gx(c,Y,z);break;default:throw Error(r(161))}}catch(Q){nn(c,c.return,Q)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function Q3(c,d,g){bt=c,Bk(c)}function Bk(c,d,g){for(var w=(c.mode&1)!==0;bt!==null;){var R=bt,M=R.child;if(R.tag===22&&w){var z=R.memoizedState!==null||jm;if(!z){var Y=R.alternate,Q=Y!==null&&Y.memoizedState!==null||co;Y=jm;var de=co;if(jm=z,(co=Q)&&!de)for(bt=R;bt!==null;)z=bt,Q=z.child,z.tag===22&&z.memoizedState!==null?Uk(R):Q!==null?(Q.return=z,bt=Q):Uk(R);for(;M!==null;)bt=M,Bk(M),M=M.sibling;bt=R,jm=Y,co=de}Wk(c)}else(R.subtreeFlags&8772)!==0&&M!==null?(M.return=R,bt=M):Wk(c)}}function Wk(c){for(;bt!==null;){var d=bt;if((d.flags&8772)!==0){var g=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:co||Rm(5,d);break;case 1:var w=d.stateNode;if(d.flags&4&&!co)if(g===null)w.componentDidMount();else{var R=d.elementType===d.type?g.memoizedProps:qi(d.type,g.memoizedProps);w.componentDidUpdate(R,g.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var M=d.updateQueue;M!==null&&$2(d,M,w);break;case 3:var z=d.updateQueue;if(z!==null){if(g=null,d.child!==null)switch(d.child.tag){case 5:g=d.child.stateNode;break;case 1:g=d.child.stateNode}$2(d,z,g)}break;case 5:var Y=d.stateNode;if(g===null&&d.flags&4){g=Y;var Q=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":Q.autoFocus&&g.focus();break;case"img":Q.src&&(g.src=Q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var de=d.alternate;if(de!==null){var De=de.memoizedState;if(De!==null){var Fe=De.dehydrated;Fe!==null&&Oa(Fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}co||d.flags&512&&mx(d)}catch(Pe){nn(d,d.return,Pe)}}if(d===c){bt=null;break}if(g=d.sibling,g!==null){g.return=d.return,bt=g;break}bt=d.return}}function Hk(c){for(;bt!==null;){var d=bt;if(d===c){bt=null;break}var g=d.sibling;if(g!==null){g.return=d.return,bt=g;break}bt=d.return}}function Uk(c){for(;bt!==null;){var d=bt;try{switch(d.tag){case 0:case 11:case 15:var g=d.return;try{Rm(4,d)}catch(Q){nn(d,g,Q)}break;case 1:var w=d.stateNode;if(typeof w.componentDidMount=="function"){var R=d.return;try{w.componentDidMount()}catch(Q){nn(d,R,Q)}}var M=d.return;try{mx(d)}catch(Q){nn(d,M,Q)}break;case 5:var z=d.return;try{mx(d)}catch(Q){nn(d,z,Q)}}}catch(Q){nn(d,d.return,Q)}if(d===c){bt=null;break}var Y=d.sibling;if(Y!==null){Y.return=d.return,bt=Y;break}bt=d.return}}var Z3=Math.ceil,Am=T.ReactCurrentDispatcher,vx=T.ReactCurrentOwner,vi=T.ReactCurrentBatchConfig,ur=0,$n=null,yn=null,Kn=0,Xo=0,ju=Da(0),En=0,Np=null,ic=0,_m=0,xx=0,Lp=null,Oo=null,bx=0,Ru=1/0,Ys=null,Mm=!1,wx=null,Ha=null,Im=!1,Ua=null,Om=0,Dp=0,Sx=null,Pm=-1,Nm=0;function vo(){return(ur&6)!==0?Ft():Pm!==-1?Pm:Pm=Ft()}function Va(c){return(c.mode&1)===0?1:(ur&2)!==0&&Kn!==0?Kn&-Kn:L3.transition!==null?(Nm===0&&(Nm=Gl()),Nm):(c=hr,c!==0||(c=window.event,c=c===void 0?16:Cn(c.type)),c)}function Yi(c,d,g,w){if(50<Dp)throw Dp=0,Sx=null,Error(r(185));ui(c,g,w),((ur&2)===0||c!==$n)&&(c===$n&&((ur&2)===0&&(_m|=g),En===4&&qa(c,Kn)),Po(c,w),g===1&&ur===0&&(d.mode&1)===0&&(Ru=Ft()+500,cm&&$a()))}function Po(c,d){var g=c.callbackNode;Gh(c,d);var w=ql(c,c===$n?Kn:0);if(w===0)g!==null&&It(g),c.callbackNode=null,c.callbackPriority=0;else if(d=w&-w,c.callbackPriority!==d){if(g!=null&&It(g),d===1)c.tag===0?N3(qk.bind(null,c)):_2(qk.bind(null,c)),M3(function(){(ur&6)===0&&$a()}),g=null;else{switch(Yl(w)){case 1:g=oo;break;case 4:g=$s;break;case 16:g=Vo;break;case 536870912:g=Zt;break;default:g=Vo}g=eE(g,Vk.bind(null,c))}c.callbackPriority=d,c.callbackNode=g}}function Vk(c,d){if(Pm=-1,Nm=0,(ur&6)!==0)throw Error(r(327));var g=c.callbackNode;if(Au()&&c.callbackNode!==g)return null;var w=ql(c,c===$n?Kn:0);if(w===0)return null;if((w&30)!==0||(w&c.expiredLanes)!==0||d)d=Lm(c,w);else{d=w;var R=ur;ur|=2;var M=Kk();($n!==c||Kn!==d)&&(Ys=null,Ru=Ft()+500,ac(c,d));do try{r4();break}catch(Y){Gk(c,Y)}while(!0);Fv(),Am.current=M,ur=R,yn!==null?d=0:($n=null,Kn=0,d=En)}if(d!==0){if(d===2&&(R=ja(c),R!==0&&(w=R,d=Cx(c,R))),d===1)throw g=Np,ac(c,0),qa(c,w),Po(c,Ft()),g;if(d===6)qa(c,w);else{if(R=c.current.alternate,(w&30)===0&&!e4(R)&&(d=Lm(c,w),d===2&&(M=ja(c),M!==0&&(w=M,d=Cx(c,M))),d===1))throw g=Np,ac(c,0),qa(c,w),Po(c,Ft()),g;switch(c.finishedWork=R,c.finishedLanes=w,d){case 0:case 1:throw Error(r(345));case 2:lc(c,Oo,Ys);break;case 3:if(qa(c,w),(w&130023424)===w&&(d=bx+500-Ft(),10<d)){if(ql(c,0)!==0)break;if(R=c.suspendedLanes,(R&w)!==w){vo(),c.pingedLanes|=c.suspendedLanes&R;break}c.timeoutHandle=Av(lc.bind(null,c,Oo,Ys),d);break}lc(c,Oo,Ys);break;case 4:if(qa(c,w),(w&4194240)===w)break;for(d=c.eventTimes,R=-1;0<w;){var z=31-Go(w);M=1<<z,z=d[z],z>R&&(R=z),w&=~M}if(w=R,w=Ft()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*Z3(w/1960))-w,10<w){c.timeoutHandle=Av(lc.bind(null,c,Oo,Ys),w);break}lc(c,Oo,Ys);break;case 5:lc(c,Oo,Ys);break;default:throw Error(r(329))}}}return Po(c,Ft()),c.callbackNode===g?Vk.bind(null,c):null}function Cx(c,d){var g=Lp;return c.current.memoizedState.isDehydrated&&(ac(c,d).flags|=256),c=Lm(c,d),c!==2&&(d=Oo,Oo=g,d!==null&&kx(d)),c}function kx(c){Oo===null?Oo=c:Oo.push.apply(Oo,c)}function e4(c){for(var d=c;;){if(d.flags&16384){var g=d.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var w=0;w<g.length;w++){var R=g[w],M=R.getSnapshot;R=R.value;try{if(!Ui(M(),R))return!1}catch{return!1}}}if(g=d.child,d.subtreeFlags&16384&&g!==null)g.return=d,d=g;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function qa(c,d){for(d&=~xx,d&=~_m,c.suspendedLanes|=d,c.pingedLanes&=~d,c=c.expirationTimes;0<d;){var g=31-Go(d),w=1<<g;c[g]=-1,d&=~w}}function qk(c){if((ur&6)!==0)throw Error(r(327));Au();var d=ql(c,0);if((d&1)===0)return Po(c,Ft()),null;var g=Lm(c,d);if(c.tag!==0&&g===2){var w=ja(c);w!==0&&(d=w,g=Cx(c,w))}if(g===1)throw g=Np,ac(c,0),qa(c,d),Po(c,Ft()),g;if(g===6)throw Error(r(345));return c.finishedWork=c.current.alternate,c.finishedLanes=d,lc(c,Oo,Ys),Po(c,Ft()),null}function Ex(c,d){var g=ur;ur|=1;try{return c(d)}finally{ur=g,ur===0&&(Ru=Ft()+500,cm&&$a())}}function sc(c){Ua!==null&&Ua.tag===0&&(ur&6)===0&&Au();var d=ur;ur|=1;var g=vi.transition,w=hr;try{if(vi.transition=null,hr=1,c)return c()}finally{hr=w,vi.transition=g,ur=d,(ur&6)===0&&$a()}}function Tx(){Xo=ju.current,Fr(ju)}function ac(c,d){c.finishedWork=null,c.finishedLanes=0;var g=c.timeoutHandle;if(g!==-1&&(c.timeoutHandle=-1,_3(g)),yn!==null)for(g=yn.return;g!==null;){var w=g;switch(Nv(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&am();break;case 3:ku(),Fr(_o),Fr(so),Jv();break;case 5:Kv(w);break;case 4:ku();break;case 13:Fr(Yr);break;case 19:Fr(Yr);break;case 10:Bv(w.type._context);break;case 22:case 23:Tx()}g=g.return}if($n=c,yn=c=Ga(c.current,null),Kn=Xo=d,En=0,Np=null,xx=_m=ic=0,Oo=Lp=null,rc!==null){for(d=0;d<rc.length;d++)if(g=rc[d],w=g.interleaved,w!==null){g.interleaved=null;var R=w.next,M=g.pending;if(M!==null){var z=M.next;M.next=R,w.next=z}g.pending=w}rc=null}return c}function Gk(c,d){do{var g=yn;try{if(Fv(),bm.current=km,wm){for(var w=Jr.memoizedState;w!==null;){var R=w.queue;R!==null&&(R.pending=null),w=w.next}wm=!1}if(oc=0,zn=kn=Jr=null,Ap=!1,_p=0,vx.current=null,g===null||g.return===null){En=1,Np=d,yn=null;break}e:{var M=c,z=g.return,Y=g,Q=d;if(d=Kn,Y.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var de=Q,De=Y,Fe=De.tag;if((De.mode&1)===0&&(Fe===0||Fe===11||Fe===15)){var Pe=De.alternate;Pe?(De.updateQueue=Pe.updateQueue,De.memoizedState=Pe.memoizedState,De.lanes=Pe.lanes):(De.updateQueue=null,De.memoizedState=null)}var yt=vk(z);if(yt!==null){yt.flags&=-257,xk(yt,z,Y,M,d),yt.mode&1&&yk(M,de,d),d=yt,Q=de;var kt=d.updateQueue;if(kt===null){var Et=new Set;Et.add(Q),d.updateQueue=Et}else kt.add(Q);break e}else{if((d&1)===0){yk(M,de,d),jx();break e}Q=Error(r(426))}}else if(Hr&&Y.mode&1){var mn=vk(z);if(mn!==null){(mn.flags&65536)===0&&(mn.flags|=256),xk(mn,z,Y,M,d),zv(Eu(Q,Y));break e}}M=Q=Eu(Q,Y),En!==4&&(En=2),Lp===null?Lp=[M]:Lp.push(M),M=z;do{switch(M.tag){case 3:M.flags|=65536,d&=-d,M.lanes|=d;var se=mk(M,Q,d);z2(M,se);break e;case 1:Y=Q;var re=M.type,le=M.stateNode;if((M.flags&128)===0&&(typeof re.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(Ha===null||!Ha.has(le)))){M.flags|=65536,d&=-d,M.lanes|=d;var Ke=gk(M,Y,d);z2(M,Ke);break e}}M=M.return}while(M!==null)}Jk(g)}catch(Tt){d=Tt,yn===g&&g!==null&&(yn=g=g.return);continue}break}while(!0)}function Kk(){var c=Am.current;return Am.current=km,c===null?km:c}function jx(){(En===0||En===3||En===2)&&(En=4),$n===null||(ic&268435455)===0&&(_m&268435455)===0||qa($n,Kn)}function Lm(c,d){var g=ur;ur|=2;var w=Kk();($n!==c||Kn!==d)&&(Ys=null,ac(c,d));do try{t4();break}catch(R){Gk(c,R)}while(!0);if(Fv(),ur=g,Am.current=w,yn!==null)throw Error(r(261));return $n=null,Kn=0,En}function t4(){for(;yn!==null;)Yk(yn)}function r4(){for(;yn!==null&&!Wt();)Yk(yn)}function Yk(c){var d=Zk(c.alternate,c,Xo);c.memoizedProps=c.pendingProps,d===null?Jk(c):yn=d,vx.current=null}function Jk(c){var d=c;do{var g=d.alternate;if(c=d.return,(d.flags&32768)===0){if(g=K3(g,d,Xo),g!==null){yn=g;return}}else{if(g=Y3(g,d),g!==null){g.flags&=32767,yn=g;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{En=6,yn=null;return}}if(d=d.sibling,d!==null){yn=d;return}yn=d=c}while(d!==null);En===0&&(En=5)}function lc(c,d,g){var w=hr,R=vi.transition;try{vi.transition=null,hr=1,n4(c,d,g,w)}finally{vi.transition=R,hr=w}return null}function n4(c,d,g,w){do Au();while(Ua!==null);if((ur&6)!==0)throw Error(r(327));g=c.finishedWork;var R=c.finishedLanes;if(g===null)return null;if(c.finishedWork=null,c.finishedLanes=0,g===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0;var M=g.lanes|g.childLanes;if(up(c,M),c===$n&&(yn=$n=null,Kn=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||Im||(Im=!0,eE(Vo,function(){return Au(),null})),M=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||M){M=vi.transition,vi.transition=null;var z=hr;hr=1;var Y=ur;ur|=4,vx.current=null,X3(c,g),Fk(g,c),C3(jv),lu=!!Tv,jv=Tv=null,c.current=g,Q3(g),Gr(),ur=Y,hr=z,vi.transition=M}else c.current=g;if(Im&&(Im=!1,Ua=c,Om=R),M=c.pendingLanes,M===0&&(Ha=null),ds(g.stateNode),Po(c,Ft()),d!==null)for(w=c.onRecoverableError,g=0;g<d.length;g++)R=d[g],w(R.value,{componentStack:R.stack,digest:R.digest});if(Mm)throw Mm=!1,c=wx,wx=null,c;return(Om&1)!==0&&c.tag!==0&&Au(),M=c.pendingLanes,(M&1)!==0?c===Sx?Dp++:(Dp=0,Sx=c):Dp=0,$a(),null}function Au(){if(Ua!==null){var c=Yl(Om),d=vi.transition,g=hr;try{if(vi.transition=null,hr=16>c?16:c,Ua===null)var w=!1;else{if(c=Ua,Ua=null,Om=0,(ur&6)!==0)throw Error(r(331));var R=ur;for(ur|=4,bt=c.current;bt!==null;){var M=bt,z=M.child;if((bt.flags&16)!==0){var Y=M.deletions;if(Y!==null){for(var Q=0;Q<Y.length;Q++){var de=Y[Q];for(bt=de;bt!==null;){var De=bt;switch(De.tag){case 0:case 11:case 15:Pp(8,De,M)}var Fe=De.child;if(Fe!==null)Fe.return=De,bt=Fe;else for(;bt!==null;){De=bt;var Pe=De.sibling,yt=De.return;if(Nk(De),De===de){bt=null;break}if(Pe!==null){Pe.return=yt,bt=Pe;break}bt=yt}}}var kt=M.alternate;if(kt!==null){var Et=kt.child;if(Et!==null){kt.child=null;do{var mn=Et.sibling;Et.sibling=null,Et=mn}while(Et!==null)}}bt=M}}if((M.subtreeFlags&2064)!==0&&z!==null)z.return=M,bt=z;else e:for(;bt!==null;){if(M=bt,(M.flags&2048)!==0)switch(M.tag){case 0:case 11:case 15:Pp(9,M,M.return)}var se=M.sibling;if(se!==null){se.return=M.return,bt=se;break e}bt=M.return}}var re=c.current;for(bt=re;bt!==null;){z=bt;var le=z.child;if((z.subtreeFlags&2064)!==0&&le!==null)le.return=z,bt=le;else e:for(z=re;bt!==null;){if(Y=bt,(Y.flags&2048)!==0)try{switch(Y.tag){case 0:case 11:case 15:Rm(9,Y)}}catch(Tt){nn(Y,Y.return,Tt)}if(Y===z){bt=null;break e}var Ke=Y.sibling;if(Ke!==null){Ke.return=Y.return,bt=Ke;break e}bt=Y.return}}if(ur=R,$a(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Ln,c)}catch{}w=!0}return w}finally{hr=g,vi.transition=d}}return!1}function Xk(c,d,g){d=Eu(g,d),d=mk(c,d,1),c=Ba(c,d,1),d=vo(),c!==null&&(ui(c,1,d),Po(c,d))}function nn(c,d,g){if(c.tag===3)Xk(c,c,g);else for(;d!==null;){if(d.tag===3){Xk(d,c,g);break}else if(d.tag===1){var w=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Ha===null||!Ha.has(w))){c=Eu(g,c),c=gk(d,c,1),d=Ba(d,c,1),c=vo(),d!==null&&(ui(d,1,c),Po(d,c));break}}d=d.return}}function o4(c,d,g){var w=c.pingCache;w!==null&&w.delete(d),d=vo(),c.pingedLanes|=c.suspendedLanes&g,$n===c&&(Kn&g)===g&&(En===4||En===3&&(Kn&130023424)===Kn&&500>Ft()-bx?ac(c,0):xx|=g),Po(c,d)}function Qk(c,d){d===0&&((c.mode&1)===0?d=1:(d=Ea,Ea<<=1,(Ea&130023424)===0&&(Ea=4194304)));var g=vo();c=qs(c,d),c!==null&&(ui(c,d,g),Po(c,g))}function i4(c){var d=c.memoizedState,g=0;d!==null&&(g=d.retryLane),Qk(c,g)}function s4(c,d){var g=0;switch(c.tag){case 13:var w=c.stateNode,R=c.memoizedState;R!==null&&(g=R.retryLane);break;case 19:w=c.stateNode;break;default:throw Error(r(314))}w!==null&&w.delete(d),Qk(c,g)}var Zk;Zk=function(c,d,g){if(c!==null)if(c.memoizedProps!==d.pendingProps||_o.current)Io=!0;else{if((c.lanes&g)===0&&(d.flags&128)===0)return Io=!1,G3(c,d,g);Io=(c.flags&131072)!==0}else Io=!1,Hr&&(d.flags&1048576)!==0&&M2(d,dm,d.index);switch(d.lanes=0,d.tag){case 2:var w=d.type;Tm(c,d),c=d.pendingProps;var R=yu(d,so.current);Su(d,g),R=Zv(null,d,w,c,R,g);var M=ex();return d.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Mo(w)?(M=!0,lm(d)):M=!1,d.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,Uv(d),R.updater=ym,d.stateNode=R,R._reactInternals=d,qv(d,w,c,g),d=lx(null,d,w,!0,M,g)):(d.tag=0,Hr&&M&&Pv(d),yo(null,d,R,g),d=d.child),d;case 16:w=d.elementType;e:{switch(Tm(c,d),c=d.pendingProps,R=w._init,w=R(w._payload),d.type=w,R=d.tag=l4(w),c=qi(w,c),R){case 0:d=ax(null,d,w,c,g);break e;case 1:d=Ek(null,d,w,c,g);break e;case 11:d=bk(null,d,w,c,g);break e;case 14:d=wk(null,d,w,qi(w.type,c),g);break e}throw Error(r(306,w,""))}return d;case 0:return w=d.type,R=d.pendingProps,R=d.elementType===w?R:qi(w,R),ax(c,d,w,R,g);case 1:return w=d.type,R=d.pendingProps,R=d.elementType===w?R:qi(w,R),Ek(c,d,w,R,g);case 3:e:{if(Tk(d),c===null)throw Error(r(387));w=d.pendingProps,M=d.memoizedState,R=M.element,D2(c,d),gm(d,w,null,g);var z=d.memoizedState;if(w=z.element,M.isDehydrated)if(M={element:w,isDehydrated:!1,cache:z.cache,pendingSuspenseBoundaries:z.pendingSuspenseBoundaries,transitions:z.transitions},d.updateQueue.baseState=M,d.memoizedState=M,d.flags&256){R=Eu(Error(r(423)),d),d=jk(c,d,w,g,R);break e}else if(w!==R){R=Eu(Error(r(424)),d),d=jk(c,d,w,g,R);break e}else for(Jo=La(d.stateNode.containerInfo.firstChild),Yo=d,Hr=!0,Vi=null,g=q2(d,null,w,g),d.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(bu(),w===R){d=Ks(c,d,g);break e}yo(c,d,w,g)}d=d.child}return d;case 5:return G2(d),c===null&&Dv(d),w=d.type,R=d.pendingProps,M=c!==null?c.memoizedProps:null,z=R.children,Rv(w,R)?z=null:M!==null&&Rv(w,M)&&(d.flags|=32),kk(c,d),yo(c,d,z,g),d.child;case 6:return c===null&&Dv(d),null;case 13:return Rk(c,d,g);case 4:return Gv(d,d.stateNode.containerInfo),w=d.pendingProps,c===null?d.child=Cu(d,null,w,g):yo(c,d,w,g),d.child;case 11:return w=d.type,R=d.pendingProps,R=d.elementType===w?R:qi(w,R),bk(c,d,w,R,g);case 7:return yo(c,d,d.pendingProps,g),d.child;case 8:return yo(c,d,d.pendingProps.children,g),d.child;case 12:return yo(c,d,d.pendingProps.children,g),d.child;case 10:e:{if(w=d.type._context,R=d.pendingProps,M=d.memoizedProps,z=R.value,Nr(fm,w._currentValue),w._currentValue=z,M!==null)if(Ui(M.value,z)){if(M.children===R.children&&!_o.current){d=Ks(c,d,g);break e}}else for(M=d.child,M!==null&&(M.return=d);M!==null;){var Y=M.dependencies;if(Y!==null){z=M.child;for(var Q=Y.firstContext;Q!==null;){if(Q.context===w){if(M.tag===1){Q=Gs(-1,g&-g),Q.tag=2;var de=M.updateQueue;if(de!==null){de=de.shared;var De=de.pending;De===null?Q.next=Q:(Q.next=De.next,De.next=Q),de.pending=Q}}M.lanes|=g,Q=M.alternate,Q!==null&&(Q.lanes|=g),Wv(M.return,g,d),Y.lanes|=g;break}Q=Q.next}}else if(M.tag===10)z=M.type===d.type?null:M.child;else if(M.tag===18){if(z=M.return,z===null)throw Error(r(341));z.lanes|=g,Y=z.alternate,Y!==null&&(Y.lanes|=g),Wv(z,g,d),z=M.sibling}else z=M.child;if(z!==null)z.return=M;else for(z=M;z!==null;){if(z===d){z=null;break}if(M=z.sibling,M!==null){M.return=z.return,z=M;break}z=z.return}M=z}yo(c,d,R.children,g),d=d.child}return d;case 9:return R=d.type,w=d.pendingProps.children,Su(d,g),R=gi(R),w=w(R),d.flags|=1,yo(c,d,w,g),d.child;case 14:return w=d.type,R=qi(w,d.pendingProps),R=qi(w.type,R),wk(c,d,w,R,g);case 15:return Sk(c,d,d.type,d.pendingProps,g);case 17:return w=d.type,R=d.pendingProps,R=d.elementType===w?R:qi(w,R),Tm(c,d),d.tag=1,Mo(w)?(c=!0,lm(d)):c=!1,Su(d,g),W2(d,w,R),qv(d,w,R,g),lx(null,d,w,!0,c,g);case 19:return _k(c,d,g);case 22:return Ck(c,d,g)}throw Error(r(156,d.tag))};function eE(c,d){return ut(c,d)}function a4(c,d,g,w){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xi(c,d,g,w){return new a4(c,d,g,w)}function Rx(c){return c=c.prototype,!(!c||!c.isReactComponent)}function l4(c){if(typeof c=="function")return Rx(c)?1:0;if(c!=null){if(c=c.$$typeof,c===O)return 11;if(c===U)return 14}return 2}function Ga(c,d){var g=c.alternate;return g===null?(g=xi(c.tag,d,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=d,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&14680064,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,d=c.dependencies,g.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g}function Dm(c,d,g,w,R,M){var z=2;if(w=c,typeof c=="function")Rx(c)&&(z=1);else if(typeof c=="string")z=5;else e:switch(c){case _:return cc(g.children,R,M,d);case I:z=8,R|=8;break;case P:return c=xi(12,g,d,R|2),c.elementType=P,c.lanes=M,c;case D:return c=xi(13,g,d,R),c.elementType=D,c.lanes=M,c;case F:return c=xi(19,g,d,R),c.elementType=F,c.lanes=M,c;case G:return zm(g,R,M,d);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case N:z=10;break e;case B:z=9;break e;case O:z=11;break e;case U:z=14;break e;case V:z=16,w=null;break e}throw Error(r(130,c==null?c:typeof c,""))}return d=xi(z,g,d,R),d.elementType=c,d.type=w,d.lanes=M,d}function cc(c,d,g,w){return c=xi(7,c,w,d),c.lanes=g,c}function zm(c,d,g,w){return c=xi(22,c,w,d),c.elementType=G,c.lanes=g,c.stateNode={isHidden:!1},c}function Ax(c,d,g){return c=xi(6,c,null,d),c.lanes=g,c}function _x(c,d,g){return d=xi(4,c.children!==null?c.children:[],c.key,d),d.lanes=g,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}function c4(c,d,g,w,R){this.tag=d,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ko(0),this.expirationTimes=Ko(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ko(0),this.identifierPrefix=w,this.onRecoverableError=R,this.mutableSourceEagerHydrationData=null}function Mx(c,d,g,w,R,M,z,Y,Q){return c=new c4(c,d,g,Y,Q),d===1?(d=1,M===!0&&(d|=8)):d=0,M=xi(3,null,null,d),c.current=M,M.stateNode=c,M.memoizedState={element:w,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uv(M),c}function u4(c,d,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:w==null?null:""+w,children:c,containerInfo:d,implementation:g}}function tE(c){if(!c)return za;c=c._reactInternals;e:{if(cr(c)!==c||c.tag!==1)throw Error(r(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Mo(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(r(171))}if(c.tag===1){var g=c.type;if(Mo(g))return R2(c,g,d)}return d}function rE(c,d,g,w,R,M,z,Y,Q){return c=Mx(g,w,!0,c,R,M,z,Y,Q),c.context=tE(null),g=c.current,w=vo(),R=Va(g),M=Gs(w,R),M.callback=d??null,Ba(g,M,R),c.current.lanes=R,ui(c,R,w),Po(c,w),c}function $m(c,d,g,w){var R=d.current,M=vo(),z=Va(R);return g=tE(g),d.context===null?d.context=g:d.pendingContext=g,d=Gs(M,z),d.payload={element:c},w=w===void 0?null:w,w!==null&&(d.callback=w),c=Ba(R,d,z),c!==null&&(Yi(c,R,z,M),mm(c,R,z)),z}function Fm(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function nE(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<d?g:d}}function Ix(c,d){nE(c,d),(c=c.alternate)&&nE(c,d)}function d4(){return null}var oE=typeof reportError=="function"?reportError:function(c){console.error(c)};function Ox(c){this._internalRoot=c}Bm.prototype.render=Ox.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(r(409));$m(c,d,null,null)},Bm.prototype.unmount=Ox.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;sc(function(){$m(null,c,null,null)}),d[Ws]=null}};function Bm(c){this._internalRoot=c}Bm.prototype.unstable_scheduleHydration=function(c){if(c){var d=Kh();c={blockedOn:null,target:c,priority:d};for(var g=0;g<fs.length&&d!==0&&d<fs[g].priority;g++);fs.splice(g,0,c),g===0&&au(c)}};function Px(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function Wm(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function iE(){}function p4(c,d,g,w,R){if(R){if(typeof w=="function"){var M=w;w=function(){var de=Fm(z);M.call(de)}}var z=rE(d,w,c,0,null,!1,!1,"",iE);return c._reactRootContainer=z,c[Ws]=z.current,wp(c.nodeType===8?c.parentNode:c),sc(),z}for(;R=c.lastChild;)c.removeChild(R);if(typeof w=="function"){var Y=w;w=function(){var de=Fm(Q);Y.call(de)}}var Q=Mx(c,0,!1,null,null,!1,!1,"",iE);return c._reactRootContainer=Q,c[Ws]=Q.current,wp(c.nodeType===8?c.parentNode:c),sc(function(){$m(d,Q,g,w)}),Q}function Hm(c,d,g,w,R){var M=g._reactRootContainer;if(M){var z=M;if(typeof R=="function"){var Y=R;R=function(){var Q=Fm(z);Y.call(Q)}}$m(d,z,c,R)}else z=p4(g,d,c,R,w);return Fm(z)}Jl=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var g=Ta(d.pendingLanes);g!==0&&(Kl(d,g|1),Po(d,Ft()),(ur&6)===0&&(Ru=Ft()+500,$a()))}break;case 13:sc(function(){var w=qs(c,1);if(w!==null){var R=vo();Yi(w,c,1,R)}}),Ix(c,1)}},dp=function(c){if(c.tag===13){var d=qs(c,134217728);if(d!==null){var g=vo();Yi(d,c,134217728,g)}Ix(c,134217728)}},Ra=function(c){if(c.tag===13){var d=Va(c),g=qs(c,d);if(g!==null){var w=vo();Yi(g,c,d,w)}Ix(c,d)}},Kh=function(){return hr},Yh=function(c,d){var g=hr;try{return hr=c,d()}finally{hr=g}},or=function(c,d,g){switch(d){case"input":if(ke(c,g),d=g.name,g.type==="radio"&&d!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<g.length;d++){var w=g[d];if(w!==c&&w.form===c.form){var R=sm(w);if(!R)throw Error(r(90));Xe(w),ke(w,R)}}}break;case"textarea":We(c,g);break;case"select":d=g.value,d!=null&&Te(c,!!g.multiple,d,!1)}},xr=Ex,Ct=sc;var f4={usingClientEntryPoint:!1,Events:[kp,mu,sm,qt,vr,Ex]},zp={findFiberByHostInstance:Ql,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},h4={bundleType:zp.bundleType,version:zp.version,rendererPackageName:zp.rendererPackageName,rendererConfig:zp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=ye(c),c===null?null:c.stateNode},findFiberByHostInstance:zp.findFiberByHostInstance||d4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Um=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Um.isDisabled&&Um.supportsFiber)try{Ln=Um.inject(h4),tn=Um}catch{}}return No.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f4,No.createPortal=function(c,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Px(d))throw Error(r(200));return u4(c,d,null,g)},No.createRoot=function(c,d){if(!Px(c))throw Error(r(299));var g=!1,w="",R=oE;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(R=d.onRecoverableError)),d=Mx(c,1,!1,null,null,g,!1,w,R),c[Ws]=d.current,wp(c.nodeType===8?c.parentNode:c),new Ox(d)},No.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=ye(d),c=c===null?null:c.stateNode,c},No.flushSync=function(c){return sc(c)},No.hydrate=function(c,d,g){if(!Wm(d))throw Error(r(200));return Hm(null,c,d,!0,g)},No.hydrateRoot=function(c,d,g){if(!Px(c))throw Error(r(405));var w=g!=null&&g.hydratedSources||null,R=!1,M="",z=oE;if(g!=null&&(g.unstable_strictMode===!0&&(R=!0),g.identifierPrefix!==void 0&&(M=g.identifierPrefix),g.onRecoverableError!==void 0&&(z=g.onRecoverableError)),d=rE(d,null,c,1,g??null,R,!1,M,z),c[Ws]=d.current,wp(c),w)for(c=0;c<w.length;c++)g=w[c],R=g._getVersion,R=R(g._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[g,R]:d.mutableSourceEagerHydrationData.push(g,R);return new Bm(d)},No.render=function(c,d,g){if(!Wm(d))throw Error(r(200));return Hm(null,c,d,!1,g)},No.unmountComponentAtNode=function(c){if(!Wm(c))throw Error(r(40));return c._reactRootContainer?(sc(function(){Hm(null,null,c,!1,function(){c._reactRootContainer=null,c[Ws]=null})}),!0):!1},No.unstable_batchedUpdates=Ex,No.unstable_renderSubtreeIntoContainer=function(c,d,g,w){if(!Wm(g))throw Error(r(200));if(c==null||c._reactInternals===void 0)throw Error(r(38));return Hm(c,d,g,!1,w)},No.version="18.2.0-next-9e3b772b8-20220608",No}var hE;function F5(){if(hE)return zx.exports;hE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zx.exports=k4(),zx.exports}var mE;function E4(){if(mE)return qm;mE=1;var t=F5();return qm.createRoot=t.createRoot,qm.hydrateRoot=t.hydrateRoot,qm}var T4=E4();const j4=Th(T4);function a0(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r}function R4(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{p(n.next(f))}catch(h){s(h)}}function l(f){try{p(n.throw(f))}catch(h){s(h)}}function p(f){f.done?i(f.value):o(f.value).then(a,l)}p((n=n.apply(t,e||[])).next())})}const A4=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Jw extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class _4 extends Jw{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class gE extends Jw{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class yE extends Jw{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var d1;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(d1||(d1={}));class M4{constructor(e,{headers:r={},customFetch:n,region:o=d1.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=A4(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return R4(this,arguments,void 0,function*(r,n={}){var o;let i,s;try{const{headers:a,method:l,body:p,signal:f,timeout:h}=n;let m={},{region:y}=n;y||(y=this.region);const v=new URL(`${this.url}/${r}`);y&&y!=="any"&&(m["x-region"]=y,v.searchParams.set("forceFunctionRegion",y));let b;p&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",b=p):typeof p=="string"?(m["Content-Type"]="text/plain",b=p):typeof FormData<"u"&&p instanceof FormData?b=p:(m["Content-Type"]="application/json",b=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?b=JSON.stringify(p):b=p;let x=f;h&&(s=new AbortController,i=setTimeout(()=>s.abort(),h),f?(x=s.signal,f.addEventListener("abort",()=>s.abort())):x=s.signal);const C=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),a),body:b,signal:x}).catch(k=>{throw new _4(k)}),E=C.headers.get("x-relay-error");if(E&&E==="true")throw new gE(C);if(!C.ok)throw new yE(C);let j=((o=C.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),T;return j==="application/json"?T=yield C.json():j==="application/octet-stream"||j==="application/pdf"?T=yield C.blob():j==="text/event-stream"?T=C:j==="multipart/form-data"?T=yield C.formData():T=yield C.text(),{data:T,error:null,response:C}}catch(a){return{data:null,error:a,response:a instanceof yE||a instanceof gE?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var I4=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},O4=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let o=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let s=null,a=null,l=null,p=i.status,f=i.statusText;if(i.ok){var h,m;if(r.method!=="HEAD"){var y;const C=await i.text();C===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((y=r.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?a=C:a=JSON.parse(C))}const b=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),x=(m=i.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");b&&x&&x.length>1&&(l=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(s={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,p=406,f="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var v;const b=await i.text();try{s=JSON.parse(b),Array.isArray(s)&&i.status===404&&(a=[],s=null,p=200,f="OK")}catch{i.status===404&&b===""?(p=204,f="No Content"):s={message:b}}if(s&&r.isMaybeSingle&&(!(s==null||(v=s.details)===null||v===void 0)&&v.includes("0 rows"))&&(s=null,p=200,f="OK"),s&&r.shouldThrowOnError)throw new I4(s)}return{error:s,data:a,count:l,status:p,statusText:f}});return this.shouldThrowOnError||(o=o.catch(i=>{var s;let a="";const l=i==null?void 0:i.cause;if(l){var p,f,h,m;const v=(p=l==null?void 0:l.message)!==null&&p!==void 0?p:"",b=(f=l==null?void 0:l.code)!==null&&f!==void 0?f:"";a=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(m=l==null?void 0:l.name)!==null&&m!==void 0?m:"Error"}: ${v}`,b&&(a+=` (${b})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var y;a=(y=i==null?void 0:i.stack)!==null&&y!==void 0?y:""}return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},P4=class extends O4{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:o=n}={}){const i=o?`${o}.order`:"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const o=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:o=!1,format:i="text"}={}){var s;const a=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,o?"wal":null].filter(Boolean).join("|"),l=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const vE=new RegExp("[,()]");var Xu=class extends P4{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&vE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&vE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let o="";n==="plain"?o="pl":n==="phrase"?o="ph":n==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},N4=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},o=r?"HEAD":"GET";let i=!1;const s=(t??"*").split("").map(p=>/\s/.test(p)&&!i?"":(p==='"'&&(i=!i),p)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",s),n&&l.append("Prefer",`count=${n}`),new Xu({method:o,url:a,headers:l,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const o="POST",{url:i,headers:s}=this.cloneRequestState();if(e&&s.append("Prefer",`count=${e}`),r||s.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,p)=>l.concat(Object.keys(p)),[]);if(a.length>0){const l=[...new Set(a)].map(p=>`"${p}"`);i.searchParams.set("columns",l.join(","))}}return new Xu({method:o,url:i,headers:s,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:o=!0}={}){var i;const s="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&a.searchParams.set("on_conflict",e),n&&l.append("Prefer",`count=${n}`),o||l.append("Prefer","missing=default"),Array.isArray(t)){const p=t.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(p.length>0){const f=[...new Set(p)].map(h=>`"${h}"`);a.searchParams.set("columns",f.join(","))}}return new Xu({method:s,url:a,headers:l,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:o,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Xu({method:n,url:o,headers:i,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new Xu({method:r,url:n,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},L4=class B5{constructor(e,{headers:r={},schema:n,fetch:o}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new N4(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new B5(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:o=!1,count:i}={}){var s;let a;const l=new URL(`${this.url}/rpc/${e}`);let p;const f=y=>y!==null&&typeof y=="object"&&(!Array.isArray(y)||y.some(f)),h=n&&Object.values(r).some(f);h?(a="POST",p=r):n||o?(a=n?"HEAD":"GET",Object.entries(r).filter(([y,v])=>v!==void 0).map(([y,v])=>[y,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([y,v])=>{l.searchParams.append(y,v)})):(a="POST",p=r);const m=new Headers(this.headers);return h?m.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&m.set("Prefer",`count=${i}`),new Xu({method:a,url:l,headers:m,schema:this.schemaName,body:p,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};class D4{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const o=n.node,i=parseInt(o.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const z4="2.93.2",$4=`realtime-js/${z4}`,F4="1.0.0",W5="2.0.0",xE=W5,p1=1e4,B4=1e3,W4=100;var el;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(el||(el={}));var Tn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Tn||(Tn={}));var es;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(es||(es={}));var f1;(function(t){t.websocket="websocket"})(f1||(f1={}));var xc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(xc||(xc={}));class H4{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const o=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var r,n;const o=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(e,r,n){var o,i;const s=e.topic,a=(o=e.ref)!==null&&o!==void 0?o:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",p=e.payload.event,f=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(f).length===0?"":JSON.stringify(f);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+s.length+p.length+h.length,y=new ArrayBuffer(this.HEADER_LENGTH+m);let v=new DataView(y),b=0;v.setUint8(b++,this.KINDS.userBroadcastPush),v.setUint8(b++,l.length),v.setUint8(b++,a.length),v.setUint8(b++,s.length),v.setUint8(b++,p.length),v.setUint8(b++,h.length),v.setUint8(b++,r),Array.from(l,C=>v.setUint8(b++,C.charCodeAt(0))),Array.from(a,C=>v.setUint8(b++,C.charCodeAt(0))),Array.from(s,C=>v.setUint8(b++,C.charCodeAt(0))),Array.from(p,C=>v.setUint8(b++,C.charCodeAt(0))),Array.from(h,C=>v.setUint8(b++,C.charCodeAt(0)));var x=new Uint8Array(y.byteLength+n.byteLength);return x.set(new Uint8Array(y),0),x.set(new Uint8Array(n),y.byteLength),x.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[o,i,s,a,l]=n;return r({join_ref:o,ref:i,topic:s,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),o=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,o)}}_decodeUserBroadcast(e,r,n){const o=r.getUint8(1),i=r.getUint8(2),s=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const p=n.decode(e.slice(l,l+o));l=l+o;const f=n.decode(e.slice(l,l+i));l=l+i;const h=n.decode(e.slice(l,l+s));l=l+s;const m=e.slice(l,e.byteLength),y=a===this.JSON_ENCODING?JSON.parse(n.decode(m)):m,v={type:this.BROADCAST_EVENT,event:f,payload:y};return s>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class H5{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Lr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Lr||(Lr={}));const bE=(t,e,r={})=>{var n;const o=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,s)=>(i[s]=U4(s,t,e,o),i),{}):{}},U4=(t,e,r,n)=>{const o=e.find(a=>a.name===t),i=o==null?void 0:o.type,s=r[t];return i&&!n.includes(i)?U5(i,s):h1(s)},U5=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return K4(e,r)}switch(t){case Lr.bool:return V4(e);case Lr.float4:case Lr.float8:case Lr.int2:case Lr.int4:case Lr.int8:case Lr.numeric:case Lr.oid:return q4(e);case Lr.json:case Lr.jsonb:return G4(e);case Lr.timestamp:return Y4(e);case Lr.abstime:case Lr.date:case Lr.daterange:case Lr.int4range:case Lr.int8range:case Lr.money:case Lr.reltime:case Lr.text:case Lr.time:case Lr.timestamptz:case Lr.timetz:case Lr.tsrange:case Lr.tstzrange:return h1(e);default:return h1(e)}},h1=t=>t,V4=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},q4=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},G4=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},K4=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const s=t.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>U5(e,a))}return t},Y4=t=>typeof t=="string"?t.replace(" ","T"):t,V5=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Bx{constructor(e,r,n={},o=p1){this.channel=e,this.event=r,this.payload=n,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var wE;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(wE||(wE={}));class xf{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},o=>{const{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xf.syncState(this.state,o,i,s),this.pendingDiffs.forEach(l=>{this.state=xf.syncDiff(this.state,l,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},o=>{const{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=xf.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,o){const i=this.cloneDeep(e),s=this.transformState(r),a={},l={};return this.map(i,(p,f)=>{s[p]||(l[p]=f)}),this.map(s,(p,f)=>{const h=i[p];if(h){const m=f.map(x=>x.presence_ref),y=h.map(x=>x.presence_ref),v=f.filter(x=>y.indexOf(x.presence_ref)<0),b=h.filter(x=>m.indexOf(x.presence_ref)<0);v.length>0&&(a[p]=v),b.length>0&&(l[p]=b)}else a[p]=f}),this.syncDiff(i,{joins:a,leaves:l},n,o)}static syncDiff(e,r,n,o){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),o||(o=()=>{}),this.map(i,(a,l)=>{var p;const f=(p=e[a])!==null&&p!==void 0?p:[];if(e[a]=this.cloneDeep(l),f.length>0){const h=e[a].map(y=>y.presence_ref),m=f.filter(y=>h.indexOf(y.presence_ref)<0);e[a].unshift(...m)}n(a,f,l)}),this.map(s,(a,l)=>{let p=e[a];if(!p)return;const f=l.map(h=>h.presence_ref);p=p.filter(h=>f.indexOf(h.presence_ref)<0),e[a]=p,o(a,p,l),p.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const o=e[n];return"metas"in o?r[n]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var SE;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(SE||(SE={}));var bf;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(bf||(bf={}));var oa;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(oa||(oa={}));class id{constructor(e,r={config:{}},n){var o,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Tn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Bx(this,es.join,this.params,this.timeout),this.rejoinTimer=new H5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Tn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Tn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(es.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new xf(this),this.broadcastEndpointURL=V5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Tn.closed){const{config:{broadcast:s,presence:a,private:l}}=this.params,p=(o=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&o!==void 0?o:[],f=!!this.bindings[bf.PRESENCE]&&this.bindings[bf.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:f}),postgres_changes:p,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(oa.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(oa.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){e==null||e(oa.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,x=(v=b==null?void 0:b.length)!==null&&v!==void 0?v:0,C=[];for(let E=0;E<x;E++){const j=b[E],{filter:{event:T,schema:k,table:A,filter:_}}=j,I=y&&y[E];if(I&&I.event===T&&id.isFilterValueEqual(I.schema,k)&&id.isFilterValueEqual(I.table,A)&&id.isFilterValueEqual(I.filter,_))C.push(Object.assign(Object.assign({},j),{id:I.id}));else{this.unsubscribe(),this.state=Tn.errored,e==null||e(oa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(oa.SUBSCRIBED);return}}).receive("error",y=>{this.state=Tn.errored,e==null||e(oa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(oa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Tn.joined&&e===bf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var o;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const p=await a.json();l=p.error||p.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:s}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,a,l;const p=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),p.receive("ok",()=>i("ok")),p.receive("error",()=>i("error")),p.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Tn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(es.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(o=>{n=new Bx(this,es.leave,{},e),n.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Tn.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const o=new AbortController,i=setTimeout(()=>o.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(i),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Bx(this,e,r,n);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>W4){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var o,i;const s=e.toLocaleLowerCase(),{close:a,error:l,leave:p,join:f}=es;if(n&&[a,l,p,f].indexOf(s)>=0&&n!==this._joinRef())return;let m=this._onMessage(s,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(y=>{var v,b,x;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(b=y.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===s}).map(y=>y.callback(m,n)):(i=this.bindings[s])===null||i===void 0||i.filter(y=>{var v,b,x,C,E,j;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in y){const T=y.id,k=(v=y.filter)===null||v===void 0?void 0:v.event;return T&&((b=r.ids)===null||b===void 0?void 0:b.includes(T))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const T=(E=(C=y==null?void 0:y.filter)===null||C===void 0?void 0:C.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return T==="*"||T===((j=r==null?void 0:r.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===s}).map(y=>{if(typeof m=="object"&&"ids"in m){const v=m.data,{schema:b,table:x,commit_timestamp:C,type:E,errors:j}=v;m=Object.assign(Object.assign({},{schema:b,table:x,commit_timestamp:C,eventType:E,new:{},old:{},errors:j}),this._getPayloadRecords(v))}y.callback(m,n)})}_isClosed(){return this.state===Tn.closed}_isJoined(){return this.state===Tn.joined}_isJoining(){return this.state===Tn.joining}_isLeaving(){return this.state===Tn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const o=e.toLocaleLowerCase(),i={type:o,filter:r,callback:n};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&id.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(es.close,{},e)}_onError(e){this._on(es.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=bE(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=bE(e.columns,e.old_record)),r}}const Wx=()=>{},Gm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},J4=[1e3,2e3,5e3,1e4],X4=1e4,Q4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Z4{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=p1,this.transport=null,this.heartbeatIntervalMs=Gm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wx,this.ref=0,this.reconnectTimer=null,this.vsn=xE,this.logger=Wx,this.conn=null,this.sendBuffer=[],this.serializer=new H4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...i)=>o(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${f1.websocket}`,this.httpEndpoint=V5(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=D4.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case el.connecting:return xc.Connecting;case el.open:return xc.Open;case el.closing:return xc.Closing;default:return xc.Closed}}isConnected(){return this.connectionState()===xc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,o=this.getChannels().find(i=>i.topic===n);if(o)return o;{const i=new id(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:o,ref:i}=e,s=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(B4,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Gm.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",p)}catch(f){this.log("error","error in heartbeat callback",f)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:o,payload:i,ref:s}=r,a=s?`(${s})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${o} ${a}`.trim(),i),this.channels.filter(p=>p._isMember(n)).forEach(p=>p._trigger(o,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===el.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===el.open||this.conn.readyState===el.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(es.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${n}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Q4],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(o=>{const i={access_token:r,version:$4};r&&o.updateJoinPayload(i),o.joinedOnce&&o._isJoined()&&o._push(es.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new H5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,o,i,s,a,l,p,f,h,m,y;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:p1,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:Gm.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=e==null?void 0:e.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Wx,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:xE,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e==null?void 0:e.reconnectAfterMs)!==null&&p!==void 0?p:(v=>J4[v-1]||X4),this.vsn){case F4:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:((v,b)=>b(JSON.stringify(v))),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:((v,b)=>b(JSON.parse(v)));break;case W5:this.encode=(m=e==null?void 0:e.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(y=e==null?void 0:e.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Hf=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function eL(t,e,r){const n=new URL(e,t);if(r)for(const[o,i]of Object.entries(r))i!==void 0&&n.searchParams.set(o,i);return n.toString()}async function tL(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function rL(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:o,body:i,headers:s}){const a=eL(t.baseUrl,n,o),l=await tL(t.auth),p=await e(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...s},body:i?JSON.stringify(i):void 0}),f=await p.text(),h=(p.headers.get("content-type")||"").includes("application/json"),m=h&&f?JSON.parse(f):f;if(!p.ok){const y=h?m:void 0,v=y==null?void 0:y.error;throw new Hf((v==null?void 0:v.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:y})}return{status:p.status,headers:p.headers,data:m}}}}function Km(t){return t.join("")}var nL=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Km(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Km(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Km(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Km(t.namespace)}`}),!0}catch(e){if(e instanceof Hf&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Hf&&r.status===409)return;throw r}}};function _u(t){return t.join("")}var oL=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_u(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_u(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_u(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_u(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_u(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_u(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Hf&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Hf&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},iL=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=rL({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new nL(this.client,e),this.tableOps=new oL(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},l0=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function c0(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Ym=class extends l0{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},q5=class extends l0{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const sL=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),aL=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},m1=t=>{if(Array.isArray(t))return t.map(r=>m1(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const o=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[o]=m1(n)}),e},lL=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function cL(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uL(t){var e=cL(t,"string");return Uf(e)=="symbol"?e:e+""}function dL(t,e,r){return(e=uL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function Ht(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CE(Object(r),!0).forEach(function(n){dL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const kE=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},pL=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const o=t,i=o.status||500;if(typeof o.json=="function")o.json().then(s=>{const a=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||i+"";e(new Ym(kE(s),i,a,n))}).catch(()=>{if(n==="vectors"){const s=i+"";e(new Ym(o.statusText||`HTTP ${i} error`,i,s,n))}else{const s=i+"";e(new Ym(o.statusText||`HTTP ${i} error`,i,s,n))}});else{const s=i+"";e(new Ym(o.statusText||`HTTP ${i} error`,i,s,n))}}else e(new q5(kE(t),t,n))},fL=(t,e,r,n)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!n?Ht(Ht({},o),r):(aL(n)?(o.headers=Ht({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(n)):o.body=n,e!=null&&e.duplex&&(o.duplex=e.duplex),Ht(Ht({},o),r))};async function Bp(t,e,r,n,o,i,s){return new Promise((a,l)=>{t(r,fL(e,n,o,i)).then(p=>{if(!p.ok)throw p;if(n!=null&&n.noResolveJson)return p;if(s==="vectors"){const f=p.headers.get("content-type");if(!f||!f.includes("application/json"))return{}}return p.json()}).then(p=>a(p)).catch(p=>pL(p,l,n,s))})}function hL(t="storage"){return{get:async(e,r,n,o)=>Bp(e,"GET",r,n,o,void 0,t),post:async(e,r,n,o,i)=>Bp(e,"POST",r,o,i,n,t),put:async(e,r,n,o,i)=>Bp(e,"PUT",r,o,i,n,t),head:async(e,r,n,o)=>Bp(e,"HEAD",r,Ht(Ht({},n),{},{noResolveJson:!0}),o,void 0,t),remove:async(e,r,n,o,i)=>Bp(e,"DELETE",r,o,i,n,t)}}const mL=hL("storage"),{get:Vf,post:Vr,put:g1,head:gL,remove:Xw}=mL;var Yd=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=sL(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(c0(r))return{data:null,error:r};throw r}}},yL=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(c0(e))return{data:null,error:e};throw e}}};let G5;G5=Symbol.toStringTag;var vL=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[G5]="BlobDownloadBuilder",this.promise=null}asStream(){return new yL(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(c0(e))return{data:null,error:e};throw e}}};const xL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},EE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var bL=class extends Yd{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var o=this;return o.handleOperation(async()=>{let i;const s=Ht(Ht({},EE),n);let a=Ht(Ht({},o.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",o.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),l&&!i.has("metadata")&&i.append("metadata",o.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=o.toBase64(o.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),n!=null&&n.headers&&(a=Ht(Ht({},a),n.headers));const p=o._removeEmptyFolders(e),f=o._getFinalPath(p),h=await(t=="PUT"?g1:Vr)(o.fetch,`${o.url}/object/${f}`,i,Ht({headers:a},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{path:p,id:h.Id,fullPath:h.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var o=this;const i=o._removeEmptyFolders(t),s=o._getFinalPath(i),a=new URL(o.url+`/object/upload/sign/${s}`);return a.searchParams.set("token",e),o.handleOperation(async()=>{let l;const p=Ht({upsert:EE.upsert},n),f=Ht(Ht({},o.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",p.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",p.cacheControl)):(l=r,f["cache-control"]=`max-age=${p.cacheControl}`,f["content-type"]=p.contentType),{path:i,fullPath:(await g1(o.fetch,a.toString(),l,{headers:f})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const o=Ht({},r.headers);e!=null&&e.upsert&&(o["x-upsert"]="true");const i=await Vr(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:o}),s=new URL(r.url+i.url),a=s.searchParams.get("token");if(!a)throw new l0("No token returned by API");return{signedUrl:s.toString(),path:t,token:a}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await Vr(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await Vr(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let o=n._getFinalPath(t),i=await Vr(n.fetch,`${n.url}/object/sign/${o}`,Ht({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${s}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const o=await Vr(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o.map(s=>Ht(Ht({},s),{},{signedUrl:s.signedURL?encodeURI(`${n.url}${s.signedURL}${i}`):null}))})}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=n?`?${n}`:"",i=this._getFinalPath(t),s=()=>Vf(this.fetch,`${this.url}/${r}/${i}${o}`,{headers:this.headers,noResolveJson:!0});return new vL(s,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>m1(await Vf(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await gL(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(c0(n)&&n instanceof q5){const o=n.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],o=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&n.push(o);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});s!==""&&n.push(s);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${a}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await Xw(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const o=Ht(Ht(Ht({},xL),e),{},{prefix:t||""});return await Vr(n.fetch,`${n.url}/object/list/${n.bucketId}`,o,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=Ht({},t);return await Vr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const wL="2.93.2",jh={"X-Client-Info":`storage-js/${wL}`};var SL=class extends Yd{constructor(t,e={},r,n){const o=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const i=o.href.replace(/\/$/,""),s=Ht(Ht({},jh),e);super(i,s,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await Vf(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Vf(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await Vr(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await g1(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await Vr(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Xw(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},CL=class extends Yd{constructor(t,e={},r){const n=t.replace(/\/$/,""),o=Ht(Ht({},jh),e);super(n,o,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Vr(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),o=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await Vf(e.fetch,o,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Xw(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!lL(t))throw new l0("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new iL({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(o,i){const s=o[i];return typeof s!="function"?s:async(...a)=>{try{return{data:await s.apply(o,a),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}},kL=class extends Yd{constructor(t,e={},r){const n=t.replace(/\/$/,""),o=Ht(Ht({},jh),{},{"Content-Type":"application/json"},e);super(n,o,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await Vr(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await Vr(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await Vr(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await Vr(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},EL=class extends Yd{constructor(t,e={},r){const n=t.replace(/\/$/,""),o=Ht(Ht({},jh),{},{"Content-Type":"application/json"},e);super(n,o,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Vr(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await Vr(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await Vr(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await Vr(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Vr(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},TL=class extends Yd{constructor(t,e={},r){const n=t.replace(/\/$/,""),o=Ht(Ht({},jh),{},{"Content-Type":"application/json"},e);super(n,o,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Vr(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Vr(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await Vr(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Vr(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},jL=class extends TL{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new RL(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},RL=class extends kL{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Ht(Ht({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Ht(Ht({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new AL(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},AL=class extends EL{constructor(t,e,r,n,o){super(t,e,o),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Ht(Ht({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Ht(Ht({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Ht(Ht({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Ht(Ht({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Ht(Ht({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},_L=class extends SL{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new bL(this.url,this.headers,t,this.fetch)}get vectors(){return new jL(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new CL(this.url+"/iceberg",this.headers,this.fetch)}};const K5="2.93.2",Qu=30*1e3,y1=3,Hx=y1*Qu,ML="http://localhost:9999",IL="supabase.auth.token",OL={"X-Client-Info":`gotrue-js/${K5}`},v1="X-Supabase-Api-Version",Y5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},PL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,NL=600*1e3;class qf extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Rt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class LL extends qf{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function DL(t){return Rt(t)&&t.name==="AuthApiError"}class bc extends qf{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ba extends qf{constructor(e,r,n,o){super(e,n,o),this.name=r,this.status=n}}class Qo extends ba{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ux(t){return Rt(t)&&t.name==="AuthSessionMissingError"}class Mu extends ba{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jm extends ba{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Xm extends ba{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zL(t){return Rt(t)&&t.name==="AuthImplicitGrantRedirectError"}class TE extends ba{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $L extends ba{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class x1 extends ba{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Vx(t){return Rt(t)&&t.name==="AuthRetryableFetchError"}class jE extends ba{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class b1 extends ba{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),RE=` 	
\r=`.split(""),FL=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<RE.length;e+=1)t[RE[e].charCodeAt(0)]=-2;for(let e=0;e<Gg.length;e+=1)t[Gg[e].charCodeAt(0)]=e;return t})();function AE(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Gg[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Gg[n]),e.queuedBits-=6}}function J5(t,e,r){const n=FL[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function _E(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{HL(s,n,r)};for(let s=0;s<t.length;s+=1)J5(t.charCodeAt(s),o,i);return e.join("")}function BL(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function WL(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const o=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}BL(n,e)}}function HL(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ud(t){const e=[],r={queue:0,queuedBits:0},n=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)J5(t.charCodeAt(o),r,n);return new Uint8Array(e)}function UL(t){const e=[];return WL(t,r=>e.push(r)),new Uint8Array(e)}function Sc(t){const e=[],r={queue:0,queuedBits:0},n=o=>{e.push(o)};return t.forEach(o=>AE(o,r,n)),AE(null,r,n),e.join("")}function VL(t){return Math.round(Date.now()/1e3)+t}function qL(){return Symbol("auth-callback")}const Jn=()=>typeof window<"u"&&typeof document<"u",uc={tested:!1,writable:!1},X5=()=>{if(!Jn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(uc.tested)return uc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),uc.tested=!0,uc.writable=!0}catch{uc.tested=!0,uc.writable=!1}return uc.writable};function GL(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,i)=>{e[i]=o})}catch{}return r.searchParams.forEach((n,o)=>{e[o]=n}),e}const Q5=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),KL=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Zu=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},dc=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Yn=async(t,e)=>{await t.removeItem(e)};class u0{constructor(){this.promise=new u0.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}u0.promiseConstructor=Promise;function Qm(t){const e=t.split(".");if(e.length!==3)throw new b1("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!PL.test(e[n]))throw new b1("JWT not in base64url format");return{header:JSON.parse(_E(e[0])),payload:JSON.parse(_E(e[1])),signature:ud(e[2]),raw:{header:e[0],payload:e[1]}}}async function YL(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function JL(t,e){return new Promise((n,o)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await t(i);if(!e(i,null,s)){n(s);return}}catch(s){if(!e(i,s)){o(s);return}}})()})}function XL(t){return("0"+t.toString(16)).substr(-2)}function QL(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let o="";for(let i=0;i<56;i++)o+=r.charAt(Math.floor(Math.random()*n));return o}return crypto.getRandomValues(e),Array.from(e,XL).join("")}async function ZL(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(n);return Array.from(o).map(i=>String.fromCharCode(i)).join("")}async function eD(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await ZL(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Iu(t,e,r=!1){const n=QL();let o=n;r&&(o+="/PASSWORD_RECOVERY"),await Zu(t,`${e}-code-verifier`,o);const i=await eD(n);return[i,n===i?"plain":"s256"]}const tD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rD(t){const e=t.headers.get(v1);if(!e||!e.match(tD))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function nD(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function oD(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const iD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ou(t){if(!iD.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qx(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function sD(t,e){return new Proxy(t,{get:(r,n,o)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,o)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,o)}})}function ME(t){return JSON.parse(JSON.stringify(t))}const gc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),aD=[502,503,504];async function IE(t){var e;if(!KL(t))throw new x1(gc(t),0);if(aD.includes(t.status))throw new x1(gc(t),t.status);let r;try{r=await t.json()}catch(i){throw new bc(gc(i),i)}let n;const o=rD(t);if(o&&o.getTime()>=Y5["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new jE(gc(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Qo}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new jE(gc(r),t.status,r.weak_password.reasons);throw new LL(gc(r),t.status||500,n)}const lD=(t,e,r,n)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(n),Object.assign(Object.assign({},o),r))};async function Bt(t,e,r,n){var o;const i=Object.assign({},n==null?void 0:n.headers);i[v1]||(i[v1]=Y5["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(o=n==null?void 0:n.query)!==null&&o!==void 0?o:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await cD(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function cD(t,e,r,n,o,i){const s=lD(e,n,o,i);let a;try{a=await t(r,Object.assign({},s))}catch(l){throw console.error(l),new x1(gc(l),0)}if(a.ok||await IE(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await IE(l)}}function Xi(t){var e;let r=null;pD(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=VL(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function OE(t){const e=Xi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function il(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function uD(t){return{data:t,error:null}}function dD(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:o,verification_type:i}=t,s=a0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:o,verification_type:i},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function PE(t){return t}function pD(t){return t.access_token&&t.refresh_token&&t.expires_in}const Gx=["global","local","others"];class fD{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Q5(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Gx[0]){if(Gx.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gx.join(", ")}`);try{return await Bt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Bt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:il})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=a0(e,["options"]),o=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(o.new_email=n==null?void 0:n.newEmail,delete o.newEmail),await Bt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:dD,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Rt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Bt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:il})}catch(r){if(Rt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,o,i,s,a,l;try{const p={nextPage:null,lastPage:0,total:0},f=await Bt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:PE});if(f.error)throw f.error;const h=await f.json(),m=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,y=(l=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);p[`${x}Page`]=b}),p.total=parseInt(m)),{data:Object.assign(Object.assign({},h),p),error:null}}catch(p){if(Rt(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Ou(e);try{return await Bt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:il})}catch(r){if(Rt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Ou(e);try{return await Bt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:il})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Ou(e);try{return await Bt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:il})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Ou(e.userId);try{const{data:r,error:n}=await Bt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:n}}catch(r){if(Rt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Ou(e.userId),Ou(e.id);try{return{data:await Bt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,o,i,s,a,l;try{const p={nextPage:null,lastPage:0,total:0},f=await Bt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:PE});if(f.error)throw f.error;const h=await f.json(),m=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,y=(l=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);p[`${x}Page`]=b}),p.total=parseInt(m)),{data:Object.assign(Object.assign({},h),p),error:null}}catch(p){if(Rt(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await Bt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Rt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Bt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Rt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Bt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Bt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Bt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Rt(r))return{data:null,error:r};throw r}}}function NE(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Pu={debug:!!(globalThis&&X5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Z5 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class hD extends Z5{}async function mD(t,e,r){Pu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Pu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async o=>{if(o){Pu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await r()}finally{Pu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Pu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new hD(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Pu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function gD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function e_(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function yD(t){return parseInt(t,16)}function vD(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function xD(t){var e;const{chainId:r,domain:n,expirationTime:o,issuedAt:i=new Date,nonce:s,notBefore:a,requestId:l,resources:p,scheme:f,uri:h,version:m}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const y=e_(t.address),v=f?`${f}://${n}`:n,b=t.statement?`${t.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${y}

${b}`;let C=`URI: ${h}
Version: ${m}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(o&&(C+=`
Expiration Time: ${o.toISOString()}`),a&&(C+=`
Not Before: ${a.toISOString()}`),l&&(C+=`
Request ID: ${l}`),p){let E=`
Resources:`;for(const j of p){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);E+=`
- ${j}`}C+=E}return`${x}
${C}`}class xn extends Error{constructor({message:e,code:r,cause:n,name:o}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=o??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Kg extends xn{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function bD({error:t,options:e}){var r,n,o;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new xn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new xn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new xn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new xn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new xn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new xn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new xn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new xn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(t_(s)){if(i.rp.id!==s)return new xn({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new xn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new xn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new xn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new xn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function wD({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new xn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new xn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(t_(n)){if(r.rpId!==n)return new xn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new xn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new xn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new xn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class SD{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const CD=new SD;function kD(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,o=a0(t,["challenge","user","excludeCredentials"]),i=ud(e).buffer,s=Object.assign(Object.assign({},r),{id:ud(r.id).buffer}),a=Object.assign(Object.assign({},o),{challenge:i,user:s});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const p=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},p),{id:ud(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return a}function ED(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=a0(t,["challenge","allowCredentials"]),o=ud(e).buffer,i=Object.assign(Object.assign({},n),{challenge:o});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const a=r[s];i.allowCredentials[s]=Object.assign(Object.assign({},a),{id:ud(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function TD(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Sc(new Uint8Array(t.response.attestationObject)),clientDataJSON:Sc(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function jD(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Sc(new Uint8Array(o.authenticatorData)),clientDataJSON:Sc(new Uint8Array(o.clientDataJSON)),signature:Sc(new Uint8Array(o.signature)),userHandle:o.userHandle?Sc(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function t_(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function LE(){var t,e;return!!(Jn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function RD(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Kg("Browser returned unexpected credential type",e)}:{data:null,error:new Kg("Empty credential response",e)}}catch(e){return{data:null,error:bD({error:e,options:t})}}}async function AD(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Kg("Browser returned unexpected credential type",e)}:{data:null,error:new Kg("Empty credential response",e)}}catch(e){return{data:null,error:wD({error:e,options:t})}}}const _D={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},MD={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Yg(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),n={};for(const o of t)if(o)for(const i in o){const s=o[i];if(s!==void 0)if(Array.isArray(s))n[i]=s;else if(r(s))n[i]=s;else if(e(s)){const a=n[i];e(a)?n[i]=Yg(a,s):n[i]=Yg(s)}else n[i]=s}return n}function ID(t,e){return Yg(_D,t,e||{})}function OD(t,e){return Yg(MD,t,e||{})}class PD{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:o},i){try{const{data:s,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!s)return{data:null,error:a};const l=o??CD.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:p}=s.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${n}`),p.displayName||(p.displayName=p.name)}switch(s.webauthn.type){case"create":{const p=ID(s.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:h}=await RD({publicKey:p,signal:l});return f?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const p=OD(s.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:h}=await AD(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:p,signal:l}));return f?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(s){return Rt(s)?{data:null,error:s}:{data:null,error:new bc("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!r)return{data:null,error:new qf("rpId is required for WebAuthn authentication")};try{if(!LE())return{data:null,error:new bc("Browser does not support WebAuthn",null)};const{data:s,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:o},{request:i});if(!s)return{data:null,error:a};const{webauthn:l}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(s){return Rt(s)?{data:null,error:s}:{data:null,error:new bc("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!r)return{data:null,error:new qf("rpId is required for WebAuthn registration")};try{if(!LE())return{data:null,error:new bc("Browser does not support WebAuthn",null)};const{data:s,error:a}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(f=>{var h;return(h=f.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:a};const{data:l,error:p}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:o},{create:i});return l?this._verify({factorId:s.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:p}}catch(s){return Rt(s)?{data:null,error:s}:{data:null,error:new bc("Unexpected error in register",s)}}}}gD();const ND={url:ML,storageKey:IL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:OL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function DE(t,e,r){return await r()}const Nu={};class Gf{get jwks(){var e,r;return(r=(e=Nu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Nu[this.storageKey]=Object.assign(Object.assign({},Nu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Nu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Nu[this.storageKey]=Object.assign(Object.assign({},Nu[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},ND),e);if(this.storageKey=i.storageKey,this.instanceID=(r=Gf.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Gf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Jn()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new fD({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Q5(i.fetch),this.lock=i.lock||DE,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Jn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=mD:this.lock=DE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new PD(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:X5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=NE(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=NE(this.memoryStorage)),Jn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s);try{await this._notifyAllSubscribers(s.data.event,s.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}this.initialize().catch(s=>{this._debug("#initialize()","error",s)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${K5}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Jn()&&(r=GL(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Jn()&&this.detectSessionInUrl&&n!=="none"){const{data:o,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),zL(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:s,redirectType:a}=o;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Rt(r)?this._returnResult({error:r}):this._returnResult({error:new bc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,o;try{const i=await Bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:Xi}),{data:s,error:a}=i;if(a||!s)return this._returnResult({data:{user:null,session:null},error:a});const l=s.session,p=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:p,session:l},error:null})}catch(i){if(Rt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,o;try{let i;if("email"in e){const{email:f,password:h,options:m}=e;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await Iu(this.storage,this.storageKey)),i=await Bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:f,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:v},xform:Xi})}else if("phone"in e){const{phone:f,password:h,options:m}=e;i=await Bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(o=m==null?void 0:m.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Xi})}else throw new Jm("You must provide either an email or phone number and a password");const{data:s,error:a}=i;if(a||!s)return await Yn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=s.session,p=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:p,session:l},error:null})}catch(i){if(await Yn(this.storage,`${this.storageKey}-code-verifier`),Rt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:s,options:a}=e;r=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:OE})}else if("phone"in e){const{phone:i,password:s,options:a}=e;r=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:OE})}else throw new Jm("You must provide either an email or phone number and a password");const{data:n,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!n||!n.session||!n.user){const i=new Mu;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:o})}catch(r){if(Rt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,o,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,o,i,s,a,l,p,f,h,m;let y,v;if("message"in e)y=e.message,v=e.signature;else{const{chain:b,wallet:x,statement:C,options:E}=e;let j;if(Jn())if(typeof x=="object")j=x;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")j=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=x}const T=new URL((r=E==null?void 0:E.url)!==null&&r!==void 0?r:window.location.href),k=await j.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=e_(k[0]);let _=(n=E==null?void 0:E.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!_){const P=await j.request({method:"eth_chainId"});_=yD(P)}const I={domain:T.host,address:A,statement:C,uri:T.href,version:"1",chainId:_,nonce:(o=E==null?void 0:E.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(s=(i=E==null?void 0:E.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(a=E==null?void 0:E.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=E==null?void 0:E.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(p=E==null?void 0:E.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(f=E==null?void 0:E.signInWithEthereum)===null||f===void 0?void 0:f.resources};y=xD(I),v=await j.request({method:"personal_sign",params:[vD(y),A]})}try{const{data:b,error:x}=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:v},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Xi});if(x)throw x;if(!b||!b.session||!b.user){const C=new Mu;return this._returnResult({data:{user:null,session:null},error:C})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:x})}catch(b){if(Rt(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(e){var r,n,o,i,s,a,l,p,f,h,m,y;let v,b;if("message"in e)v=e.message,b=e.signature;else{const{chain:x,wallet:C,statement:E,options:j}=e;let T;if(Jn())if(typeof C=="object")T=C;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))T=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=C}const k=new URL((r=j==null?void 0:j.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in T&&T.signIn){const A=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),E?{statement:E}:null));let _;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")_=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)_=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)v=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),b=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${k.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(o=(n=j==null?void 0:j.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((i=j==null?void 0:j.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((s=j==null?void 0:j.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((a=j==null?void 0:j.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((l=j==null?void 0:j.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((p=j==null?void 0:j.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((h=(f=j==null?void 0:j.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||h===void 0)&&h.length?["Resources",...j.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const A=await T.signMessage(new TextEncoder().encode(v),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=A}}try{const{data:x,error:C}=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Sc(b)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Xi});if(C)throw C;if(!x||!x.session||!x.user){const E=new Mu;return this._returnResult({data:{user:null,session:null},error:E})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:C})}catch(x){if(Rt(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const r=await dc(this.storage,`${this.storageKey}-code-verifier`),[n,o]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new $L;const{data:i,error:s}=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Xi});if(await Yn(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!i||!i.session||!i.user){const a=new Mu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:o??null}),error:s})}catch(i){if(await Yn(this.storage,`${this.storageKey}-code-verifier`),Rt(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:o,access_token:i,nonce:s}=e,a=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:o,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Xi}),{data:l,error:p}=a;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!l||!l.session||!l.user){const f=new Mu;return this._returnResult({data:{user:null,session:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:p})}catch(r){if(Rt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,o,i,s;try{if("email"in e){const{email:a,options:l}=e;let p=null,f=null;this.flowType==="pkce"&&([p,f]=await Iu(this.storage,this.storageKey));const{error:h}=await Bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:p,code_challenge_method:f},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:l}=e,{data:p,error:f}=await Bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(o=l==null?void 0:l.data)!==null&&o!==void 0?o:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:f})}throw new Jm("You must provide either an email or phone number.")}catch(a){if(await Yn(this.storage,`${this.storageKey}-code-verifier`),Rt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let o,i;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:a}=await Bt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:o,xform:Xi});if(a)throw a;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,p=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:p,session:l},error:null})}catch(o){if(Rt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var r,n,o,i,s;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Iu(this.storage,this.storageKey));const p=await Bt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:uD});return!((i=p.data)===null||i===void 0)&&i.url&&Jn()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(a){if(await Yn(this.storage,`${this.storageKey}-code-verifier`),Rt(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Qo;const{error:o}=await Bt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(Rt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:o,options:i}=e,{error:s}=await Bt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in e){const{phone:n,type:o,options:i}=e,{data:s,error:a}=await Bt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:a})}throw new Jm("You must provide either an email or phone number and a type")}catch(r){if(Rt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await dc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Hx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const s=await dc(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=qx()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};e.user=sD(e.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:il}):await this._useSession(async r=>{var n,o,i;const{data:s,error:a}=r;if(a)throw a;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qo}:await Bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0,xform:il})})}catch(r){if(Rt(r))return Ux(r)&&(await this._removeSession(),await Yn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:o,error:i}=n;if(i)throw i;if(!o.session)throw new Qo;const s=o.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Iu(this.storage,this.storageKey));const{data:p,error:f}=await Bt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:s.access_token,xform:il});if(f)throw f;return s.user=p.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await Yn(this.storage,`${this.storageKey}-code-verifier`),Rt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Qo;const r=Date.now()/1e3;let n=r,o=!0,i=null;const{payload:s}=Qm(e.access_token);if(s.exp&&(n=s.exp,o=n<=r),o){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Rt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:a}=r;if(a)throw a;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Qo;const{data:o,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Rt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Jn())throw new Xm("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Xm(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new TE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xm("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new TE("No code detected.");const{data:E,error:j}=await this._exchangeCodeForSession(e.code);if(j)throw j;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:o,access_token:i,refresh_token:s,expires_in:a,expires_at:l,token_type:p}=e;if(!i||!a||!s||!p)throw new Xm("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(a);let m=f+h;l&&(m=parseInt(l));const y=m-f;y*1e3<=Qu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const v=m-h;f-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,m,f):f-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,m,f);const{data:b,error:x}=await this._getUser(i);if(x)throw x;const C={provider_token:n,provider_refresh_token:o,access_token:i,expires_in:h,expires_at:m,refresh_token:s,token_type:p,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:e.type},error:null})}catch(n){if(Rt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await dc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:o,error:i}=r;if(i&&!Ux(i))return this._returnResult({error:i});const s=(n=o.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:a}=await this.admin.signOut(s,e);if(a&&!(DL(a)&&(a.status===404||a.status===401||a.status===403)||Ux(a)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await Yn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=qL(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,o;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,o=null;this.flowType==="pkce"&&([n,o]=await Iu(this.storage,this.storageKey,!0));try{return await Bt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Yn(this.storage,`${this.storageKey}-code-verifier`),Rt(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Rt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:o}=await this._useSession(async i=>{var s,a,l,p,f;const{data:h,error:m}=i;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Bt(this.fetch,"GET",y,{headers:this.headers,jwt:(f=(p=h.session)===null||p===void 0?void 0:p.access_token)!==null&&f!==void 0?f:void 0})});if(o)throw o;return Jn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Rt(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:o,data:{session:i}}=r;if(o)throw o;const{options:s,provider:a,token:l,access_token:p,nonce:f}=e,h=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:p,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Xi}),{data:m,error:y}=h;return y?this._returnResult({data:{user:null,session:null},error:y}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new Mu}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:y}))}catch(o){if(await Yn(this.storage,`${this.storageKey}-code-verifier`),Rt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,o;const{data:i,error:s}=r;if(s)throw s;return await Bt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(Rt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await JL(async o=>(o>0&&await YL(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await Bt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Xi})),(o,i)=>{const s=200*Math.pow(2,o);return i&&Vx(i)&&Date.now()+s-n<Qu})}catch(n){if(this._debug(r,"error",n),Rt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Jn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const o=await dc(this.storage,this.storageKey);if(o&&this.userStorage){let s=await dc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:o.user},await Zu(this.userStorage,this.storageKey+"-user",s)),o.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:qx()}else if(o&&!o.user&&!o.user){const s=await dc(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(o.user=s.user,await Yn(this.storage,this.storageKey+"-user"),await Zu(this.storage,this.storageKey,o)):o.user=qx()}if(this._debug(n,"session from storage",o),!this._isValidSession(o)){this._debug(n,"session is not valid"),o!==null&&await this._removeSession();return}const i=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Hx;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Hx}s`),i){if(this.autoRefreshToken&&o.refresh_token){const{error:s}=await this._callRefreshToken(o.refresh_token);s&&(console.error(s),Vx(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:a}=await this._getUser(o.access_token);!a&&(s!=null&&s.user)?(o.user=s.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(n,"error",o),console.error(o);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Qo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new u0;const{data:i,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!i.session)throw new Qo;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(o,"error",i),Rt(i)){const s={data:null,error:i};return Vx(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,n=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(s),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Yn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Zu(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const i=ME(o);await Zu(this.storage,this.storageKey,i)}else{const o=ME(r);await Zu(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Yn(this.storage,this.storageKey),await Yn(this.storage,this.storageKey+"-code-verifier"),await Yn(this.storage,this.storageKey+"-user"),this.userStorage&&await Yn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Jn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Qu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((n.expires_at*1e3-e)/Qu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Qu}ms, refresh threshold is ${y1} ticks`),o<=y1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Z5)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Jn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const o=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&o.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&o.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Iu(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});o.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);o.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&o.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:o,error:i}=r;return i?this._returnResult({data:null,error:i}):await Bt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Rt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,o;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:p}=await Bt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&l.type==="totp"&&(!((o=l==null?void 0:l.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(Rt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?TD(e.webauthn.credential_response):jD(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await Bt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(Rt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=await Bt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:a}=s;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:kD(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:ED(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Rt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const o={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])o.all.push(i),i.status==="verified"&&o[i.factor_type].push(i);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,o,i;if(e)try{const{payload:y}=Qm(e);let v=null;y.aal&&(v=y.aal);let b=v;const{data:{user:x},error:C}=await this.getUser(e);if(C)return this._returnResult({data:null,error:C});((n=(r=x==null?void 0:x.factors)===null||r===void 0?void 0:r.filter(T=>T.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(b="aal2");const j=y.amr||[];return{data:{currentLevel:v,nextLevel:b,currentAuthenticationMethods:j},error:null}}catch(y){if(Rt(y))return this._returnResult({data:null,error:y});throw y}const{data:{session:s},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Qm(s.access_token);let p=null;l.aal&&(p=l.aal);let f=p;((i=(o=s.user.factors)===null||o===void 0?void 0:o.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(f="aal2");const m=l.amr||[];return{data:{currentLevel:p,nextLevel:f,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;return o?this._returnResult({data:null,error:o}):n?await Bt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Qo})})}catch(r){if(Rt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:o},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!o)return this._returnResult({data:null,error:new Qo});const s=await Bt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return s.data&&s.data.redirect_url&&Jn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(Rt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:o},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!o)return this._returnResult({data:null,error:new Qo});const s=await Bt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return s.data&&s.data.redirect_url&&Jn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(Rt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Bt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Qo})})}catch(e){if(Rt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;return o?this._returnResult({data:null,error:o}):n?(await Bt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Qo})})}catch(r){if(Rt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const o=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+NL>o)return n;const{data:i,error:s}=await Bt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=o,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:y,error:v}=await this.getSession();if(v||!y.session)return this._returnResult({data:null,error:v});n=y.session.access_token}const{header:o,payload:i,signature:s,raw:{header:a,payload:l}}=Qm(n);r!=null&&r.allowExpired||nD(i.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!p){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:o,signature:s},error:null}}const f=oD(o.alg),h=await crypto.subtle.importKey("jwk",p,f,!0,["verify"]);if(!await crypto.subtle.verify(f,h,s,UL(`${a}.${l}`)))throw new b1("Invalid JWT signature");return{data:{claims:i,header:o,signature:s},error:null}}catch(n){if(Rt(n))return this._returnResult({data:null,error:n});throw n}}}Gf.nextInstanceID={};const LD=Gf,DD="2.93.2";let af="";typeof Deno<"u"?af="deno":typeof document<"u"?af="web":typeof navigator<"u"&&navigator.product==="ReactNative"?af="react-native":af="node";const zD={"X-Client-Info":`supabase-js-${af}/${DD}`},$D={headers:zD},FD={schema:"public"},BD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},WD={};function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function HD(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UD(t){var e=HD(t,"string");return Kf(e)=="symbol"?e:e+""}function VD(t,e,r){return(e=UD(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function dn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zE(Object(r),!0).forEach(function(n){VD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const qD=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),GD=()=>Headers,KD=(t,e,r)=>{const n=qD(r),o=GD();return async(i,s)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let p=new o(s==null?void 0:s.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${l}`),n(i,dn(dn({},s),{},{headers:p}))}};function YD(t){return t.endsWith("/")?t:t+"/"}function JD(t,e){var r,n;const{db:o,auth:i,realtime:s,global:a}=t,{db:l,auth:p,realtime:f,global:h}=e,m={db:dn(dn({},l),o),auth:dn(dn({},p),i),realtime:dn(dn({},f),s),storage:{},global:dn(dn(dn({},h),a),{},{headers:dn(dn({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function XD(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(YD(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var QD=class extends LD{constructor(t){super(t)}},ZD=class{constructor(t,e,r){var n,o;this.supabaseUrl=t,this.supabaseKey=e;const i=XD(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const s=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:FD,realtime:WD,auth:dn(dn({},BD),{},{storageKey:s}),global:$D},l=JD(r??{},a);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(o=l.global.headers)!==null&&o!==void 0?o:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=l.auth)!==null&&p!==void 0?p:{},this.headers,l.global.fetch)}this.fetch=KD(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(dn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new L4(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new _L(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new M4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:o,storageKey:i,flowType:s,lock:a,debug:l,throwOnError:p},f,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new QD({url:this.authUrl.href,headers:dn(dn({},m),f),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:o,flowType:s,lock:a,debug:l,throwOnError:p,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Z4(this.realtimeUrl.href,dn(dn({},t),{},{params:dn(dn({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const ez=(t,e,r)=>new ZD(t,e,r);function tz(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}tz()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const rz="https://ydcbptnxlslljccwedwi.supabase.co",nz="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlkY2JwdG54bHNsbGpjY3dlZHdpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg1MTQ1ODAsImV4cCI6MjA4NDA5MDU4MH0.ud5p8OwRh_7qvbQH5w12Mm-uUi_atDBBn6hgN3shpKo",Ee=ez(rz,nz);let Kx=null;const Qw=()=>(Kx||(Kx=new(window.AudioContext||window.webkitAudioContext)),Kx),oz=()=>{try{const t=Qw(),e=t.currentTime;for(let r=0;r<3;r++){const n=t.createOscillator(),o=t.createGain();n.connect(o),o.connect(t.destination),n.frequency.setValueAtTime(800+r*200,e+r*.08),n.frequency.exponentialRampToValueAtTime(2e3+r*300,e+r*.08+.05),n.type="sine",o.gain.setValueAtTime(.15,e+r*.08),o.gain.exponentialRampToValueAtTime(.01,e+r*.08+.15),n.start(e+r*.08),n.stop(e+r*.08+.2)}}catch{console.log("Audio not supported")}},iz=()=>{try{const t=Qw(),e=t.currentTime,r=t.sampleRate*.3,n=t.createBuffer(1,r,t.sampleRate),o=n.getChannelData(0);for(let f=0;f<r;f++)o[f]=(Math.random()*2-1)*Math.pow(1-f/r,2);const i=t.createBufferSource();i.buffer=n;const s=t.createBiquadFilter();s.type="bandpass",s.frequency.setValueAtTime(3e3,e),s.frequency.exponentialRampToValueAtTime(8e3,e+.15),s.Q.value=5;const a=t.createGain();a.gain.setValueAtTime(.2,e),a.gain.exponentialRampToValueAtTime(.01,e+.3),i.connect(s),s.connect(a),a.connect(t.destination),i.start(e),i.stop(e+.3);const l=t.createOscillator(),p=t.createGain();l.connect(p),p.connect(t.destination),l.frequency.setValueAtTime(1200,e),l.type="triangle",p.gain.setValueAtTime(.08,e),p.gain.exponentialRampToValueAtTime(.001,e+.4),l.start(e),l.stop(e+.4)}catch{console.log("Audio not supported")}},sz=()=>{try{const t=Qw(),e=t.currentTime;[523.25,659.25,783.99].forEach((n,o)=>{const i=t.createOscillator(),s=t.createGain();i.connect(s),s.connect(t.destination),i.frequency.value=n,i.type="sine",s.gain.setValueAtTime(0,e+o*.1),s.gain.linearRampToValueAtTime(.15,e+o*.1+.05),s.gain.exponentialRampToValueAtTime(.01,e+o*.1+.3),i.start(e+o*.1),i.stop(e+o*.1+.35)})}catch{console.log("Audio not supported")}},r_=S.createContext(void 0),az=({children:t})=>{const[e,r]=S.useState([]),[n,o]=S.useState(!0),[i,s]=S.useState(0),[a,l]=S.useState(null);S.useEffect(()=>{const T=async()=>{var A;try{o(!0);const{data:{user:_}}=await Ee.auth.getUser();if(_){const{data:I,error:P}=await Ee.from("cart_items").select("*").eq("user_id",_.id).order("created_at",{ascending:!1});if(P){if(P.code==="404"||(A=P.message)!=null&&A.includes("404")){r([]);return}throw P}const N=I.map(B=>({id:B.product_id,name:B.product_name,category:B.product_category,scale:B.product_scale,price:B.price,quantity:B.quantity,image:B.image}));r(N)}else r([])}catch(_){console.error("Error loading cart:",_),r([])}finally{o(!1)}};T();const{data:{subscription:k}}=Ee.auth.onAuthStateChange(()=>{T()});return()=>k.unsubscribe()},[]);const p=async(T,k)=>{var A;try{if(await Ee.from("cart_items").delete().eq("user_id",T),k.length>0){const _=k.map(I=>({user_id:T,product_id:I.id,product_name:I.name,product_category:I.category,price:I.price,quantity:I.quantity,image:I.image}));await Ee.from("cart_items").insert(_)}}catch(_){if((_==null?void 0:_.code)==="404"||(A=_==null?void 0:_.message)!=null&&A.includes("404"))return;console.error("Error saving cart to database:",_)}},f=async T=>{v(),r(k=>{const A=k.find(I=>I.id===T.id);let _;return A?_=k.map(I=>I.id===T.id?{...I,quantity:I.quantity+1}:I):_=[...k,{...T,quantity:1}],(async()=>{const{data:{user:I}}=await Ee.auth.getUser();I&&await p(I.id,_)})(),_})},h=async T=>{b(),r(k=>{const A=k.filter(_=>_.id!==T);return(async()=>{const{data:{user:_}}=await Ee.auth.getUser();_&&await p(_.id,A)})(),A})},m=async(T,k)=>{k>0?v():b(),r(A=>{const _=A.map(I=>{if(I.id===T){const P=I.quantity+k;return P>0?{...I,quantity:P}:I}return I}).filter(I=>I.quantity>0);return(async()=>{const{data:{user:I}}=await Ee.auth.getUser();I&&await p(I.id,_)})(),_})},y=async()=>{var T;r([]);try{const{data:{user:k}}=await Ee.auth.getUser();k&&await Ee.from("cart_items").delete().eq("user_id",k.id)}catch(k){(k==null?void 0:k.code)!=="404"&&!((T=k==null?void 0:k.message)!=null&&T.includes("404"))&&console.error("Error clearing cart:",k)}},v=()=>{oz()},b=()=>{iz()},x=(T,k)=>{l(T),s(k)},C=()=>{l(null),s(0)},E=e.reduce((T,k)=>T+k.quantity,0),j=e.reduce((T,k)=>T+k.price*k.quantity,0);return u.jsx(r_.Provider,{value:{items:e,addToCart:f,removeFromCart:h,updateQuantity:m,totalItems:E,totalPrice:j,clearCart:y,playAddSound:v,playRemoveSound:b,loading:n,discount:i,couponCode:a,applyCoupon:x,removeCoupon:C},children:t})},Jd=()=>{const t=S.useContext(r_);if(!t)throw new Error("useCart must be used within CartProvider");return t};var be=(t=>(t.HOME="HOME",t.CATALOG="CATALOG",t.CART="CART",t.CHECKOUT="CHECKOUT",t.PRODUCT_DETAIL="PRODUCT_DETAIL",t.LOGIN="LOGIN",t.SIGNUP="SIGNUP",t.WISHLIST="WISHLIST",t.ADMIN="ADMIN",t.ORDERS="ORDERS",t.FEEDBACK="FEEDBACK",t.HOW_TO_BUY="HOW_TO_BUY",t.NEW_ADVENTURER="NEW_ADVENTURER",t.FORUM_HOME="FORUM_HOME",t.FORUM_CATEGORY="FORUM_CATEGORY",t.FORUM_CREATE_THREAD="FORUM_CREATE_THREAD",t.FORUM_THREAD="FORUM_THREAD",t.FORUM_LFG="FORUM_LFG",t.PROFILE="PROFILE",t.EDITOR_TEST="EDITOR_TEST",t))(be||{});const Yf={black:"#000",white:"#fff"},Lu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Du={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},zu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},$u={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Fu={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Wp={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},lz={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function ga(t,...e){const r=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(n=>r.searchParams.append("args[]",n)),`Minified MUI error #${t}; visit ${r} for the full message.`}const ss="$$material";function Jg(){return Jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jg.apply(null,arguments)}function cz(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function uz(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var dz=(function(){function t(r){var n=this;this._insertTag=function(o){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(o,i),n.tags.push(o)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(uz(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var i=cz(o);try{i.insertRule(n,i.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var o;return(o=n.parentNode)==null?void 0:o.removeChild(n)}),this.tags=[],this.ctr=0},t})(),uo="-ms-",Xg="-moz-",mr="-webkit-",n_="comm",Zw="rule",eS="decl",pz="@import",o_="@keyframes",fz="@layer",hz=Math.abs,d0=String.fromCharCode,mz=Object.assign;function gz(t,e){return Qn(t,0)^45?(((e<<2^Qn(t,0))<<2^Qn(t,1))<<2^Qn(t,2))<<2^Qn(t,3):0}function i_(t){return t.trim()}function yz(t,e){return(t=e.exec(t))?t[0]:t}function gr(t,e,r){return t.replace(e,r)}function w1(t,e){return t.indexOf(e)}function Qn(t,e){return t.charCodeAt(e)|0}function Jf(t,e,r){return t.slice(e,r)}function js(t){return t.length}function tS(t){return t.length}function Zm(t,e){return e.push(t),t}function vz(t,e){return t.map(e).join("")}var p0=1,_d=1,s_=0,Ho=0,bn=0,Xd="";function f0(t,e,r,n,o,i,s){return{value:t,root:e,parent:r,type:n,props:o,children:i,line:p0,column:_d,length:s,return:""}}function Hp(t,e){return mz(f0("",null,null,"",null,null,0),t,{length:-t.length},e)}function xz(){return bn}function bz(){return bn=Ho>0?Qn(Xd,--Ho):0,_d--,bn===10&&(_d=1,p0--),bn}function ni(){return bn=Ho<s_?Qn(Xd,Ho++):0,_d++,bn===10&&(_d=1,p0++),bn}function _s(){return Qn(Xd,Ho)}function Ig(){return Ho}function Rh(t,e){return Jf(Xd,t,e)}function Xf(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function a_(t){return p0=_d=1,s_=js(Xd=t),Ho=0,[]}function l_(t){return Xd="",t}function Og(t){return i_(Rh(Ho-1,S1(t===91?t+2:t===40?t+1:t)))}function wz(t){for(;(bn=_s())&&bn<33;)ni();return Xf(t)>2||Xf(bn)>3?"":" "}function Sz(t,e){for(;--e&&ni()&&!(bn<48||bn>102||bn>57&&bn<65||bn>70&&bn<97););return Rh(t,Ig()+(e<6&&_s()==32&&ni()==32))}function S1(t){for(;ni();)switch(bn){case t:return Ho;case 34:case 39:t!==34&&t!==39&&S1(bn);break;case 40:t===41&&S1(t);break;case 92:ni();break}return Ho}function Cz(t,e){for(;ni()&&t+bn!==57;)if(t+bn===84&&_s()===47)break;return"/*"+Rh(e,Ho-1)+"*"+d0(t===47?t:ni())}function kz(t){for(;!Xf(_s());)ni();return Rh(t,Ho)}function Ez(t){return l_(Pg("",null,null,null,[""],t=a_(t),0,[0],t))}function Pg(t,e,r,n,o,i,s,a,l){for(var p=0,f=0,h=s,m=0,y=0,v=0,b=1,x=1,C=1,E=0,j="",T=o,k=i,A=n,_=j;x;)switch(v=E,E=ni()){case 40:if(v!=108&&Qn(_,h-1)==58){w1(_+=gr(Og(E),"&","&\f"),"&\f")!=-1&&(C=-1);break}case 34:case 39:case 91:_+=Og(E);break;case 9:case 10:case 13:case 32:_+=wz(v);break;case 92:_+=Sz(Ig()-1,7);continue;case 47:switch(_s()){case 42:case 47:Zm(Tz(Cz(ni(),Ig()),e,r),l);break;default:_+="/"}break;case 123*b:a[p++]=js(_)*C;case 125*b:case 59:case 0:switch(E){case 0:case 125:x=0;case 59+f:C==-1&&(_=gr(_,/\f/g,"")),y>0&&js(_)-h&&Zm(y>32?FE(_+";",n,r,h-1):FE(gr(_," ","")+";",n,r,h-2),l);break;case 59:_+=";";default:if(Zm(A=$E(_,e,r,p,f,o,a,j,T=[],k=[],h),i),E===123)if(f===0)Pg(_,e,A,A,T,i,h,a,k);else switch(m===99&&Qn(_,3)===110?100:m){case 100:case 108:case 109:case 115:Pg(t,A,A,n&&Zm($E(t,A,A,0,0,o,a,j,o,T=[],h),k),o,k,h,a,n?T:k);break;default:Pg(_,A,A,A,[""],k,0,a,k)}}p=f=y=0,b=C=1,j=_="",h=s;break;case 58:h=1+js(_),y=v;default:if(b<1){if(E==123)--b;else if(E==125&&b++==0&&bz()==125)continue}switch(_+=d0(E),E*b){case 38:C=f>0?1:(_+="\f",-1);break;case 44:a[p++]=(js(_)-1)*C,C=1;break;case 64:_s()===45&&(_+=Og(ni())),m=_s(),f=h=js(j=_+=kz(Ig())),E++;break;case 45:v===45&&js(_)==2&&(b=0)}}return i}function $E(t,e,r,n,o,i,s,a,l,p,f){for(var h=o-1,m=o===0?i:[""],y=tS(m),v=0,b=0,x=0;v<n;++v)for(var C=0,E=Jf(t,h+1,h=hz(b=s[v])),j=t;C<y;++C)(j=i_(b>0?m[C]+" "+E:gr(E,/&\f/g,m[C])))&&(l[x++]=j);return f0(t,e,r,o===0?Zw:a,l,p,f)}function Tz(t,e,r){return f0(t,e,r,n_,d0(xz()),Jf(t,2,-2),0)}function FE(t,e,r,n){return f0(t,e,r,eS,Jf(t,0,n),Jf(t,n+1,-1),n)}function dd(t,e){for(var r="",n=tS(t),o=0;o<n;o++)r+=e(t[o],o,t,e)||"";return r}function jz(t,e,r,n){switch(t.type){case fz:if(t.children.length)break;case pz:case eS:return t.return=t.return||t.value;case n_:return"";case o_:return t.return=t.value+"{"+dd(t.children,n)+"}";case Zw:t.value=t.props.join(",")}return js(r=dd(t.children,n))?t.return=t.value+"{"+r+"}":""}function Rz(t){var e=tS(t);return function(r,n,o,i){for(var s="",a=0;a<e;a++)s+=t[a](r,n,o,i)||"";return s}}function Az(t){return function(e){e.root||(e=e.return)&&t(e)}}function c_(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var _z=function(e,r,n){for(var o=0,i=0;o=i,i=_s(),o===38&&i===12&&(r[n]=1),!Xf(i);)ni();return Rh(e,Ho)},Mz=function(e,r){var n=-1,o=44;do switch(Xf(o)){case 0:o===38&&_s()===12&&(r[n]=1),e[n]+=_z(Ho-1,r,n);break;case 2:e[n]+=Og(o);break;case 4:if(o===44){e[++n]=_s()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=d0(o)}while(o=ni());return e},Iz=function(e,r){return l_(Mz(a_(e),r))},BE=new WeakMap,Oz=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,o=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!BE.get(n))&&!o){BE.set(e,!0);for(var i=[],s=Iz(r,i),a=n.props,l=0,p=0;l<s.length;l++)for(var f=0;f<a.length;f++,p++)e.props[p]=i[l]?s[l].replace(/&\f/g,a[f]):a[f]+" "+s[l]}}},Pz=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function u_(t,e){switch(gz(t,e)){case 5103:return mr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return mr+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return mr+t+Xg+t+uo+t+t;case 6828:case 4268:return mr+t+uo+t+t;case 6165:return mr+t+uo+"flex-"+t+t;case 5187:return mr+t+gr(t,/(\w+).+(:[^]+)/,mr+"box-$1$2"+uo+"flex-$1$2")+t;case 5443:return mr+t+uo+"flex-item-"+gr(t,/flex-|-self/,"")+t;case 4675:return mr+t+uo+"flex-line-pack"+gr(t,/align-content|flex-|-self/,"")+t;case 5548:return mr+t+uo+gr(t,"shrink","negative")+t;case 5292:return mr+t+uo+gr(t,"basis","preferred-size")+t;case 6060:return mr+"box-"+gr(t,"-grow","")+mr+t+uo+gr(t,"grow","positive")+t;case 4554:return mr+gr(t,/([^-])(transform)/g,"$1"+mr+"$2")+t;case 6187:return gr(gr(gr(t,/(zoom-|grab)/,mr+"$1"),/(image-set)/,mr+"$1"),t,"")+t;case 5495:case 3959:return gr(t,/(image-set\([^]*)/,mr+"$1$`$1");case 4968:return gr(gr(t,/(.+:)(flex-)?(.*)/,mr+"box-pack:$3"+uo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+mr+t+t;case 4095:case 3583:case 4068:case 2532:return gr(t,/(.+)-inline(.+)/,mr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(js(t)-1-e>6)switch(Qn(t,e+1)){case 109:if(Qn(t,e+4)!==45)break;case 102:return gr(t,/(.+:)(.+)-([^]+)/,"$1"+mr+"$2-$3$1"+Xg+(Qn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~w1(t,"stretch")?u_(gr(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Qn(t,e+1)!==115)break;case 6444:switch(Qn(t,js(t)-3-(~w1(t,"!important")&&10))){case 107:return gr(t,":",":"+mr)+t;case 101:return gr(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+mr+(Qn(t,14)===45?"inline-":"")+"box$3$1"+mr+"$2$3$1"+uo+"$2box$3")+t}break;case 5936:switch(Qn(t,e+11)){case 114:return mr+t+uo+gr(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return mr+t+uo+gr(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return mr+t+uo+gr(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return mr+t+uo+t+t}return t}var Nz=function(e,r,n,o){if(e.length>-1&&!e.return)switch(e.type){case eS:e.return=u_(e.value,e.length);break;case o_:return dd([Hp(e,{value:gr(e.value,"@","@"+mr)})],o);case Zw:if(e.length)return vz(e.props,function(i){switch(yz(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return dd([Hp(e,{props:[gr(i,/:(read-\w+)/,":"+Xg+"$1")]})],o);case"::placeholder":return dd([Hp(e,{props:[gr(i,/:(plac\w+)/,":"+mr+"input-$1")]}),Hp(e,{props:[gr(i,/:(plac\w+)/,":"+Xg+"$1")]}),Hp(e,{props:[gr(i,/:(plac\w+)/,uo+"input-$1")]})],o)}return""})}},Lz=[Nz],Dz=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(b){var x=b.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var o=e.stylisPlugins||Lz,i={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(b){for(var x=b.getAttribute("data-emotion").split(" "),C=1;C<x.length;C++)i[x[C]]=!0;a.push(b)});var l,p=[Oz,Pz];{var f,h=[jz,Az(function(b){f.insert(b)})],m=Rz(p.concat(o,h)),y=function(x){return dd(Ez(x),m)};l=function(x,C,E,j){f=E,y(x?x+"{"+C.styles+"}":C.styles),j&&(v.inserted[C.name]=!0)}}var v={key:r,sheet:new dz({key:r,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return v.sheet.hydrate(a),v},Yx={exports:{}},wr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function zz(){if(WE)return wr;WE=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,o=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,p=t?Symbol.for("react.concurrent_mode"):60111,f=t?Symbol.for("react.forward_ref"):60112,h=t?Symbol.for("react.suspense"):60113,m=t?Symbol.for("react.suspense_list"):60120,y=t?Symbol.for("react.memo"):60115,v=t?Symbol.for("react.lazy"):60116,b=t?Symbol.for("react.block"):60121,x=t?Symbol.for("react.fundamental"):60117,C=t?Symbol.for("react.responder"):60118,E=t?Symbol.for("react.scope"):60119;function j(k){if(typeof k=="object"&&k!==null){var A=k.$$typeof;switch(A){case e:switch(k=k.type,k){case l:case p:case n:case i:case o:case h:return k;default:switch(k=k&&k.$$typeof,k){case a:case f:case v:case y:case s:return k;default:return A}}case r:return A}}}function T(k){return j(k)===p}return wr.AsyncMode=l,wr.ConcurrentMode=p,wr.ContextConsumer=a,wr.ContextProvider=s,wr.Element=e,wr.ForwardRef=f,wr.Fragment=n,wr.Lazy=v,wr.Memo=y,wr.Portal=r,wr.Profiler=i,wr.StrictMode=o,wr.Suspense=h,wr.isAsyncMode=function(k){return T(k)||j(k)===l},wr.isConcurrentMode=T,wr.isContextConsumer=function(k){return j(k)===a},wr.isContextProvider=function(k){return j(k)===s},wr.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},wr.isForwardRef=function(k){return j(k)===f},wr.isFragment=function(k){return j(k)===n},wr.isLazy=function(k){return j(k)===v},wr.isMemo=function(k){return j(k)===y},wr.isPortal=function(k){return j(k)===r},wr.isProfiler=function(k){return j(k)===i},wr.isStrictMode=function(k){return j(k)===o},wr.isSuspense=function(k){return j(k)===h},wr.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===n||k===p||k===i||k===o||k===h||k===m||typeof k=="object"&&k!==null&&(k.$$typeof===v||k.$$typeof===y||k.$$typeof===s||k.$$typeof===a||k.$$typeof===f||k.$$typeof===x||k.$$typeof===C||k.$$typeof===E||k.$$typeof===b)},wr.typeOf=j,wr}var HE;function $z(){return HE||(HE=1,Yx.exports=zz()),Yx.exports}var Jx,UE;function Fz(){if(UE)return Jx;UE=1;var t=$z(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[t.ForwardRef]=n,i[t.Memo]=o;function s(v){return t.isMemo(v)?o:i[v.$$typeof]||e}var a=Object.defineProperty,l=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,m=Object.prototype;function y(v,b,x){if(typeof b!="string"){if(m){var C=h(b);C&&C!==m&&y(v,C,x)}var E=l(b);p&&(E=E.concat(p(b)));for(var j=s(v),T=s(b),k=0;k<E.length;++k){var A=E[k];if(!r[A]&&!(x&&x[A])&&!(T&&T[A])&&!(j&&j[A])){var _=f(b,A);try{a(v,A,_)}catch{}}}}return v}return Jx=y,Jx}Fz();var Bz=!0;function d_(t,e,r){var n="";return r.split(" ").forEach(function(o){t[o]!==void 0?e.push(t[o]+";"):o&&(n+=o+" ")}),n}var rS=function(e,r,n){var o=e.key+"-"+r.name;(n===!1||Bz===!1)&&e.registered[o]===void 0&&(e.registered[o]=r.styles)},nS=function(e,r,n){rS(e,r,n);var o=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var i=r;do e.insert(r===i?"."+o:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function Wz(t){for(var e=0,r,n=0,o=t.length;o>=4;++n,o-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(o){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Hz={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Uz=/[A-Z]|^ms/g,Vz=/_EMO_([^_]+?)_([^]*?)_EMO_/g,p_=function(e){return e.charCodeAt(1)===45},VE=function(e){return e!=null&&typeof e!="boolean"},Xx=c_(function(t){return p_(t)?t:t.replace(Uz,"-$&").toLowerCase()}),qE=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(Vz,function(n,o,i){return Rs={name:o,styles:i,next:Rs},o})}return Hz[e]!==1&&!p_(e)&&typeof r=="number"&&r!==0?r+"px":r};function Qf(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var o=r;if(o.anim===1)return Rs={name:o.name,styles:o.styles,next:Rs},o.name;var i=r;if(i.styles!==void 0){var s=i.next;if(s!==void 0)for(;s!==void 0;)Rs={name:s.name,styles:s.styles,next:Rs},s=s.next;var a=i.styles+";";return a}return qz(t,e,r)}case"function":{if(t!==void 0){var l=Rs,p=r(t);return Rs=l,Qf(t,e,p)}break}}var f=r;if(e==null)return f;var h=e[f];return h!==void 0?h:f}function qz(t,e,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=Qf(t,e,r[o])+";";else for(var i in r){var s=r[i];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?n+=i+"{"+e[a]+"}":VE(a)&&(n+=Xx(i)+":"+qE(i,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)VE(s[l])&&(n+=Xx(i)+":"+qE(i,s[l])+";");else{var p=Qf(t,e,s);switch(i){case"animation":case"animationName":{n+=Xx(i)+":"+p+";";break}default:n+=i+"{"+p+"}"}}}return n}var GE=/label:\s*([^\s;{]+)\s*(;|$)/g,Rs;function Ah(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,o="";Rs=void 0;var i=t[0];if(i==null||i.raw===void 0)n=!1,o+=Qf(r,e,i);else{var s=i;o+=s[0]}for(var a=1;a<t.length;a++)if(o+=Qf(r,e,t[a]),n){var l=i;o+=l[a]}GE.lastIndex=0;for(var p="",f;(f=GE.exec(o))!==null;)p+="-"+f[1];var h=Wz(o)+p;return{name:h,styles:o,next:Rs}}var Gz=function(e){return e()},f_=qg.useInsertionEffect?qg.useInsertionEffect:!1,h_=f_||Gz,KE=f_||S.useLayoutEffect,m_=S.createContext(typeof HTMLElement<"u"?Dz({key:"css"}):null);m_.Provider;var oS=function(e){return S.forwardRef(function(r,n){var o=S.useContext(m_);return e(r,o,n)})},_h=S.createContext({}),iS={}.hasOwnProperty,C1="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Kz=function(e,r){var n={};for(var o in r)iS.call(r,o)&&(n[o]=r[o]);return n[C1]=e,n},Yz=function(e){var r=e.cache,n=e.serialized,o=e.isStringTag;return rS(r,n,o),h_(function(){return nS(r,n,o)}),null},Jz=oS(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var o=t[C1],i=[n],s="";typeof t.className=="string"?s=d_(e.registered,i,t.className):t.className!=null&&(s=t.className+" ");var a=Ah(i,void 0,S.useContext(_h));s+=e.key+"-"+a.name;var l={};for(var p in t)iS.call(t,p)&&p!=="css"&&p!==C1&&(l[p]=t[p]);return l.className=s,r&&(l.ref=r),S.createElement(S.Fragment,null,S.createElement(Yz,{cache:e,serialized:a,isStringTag:typeof o=="string"}),S.createElement(o,l))}),Xz=Jz,YE=function(e,r){var n=arguments;if(r==null||!iS.call(r,"css"))return S.createElement.apply(void 0,n);var o=n.length,i=new Array(o);i[0]=Xz,i[1]=Kz(e,r);for(var s=2;s<o;s++)i[s]=n[s];return S.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(YE||(YE={}));var Qz=oS(function(t,e){var r=t.styles,n=Ah([r],void 0,S.useContext(_h)),o=S.useRef();return KE(function(){var i=e.key+"-global",s=new e.sheet.constructor({key:i,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+i+" "+n.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",i),s.hydrate([l])),o.current=[s,a],function(){s.flush()}},[e]),KE(function(){var i=o.current,s=i[0],a=i[1];if(a){i[1]=!1;return}if(n.next!==void 0&&nS(e,n.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",n,s,!1)},[e,n.name]),null});function Dl(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Ah(e)}function Zr(){var t=Dl.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Zz=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,e$=c_(function(t){return Zz.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),t$=e$,r$=function(e){return e!=="theme"},JE=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?t$:r$},XE=function(e,r,n){var o;if(r){var i=r.shouldForwardProp;o=e.__emotion_forwardProp&&i?function(s){return e.__emotion_forwardProp(s)&&i(s)}:i}return typeof o!="function"&&n&&(o=e.__emotion_forwardProp),o},n$=function(e){var r=e.cache,n=e.serialized,o=e.isStringTag;return rS(r,n,o),h_(function(){return nS(r,n,o)}),null},o$=function t(e,r){var n=e.__emotion_real===e,o=n&&e.__emotion_base||e,i,s;r!==void 0&&(i=r.label,s=r.target);var a=XE(e,r,n),l=a||JE(o),p=!l("as");return function(){var f=arguments,h=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&h.push("label:"+i+";"),f[0]==null||f[0].raw===void 0)h.push.apply(h,f);else{var m=f[0];h.push(m[0]);for(var y=f.length,v=1;v<y;v++)h.push(f[v],m[v])}var b=oS(function(x,C,E){var j=p&&x.as||o,T="",k=[],A=x;if(x.theme==null){A={};for(var _ in x)A[_]=x[_];A.theme=S.useContext(_h)}typeof x.className=="string"?T=d_(C.registered,k,x.className):x.className!=null&&(T=x.className+" ");var I=Ah(h.concat(k),C.registered,A);T+=C.key+"-"+I.name,s!==void 0&&(T+=" "+s);var P=p&&a===void 0?JE(j):l,N={};for(var B in x)p&&B==="as"||P(B)&&(N[B]=x[B]);return N.className=T,E&&(N.ref=E),S.createElement(S.Fragment,null,S.createElement(n$,{cache:C,serialized:I,isStringTag:typeof j=="string"}),S.createElement(j,N))});return b.displayName=i!==void 0?i:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",b.defaultProps=e.defaultProps,b.__emotion_real=b,b.__emotion_base=o,b.__emotion_styles=h,b.__emotion_forwardProp=a,Object.defineProperty(b,"toString",{value:function(){return"."+s}}),b.withComponent=function(x,C){var E=t(x,Jg({},r,C,{shouldForwardProp:XE(b,C,!0)}));return E.apply(void 0,h)},b}},i$=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],k1=o$.bind(null);i$.forEach(function(t){k1[t]=k1(t)});function s$(t){return t==null||Object.keys(t).length===0}function g_(t){const{styles:e,defaultTheme:r={}}=t,n=typeof e=="function"?o=>e(s$(o)?r:o):e;return u.jsx(Qz,{styles:n})}function y_(t,e){return k1(t,e)}function a$(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const QE=[];function kl(t){return QE[0]=t,Ah(QE)}var Qx={exports:{}},Ar={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZE;function l$(){if(ZE)return Ar;ZE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function v(b){if(typeof b=="object"&&b!==null){var x=b.$$typeof;switch(x){case t:switch(b=b.type,b){case r:case o:case n:case l:case p:case m:return b;default:switch(b=b&&b.$$typeof,b){case s:case a:case h:case f:return b;case i:return b;default:return x}}case e:return x}}}return Ar.ContextConsumer=i,Ar.ContextProvider=s,Ar.Element=t,Ar.ForwardRef=a,Ar.Fragment=r,Ar.Lazy=h,Ar.Memo=f,Ar.Portal=e,Ar.Profiler=o,Ar.StrictMode=n,Ar.Suspense=l,Ar.SuspenseList=p,Ar.isContextConsumer=function(b){return v(b)===i},Ar.isContextProvider=function(b){return v(b)===s},Ar.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},Ar.isForwardRef=function(b){return v(b)===a},Ar.isFragment=function(b){return v(b)===r},Ar.isLazy=function(b){return v(b)===h},Ar.isMemo=function(b){return v(b)===f},Ar.isPortal=function(b){return v(b)===e},Ar.isProfiler=function(b){return v(b)===o},Ar.isStrictMode=function(b){return v(b)===n},Ar.isSuspense=function(b){return v(b)===l},Ar.isSuspenseList=function(b){return v(b)===p},Ar.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===o||b===n||b===l||b===p||typeof b=="object"&&b!==null&&(b.$$typeof===h||b.$$typeof===f||b.$$typeof===s||b.$$typeof===i||b.$$typeof===a||b.$$typeof===y||b.getModuleId!==void 0)},Ar.typeOf=v,Ar}var eT;function c$(){return eT||(eT=1,Qx.exports=l$()),Qx.exports}var v_=c$();function As(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function x_(t){if(S.isValidElement(t)||v_.isValidElementType(t)||!As(t))return t;const e={};return Object.keys(t).forEach(r=>{e[r]=x_(t[r])}),e}function Un(t,e,r={clone:!0}){const n=r.clone?{...t}:t;return As(t)&&As(e)&&Object.keys(e).forEach(o=>{S.isValidElement(e[o])||v_.isValidElementType(e[o])?n[o]=e[o]:As(e[o])&&Object.prototype.hasOwnProperty.call(t,o)&&As(t[o])?n[o]=Un(t[o],e[o],r):r.clone?n[o]=As(e[o])?x_(e[o]):e[o]:n[o]=e[o]}),n}const u$=t=>{const e=Object.keys(t).map(r=>({key:r,val:t[r]}))||[];return e.sort((r,n)=>r.val-n.val),e.reduce((r,n)=>({...r,[n.key]:n.val}),{})};function d$(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5,...o}=t,i=u$(e),s=Object.keys(i);function a(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${r})`}function l(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-n/100}${r})`}function p(m,y){const v=s.indexOf(y);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${r}) and (max-width:${(v!==-1&&typeof e[s[v]]=="number"?e[s[v]]:y)-n/100}${r})`}function f(m){return s.indexOf(m)+1<s.length?p(m,s[s.indexOf(m)+1]):a(m)}function h(m){const y=s.indexOf(m);return y===0?a(s[1]):y===s.length-1?l(s[y]):p(m,s[s.indexOf(m)+1]).replace("@media","@media not all and")}return{keys:s,values:i,up:a,down:l,between:p,only:f,not:h,unit:r,...o}}function tT(t,e){if(!t.containerQueries)return e;const r=Object.keys(e).filter(n=>n.startsWith("@container")).sort((n,o)=>{var s,a;const i=/min-width:\s*([0-9.]+)/;return+(((s=n.match(i))==null?void 0:s[1])||0)-+(((a=o.match(i))==null?void 0:a[1])||0)});return r.length?r.reduce((n,o)=>{const i=e[o];return delete n[o],n[o]=i,n},{...e}):e}function p$(t,e){return e==="@"||e.startsWith("@")&&(t.some(r=>e.startsWith(`@${r}`))||!!e.match(/^@\d/))}function f$(t,e){const r=e.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,n,o]=r,i=Number.isNaN(+n)?n||0:+n;return t.containerQueries(o).up(i)}function h$(t){const e=(i,s)=>i.replace("@media",s?`@container ${s}`:"@container");function r(i,s){i.up=(...a)=>e(t.breakpoints.up(...a),s),i.down=(...a)=>e(t.breakpoints.down(...a),s),i.between=(...a)=>e(t.breakpoints.between(...a),s),i.only=(...a)=>e(t.breakpoints.only(...a),s),i.not=(...a)=>{const l=e(t.breakpoints.not(...a),s);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const n={},o=i=>(r(n,i),n);return r(o),{...t,containerQueries:o}}const m$={borderRadius:4};function wf(t,e){return e?Un(t,e,{clone:!1}):t}const h0={xs:0,sm:600,md:900,lg:1200,xl:1536},rT={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${h0[t]}px)`},g$={containerQueries:t=>({up:e=>{let r=typeof e=="number"?e:h0[e]||e;return typeof r=="number"&&(r=`${r}px`),t?`@container ${t} (min-width:${r})`:`@container (min-width:${r})`}})};function ls(t,e,r){const n=t.theme||{};if(Array.isArray(e)){const i=n.breakpoints||rT;return e.reduce((s,a,l)=>(s[i.up(i.keys[l])]=r(e[l]),s),{})}if(typeof e=="object"){const i=n.breakpoints||rT;return Object.keys(e).reduce((s,a)=>{if(p$(i.keys,a)){const l=f$(n.containerQueries?n:g$,a);l&&(s[l]=r(e[a],a))}else if(Object.keys(i.values||h0).includes(a)){const l=i.up(a);s[l]=r(e[a],a)}else{const l=a;s[l]=e[l]}return s},{})}return r(e)}function b_(t={}){var r;return((r=t.keys)==null?void 0:r.reduce((n,o)=>{const i=t.up(o);return n[i]={},n},{}))||{}}function E1(t,e){return t.reduce((r,n)=>{const o=r[n];return(!o||Object.keys(o).length===0)&&delete r[n],r},e)}function y$(t,...e){const r=b_(t),n=[r,...e].reduce((o,i)=>Un(o,i),{});return E1(Object.keys(r),n)}function v$(t,e){if(typeof t!="object")return{};const r={},n=Object.keys(e);return Array.isArray(t)?n.forEach((o,i)=>{i<t.length&&(r[o]=!0)}):n.forEach(o=>{t[o]!=null&&(r[o]=!0)}),r}function Zx({values:t,breakpoints:e,base:r}){const n=r||v$(t,e),o=Object.keys(n);if(o.length===0)return t;let i;return o.reduce((s,a,l)=>(Array.isArray(t)?(s[a]=t[l]!=null?t[l]:t[i],i=l):typeof t=="object"?(s[a]=t[a]!=null?t[a]:t[i],i=a):s[a]=t,s),{})}function ue(t){if(typeof t!="string")throw new Error(ga(7));return t.charAt(0).toUpperCase()+t.slice(1)}function m0(t,e,r=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&r){const n=`vars.${e}`.split(".").reduce((o,i)=>o&&o[i]?o[i]:null,t);if(n!=null)return n}return e.split(".").reduce((n,o)=>n&&n[o]!=null?n[o]:null,t)}function Qg(t,e,r,n=r){let o;return typeof t=="function"?o=t(r):Array.isArray(t)?o=t[r]||n:o=m0(t,r)||n,e&&(o=e(o,n,t)),o}function gn(t){const{prop:e,cssProperty:r=t.prop,themeKey:n,transform:o}=t,i=s=>{if(s[e]==null)return null;const a=s[e],l=s.theme,p=m0(l,n)||{};return ls(s,a,h=>{let m=Qg(p,o,h);return h===m&&typeof h=="string"&&(m=Qg(p,o,`${e}${h==="default"?"":ue(h)}`,h)),r===!1?m:{[r]:m}})};return i.propTypes={},i.filterProps=[e],i}function x$(t){const e={};return r=>(e[r]===void 0&&(e[r]=t(r)),e[r])}const b$={m:"margin",p:"padding"},w$={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},nT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},S$=x$(t=>{if(t.length>2)if(nT[t])t=nT[t];else return[t];const[e,r]=t.split(""),n=b$[e],o=w$[r]||"";return Array.isArray(o)?o.map(i=>n+i):[n+o]}),sS=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],aS=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...sS,...aS];function Mh(t,e,r,n){const o=m0(t,e,!0)??r;return typeof o=="number"||typeof o=="string"?i=>typeof i=="string"?i:typeof o=="string"?o.startsWith("var(")&&i===0?0:o.startsWith("var(")&&i===1?o:`calc(${i} * ${o})`:o*i:Array.isArray(o)?i=>{if(typeof i=="string")return i;const s=Math.abs(i),a=o[s];return i>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof o=="function"?o:()=>{}}function g0(t){return Mh(t,"spacing",8)}function Gc(t,e){return typeof e=="string"||e==null?e:t(e)}function C$(t,e){return r=>t.reduce((n,o)=>(n[o]=Gc(e,r),n),{})}function k$(t,e,r,n){if(!e.includes(r))return null;const o=S$(r),i=C$(o,n),s=t[r];return ls(t,s,i)}function w_(t,e){const r=g0(t.theme);return Object.keys(t).map(n=>k$(t,e,n,r)).reduce(wf,{})}function sn(t){return w_(t,sS)}sn.propTypes={};sn.filterProps=sS;function an(t){return w_(t,aS)}an.propTypes={};an.filterProps=aS;function S_(t=8,e=g0({spacing:t})){if(t.mui)return t;const r=(...n)=>(n.length===0?[1]:n).map(i=>{const s=e(i);return typeof s=="number"?`${s}px`:s}).join(" ");return r.mui=!0,r}function y0(...t){const e=t.reduce((n,o)=>(o.filterProps.forEach(i=>{n[i]=o}),n),{}),r=n=>Object.keys(n).reduce((o,i)=>e[i]?wf(o,e[i](n)):o,{});return r.propTypes={},r.filterProps=t.reduce((n,o)=>n.concat(o.filterProps),[]),r}function _i(t){return typeof t!="number"?t:`${t}px solid`}function Bi(t,e){return gn({prop:t,themeKey:"borders",transform:e})}const E$=Bi("border",_i),T$=Bi("borderTop",_i),j$=Bi("borderRight",_i),R$=Bi("borderBottom",_i),A$=Bi("borderLeft",_i),_$=Bi("borderColor"),M$=Bi("borderTopColor"),I$=Bi("borderRightColor"),O$=Bi("borderBottomColor"),P$=Bi("borderLeftColor"),N$=Bi("outline",_i),L$=Bi("outlineColor"),v0=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Mh(t.theme,"shape.borderRadius",4),r=n=>({borderRadius:Gc(e,n)});return ls(t,t.borderRadius,r)}return null};v0.propTypes={};v0.filterProps=["borderRadius"];y0(E$,T$,j$,R$,A$,_$,M$,I$,O$,P$,v0,N$,L$);const x0=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Mh(t.theme,"spacing",8),r=n=>({gap:Gc(e,n)});return ls(t,t.gap,r)}return null};x0.propTypes={};x0.filterProps=["gap"];const b0=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Mh(t.theme,"spacing",8),r=n=>({columnGap:Gc(e,n)});return ls(t,t.columnGap,r)}return null};b0.propTypes={};b0.filterProps=["columnGap"];const w0=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Mh(t.theme,"spacing",8),r=n=>({rowGap:Gc(e,n)});return ls(t,t.rowGap,r)}return null};w0.propTypes={};w0.filterProps=["rowGap"];const D$=gn({prop:"gridColumn"}),z$=gn({prop:"gridRow"}),$$=gn({prop:"gridAutoFlow"}),F$=gn({prop:"gridAutoColumns"}),B$=gn({prop:"gridAutoRows"}),W$=gn({prop:"gridTemplateColumns"}),H$=gn({prop:"gridTemplateRows"}),U$=gn({prop:"gridTemplateAreas"}),V$=gn({prop:"gridArea"});y0(x0,b0,w0,D$,z$,$$,F$,B$,W$,H$,U$,V$);function pd(t,e){return e==="grey"?e:t}const q$=gn({prop:"color",themeKey:"palette",transform:pd}),G$=gn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:pd}),K$=gn({prop:"backgroundColor",themeKey:"palette",transform:pd});y0(q$,G$,K$);function ti(t){return t<=1&&t!==0?`${t*100}%`:t}const Y$=gn({prop:"width",transform:ti}),lS=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=r=>{var o,i,s,a,l;const n=((s=(i=(o=t.theme)==null?void 0:o.breakpoints)==null?void 0:i.values)==null?void 0:s[r])||h0[r];return n?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${n}${t.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:ti(r)}};return ls(t,t.maxWidth,e)}return null};lS.filterProps=["maxWidth"];const J$=gn({prop:"minWidth",transform:ti}),X$=gn({prop:"height",transform:ti}),Q$=gn({prop:"maxHeight",transform:ti}),Z$=gn({prop:"minHeight",transform:ti});gn({prop:"size",cssProperty:"width",transform:ti});gn({prop:"size",cssProperty:"height",transform:ti});const e6=gn({prop:"boxSizing"});y0(Y$,lS,J$,X$,Q$,Z$,e6);const Ih={border:{themeKey:"borders",transform:_i},borderTop:{themeKey:"borders",transform:_i},borderRight:{themeKey:"borders",transform:_i},borderBottom:{themeKey:"borders",transform:_i},borderLeft:{themeKey:"borders",transform:_i},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:_i},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:v0},color:{themeKey:"palette",transform:pd},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:pd},backgroundColor:{themeKey:"palette",transform:pd},p:{style:an},pt:{style:an},pr:{style:an},pb:{style:an},pl:{style:an},px:{style:an},py:{style:an},padding:{style:an},paddingTop:{style:an},paddingRight:{style:an},paddingBottom:{style:an},paddingLeft:{style:an},paddingX:{style:an},paddingY:{style:an},paddingInline:{style:an},paddingInlineStart:{style:an},paddingInlineEnd:{style:an},paddingBlock:{style:an},paddingBlockStart:{style:an},paddingBlockEnd:{style:an},m:{style:sn},mt:{style:sn},mr:{style:sn},mb:{style:sn},ml:{style:sn},mx:{style:sn},my:{style:sn},margin:{style:sn},marginTop:{style:sn},marginRight:{style:sn},marginBottom:{style:sn},marginLeft:{style:sn},marginX:{style:sn},marginY:{style:sn},marginInline:{style:sn},marginInlineStart:{style:sn},marginInlineEnd:{style:sn},marginBlock:{style:sn},marginBlockStart:{style:sn},marginBlockEnd:{style:sn},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:x0},rowGap:{style:w0},columnGap:{style:b0},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ti},maxWidth:{style:lS},minWidth:{transform:ti},height:{transform:ti},maxHeight:{transform:ti},minHeight:{transform:ti},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function t6(...t){const e=t.reduce((n,o)=>n.concat(Object.keys(o)),[]),r=new Set(e);return t.every(n=>r.size===Object.keys(n).length)}function r6(t,e){return typeof t=="function"?t(e):t}function n6(){function t(r,n,o,i){const s={[r]:n,theme:o},a=i[r];if(!a)return{[r]:n};const{cssProperty:l=r,themeKey:p,transform:f,style:h}=a;if(n==null)return null;if(p==="typography"&&n==="inherit")return{[r]:n};const m=m0(o,p)||{};return h?h(s):ls(s,n,v=>{let b=Qg(m,f,v);return v===b&&typeof v=="string"&&(b=Qg(m,f,`${r}${v==="default"?"":ue(v)}`,v)),l===!1?b:{[l]:b}})}function e(r){const{sx:n,theme:o={},nested:i}=r||{};if(!n)return null;const s=o.unstable_sxConfig??Ih;function a(l){let p=l;if(typeof l=="function")p=l(o);else if(typeof l!="object")return l;if(!p)return null;const f=b_(o.breakpoints),h=Object.keys(f);let m=f;return Object.keys(p).forEach(y=>{const v=r6(p[y],o);if(v!=null)if(typeof v=="object")if(s[y])m=wf(m,t(y,v,o,s));else{const b=ls({theme:o},v,x=>({[y]:x}));t6(b,v)?m[y]=e({sx:v,theme:o,nested:!0}):m=wf(m,b)}else m=wf(m,t(y,v,o,s))}),!i&&o.modularCssLayers?{"@layer sx":tT(o,E1(h,m))}:tT(o,E1(h,m))}return Array.isArray(n)?n.map(a):a(n)}return e}const Il=n6();Il.filterProps=["sx"];function o6(t,e){var n;const r=this;if(r.vars){if(!((n=r.colorSchemes)!=null&&n[t])||typeof r.getColorSchemeSelector!="function")return{};let o=r.getColorSchemeSelector(t);return o==="&"?e:((o.includes("data-")||o.includes("."))&&(o=`*:where(${o.replace(/\s*&$/,"")}) &`),{[o]:e})}return r.palette.mode===t?e:{}}function Qd(t={},...e){const{breakpoints:r={},palette:n={},spacing:o,shape:i={},...s}=t,a=d$(r),l=S_(o);let p=Un({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:l,shape:{...m$,...i}},s);return p=h$(p),p.applyStyles=o6,p=e.reduce((f,h)=>Un(f,h),p),p.unstable_sxConfig={...Ih,...s==null?void 0:s.unstable_sxConfig},p.unstable_sx=function(h){return Il({sx:h,theme:this})},p}function i6(t){return Object.keys(t).length===0}function S0(t=null){const e=S.useContext(_h);return!e||i6(e)?t:e}const s6=Qd();function Oh(t=s6){return S0(t)}function eb(t){const e=kl(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function C_({styles:t,themeId:e,defaultTheme:r={}}){const n=Oh(r),o=e&&n[e]||n;let i=typeof t=="function"?t(o):t;return o.modularCssLayers&&(Array.isArray(i)?i=i.map(s=>eb(typeof s=="function"?s(o):s)):i=eb(i)),u.jsx(g_,{styles:i})}const a6=t=>{var n;const e={systemProps:{},otherProps:{}},r=((n=t==null?void 0:t.theme)==null?void 0:n.unstable_sxConfig)??Ih;return Object.keys(t).forEach(o=>{r[o]?e.systemProps[o]=t[o]:e.otherProps[o]=t[o]}),e};function C0(t){const{sx:e,...r}=t,{systemProps:n,otherProps:o}=a6(r);let i;return Array.isArray(e)?i=[n,...e]:typeof e=="function"?i=(...s)=>{const a=e(...s);return As(a)?{...n,...a}:n}:i={...n,...e},{...o,sx:i}}const oT=t=>t,l6=()=>{let t=oT;return{configure(e){t=e},generate(e){return t(e)},reset(){t=oT}}},k_=l6();function E_(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(r=E_(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Se(){for(var t,e,r=0,n="",o=arguments.length;r<o;r++)(t=arguments[r])&&(e=E_(t))&&(n&&(n+=" "),n+=e);return n}function c6(t={}){const{themeId:e,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:o}=t,i=y_("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Il);return S.forwardRef(function(l,p){const f=Oh(r),{className:h,component:m="div",...y}=C0(l);return u.jsx(i,{as:m,ref:p,className:Se(h,o?o(n):n),theme:e&&f[e]||f,...y})})}const u6={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function et(t,e,r="Mui"){const n=u6[e];return n?`${r}-${n}`:`${k_.generate(t)}-${e}`}function st(t,e,r="Mui"){const n={};return e.forEach(o=>{n[o]=et(t,o,r)}),n}function T_(t){const{variants:e,...r}=t,n={variants:e,style:kl(r),isProcessed:!0};return n.style===r||e&&e.forEach(o=>{typeof o.style!="function"&&(o.style=kl(o.style))}),n}const d6=Qd();function tb(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Cc(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}function p6(t){return t?(e,r)=>r[t]:null}function f6(t,e,r){t.theme=m6(t.theme)?r:t.theme[e]||t.theme}function Ng(t,e,r){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(o=>Ng(t,o,r));if(Array.isArray(n==null?void 0:n.variants)){let o;if(n.isProcessed)o=r?Cc(n.style,r):n.style;else{const{variants:i,...s}=n;o=r?Cc(kl(s),r):s}return j_(t,n.variants,[o],r)}return n!=null&&n.isProcessed?r?Cc(kl(n.style),r):n.style:r?Cc(kl(n),r):n}function j_(t,e,r=[],n=void 0){var i;let o;e:for(let s=0;s<e.length;s+=1){const a=e[s];if(typeof a.props=="function"){if(o??(o={...t,...t.ownerState,ownerState:t.ownerState}),!a.props(o))continue}else for(const l in a.props)if(t[l]!==a.props[l]&&((i=t.ownerState)==null?void 0:i[l])!==a.props[l])continue e;typeof a.style=="function"?(o??(o={...t,...t.ownerState,ownerState:t.ownerState}),r.push(n?Cc(kl(a.style(o)),n):a.style(o))):r.push(n?Cc(kl(a.style),n):a.style)}return r}function R_(t={}){const{themeId:e,defaultTheme:r=d6,rootShouldForwardProp:n=tb,slotShouldForwardProp:o=tb}=t;function i(a){f6(a,e,r)}return(a,l={})=>{a$(a,A=>A.filter(_=>_!==Il));const{name:p,slot:f,skipVariantsResolver:h,skipSx:m,overridesResolver:y=p6(y6(f)),...v}=l,b=p&&p.startsWith("Mui")||f?"components":"custom",x=h!==void 0?h:f&&f!=="Root"&&f!=="root"||!1,C=m||!1;let E=tb;f==="Root"||f==="root"?E=n:f?E=o:g6(a)&&(E=void 0);const j=y_(a,{shouldForwardProp:E,label:h6(),...v}),T=A=>{if(A.__emotion_real===A)return A;if(typeof A=="function")return function(I){return Ng(I,A,I.theme.modularCssLayers?b:void 0)};if(As(A)){const _=T_(A);return function(P){return _.variants?Ng(P,_,P.theme.modularCssLayers?b:void 0):P.theme.modularCssLayers?Cc(_.style,b):_.style}}return A},k=(...A)=>{const _=[],I=A.map(T),P=[];if(_.push(i),p&&y&&P.push(function(D){var G,W;const U=(W=(G=D.theme.components)==null?void 0:G[p])==null?void 0:W.styleOverrides;if(!U)return null;const V={};for(const K in U)V[K]=Ng(D,U[K],D.theme.modularCssLayers?"theme":void 0);return y(D,V)}),p&&!x&&P.push(function(D){var V,G;const F=D.theme,U=(G=(V=F==null?void 0:F.components)==null?void 0:V[p])==null?void 0:G.variants;return U?j_(D,U,[],D.theme.modularCssLayers?"theme":void 0):null}),C||P.push(Il),Array.isArray(I[0])){const O=I.shift(),D=new Array(_.length).fill(""),F=new Array(P.length).fill("");let U;U=[...D,...O,...F],U.raw=[...D,...O.raw,...F],_.unshift(U)}const N=[..._,...I,...P],B=j(...N);return a.muiName&&(B.muiName=a.muiName),B};return j.withConfig&&(k.withConfig=j.withConfig),k}}function h6(t,e){return void 0}function m6(t){for(const e in t)return!1;return!0}function g6(t){return typeof t=="string"&&t.charCodeAt(0)>96}function y6(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const cS=R_();function Zf(t,e,r=!1){const n={...e};for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)){const i=o;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],a=e[i];if(!a)n[i]=s||{};else if(!s)n[i]=a;else{n[i]={...a};for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const p=l;n[i][p]=Zf(s[p],a[p],r)}}}else i==="className"&&r&&e.className?n.className=Se(t==null?void 0:t.className,e==null?void 0:e.className):i==="style"&&r&&e.style?n.style={...t==null?void 0:t.style,...e==null?void 0:e.style}:n[i]===void 0&&(n[i]=t[i])}return n}function A_(t){const{theme:e,name:r,props:n}=t;return!e||!e.components||!e.components[r]||!e.components[r].defaultProps?n:Zf(e.components[r].defaultProps,n)}function uS({props:t,name:e,defaultTheme:r,themeId:n}){let o=Oh(r);return n&&(o=o[n]||o),A_({theme:o,name:e,props:t})}const Eo=typeof window<"u"?S.useLayoutEffect:S.useEffect;function v6(t,e,r,n,o){const[i,s]=S.useState(()=>o&&r?r(t).matches:n?n(t).matches:e);return Eo(()=>{if(!r)return;const a=r(t),l=()=>{s(a.matches)};return l(),a.addEventListener("change",l),()=>{a.removeEventListener("change",l)}},[t,r]),i}const x6={...qg},__=x6.useSyncExternalStore;function b6(t,e,r,n,o){const i=S.useCallback(()=>e,[e]),s=S.useMemo(()=>{if(o&&r)return()=>r(t).matches;if(n!==null){const{matches:f}=n(t);return()=>f}return i},[i,t,n,o,r]),[a,l]=S.useMemo(()=>{if(r===null)return[i,()=>()=>{}];const f=r(t);return[()=>f.matches,h=>(f.addEventListener("change",h),()=>{f.removeEventListener("change",h)})]},[i,r,t]);return __(l,a,s)}function M_(t={}){const{themeId:e}=t;return function(n,o={}){let i=S0();i&&e&&(i=i[e]||i);const s=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:a=!1,matchMedia:l=s?window.matchMedia:null,ssrMatchMedia:p=null,noSsr:f=!1}=A_({name:"MuiUseMediaQuery",props:o,theme:i});let h=typeof n=="function"?n(i):n;return h=h.replace(/^@media( ?)/m,""),h.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(__!==void 0?b6:v6)(h,a,l,p,f)}}M_();function I_(t,e=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,r))}function dS(t,e=0,r=1){return I_(t,e,r)}function w6(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,o)=>o<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function Ol(t){if(t.type)return t;if(t.charAt(0)==="#")return Ol(w6(t));const e=t.indexOf("("),r=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(ga(9,t));let n=t.substring(e+1,t.length-1),o;if(r==="color"){if(n=n.split(" "),o=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(o))throw new Error(ga(10,o))}else n=n.split(",");return n=n.map(i=>parseFloat(i)),{type:r,values:n,colorSpace:o}}const S6=t=>{const e=Ol(t);return e.values.slice(0,3).map((r,n)=>e.type.includes("hsl")&&n!==0?`${r}%`:r).join(" ")},lf=(t,e)=>{try{return S6(t)}catch{return t}};function k0(t){const{type:e,colorSpace:r}=t;let{values:n}=t;return e.includes("rgb")?n=n.map((o,i)=>i<3?parseInt(o,10):o):e.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.includes("color")?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function O_(t){t=Ol(t);const{values:e}=t,r=e[0],n=e[1]/100,o=e[2]/100,i=n*Math.min(o,1-o),s=(p,f=(p+r/30)%12)=>o-i*Math.max(Math.min(f-3,9-f,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),k0({type:a,values:l})}function T1(t){t=Ol(t);let e=t.type==="hsl"||t.type==="hsla"?Ol(O_(t)).values:t.values;return e=e.map(r=>(t.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function C6(t,e){const r=T1(t),n=T1(e);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function q(t,e){return t=Ol(t),e=dS(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,k0(t)}function pc(t,e,r){try{return q(t,e)}catch{return t}}function E0(t,e){if(t=Ol(t),e=dS(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let r=0;r<3;r+=1)t.values[r]*=1-e;return k0(t)}function kr(t,e,r){try{return E0(t,e)}catch{return t}}function T0(t,e){if(t=Ol(t),e=dS(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let r=0;r<3;r+=1)t.values[r]+=(255-t.values[r])*e;else if(t.type.includes("color"))for(let r=0;r<3;r+=1)t.values[r]+=(1-t.values[r])*e;return k0(t)}function Er(t,e,r){try{return T0(t,e)}catch{return t}}function j1(t,e=.15){return T1(t)>.5?E0(t,e):T0(t,e)}function eg(t,e,r){try{return j1(t,e)}catch{return t}}const P_=S.createContext(null);function pS(){return S.useContext(P_)}const k6=typeof Symbol=="function"&&Symbol.for,E6=k6?Symbol.for("mui.nested"):"__THEME_NESTED__";function T6(t,e){return typeof e=="function"?e(t):{...t,...e}}function j6(t){const{children:e,theme:r}=t,n=pS(),o=S.useMemo(()=>{const i=n===null?{...r}:T6(n,r);return i!=null&&(i[E6]=n!==null),i},[r,n]);return u.jsx(P_.Provider,{value:o,children:e})}const N_=S.createContext();function R6({value:t,...e}){return u.jsx(N_.Provider,{value:t??!0,...e})}const wa=()=>S.useContext(N_)??!1,L_=S.createContext(void 0);function A6({value:t,children:e}){return u.jsx(L_.Provider,{value:t,children:e})}function _6(t){const{theme:e,name:r,props:n}=t;if(!e||!e.components||!e.components[r])return n;const o=e.components[r];return o.defaultProps?Zf(o.defaultProps,n,e.components.mergeClassNameAndStyle):!o.styleOverrides&&!o.variants?Zf(o,n,e.components.mergeClassNameAndStyle):n}function M6({props:t,name:e}){const r=S.useContext(L_);return _6({props:t,name:e,theme:{components:r}})}let iT=0;function I6(t){const[e,r]=S.useState(t),n=t||e;return S.useEffect(()=>{e==null&&(iT+=1,r(`mui-${iT}`))},[e]),n}const O6={...qg},sT=O6.useId;function Ds(t){if(sT!==void 0){const e=sT();return t??e}return I6(t)}function P6(t){const e=S0(),r=Ds()||"",{modularCssLayers:n}=t;let o="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!n||e!==null?o="":typeof n=="string"?o=n.replace(/mui(?!\.)/g,o):o=`@layer ${o};`,Eo(()=>{var a,l;const i=document.querySelector("head");if(!i)return;const s=i.firstChild;if(o){if(s&&((a=s.hasAttribute)!=null&&a.call(s,"data-mui-layer-order"))&&s.getAttribute("data-mui-layer-order")===r)return;const p=document.createElement("style");p.setAttribute("data-mui-layer-order",r),p.textContent=o,i.prepend(p)}else(l=i.querySelector(`style[data-mui-layer-order="${r}"]`))==null||l.remove()},[o,r]),o?u.jsx(C_,{styles:o}):null}const aT={};function lT(t,e,r,n=!1){return S.useMemo(()=>{const o=t&&e[t]||e;if(typeof r=="function"){const i=r(o),s=t?{...e,[t]:i}:i;return n?()=>s:s}return t?{...e,[t]:r}:{...e,...r}},[t,e,r,n])}function D_(t){const{children:e,theme:r,themeId:n}=t,o=S0(aT),i=pS()||aT,s=lT(n,o,r),a=lT(n,i,r,!0),l=(n?s[n]:s).direction==="rtl",p=P6(s);return u.jsx(j6,{theme:a,children:u.jsx(_h.Provider,{value:s,children:u.jsx(R6,{value:l,children:u.jsxs(A6,{value:n?s[n].components:s.components,children:[p,e]})})})})}const cT={theme:void 0};function N6(t){let e,r;return function(o){let i=e;return(i===void 0||o.theme!==r)&&(cT.theme=o.theme,i=T_(t(cT)),e=i,r=o.theme),i}}const fS="mode",hS="color-scheme",L6="data-color-scheme";function D6(t){const{defaultMode:e="system",defaultLightColorScheme:r="light",defaultDarkColorScheme:n="dark",modeStorageKey:o=fS,colorSchemeStorageKey:i=hS,attribute:s=L6,colorSchemeNode:a="document.documentElement",nonce:l}=t||{};let p="",f=s;if(s==="class"&&(f=".%s"),s==="data"&&(f="[data-%s]"),f.startsWith(".")){const m=f.substring(1);p+=`${a}.classList.remove('${m}'.replace('%s', light), '${m}'.replace('%s', dark));
      ${a}.classList.add('${m}'.replace('%s', colorScheme));`}const h=f.match(/\[([^[\]]+)\]/);if(h){const[m,y]=h[1].split("=");y||(p+=`${a}.removeAttribute('${m}'.replace('%s', light));
      ${a}.removeAttribute('${m}'.replace('%s', dark));`),p+=`
      ${a}.setAttribute('${m}'.replace('%s', colorScheme), ${y?`${y}.replace('%s', colorScheme)`:'""'});`}else f!==".%s"&&(p+=`${a}.setAttribute('${f}', colorScheme);`);return u.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${o}') || '${e}';
  const dark = localStorage.getItem('${i}-dark') || '${n}';
  const light = localStorage.getItem('${i}-light') || '${r}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${p}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function z6(){}const $6=({key:t,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(r){if(typeof window>"u")return;if(!e)return r;let n;try{n=e.localStorage.getItem(t)}catch{}return n||r},set:r=>{if(e)try{e.localStorage.setItem(t,r)}catch{}},subscribe:r=>{if(!e)return z6;const n=o=>{const i=o.newValue;o.key===t&&r(i)};return e.addEventListener("storage",n),()=>{e.removeEventListener("storage",n)}}});function rb(){}function uT(t){if(typeof window<"u"&&typeof window.matchMedia=="function"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function z_(t,e){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return e("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return e("dark")}function F6(t){return z_(t,e=>{if(e==="light")return t.lightColorScheme;if(e==="dark")return t.darkColorScheme})}function B6(t){const{defaultMode:e="light",defaultLightColorScheme:r,defaultDarkColorScheme:n,supportedColorSchemes:o=[],modeStorageKey:i=fS,colorSchemeStorageKey:s=hS,storageWindow:a=typeof window>"u"?void 0:window,storageManager:l=$6,noSsr:p=!1}=t,f=o.join(","),h=o.length>1,m=S.useMemo(()=>l==null?void 0:l({key:i,storageWindow:a}),[l,i,a]),y=S.useMemo(()=>l==null?void 0:l({key:`${s}-light`,storageWindow:a}),[l,s,a]),v=S.useMemo(()=>l==null?void 0:l({key:`${s}-dark`,storageWindow:a}),[l,s,a]),[b,x]=S.useState(()=>{const I=(m==null?void 0:m.get(e))||e,P=(y==null?void 0:y.get(r))||r,N=(v==null?void 0:v.get(n))||n;return{mode:I,systemMode:uT(I),lightColorScheme:P,darkColorScheme:N}}),[C,E]=S.useState(p||!h);S.useEffect(()=>{E(!0)},[]);const j=F6(b),T=S.useCallback(I=>{x(P=>{if(I===P.mode)return P;const N=I??e;return m==null||m.set(N),{...P,mode:N,systemMode:uT(N)}})},[m,e]),k=S.useCallback(I=>{I?typeof I=="string"?I&&!f.includes(I)?console.error(`\`${I}\` does not exist in \`theme.colorSchemes\`.`):x(P=>{const N={...P};return z_(P,B=>{B==="light"&&(y==null||y.set(I),N.lightColorScheme=I),B==="dark"&&(v==null||v.set(I),N.darkColorScheme=I)}),N}):x(P=>{const N={...P},B=I.light===null?r:I.light,O=I.dark===null?n:I.dark;return B&&(f.includes(B)?(N.lightColorScheme=B,y==null||y.set(B)):console.error(`\`${B}\` does not exist in \`theme.colorSchemes\`.`)),O&&(f.includes(O)?(N.darkColorScheme=O,v==null||v.set(O)):console.error(`\`${O}\` does not exist in \`theme.colorSchemes\`.`)),N}):x(P=>(y==null||y.set(r),v==null||v.set(n),{...P,lightColorScheme:r,darkColorScheme:n}))},[f,y,v,r,n]),A=S.useCallback(I=>{b.mode==="system"&&x(P=>{const N=I!=null&&I.matches?"dark":"light";return P.systemMode===N?P:{...P,systemMode:N}})},[b.mode]),_=S.useRef(A);return _.current=A,S.useEffect(()=>{if(typeof window.matchMedia!="function"||!h)return;const I=(...N)=>_.current(...N),P=window.matchMedia("(prefers-color-scheme: dark)");return P.addListener(I),I(P),()=>{P.removeListener(I)}},[h]),S.useEffect(()=>{if(h){const I=(m==null?void 0:m.subscribe(B=>{(!B||["light","dark","system"].includes(B))&&T(B||e)}))||rb,P=(y==null?void 0:y.subscribe(B=>{(!B||f.match(B))&&k({light:B})}))||rb,N=(v==null?void 0:v.subscribe(B=>{(!B||f.match(B))&&k({dark:B})}))||rb;return()=>{I(),P(),N()}}},[k,T,f,e,a,h,m,y,v]),{...b,mode:C?b.mode:void 0,systemMode:C?b.systemMode:void 0,colorScheme:C?j:void 0,setMode:T,setColorScheme:k}}const W6="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function H6(t){const{themeId:e,theme:r={},modeStorageKey:n=fS,colorSchemeStorageKey:o=hS,disableTransitionOnChange:i=!1,defaultColorScheme:s,resolveTheme:a}=t,l={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},p=S.createContext(void 0),f=()=>S.useContext(p)||l,h={},m={};function y(C){var mt,je,Ze,ot;const{children:E,theme:j,modeStorageKey:T=n,colorSchemeStorageKey:k=o,disableTransitionOnChange:A=i,storageManager:_,storageWindow:I=typeof window>"u"?void 0:window,documentNode:P=typeof document>"u"?void 0:document,colorSchemeNode:N=typeof document>"u"?void 0:document.documentElement,disableNestedContext:B=!1,disableStyleSheetGeneration:O=!1,defaultMode:D="system",forceThemeRerender:F=!1,noSsr:U}=C,V=S.useRef(!1),G=pS(),W=S.useContext(p),K=!!W&&!B,H=S.useMemo(()=>j||(typeof r=="function"?r():r),[j]),J=H[e],ne=J||H,{colorSchemes:me=h,components:ge=m,cssVarPrefix:ce}=ne,te=Object.keys(me).filter(ft=>!!me[ft]).join(","),ve=S.useMemo(()=>te.split(","),[te]),Ie=typeof s=="string"?s:s.light,qe=typeof s=="string"?s:s.dark,Ne=me[Ie]&&me[qe]?D:((je=(mt=me[ne.defaultColorScheme])==null?void 0:mt.palette)==null?void 0:je.mode)||((Ze=ne.palette)==null?void 0:Ze.mode),{mode:lt,setMode:Xe,systemMode:He,lightColorScheme:Le,darkColorScheme:Re,colorScheme:ae,setColorScheme:ke}=B6({supportedColorSchemes:ve,defaultLightColorScheme:Ie,defaultDarkColorScheme:qe,modeStorageKey:T,colorSchemeStorageKey:k,defaultMode:Ne,storageManager:_,storageWindow:I,noSsr:U});let fe=lt,dt=ae;K&&(fe=W.mode,dt=W.colorScheme);let Be=dt||ne.defaultColorScheme;ne.vars&&!F&&(Be=ne.defaultColorScheme);const Te=S.useMemo(()=>{var ct;const ft=((ct=ne.generateThemeVars)==null?void 0:ct.call(ne))||ne.vars,Ae={...ne,components:ge,colorSchemes:me,cssVarPrefix:ce,vars:ft};if(typeof Ae.generateSpacing=="function"&&(Ae.spacing=Ae.generateSpacing()),Be){const at=me[Be];at&&typeof at=="object"&&Object.keys(at).forEach(ee=>{at[ee]&&typeof at[ee]=="object"?Ae[ee]={...Ae[ee],...at[ee]}:Ae[ee]=at[ee]})}return a?a(Ae):Ae},[ne,Be,ge,me,ce]),ie=ne.colorSchemeSelector;Eo(()=>{if(dt&&N&&ie&&ie!=="media"){const ft=ie;let Ae=ie;if(ft==="class"&&(Ae=".%s"),ft==="data"&&(Ae="[data-%s]"),ft!=null&&ft.startsWith("data-")&&!ft.includes("%s")&&(Ae=`[${ft}="%s"]`),Ae.startsWith("."))N.classList.remove(...ve.map(ct=>Ae.substring(1).replace("%s",ct))),N.classList.add(Ae.substring(1).replace("%s",dt));else{const ct=Ae.replace("%s",dt).match(/\[([^\]]+)\]/);if(ct){const[at,ee]=ct[1].split("=");ee||ve.forEach(we=>{N.removeAttribute(at.replace(dt,we))}),N.setAttribute(at,ee?ee.replace(/"|'/g,""):"")}else N.setAttribute(Ae,dt)}}},[dt,ie,N,ve]),S.useEffect(()=>{let ft;if(A&&V.current&&P){const Ae=P.createElement("style");Ae.appendChild(P.createTextNode(W6)),P.head.appendChild(Ae),window.getComputedStyle(P.body),ft=setTimeout(()=>{P.head.removeChild(Ae)},1)}return()=>{clearTimeout(ft)}},[dt,A,P]),S.useEffect(()=>(V.current=!0,()=>{V.current=!1}),[]);const Ce=S.useMemo(()=>({allColorSchemes:ve,colorScheme:dt,darkColorScheme:Re,lightColorScheme:Le,mode:fe,setColorScheme:ke,setMode:Xe,systemMode:He}),[ve,dt,Re,Le,fe,ke,Xe,He,Te.colorSchemeSelector]);let We=!0;(O||ne.cssVariables===!1||K&&(G==null?void 0:G.cssVarPrefix)===ce)&&(We=!1);const Qe=u.jsxs(S.Fragment,{children:[u.jsx(D_,{themeId:J?e:void 0,theme:Te,children:E}),We&&u.jsx(g_,{styles:((ot=Te.generateStyleSheets)==null?void 0:ot.call(Te))||[]})]});return K?Qe:u.jsx(p.Provider,{value:Ce,children:Qe})}const v=typeof s=="string"?s:s.light,b=typeof s=="string"?s:s.dark;return{CssVarsProvider:y,useColorScheme:f,getInitColorSchemeScript:C=>D6({colorSchemeStorageKey:o,defaultLightColorScheme:v,defaultDarkColorScheme:b,modeStorageKey:n,...C})}}function U6(t=""){function e(...n){if(!n.length)return"";const o=n[0];return typeof o=="string"&&!o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${o}${e(...n.slice(1))})`:`, ${o}`}return(n,...o)=>`var(--${t?`${t}-`:""}${n}${e(...o)})`}const dT=(t,e,r,n=[])=>{let o=t;e.forEach((i,s)=>{s===e.length-1?Array.isArray(o)?o[Number(i)]=r:o&&typeof o=="object"&&(o[i]=r):o&&typeof o=="object"&&(o[i]||(o[i]=n.includes(i)?[]:{}),o=o[i])})},V6=(t,e,r)=>{function n(o,i=[],s=[]){Object.entries(o).forEach(([a,l])=>{(!r||r&&!r([...i,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?n(l,[...i,a],Array.isArray(l)?[...s,a]:s):e([...i,a],l,s))})}n(t)},q6=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>t.includes(n))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function nb(t,e){const{prefix:r,shouldSkipGeneratingVar:n}=e||{},o={},i={},s={};return V6(t,(a,l,p)=>{if((typeof l=="string"||typeof l=="number")&&(!n||!n(a,l))){const f=`--${r?`${r}-`:""}${a.join("-")}`,h=q6(a,l);Object.assign(o,{[f]:h}),dT(i,a,`var(${f})`,p),dT(s,a,`var(${f}, ${h})`,p)}},a=>a[0]==="vars"),{css:o,vars:i,varsWithDefaults:s}}function G6(t,e={}){const{getSelector:r=C,disableCssColorScheme:n,colorSchemeSelector:o,enableContrastVars:i}=e,{colorSchemes:s={},components:a,defaultColorScheme:l="light",...p}=t,{vars:f,css:h,varsWithDefaults:m}=nb(p,e);let y=m;const v={},{[l]:b,...x}=s;if(Object.entries(x||{}).forEach(([T,k])=>{const{vars:A,css:_,varsWithDefaults:I}=nb(k,e);y=Un(y,I),v[T]={css:_,vars:A}}),b){const{css:T,vars:k,varsWithDefaults:A}=nb(b,e);y=Un(y,A),v[l]={css:T,vars:k}}function C(T,k){var _,I;let A=o;if(o==="class"&&(A=".%s"),o==="data"&&(A="[data-%s]"),o!=null&&o.startsWith("data-")&&!o.includes("%s")&&(A=`[${o}="%s"]`),T){if(A==="media")return t.defaultColorScheme===T?":root":{[`@media (prefers-color-scheme: ${((I=(_=s[T])==null?void 0:_.palette)==null?void 0:I.mode)||T})`]:{":root":k}};if(A)return t.defaultColorScheme===T?`:root, ${A.replace("%s",String(T))}`:A.replace("%s",String(T))}return":root"}return{vars:y,generateThemeVars:()=>{let T={...f};return Object.entries(v).forEach(([,{vars:k}])=>{T=Un(T,k)}),T},generateStyleSheets:()=>{var P,N;const T=[],k=t.defaultColorScheme||"light";function A(B,O){Object.keys(O).length&&T.push(typeof B=="string"?{[B]:{...O}}:B)}A(r(void 0,{...h}),h);const{[k]:_,...I}=v;if(_){const{css:B}=_,O=(N=(P=s[k])==null?void 0:P.palette)==null?void 0:N.mode,D=!n&&O?{colorScheme:O,...B}:{...B};A(r(k,{...D}),D)}return Object.entries(I).forEach(([B,{css:O}])=>{var U,V;const D=(V=(U=s[B])==null?void 0:U.palette)==null?void 0:V.mode,F=!n&&D?{colorScheme:D,...O}:{...O};A(r(B,{...F}),F)}),i&&T.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),T}}}function K6(t){return function(r){return t==="media"?`@media (prefers-color-scheme: ${r})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${r}"] &`:t==="class"?`.${r} &`:t==="data"?`[data-${r}] &`:`${t.replace("%s",r)} &`:"&"}}function tt(t,e,r=void 0){const n={};for(const o in t){const i=t[o];let s="",a=!0;for(let l=0;l<i.length;l+=1){const p=i[l];p&&(s+=(a===!0?"":" ")+e(p),a=!1,r&&r[p]&&(s+=" "+r[p]))}n[o]=s}return n}const Y6=Qd(),J6=cS("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`maxWidth${ue(String(r.maxWidth))}`],r.fixed&&e.fixed,r.disableGutters&&e.disableGutters]}}),X6=t=>uS({props:t,name:"MuiContainer",defaultTheme:Y6}),Q6=(t,e)=>{const r=l=>et(e,l),{classes:n,fixed:o,disableGutters:i,maxWidth:s}=t,a={root:["root",s&&`maxWidth${ue(String(s))}`,o&&"fixed",i&&"disableGutters"]};return tt(a,r,n)};function Z6(t={}){const{createStyledComponent:e=J6,useThemeProps:r=X6,componentName:n="MuiContainer"}=t,o=e(({theme:s,ownerState:a})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((l,p)=>{const f=p,h=s.breakpoints.values[f];return h!==0&&(l[s.breakpoints.up(f)]={maxWidth:`${h}${s.breakpoints.unit}`}),l},{}),({theme:s,ownerState:a})=>({...a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},...a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}}));return S.forwardRef(function(a,l){const p=r(a),{className:f,component:h="div",disableGutters:m=!1,fixed:y=!1,maxWidth:v="lg",classes:b,...x}=p,C={...p,component:h,disableGutters:m,fixed:y,maxWidth:v},E=Q6(C,n);return u.jsx(o,{as:h,ownerState:C,className:Se(E.root,f),ref:l,...x})})}function Sf(t,e){var r,n,o;return S.isValidElement(t)&&e.indexOf(t.type.muiName??((o=(n=(r=t.type)==null?void 0:r._payload)==null?void 0:n.value)==null?void 0:o.muiName))!==-1}const eF=(t,e)=>t.filter(r=>e.includes(r)),Zd=(t,e,r)=>{const n=t.keys[0];Array.isArray(e)?e.forEach((o,i)=>{r((s,a)=>{i<=t.keys.length-1&&(i===0?Object.assign(s,a):s[t.up(t.keys[i])]=a)},o)}):e&&typeof e=="object"?(Object.keys(e).length>t.keys.length?t.keys:eF(t.keys,Object.keys(e))).forEach(i=>{if(t.keys.includes(i)){const s=e[i];s!==void 0&&r((a,l)=>{n===i?Object.assign(a,l):a[t.up(i)]=l},s)}}):(typeof e=="number"||typeof e=="string")&&r((o,i)=>{Object.assign(o,i)},e)};function Zg(t){return`--Grid-${t}Spacing`}function j0(t){return`--Grid-parent-${t}Spacing`}const pT="--Grid-columns",fd="--Grid-parent-columns",tF=({theme:t,ownerState:e})=>{const r={};return Zd(t.breakpoints,e.size,(n,o)=>{let i={};o==="grow"&&(i={flexBasis:0,flexGrow:1,maxWidth:"100%"}),o==="auto"&&(i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof o=="number"&&(i={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${o} / var(${fd}) - (var(${fd}) - ${o}) * (var(${j0("column")}) / var(${fd})))`}),n(r,i)}),r},rF=({theme:t,ownerState:e})=>{const r={};return Zd(t.breakpoints,e.offset,(n,o)=>{let i={};o==="auto"&&(i={marginLeft:"auto"}),typeof o=="number"&&(i={marginLeft:o===0?"0px":`calc(100% * ${o} / var(${fd}) + var(${j0("column")}) * ${o} / var(${fd}))`}),n(r,i)}),r},nF=({theme:t,ownerState:e})=>{if(!e.container)return{};const r={[pT]:12};return Zd(t.breakpoints,e.columns,(n,o)=>{const i=o??12;n(r,{[pT]:i,"> *":{[fd]:i}})}),r},oF=({theme:t,ownerState:e})=>{if(!e.container)return{};const r={};return Zd(t.breakpoints,e.rowSpacing,(n,o)=>{var s;const i=typeof o=="string"?o:(s=t.spacing)==null?void 0:s.call(t,o);n(r,{[Zg("row")]:i,"> *":{[j0("row")]:i}})}),r},iF=({theme:t,ownerState:e})=>{if(!e.container)return{};const r={};return Zd(t.breakpoints,e.columnSpacing,(n,o)=>{var s;const i=typeof o=="string"?o:(s=t.spacing)==null?void 0:s.call(t,o);n(r,{[Zg("column")]:i,"> *":{[j0("column")]:i}})}),r},sF=({theme:t,ownerState:e})=>{if(!e.container)return{};const r={};return Zd(t.breakpoints,e.direction,(n,o)=>{n(r,{flexDirection:o})}),r},aF=({ownerState:t})=>({minWidth:0,boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",...t.wrap&&t.wrap!=="wrap"&&{flexWrap:t.wrap},gap:`var(${Zg("row")}) var(${Zg("column")})`}}),lF=t=>{const e=[];return Object.entries(t).forEach(([r,n])=>{n!==!1&&n!==void 0&&e.push(`grid-${r}-${String(n)}`)}),e},cF=(t,e="xs")=>{function r(n){return n===void 0?!1:typeof n=="string"&&!Number.isNaN(Number(n))||typeof n=="number"&&n>0}if(r(t))return[`spacing-${e}-${String(t)}`];if(typeof t=="object"&&!Array.isArray(t)){const n=[];return Object.entries(t).forEach(([o,i])=>{r(i)&&n.push(`spacing-${o}-${String(i)}`)}),n}return[]},uF=t=>t===void 0?[]:typeof t=="object"?Object.entries(t).map(([e,r])=>`direction-${e}-${r}`):[`direction-xs-${String(t)}`];function dF(t,e){t.item!==void 0&&delete t.item,t.zeroMinWidth!==void 0&&delete t.zeroMinWidth,e.keys.forEach(r=>{t[r]!==void 0&&delete t[r]})}const pF=Qd(),fF=cS("div",{name:"MuiGrid",slot:"Root"});function hF(t){return uS({props:t,name:"MuiGrid",defaultTheme:pF})}function mF(t={}){const{createStyledComponent:e=fF,useThemeProps:r=hF,useTheme:n=Oh,componentName:o="MuiGrid"}=t,i=(p,f)=>{const{container:h,direction:m,spacing:y,wrap:v,size:b}=p,x={root:["root",h&&"container",v!=="wrap"&&`wrap-xs-${String(v)}`,...uF(m),...lF(b),...h?cF(y,f.breakpoints.keys[0]):[]]};return tt(x,C=>et(o,C),{})};function s(p,f,h=()=>!0){const m={};return p===null||(Array.isArray(p)?p.forEach((y,v)=>{y!==null&&h(y)&&f.keys[v]&&(m[f.keys[v]]=y)}):typeof p=="object"?Object.keys(p).forEach(y=>{const v=p[y];v!=null&&h(v)&&(m[y]=v)}):m[f.keys[0]]=p),m}const a=e(nF,iF,oF,tF,sF,aF,rF),l=S.forwardRef(function(f,h){const m=n(),y=r(f),v=C0(y);dF(v,m.breakpoints);const{className:b,children:x,columns:C=12,container:E=!1,component:j="div",direction:T="row",wrap:k="wrap",size:A={},offset:_={},spacing:I=0,rowSpacing:P=I,columnSpacing:N=I,unstable_level:B=0,...O}=v,D=s(A,m.breakpoints,J=>J!==!1),F=s(_,m.breakpoints),U=f.columns??(B?void 0:C),V=f.spacing??(B?void 0:I),G=f.rowSpacing??f.spacing??(B?void 0:P),W=f.columnSpacing??f.spacing??(B?void 0:N),K={...v,level:B,columns:U,container:E,direction:T,wrap:k,spacing:V,rowSpacing:G,columnSpacing:W,size:D,offset:F},H=i(K,m);return u.jsx(a,{ref:h,as:j,ownerState:K,className:Se(H.root,b),...O,children:S.Children.map(x,J=>{var ne;return S.isValidElement(J)&&Sf(J,["Grid"])&&E&&J.props.container?S.cloneElement(J,{unstable_level:((ne=J.props)==null?void 0:ne.unstable_level)??B+1}):J})})});return l.muiName="Grid",l}const gF=Qd(),yF=cS("div",{name:"MuiStack",slot:"Root"});function vF(t){return uS({props:t,name:"MuiStack",defaultTheme:gF})}function xF(t,e){const r=S.Children.toArray(t).filter(Boolean);return r.reduce((n,o,i)=>(n.push(o),i<r.length-1&&n.push(S.cloneElement(e,{key:`separator-${i}`})),n),[])}const bF=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],wF=({ownerState:t,theme:e})=>{let r={display:"flex",flexDirection:"column",...ls({theme:e},Zx({values:t.direction,breakpoints:e.breakpoints.values}),n=>({flexDirection:n}))};if(t.spacing){const n=g0(e),o=Object.keys(e.breakpoints.values).reduce((l,p)=>((typeof t.spacing=="object"&&t.spacing[p]!=null||typeof t.direction=="object"&&t.direction[p]!=null)&&(l[p]=!0),l),{}),i=Zx({values:t.direction,base:o}),s=Zx({values:t.spacing,base:o});typeof i=="object"&&Object.keys(i).forEach((l,p,f)=>{if(!i[l]){const m=p>0?i[f[p-1]]:"column";i[l]=m}}),r=Un(r,ls({theme:e},s,(l,p)=>t.useFlexGap?{gap:Gc(n,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${bF(p?i[p]:t.direction)}`]:Gc(n,l)}}))}return r=y$(e.breakpoints,r),r};function SF(t={}){const{createStyledComponent:e=yF,useThemeProps:r=vF,componentName:n="MuiStack"}=t,o=()=>tt({root:["root"]},l=>et(n,l),{}),i=e(wF);return S.forwardRef(function(l,p){const f=r(l),h=C0(f),{component:m="div",direction:y="column",spacing:v=0,divider:b,children:x,className:C,useFlexGap:E=!1,...j}=h,T={direction:y,spacing:v,useFlexGap:E},k=o();return u.jsx(i,{as:m,ownerState:T,ref:p,className:Se(k.root,C),...j,children:b?xF(x,b):x})})}function $_(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Yf.white,default:Yf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const F_=$_();function B_(){return{text:{primary:Yf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Yf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const R1=B_();function fT(t,e,r,n){const o=n.light||n,i=n.dark||n*1.5;t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:e==="light"?t.light=T0(t.main,o):e==="dark"&&(t.dark=E0(t.main,i)))}function hT(t,e,r,n,o){const i=o.light||o,s=o.dark||o*1.5;e[r]||(e.hasOwnProperty(n)?e[r]=e[n]:r==="light"?e.light=`color-mix(in ${t}, ${e.main}, #fff ${(i*100).toFixed(0)}%)`:r==="dark"&&(e.dark=`color-mix(in ${t}, ${e.main}, #000 ${(s*100).toFixed(0)}%)`))}function CF(t="light"){return t==="dark"?{main:zu[200],light:zu[50],dark:zu[400]}:{main:zu[700],light:zu[400],dark:zu[800]}}function kF(t="light"){return t==="dark"?{main:Du[200],light:Du[50],dark:Du[400]}:{main:Du[500],light:Du[300],dark:Du[700]}}function EF(t="light"){return t==="dark"?{main:Lu[500],light:Lu[300],dark:Lu[700]}:{main:Lu[700],light:Lu[400],dark:Lu[800]}}function TF(t="light"){return t==="dark"?{main:$u[400],light:$u[300],dark:$u[700]}:{main:$u[700],light:$u[500],dark:$u[900]}}function jF(t="light"){return t==="dark"?{main:Fu[400],light:Fu[300],dark:Fu[700]}:{main:Fu[800],light:Fu[500],dark:Fu[900]}}function RF(t="light"){return t==="dark"?{main:Wp[400],light:Wp[300],dark:Wp[700]}:{main:"#ed6c02",light:Wp[500],dark:Wp[900]}}function AF(t){return`oklch(from ${t} var(--__l) 0 h / var(--__a))`}function mS(t){const{mode:e="light",contrastThreshold:r=3,tonalOffset:n=.2,colorSpace:o,...i}=t,s=t.primary||CF(e),a=t.secondary||kF(e),l=t.error||EF(e),p=t.info||TF(e),f=t.success||jF(e),h=t.warning||RF(e);function m(x){return o?AF(x):C6(x,R1.text.primary)>=r?R1.text.primary:F_.text.primary}const y=({color:x,name:C,mainShade:E=500,lightShade:j=300,darkShade:T=700})=>{if(x={...x},!x.main&&x[E]&&(x.main=x[E]),!x.hasOwnProperty("main"))throw new Error(ga(11,C?` (${C})`:"",E));if(typeof x.main!="string")throw new Error(ga(12,C?` (${C})`:"",JSON.stringify(x.main)));return o?(hT(o,x,"light",j,n),hT(o,x,"dark",T,n)):(fT(x,"light",j,n),fT(x,"dark",T,n)),x.contrastText||(x.contrastText=m(x.main)),x};let v;return e==="light"?v=$_():e==="dark"&&(v=B_()),Un({common:{...Yf},mode:e,primary:y({color:s,name:"primary"}),secondary:y({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:l,name:"error"}),warning:y({color:h,name:"warning"}),info:y({color:p,name:"info"}),success:y({color:f,name:"success"}),grey:lz,contrastThreshold:r,getContrastText:m,augmentColor:y,tonalOffset:n,...v},i)}function _F(t){const e={};return Object.entries(t).forEach(n=>{const[o,i]=n;typeof i=="object"&&(e[o]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),e}function MF(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function IF(t){return Math.round(t*1e5)/1e5}const mT={textTransform:"uppercase"},gT='"Roboto", "Helvetica", "Arial", sans-serif';function W_(t,e){const{fontFamily:r=gT,fontSize:n=14,fontWeightLight:o=300,fontWeightRegular:i=400,fontWeightMedium:s=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:p,pxToRem:f,...h}=typeof e=="function"?e(t):e,m=n/14,y=f||(x=>`${x/l*m}rem`),v=(x,C,E,j,T)=>({fontFamily:r,fontWeight:x,fontSize:y(C),lineHeight:E,...r===gT?{letterSpacing:`${IF(j/C)}em`}:{},...T,...p}),b={h1:v(o,96,1.167,-1.5),h2:v(o,60,1.2,-.5),h3:v(i,48,1.167,0),h4:v(i,34,1.235,.25),h5:v(i,24,1.334,0),h6:v(s,20,1.6,.15),subtitle1:v(i,16,1.75,.15),subtitle2:v(s,14,1.57,.1),body1:v(i,16,1.5,.15),body2:v(i,14,1.43,.15),button:v(s,14,1.75,.4,mT),caption:v(i,12,1.66,.4),overline:v(i,12,2.66,1,mT),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Un({htmlFontSize:l,pxToRem:y,fontFamily:r,fontSize:n,fontWeightLight:o,fontWeightRegular:i,fontWeightMedium:s,fontWeightBold:a,...b},h,{clone:!1})}const OF=.2,PF=.14,NF=.12;function Ur(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${OF})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${PF})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${NF})`].join(",")}const LF=["none",Ur(0,2,1,-1,0,1,1,0,0,1,3,0),Ur(0,3,1,-2,0,2,2,0,0,1,5,0),Ur(0,3,3,-2,0,3,4,0,0,1,8,0),Ur(0,2,4,-1,0,4,5,0,0,1,10,0),Ur(0,3,5,-1,0,5,8,0,0,1,14,0),Ur(0,3,5,-1,0,6,10,0,0,1,18,0),Ur(0,4,5,-2,0,7,10,1,0,2,16,1),Ur(0,5,5,-3,0,8,10,1,0,3,14,2),Ur(0,5,6,-3,0,9,12,1,0,3,16,2),Ur(0,6,6,-3,0,10,14,1,0,4,18,3),Ur(0,6,7,-4,0,11,15,1,0,4,20,3),Ur(0,7,8,-4,0,12,17,2,0,5,22,4),Ur(0,7,8,-4,0,13,19,2,0,5,24,4),Ur(0,7,9,-4,0,14,21,2,0,5,26,4),Ur(0,8,9,-5,0,15,22,2,0,6,28,5),Ur(0,8,10,-5,0,16,24,2,0,6,30,5),Ur(0,8,11,-5,0,17,26,2,0,6,32,5),Ur(0,9,11,-5,0,18,28,2,0,7,34,6),Ur(0,9,12,-6,0,19,29,2,0,7,36,6),Ur(0,10,13,-6,0,20,31,3,0,8,38,7),Ur(0,10,13,-6,0,21,33,3,0,8,40,7),Ur(0,10,14,-6,0,22,35,3,0,8,42,7),Ur(0,11,14,-7,0,23,36,3,0,9,44,8),Ur(0,11,15,-7,0,24,38,3,0,9,46,8)],DF={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},H_={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function yT(t){return`${Math.round(t)}ms`}function zF(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function $F(t){const e={...DF,...t.easing},r={...H_,...t.duration};return{getAutoHeightDuration:zF,create:(o=["all"],i={})=>{const{duration:s=r.standard,easing:a=e.easeInOut,delay:l=0,...p}=i;return(Array.isArray(o)?o:[o]).map(f=>`${f} ${typeof s=="string"?s:yT(s)} ${a} ${typeof l=="string"?l:yT(l)}`).join(",")},...t,easing:e,duration:r}}const FF={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function BF(t){return As(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function U_(t={}){const e={...t};function r(n){const o=Object.entries(n);for(let i=0;i<o.length;i++){const[s,a]=o[i];!BF(a)||s.startsWith("unstable_")?delete n[s]:As(a)&&(n[s]={...a},r(n[s]))}}return r(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function vT(t){return typeof t=="number"?`${(t*100).toFixed(0)}%`:`calc((${t}) * 100%)`}const WF=t=>{if(!Number.isNaN(+t))return+t;const e=t.match(/\d*\.?\d+/g);if(!e)return 0;let r=0;for(let n=0;n<e.length;n+=1)r+=+e[n];return r};function HF(t){Object.assign(t,{alpha(e,r){const n=this||t;return n.colorSpace?`oklch(from ${e} l c h / ${typeof r=="string"?`calc(${r})`:r})`:n.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof r=="string"?`calc(${r})`:r})`:q(e,WF(r))},lighten(e,r){const n=this||t;return n.colorSpace?`color-mix(in ${n.colorSpace}, ${e}, #fff ${vT(r)})`:T0(e,r)},darken(e,r){const n=this||t;return n.colorSpace?`color-mix(in ${n.colorSpace}, ${e}, #000 ${vT(r)})`:E0(e,r)}})}function A1(t={},...e){const{breakpoints:r,mixins:n={},spacing:o,palette:i={},transitions:s={},typography:a={},shape:l,colorSpace:p,...f}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(ga(20));const h=mS({...i,colorSpace:p}),m=Qd(t);let y=Un(m,{mixins:MF(m.breakpoints,n),palette:h,shadows:LF.slice(),typography:W_(h,a),transitions:$F(s),zIndex:{...FF}});return y=Un(y,f),y=e.reduce((v,b)=>Un(v,b),y),y.unstable_sxConfig={...Ih,...f==null?void 0:f.unstable_sxConfig},y.unstable_sx=function(b){return Il({sx:b,theme:this})},y.toRuntimeSource=U_,HF(y),y}function _1(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const UF=[...Array(25)].map((t,e)=>{if(e===0)return"none";const r=_1(e);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function V_(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function q_(t){return t==="dark"?UF:[]}function VF(t){const{palette:e={mode:"light"},opacity:r,overlays:n,colorSpace:o,...i}=t,s=mS({...e,colorSpace:o});return{palette:s,opacity:{...V_(s.mode),...r},overlays:n||q_(s.mode),...i}}function qF(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const GF=t=>[...[...Array(25)].map((e,r)=>`--${t?`${t}-`:""}overlays-${r}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],KF=t=>(e,r)=>{const n=t.rootSelector||":root",o=t.colorSchemeSelector;let i=o;if(o==="class"&&(i=".%s"),o==="data"&&(i="[data-%s]"),o!=null&&o.startsWith("data-")&&!o.includes("%s")&&(i=`[${o}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const s={};return GF(t.cssVarPrefix).forEach(a=>{s[a]=r[a],delete r[a]}),i==="media"?{[n]:r,"@media (prefers-color-scheme: dark)":{[n]:s}}:i?{[i.replace("%s",e)]:s,[`${n}, ${i.replace("%s",e)}`]:r}:{[n]:{...r,...s}}}if(i&&i!=="media")return`${n}, ${i.replace("%s",String(e))}`}else if(e){if(i==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[n]:r}};if(i)return i.replace("%s",String(e))}return n};function YF(t,e){e.forEach(r=>{t[r]||(t[r]={})})}function xe(t,e,r){!t[e]&&r&&(t[e]=r)}function cf(t){return typeof t!="string"||!t.startsWith("hsl")?t:O_(t)}function Js(t,e){`${e}Channel`in t||(t[`${e}Channel`]=lf(cf(t[e])))}function JF(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const xs=t=>{try{return t()}catch{}},XF=(t="mui")=>U6(t);function ob(t,e,r,n,o){if(!r)return;r=r===!0?{}:r;const i=o==="dark"?"dark":"light";if(!n){e[o]=VF({...r,palette:{mode:i,...r==null?void 0:r.palette},colorSpace:t});return}const{palette:s,...a}=A1({...n,palette:{mode:i,...r==null?void 0:r.palette},colorSpace:t});return e[o]={...r,palette:s,opacity:{...V_(i),...r==null?void 0:r.opacity},overlays:(r==null?void 0:r.overlays)||q_(i)},a}function QF(t={},...e){const{colorSchemes:r={light:!0},defaultColorScheme:n,disableCssColorScheme:o=!1,cssVarPrefix:i="mui",nativeColor:s=!1,shouldSkipGeneratingVar:a=qF,colorSchemeSelector:l=r.light&&r.dark?"media":void 0,rootSelector:p=":root",...f}=t,h=Object.keys(r)[0],m=n||(r.light&&h!=="light"?"light":h),y=XF(i),{[m]:v,light:b,dark:x,...C}=r,E={...C};let j=v;if((m==="dark"&&!("dark"in r)||m==="light"&&!("light"in r))&&(j=!0),!j)throw new Error(ga(21,m));let T;s&&(T="oklch");const k=ob(T,E,j,f,m);b&&!E.light&&ob(T,E,b,void 0,"light"),x&&!E.dark&&ob(T,E,x,void 0,"dark");let A={defaultColorScheme:m,...k,cssVarPrefix:i,colorSchemeSelector:l,rootSelector:p,getCssVar:y,colorSchemes:E,font:{..._F(k.typography),...k.font},spacing:JF(f.spacing)};Object.keys(A.colorSchemes).forEach(B=>{const O=A.colorSchemes[B].palette,D=U=>{const V=U.split("-"),G=V[1],W=V[2];return y(U,O[G][W])};O.mode==="light"&&(xe(O.common,"background","#fff"),xe(O.common,"onBackground","#000")),O.mode==="dark"&&(xe(O.common,"background","#000"),xe(O.common,"onBackground","#fff"));function F(U,V,G){if(T){let W;return U===pc&&(W=`transparent ${((1-G)*100).toFixed(0)}%`),U===kr&&(W=`#000 ${(G*100).toFixed(0)}%`),U===Er&&(W=`#fff ${(G*100).toFixed(0)}%`),`color-mix(in ${T}, ${V}, ${W})`}return U(V,G)}if(YF(O,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),O.mode==="light"){xe(O.Alert,"errorColor",F(kr,O.error.light,.6)),xe(O.Alert,"infoColor",F(kr,O.info.light,.6)),xe(O.Alert,"successColor",F(kr,O.success.light,.6)),xe(O.Alert,"warningColor",F(kr,O.warning.light,.6)),xe(O.Alert,"errorFilledBg",D("palette-error-main")),xe(O.Alert,"infoFilledBg",D("palette-info-main")),xe(O.Alert,"successFilledBg",D("palette-success-main")),xe(O.Alert,"warningFilledBg",D("palette-warning-main")),xe(O.Alert,"errorFilledColor",xs(()=>O.getContrastText(O.error.main))),xe(O.Alert,"infoFilledColor",xs(()=>O.getContrastText(O.info.main))),xe(O.Alert,"successFilledColor",xs(()=>O.getContrastText(O.success.main))),xe(O.Alert,"warningFilledColor",xs(()=>O.getContrastText(O.warning.main))),xe(O.Alert,"errorStandardBg",F(Er,O.error.light,.9)),xe(O.Alert,"infoStandardBg",F(Er,O.info.light,.9)),xe(O.Alert,"successStandardBg",F(Er,O.success.light,.9)),xe(O.Alert,"warningStandardBg",F(Er,O.warning.light,.9)),xe(O.Alert,"errorIconColor",D("palette-error-main")),xe(O.Alert,"infoIconColor",D("palette-info-main")),xe(O.Alert,"successIconColor",D("palette-success-main")),xe(O.Alert,"warningIconColor",D("palette-warning-main")),xe(O.AppBar,"defaultBg",D("palette-grey-100")),xe(O.Avatar,"defaultBg",D("palette-grey-400")),xe(O.Button,"inheritContainedBg",D("palette-grey-300")),xe(O.Button,"inheritContainedHoverBg",D("palette-grey-A100")),xe(O.Chip,"defaultBorder",D("palette-grey-400")),xe(O.Chip,"defaultAvatarColor",D("palette-grey-700")),xe(O.Chip,"defaultIconColor",D("palette-grey-700")),xe(O.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),xe(O.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),xe(O.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),xe(O.LinearProgress,"primaryBg",F(Er,O.primary.main,.62)),xe(O.LinearProgress,"secondaryBg",F(Er,O.secondary.main,.62)),xe(O.LinearProgress,"errorBg",F(Er,O.error.main,.62)),xe(O.LinearProgress,"infoBg",F(Er,O.info.main,.62)),xe(O.LinearProgress,"successBg",F(Er,O.success.main,.62)),xe(O.LinearProgress,"warningBg",F(Er,O.warning.main,.62)),xe(O.Skeleton,"bg",T?F(pc,O.text.primary,.11):`rgba(${D("palette-text-primaryChannel")} / 0.11)`),xe(O.Slider,"primaryTrack",F(Er,O.primary.main,.62)),xe(O.Slider,"secondaryTrack",F(Er,O.secondary.main,.62)),xe(O.Slider,"errorTrack",F(Er,O.error.main,.62)),xe(O.Slider,"infoTrack",F(Er,O.info.main,.62)),xe(O.Slider,"successTrack",F(Er,O.success.main,.62)),xe(O.Slider,"warningTrack",F(Er,O.warning.main,.62));const U=T?F(kr,O.background.default,.6825):eg(O.background.default,.8);xe(O.SnackbarContent,"bg",U),xe(O.SnackbarContent,"color",xs(()=>T?R1.text.primary:O.getContrastText(U))),xe(O.SpeedDialAction,"fabHoverBg",eg(O.background.paper,.15)),xe(O.StepConnector,"border",D("palette-grey-400")),xe(O.StepContent,"border",D("palette-grey-400")),xe(O.Switch,"defaultColor",D("palette-common-white")),xe(O.Switch,"defaultDisabledColor",D("palette-grey-100")),xe(O.Switch,"primaryDisabledColor",F(Er,O.primary.main,.62)),xe(O.Switch,"secondaryDisabledColor",F(Er,O.secondary.main,.62)),xe(O.Switch,"errorDisabledColor",F(Er,O.error.main,.62)),xe(O.Switch,"infoDisabledColor",F(Er,O.info.main,.62)),xe(O.Switch,"successDisabledColor",F(Er,O.success.main,.62)),xe(O.Switch,"warningDisabledColor",F(Er,O.warning.main,.62)),xe(O.TableCell,"border",F(Er,F(pc,O.divider,1),.88)),xe(O.Tooltip,"bg",F(pc,O.grey[700],.92))}if(O.mode==="dark"){xe(O.Alert,"errorColor",F(Er,O.error.light,.6)),xe(O.Alert,"infoColor",F(Er,O.info.light,.6)),xe(O.Alert,"successColor",F(Er,O.success.light,.6)),xe(O.Alert,"warningColor",F(Er,O.warning.light,.6)),xe(O.Alert,"errorFilledBg",D("palette-error-dark")),xe(O.Alert,"infoFilledBg",D("palette-info-dark")),xe(O.Alert,"successFilledBg",D("palette-success-dark")),xe(O.Alert,"warningFilledBg",D("palette-warning-dark")),xe(O.Alert,"errorFilledColor",xs(()=>O.getContrastText(O.error.dark))),xe(O.Alert,"infoFilledColor",xs(()=>O.getContrastText(O.info.dark))),xe(O.Alert,"successFilledColor",xs(()=>O.getContrastText(O.success.dark))),xe(O.Alert,"warningFilledColor",xs(()=>O.getContrastText(O.warning.dark))),xe(O.Alert,"errorStandardBg",F(kr,O.error.light,.9)),xe(O.Alert,"infoStandardBg",F(kr,O.info.light,.9)),xe(O.Alert,"successStandardBg",F(kr,O.success.light,.9)),xe(O.Alert,"warningStandardBg",F(kr,O.warning.light,.9)),xe(O.Alert,"errorIconColor",D("palette-error-main")),xe(O.Alert,"infoIconColor",D("palette-info-main")),xe(O.Alert,"successIconColor",D("palette-success-main")),xe(O.Alert,"warningIconColor",D("palette-warning-main")),xe(O.AppBar,"defaultBg",D("palette-grey-900")),xe(O.AppBar,"darkBg",D("palette-background-paper")),xe(O.AppBar,"darkColor",D("palette-text-primary")),xe(O.Avatar,"defaultBg",D("palette-grey-600")),xe(O.Button,"inheritContainedBg",D("palette-grey-800")),xe(O.Button,"inheritContainedHoverBg",D("palette-grey-700")),xe(O.Chip,"defaultBorder",D("palette-grey-700")),xe(O.Chip,"defaultAvatarColor",D("palette-grey-300")),xe(O.Chip,"defaultIconColor",D("palette-grey-300")),xe(O.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),xe(O.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),xe(O.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),xe(O.LinearProgress,"primaryBg",F(kr,O.primary.main,.5)),xe(O.LinearProgress,"secondaryBg",F(kr,O.secondary.main,.5)),xe(O.LinearProgress,"errorBg",F(kr,O.error.main,.5)),xe(O.LinearProgress,"infoBg",F(kr,O.info.main,.5)),xe(O.LinearProgress,"successBg",F(kr,O.success.main,.5)),xe(O.LinearProgress,"warningBg",F(kr,O.warning.main,.5)),xe(O.Skeleton,"bg",T?F(pc,O.text.primary,.13):`rgba(${D("palette-text-primaryChannel")} / 0.13)`),xe(O.Slider,"primaryTrack",F(kr,O.primary.main,.5)),xe(O.Slider,"secondaryTrack",F(kr,O.secondary.main,.5)),xe(O.Slider,"errorTrack",F(kr,O.error.main,.5)),xe(O.Slider,"infoTrack",F(kr,O.info.main,.5)),xe(O.Slider,"successTrack",F(kr,O.success.main,.5)),xe(O.Slider,"warningTrack",F(kr,O.warning.main,.5));const U=T?F(Er,O.background.default,.985):eg(O.background.default,.98);xe(O.SnackbarContent,"bg",U),xe(O.SnackbarContent,"color",xs(()=>T?F_.text.primary:O.getContrastText(U))),xe(O.SpeedDialAction,"fabHoverBg",eg(O.background.paper,.15)),xe(O.StepConnector,"border",D("palette-grey-600")),xe(O.StepContent,"border",D("palette-grey-600")),xe(O.Switch,"defaultColor",D("palette-grey-300")),xe(O.Switch,"defaultDisabledColor",D("palette-grey-600")),xe(O.Switch,"primaryDisabledColor",F(kr,O.primary.main,.55)),xe(O.Switch,"secondaryDisabledColor",F(kr,O.secondary.main,.55)),xe(O.Switch,"errorDisabledColor",F(kr,O.error.main,.55)),xe(O.Switch,"infoDisabledColor",F(kr,O.info.main,.55)),xe(O.Switch,"successDisabledColor",F(kr,O.success.main,.55)),xe(O.Switch,"warningDisabledColor",F(kr,O.warning.main,.55)),xe(O.TableCell,"border",F(kr,F(pc,O.divider,1),.68)),xe(O.Tooltip,"bg",F(pc,O.grey[700],.92))}Js(O.background,"default"),Js(O.background,"paper"),Js(O.common,"background"),Js(O.common,"onBackground"),Js(O,"divider"),Object.keys(O).forEach(U=>{const V=O[U];U!=="tonalOffset"&&V&&typeof V=="object"&&(V.main&&xe(O[U],"mainChannel",lf(cf(V.main))),V.light&&xe(O[U],"lightChannel",lf(cf(V.light))),V.dark&&xe(O[U],"darkChannel",lf(cf(V.dark))),V.contrastText&&xe(O[U],"contrastTextChannel",lf(cf(V.contrastText))),U==="text"&&(Js(O[U],"primary"),Js(O[U],"secondary")),U==="action"&&(V.active&&Js(O[U],"active"),V.selected&&Js(O[U],"selected")))})}),A=e.reduce((B,O)=>Un(B,O),A);const _={prefix:i,disableCssColorScheme:o,shouldSkipGeneratingVar:a,getSelector:KF(A),enableContrastVars:s},{vars:I,generateThemeVars:P,generateStyleSheets:N}=G6(A,_);return A.vars=I,Object.entries(A.colorSchemes[A.defaultColorScheme]).forEach(([B,O])=>{A[B]=O}),A.generateThemeVars=P,A.generateStyleSheets=N,A.generateSpacing=function(){return S_(f.spacing,g0(this))},A.getColorSchemeSelector=K6(l),A.spacing=A.generateSpacing(),A.shouldSkipGeneratingVar=a,A.unstable_sxConfig={...Ih,...f==null?void 0:f.unstable_sxConfig},A.unstable_sx=function(O){return Il({sx:O,theme:this})},A.toRuntimeSource=U_,A}function xT(t,e,r){t.colorSchemes&&r&&(t.colorSchemes[e]={...r!==!0&&r,palette:mS({...r===!0?{}:r.palette,mode:e})})}function Ph(t={},...e){const{palette:r,cssVariables:n=!1,colorSchemes:o=r?void 0:{light:!0},defaultColorScheme:i=r==null?void 0:r.mode,...s}=t,a=i||"light",l=o==null?void 0:o[a],p={...o,...r?{[a]:{...typeof l!="boolean"&&l,palette:r}}:void 0};if(n===!1){if(!("colorSchemes"in t))return A1(t,...e);let f=r;"palette"in t||p[a]&&(p[a]!==!0?f=p[a].palette:a==="dark"&&(f={mode:"dark"}));const h=A1({...t,palette:f},...e);return h.defaultColorScheme=a,h.colorSchemes=p,h.palette.mode==="light"&&(h.colorSchemes.light={...p.light!==!0&&p.light,palette:h.palette},xT(h,"dark",p.dark)),h.palette.mode==="dark"&&(h.colorSchemes.dark={...p.dark!==!0&&p.dark,palette:h.palette},xT(h,"light",p.light)),h}return!r&&!("light"in p)&&a==="light"&&(p.light=!0),QF({...s,colorSchemes:p,defaultColorScheme:a,...typeof n!="boolean"&&n},...e)}function ZF(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function e9(t){return parseFloat(t)}const gS=Ph();function Yt(){const t=Oh(gS);return t[ss]||t}function yS(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const no=t=>yS(t)&&t!=="classes",oe=R_({themeId:ss,defaultTheme:gS,rootShouldForwardProp:no});function t9({theme:t,...e}){const r=ss in t?t[ss]:void 0;return u.jsx(D_,{...e,themeId:r?ss:void 0,theme:r||t})}const tg={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:r9}=H6({themeId:ss,theme:()=>Ph({cssVariables:!0}),colorSchemeStorageKey:tg.colorSchemeStorageKey,modeStorageKey:tg.modeStorageKey,defaultColorScheme:{light:tg.defaultLightColorScheme,dark:tg.defaultDarkColorScheme},resolveTheme:t=>{const e={...t,typography:W_(t.palette,t.typography)};return e.unstable_sx=function(n){return Il({sx:n,theme:this})},e}}),n9=r9;function o9({theme:t,...e}){const r=S.useMemo(()=>{if(typeof t=="function")return t;const n=ss in t?t[ss]:t;return"colorSchemes"in n?null:"vars"in n?t:{...t,vars:null}},[t]);return r?u.jsx(t9,{theme:r,...e}):u.jsx(n9,{theme:t,...e})}function bT(...t){return t.reduce((e,r)=>r==null?e:function(...o){e.apply(this,o),r.apply(this,o)},()=>{})}function G_(t){return u.jsx(C_,{...t,defaultTheme:gS,themeId:ss})}function vS(t){return function(r){return u.jsx(G_,{styles:typeof t=="function"?n=>t({theme:n,...r}):t})}}function i9(){return C0}const rt=N6;function nt(t){return M6(t)}function s9(t){return et("MuiSvgIcon",t)}st("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const a9=t=>{const{color:e,fontSize:r,classes:n}=t,o={root:["root",e!=="inherit"&&`color${ue(e)}`,`fontSize${ue(r)}`]};return tt(o,s9,n)},l9=oe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="inherit"&&e[`color${ue(r.color)}`],e[`fontSize${ue(r.fontSize)}`]]}})(rt(({theme:t})=>{var e,r,n,o,i,s,a,l,p,f,h,m,y,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(o=(e=t.transitions)==null?void 0:e.create)==null?void 0:o.call(e,"fill",{duration:(n=(r=(t.vars??t).transitions)==null?void 0:r.duration)==null?void 0:n.shorter}),variants:[{props:b=>!b.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((s=(i=t.typography)==null?void 0:i.pxToRem)==null?void 0:s.call(i,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((f=(p=t.typography)==null?void 0:p.pxToRem)==null?void 0:f.call(p,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,b])=>b&&b.main).map(([b])=>{var x,C;return{props:{color:b},style:{color:(C=(x=(t.vars??t).palette)==null?void 0:x[b])==null?void 0:C.main}}}),{props:{color:"action"},style:{color:(m=(h=(t.vars??t).palette)==null?void 0:h.action)==null?void 0:m.active}},{props:{color:"disabled"},style:{color:(v=(y=(t.vars??t).palette)==null?void 0:y.action)==null?void 0:v.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),eh=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiSvgIcon"}),{children:o,className:i,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:p,inheritViewBox:f=!1,titleAccess:h,viewBox:m="0 0 24 24",...y}=n,v=S.isValidElement(o)&&o.type==="svg",b={...n,color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:m,hasSvgAsChild:v},x={};f||(x.viewBox=m);const C=a9(b);return u.jsxs(l9,{as:a,className:Se(C.root,i),focusable:"false",color:p,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:r,...x,...y,...v&&o.props,ownerState:b,children:[v?o.props.children:o,h?u.jsx("title",{children:h}):null]})});eh.muiName="SvgIcon";function pe(t,e){function r(n,o){return u.jsx(eh,{"data-testid":void 0,ref:o,...n,children:t})}return r.muiName=eh.muiName,S.memo(S.forwardRef(r))}function Nh(t,e=166){let r;function n(...o){const i=()=>{t.apply(this,o)};clearTimeout(r),r=setTimeout(i,e)}return n.clear=()=>{clearTimeout(r)},n}function ro(t){return t&&t.ownerDocument||document}function ii(t){return ro(t).defaultView||window}function M1(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function pa(t){const{controlled:e,default:r,name:n,state:o="value"}=t,{current:i}=S.useRef(e!==void 0),[s,a]=S.useState(r),l=i?e:s,p=S.useCallback(f=>{i||a(f)},[]);return[l,p]}function _n(t){const e=S.useRef(t);return Eo(()=>{e.current=t}),S.useRef((...r)=>(0,e.current)(...r)).current}function zr(...t){const e=S.useRef(void 0),r=S.useCallback(n=>{const o=t.map(i=>{if(i==null)return null;if(typeof i=="function"){const s=i,a=s(n);return typeof a=="function"?a:()=>{s(null)}}return i.current=n,()=>{i.current=null}});return()=>{o.forEach(i=>i==null?void 0:i())}},t);return S.useMemo(()=>t.every(n=>n==null)?null:n=>{e.current&&(e.current(),e.current=void 0),n!=null&&(e.current=r(n))},t)}function c9(t,e){const r=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&r>=65&&r<=90&&typeof e=="function"}function xS(t,e){if(!t)return e;function r(s,a){const l={};return Object.keys(a).forEach(p=>{c9(p,a[p])&&typeof s[p]=="function"&&(l[p]=(...f)=>{s[p](...f),a[p](...f)})}),l}if(typeof t=="function"||typeof e=="function")return s=>{const a=typeof e=="function"?e(s):e,l=typeof t=="function"?t({...s,...a}):t,p=Se(s==null?void 0:s.className,a==null?void 0:a.className,l==null?void 0:l.className),f=r(l,a);return{...a,...l,...f,...!!p&&{className:p},...(a==null?void 0:a.style)&&(l==null?void 0:l.style)&&{style:{...a.style,...l.style}},...(a==null?void 0:a.sx)&&(l==null?void 0:l.sx)&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(l.sx)?l.sx:[l.sx]]}}};const n=e,o=r(t,n),i=Se(n==null?void 0:n.className,t==null?void 0:t.className);return{...e,...t,...o,...!!i&&{className:i},...(n==null?void 0:n.style)&&(t==null?void 0:t.style)&&{style:{...n.style,...t.style}},...(n==null?void 0:n.sx)&&(t==null?void 0:t.sx)&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function K_(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function I1(t,e){return I1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},I1(t,e)}function Y_(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,I1(t,e)}var ua=F5();const uf=Th(ua),wT={disabled:!1},ey=Gt.createContext(null);var u9=function(e){return e.scrollTop},df="unmounted",yc="exited",vc="entering",ed="entered",O1="exiting",li=(function(t){Y_(e,t);function e(n,o){var i;i=t.call(this,n,o)||this;var s=o,a=s&&!s.isMounting?n.enter:n.appear,l;return i.appearStatus=null,n.in?a?(l=yc,i.appearStatus=vc):l=ed:n.unmountOnExit||n.mountOnEnter?l=df:l=yc,i.state={status:l},i.nextCallback=null,i}e.getDerivedStateFromProps=function(o,i){var s=o.in;return s&&i.status===df?{status:yc}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(o){var i=null;if(o!==this.props){var s=this.state.status;this.props.in?s!==vc&&s!==ed&&(i=vc):(s===vc||s===ed)&&(i=O1)}this.updateStatus(!1,i)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var o=this.props.timeout,i,s,a;return i=s=a=o,o!=null&&typeof o!="number"&&(i=o.exit,s=o.enter,a=o.appear!==void 0?o.appear:s),{exit:i,enter:s,appear:a}},r.updateStatus=function(o,i){if(o===void 0&&(o=!1),i!==null)if(this.cancelNextCallback(),i===vc){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:uf.findDOMNode(this);s&&u9(s)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===yc&&this.setState({status:df})},r.performEnter=function(o){var i=this,s=this.props.enter,a=this.context?this.context.isMounting:o,l=this.props.nodeRef?[a]:[uf.findDOMNode(this),a],p=l[0],f=l[1],h=this.getTimeouts(),m=a?h.appear:h.enter;if(!o&&!s||wT.disabled){this.safeSetState({status:ed},function(){i.props.onEntered(p)});return}this.props.onEnter(p,f),this.safeSetState({status:vc},function(){i.props.onEntering(p,f),i.onTransitionEnd(m,function(){i.safeSetState({status:ed},function(){i.props.onEntered(p,f)})})})},r.performExit=function(){var o=this,i=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:uf.findDOMNode(this);if(!i||wT.disabled){this.safeSetState({status:yc},function(){o.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:O1},function(){o.props.onExiting(a),o.onTransitionEnd(s.exit,function(){o.safeSetState({status:yc},function(){o.props.onExited(a)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(o,i){i=this.setNextCallback(i),this.setState(o,i)},r.setNextCallback=function(o){var i=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,i.nextCallback=null,o(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},r.onTransitionEnd=function(o,i){this.setNextCallback(i);var s=this.props.nodeRef?this.props.nodeRef.current:uf.findDOMNode(this),a=o==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],p=l[0],f=l[1];this.props.addEndListener(p,f)}o!=null&&setTimeout(this.nextCallback,o)},r.render=function(){var o=this.state.status;if(o===df)return null;var i=this.props,s=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=K_(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Gt.createElement(ey.Provider,{value:null},typeof s=="function"?s(o,a):Gt.cloneElement(Gt.Children.only(s),a))},e})(Gt.Component);li.contextType=ey;li.propTypes={};function Bu(){}li.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Bu,onEntering:Bu,onEntered:Bu,onExit:Bu,onExiting:Bu,onExited:Bu};li.UNMOUNTED=df;li.EXITED=yc;li.ENTERING=vc;li.ENTERED=ed;li.EXITING=O1;function d9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bS(t,e){var r=function(i){return e&&S.isValidElement(i)?e(i):i},n=Object.create(null);return t&&S.Children.map(t,function(o){return o}).forEach(function(o){n[o.key]=r(o)}),n}function p9(t,e){t=t||{},e=e||{};function r(f){return f in e?e[f]:t[f]}var n=Object.create(null),o=[];for(var i in t)i in e?o.length&&(n[i]=o,o=[]):o.push(i);var s,a={};for(var l in e){if(n[l])for(s=0;s<n[l].length;s++){var p=n[l][s];a[n[l][s]]=r(p)}a[l]=r(l)}for(s=0;s<o.length;s++)a[o[s]]=r(o[s]);return a}function kc(t,e,r){return r[e]!=null?r[e]:t.props[e]}function f9(t,e){return bS(t.children,function(r){return S.cloneElement(r,{onExited:e.bind(null,r),in:!0,appear:kc(r,"appear",t),enter:kc(r,"enter",t),exit:kc(r,"exit",t)})})}function h9(t,e,r){var n=bS(t.children),o=p9(e,n);return Object.keys(o).forEach(function(i){var s=o[i];if(S.isValidElement(s)){var a=i in e,l=i in n,p=e[i],f=S.isValidElement(p)&&!p.props.in;l&&(!a||f)?o[i]=S.cloneElement(s,{onExited:r.bind(null,s),in:!0,exit:kc(s,"exit",t),enter:kc(s,"enter",t)}):!l&&a&&!f?o[i]=S.cloneElement(s,{in:!1}):l&&a&&S.isValidElement(p)&&(o[i]=S.cloneElement(s,{onExited:r.bind(null,s),in:p.props.in,exit:kc(s,"exit",t),enter:kc(s,"enter",t)}))}}),o}var m9=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},g9={component:"div",childFactory:function(e){return e}},wS=(function(t){Y_(e,t);function e(n,o){var i;i=t.call(this,n,o)||this;var s=i.handleExited.bind(d9(i));return i.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},i}var r=e.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(o,i){var s=i.children,a=i.handleExited,l=i.firstRender;return{children:l?f9(o,a):h9(o,s,a),firstRender:!1}},r.handleExited=function(o,i){var s=bS(this.props.children);o.key in s||(o.props.onExited&&o.props.onExited(i),this.mounted&&this.setState(function(a){var l=Jg({},a.children);return delete l[o.key],{children:l}}))},r.render=function(){var o=this.props,i=o.component,s=o.childFactory,a=K_(o,["component","childFactory"]),l=this.state.contextValue,p=m9(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,i===null?Gt.createElement(ey.Provider,{value:l},p):Gt.createElement(ey.Provider,{value:l},Gt.createElement(i,a,p))},e})(Gt.Component);wS.propTypes={};wS.defaultProps=g9;const ST={};function J_(t,e){const r=S.useRef(ST);return r.current===ST&&(r.current=t(e)),r}const y9=[];function v9(t){S.useEffect(t,y9)}class R0{constructor(){$p(this,"currentId",null);$p(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});$p(this,"disposeEffect",()=>this.clear)}static create(){return new R0}start(e,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},e)}}function vl(){const t=J_(R0.create).current;return v9(t.disposeEffect),t}const A0=t=>t.scrollTop;function Os(t,e){const{timeout:r,easing:n,style:o={}}=t;return{duration:o.transitionDuration??(typeof r=="number"?r:r[e.mode]||0),easing:o.transitionTimingFunction??(typeof n=="object"?n[e.mode]:n),delay:o.transitionDelay}}function Md(t){return typeof t=="string"}function X_(t,e,r){return t===void 0||Md(t)?e:{...e,ownerState:{...e.ownerState,...r}}}function Q_(t,e,r){return typeof t=="function"?t(e,r):t}function ty(t,e=[]){if(t===void 0)return{};const r={};return Object.keys(t).filter(n=>n.match(/^on[A-Z]/)&&typeof t[n]=="function"&&!e.includes(n)).forEach(n=>{r[n]=t[n]}),r}function CT(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(r=>!(r.match(/^on[A-Z]/)&&typeof t[r]=="function")).forEach(r=>{e[r]=t[r]}),e}function Z_(t){const{getSlotProps:e,additionalProps:r,externalSlotProps:n,externalForwardedProps:o,className:i}=t;if(!e){const y=Se(r==null?void 0:r.className,i,o==null?void 0:o.className,n==null?void 0:n.className),v={...r==null?void 0:r.style,...o==null?void 0:o.style,...n==null?void 0:n.style},b={...r,...o,...n};return y.length>0&&(b.className=y),Object.keys(v).length>0&&(b.style=v),{props:b,internalRef:void 0}}const s=ty({...o,...n}),a=CT(n),l=CT(o),p=e(s),f=Se(p==null?void 0:p.className,r==null?void 0:r.className,i,o==null?void 0:o.className,n==null?void 0:n.className),h={...p==null?void 0:p.style,...r==null?void 0:r.style,...o==null?void 0:o.style,...n==null?void 0:n.style},m={...p,...r,...l,...a};return f.length>0&&(m.className=f),Object.keys(h).length>0&&(m.style=h),{props:m,internalRef:p.ref}}function it(t,e){const{className:r,elementType:n,ownerState:o,externalForwardedProps:i,internalForwardedProps:s,shouldForwardComponentProp:a=!1,...l}=e,{component:p,slots:f={[t]:void 0},slotProps:h={[t]:void 0},...m}=i,y=f[t]||n,v=Q_(h[t],o),{props:{component:b,...x},internalRef:C}=Z_({className:r,...l,externalForwardedProps:t==="root"?m:void 0,externalSlotProps:v}),E=zr(C,v==null?void 0:v.ref,e.ref),j=t==="root"?b||p:b,T=X_(y,{...t==="root"&&!p&&!f[t]&&s,...t!=="root"&&!f[t]&&s,...x,...j&&!a&&{as:j},...j&&a&&{component:j},ref:E},o);return[y,T]}function x9(t){return et("MuiCollapse",t)}st("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const b9=t=>{const{orientation:e,classes:r}=t,n={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return tt(n,x9,r)},w9=oe("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.orientation],r.state==="entered"&&e.entered,r.state==="exited"&&!r.in&&r.collapsedSize==="0px"&&e.hidden]}})(rt(({theme:t})=>({height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),S9=oe("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),C9=oe("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Ms=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiCollapse"}),{addEndListener:o,children:i,className:s,collapsedSize:a="0px",component:l,easing:p,in:f,onEnter:h,onEntered:m,onEntering:y,onExit:v,onExited:b,onExiting:x,orientation:C="vertical",slots:E={},slotProps:j={},style:T,timeout:k=H_.standard,TransitionComponent:A=li,..._}=n,I={...n,orientation:C,collapsedSize:a},P=b9(I),N=Yt(),B=vl(),O=S.useRef(null),D=S.useRef(),F=typeof a=="number"?`${a}px`:a,U=C==="horizontal",V=U?"width":"height",G=S.useRef(null),W=zr(r,G),K=Re=>ae=>{if(Re){const ke=G.current;ae===void 0?Re(ke):Re(ke,ae)}},H=()=>O.current?O.current[U?"clientWidth":"clientHeight"]:0,J=K((Re,ae)=>{O.current&&U&&(O.current.style.position="absolute"),Re.style[V]=F,h&&h(Re,ae)}),ne=K((Re,ae)=>{const ke=H();O.current&&U&&(O.current.style.position="");const{duration:fe,easing:dt}=Os({style:T,timeout:k,easing:p},{mode:"enter"});if(k==="auto"){const Be=N.transitions.getAutoHeightDuration(ke);Re.style.transitionDuration=`${Be}ms`,D.current=Be}else Re.style.transitionDuration=typeof fe=="string"?fe:`${fe}ms`;Re.style[V]=`${ke}px`,Re.style.transitionTimingFunction=dt,y&&y(Re,ae)}),me=K((Re,ae)=>{Re.style[V]="auto",m&&m(Re,ae)}),ge=K(Re=>{Re.style[V]=`${H()}px`,v&&v(Re)}),ce=K(b),te=K(Re=>{const ae=H(),{duration:ke,easing:fe}=Os({style:T,timeout:k,easing:p},{mode:"exit"});if(k==="auto"){const dt=N.transitions.getAutoHeightDuration(ae);Re.style.transitionDuration=`${dt}ms`,D.current=dt}else Re.style.transitionDuration=typeof ke=="string"?ke:`${ke}ms`;Re.style[V]=F,Re.style.transitionTimingFunction=fe,x&&x(Re)}),ve=Re=>{k==="auto"&&B.start(D.current||0,Re),o&&o(G.current,Re)},Ie={slots:E,slotProps:j,component:l},[qe,Ne]=it("root",{ref:W,className:Se(P.root,s),elementType:w9,externalForwardedProps:Ie,ownerState:I,additionalProps:{style:{[U?"minWidth":"minHeight"]:F,...T}}}),[lt,Xe]=it("wrapper",{ref:O,className:P.wrapper,elementType:S9,externalForwardedProps:Ie,ownerState:I}),[He,Le]=it("wrapperInner",{className:P.wrapperInner,elementType:C9,externalForwardedProps:Ie,ownerState:I});return u.jsx(A,{in:f,onEnter:J,onEntered:me,onEntering:ne,onExit:ge,onExited:ce,onExiting:te,addEndListener:ve,nodeRef:G,timeout:k==="auto"?null:k,..._,children:(Re,{ownerState:ae,...ke})=>{const fe={...I,state:Re};return u.jsx(qe,{...Ne,className:Se(Ne.className,{entered:P.entered,exited:!f&&F==="0px"&&P.hidden}[Re]),ownerState:fe,...ke,children:u.jsx(lt,{...Xe,ownerState:fe,children:u.jsx(He,{...Le,ownerState:fe,children:i})})})}})});Ms&&(Ms.muiSupportAuto=!0);function k9(t){return et("MuiPaper",t)}st("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const E9=t=>{const{square:e,elevation:r,variant:n,classes:o}=t,i={root:["root",n,!e&&"rounded",n==="elevation"&&`elevation${r}`]};return tt(i,k9,o)},T9=oe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],!r.square&&e.rounded,r.variant==="elevation"&&e[`elevation${r.elevation}`]]}})(rt(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),St=S.forwardRef(function(e,r){var y;const n=nt({props:e,name:"MuiPaper"}),o=Yt(),{className:i,component:s="div",elevation:a=1,square:l=!1,variant:p="elevation",...f}=n,h={...n,component:s,elevation:a,square:l,variant:p},m=E9(h);return u.jsx(T9,{as:s,ownerState:h,className:Se(m.root,i),ref:r,...f,style:{...p==="elevation"&&{"--Paper-shadow":(o.vars||o).shadows[a],...o.vars&&{"--Paper-overlay":(y=o.vars.overlays)==null?void 0:y[a]},...!o.vars&&o.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${q("#fff",_1(a))}, ${q("#fff",_1(a))})`}},...f.style}})});function Id(t){try{return t.matches(":focus-visible")}catch{}return!1}class ry{constructor(){$p(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new ry}static use(){const e=J_(ry.create).current,[r,n]=S.useState(!1);return e.shouldMount=r,e.setShouldMount=n,S.useEffect(e.mountEffect,[r]),e}mount(){return this.mounted||(this.mounted=R9(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.start(...e)})}stop(...e){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.stop(...e)})}pulsate(...e){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.pulsate(...e)})}}function j9(){return ry.use()}function R9(){let t,e;const r=new Promise((n,o)=>{t=n,e=o});return r.resolve=t,r.reject=e,r}function A9(t){const{className:e,classes:r,pulsate:n=!1,rippleX:o,rippleY:i,rippleSize:s,in:a,onExited:l,timeout:p}=t,[f,h]=S.useState(!1),m=Se(e,r.ripple,r.rippleVisible,n&&r.ripplePulsate),y={width:s,height:s,top:-(s/2)+i,left:-(s/2)+o},v=Se(r.child,f&&r.childLeaving,n&&r.childPulsate);return!a&&!f&&h(!0),S.useEffect(()=>{if(!a&&l!=null){const b=setTimeout(l,p);return()=>{clearTimeout(b)}}},[l,a,p]),u.jsx("span",{className:m,style:y,children:u.jsx("span",{className:v})})}const Ti=st("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),P1=550,_9=80,M9=Zr`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,I9=Zr`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,O9=Zr`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,P9=oe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),N9=oe(A9,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Ti.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${M9};
    animation-duration: ${P1}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${Ti.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${Ti.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Ti.childLeaving} {
    opacity: 0;
    animation-name: ${I9};
    animation-duration: ${P1}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${Ti.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${O9};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,L9=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiTouchRipple"}),{center:o=!1,classes:i={},className:s,...a}=n,[l,p]=S.useState([]),f=S.useRef(0),h=S.useRef(null);S.useEffect(()=>{h.current&&(h.current(),h.current=null)},[l]);const m=S.useRef(!1),y=vl(),v=S.useRef(null),b=S.useRef(null),x=S.useCallback(T=>{const{pulsate:k,rippleX:A,rippleY:_,rippleSize:I,cb:P}=T;p(N=>[...N,u.jsx(N9,{classes:{ripple:Se(i.ripple,Ti.ripple),rippleVisible:Se(i.rippleVisible,Ti.rippleVisible),ripplePulsate:Se(i.ripplePulsate,Ti.ripplePulsate),child:Se(i.child,Ti.child),childLeaving:Se(i.childLeaving,Ti.childLeaving),childPulsate:Se(i.childPulsate,Ti.childPulsate)},timeout:P1,pulsate:k,rippleX:A,rippleY:_,rippleSize:I},f.current)]),f.current+=1,h.current=P},[i]),C=S.useCallback((T={},k={},A=()=>{})=>{const{pulsate:_=!1,center:I=o||k.pulsate,fakeElement:P=!1}=k;if((T==null?void 0:T.type)==="mousedown"&&m.current){m.current=!1;return}(T==null?void 0:T.type)==="touchstart"&&(m.current=!0);const N=P?null:b.current,B=N?N.getBoundingClientRect():{width:0,height:0,left:0,top:0};let O,D,F;if(I||T===void 0||T.clientX===0&&T.clientY===0||!T.clientX&&!T.touches)O=Math.round(B.width/2),D=Math.round(B.height/2);else{const{clientX:U,clientY:V}=T.touches&&T.touches.length>0?T.touches[0]:T;O=Math.round(U-B.left),D=Math.round(V-B.top)}if(I)F=Math.sqrt((2*B.width**2+B.height**2)/3),F%2===0&&(F+=1);else{const U=Math.max(Math.abs((N?N.clientWidth:0)-O),O)*2+2,V=Math.max(Math.abs((N?N.clientHeight:0)-D),D)*2+2;F=Math.sqrt(U**2+V**2)}T!=null&&T.touches?v.current===null&&(v.current=()=>{x({pulsate:_,rippleX:O,rippleY:D,rippleSize:F,cb:A})},y.start(_9,()=>{v.current&&(v.current(),v.current=null)})):x({pulsate:_,rippleX:O,rippleY:D,rippleSize:F,cb:A})},[o,x,y]),E=S.useCallback(()=>{C({},{pulsate:!0})},[C]),j=S.useCallback((T,k)=>{if(y.clear(),(T==null?void 0:T.type)==="touchend"&&v.current){v.current(),v.current=null,y.start(0,()=>{j(T,k)});return}v.current=null,p(A=>A.length>0?A.slice(1):A),h.current=k},[y]);return S.useImperativeHandle(r,()=>({pulsate:E,start:C,stop:j}),[E,C,j]),u.jsx(P9,{className:Se(Ti.root,i.root,s),ref:b,...a,children:u.jsx(wS,{component:null,exit:!0,children:l})})});function D9(t){return et("MuiButtonBase",t)}const z9=st("MuiButtonBase",["root","disabled","focusVisible"]),$9=t=>{const{disabled:e,focusVisible:r,focusVisibleClassName:n,classes:o}=t,s=tt({root:["root",e&&"disabled",r&&"focusVisible"]},D9,o);return r&&n&&(s.root+=` ${n}`),s},F9=oe("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${z9.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),zi=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiButtonBase"}),{action:o,centerRipple:i=!1,children:s,className:a,component:l="button",disabled:p=!1,disableRipple:f=!1,disableTouchRipple:h=!1,focusRipple:m=!1,focusVisibleClassName:y,LinkComponent:v="a",onBlur:b,onClick:x,onContextMenu:C,onDragLeave:E,onFocus:j,onFocusVisible:T,onKeyDown:k,onKeyUp:A,onMouseDown:_,onMouseLeave:I,onMouseUp:P,onTouchEnd:N,onTouchMove:B,onTouchStart:O,tabIndex:D=0,TouchRippleProps:F,touchRippleRef:U,type:V,...G}=n,W=S.useRef(null),K=j9(),H=zr(K.ref,U),[J,ne]=S.useState(!1);p&&J&&ne(!1),S.useImperativeHandle(o,()=>({focusVisible:()=>{ne(!0),W.current.focus()}}),[]);const me=K.shouldMount&&!f&&!p;S.useEffect(()=>{J&&m&&!f&&K.pulsate()},[f,m,J,K]);const ge=Xs(K,"start",_,h),ce=Xs(K,"stop",C,h),te=Xs(K,"stop",E,h),ve=Xs(K,"stop",P,h),Ie=Xs(K,"stop",ie=>{J&&ie.preventDefault(),I&&I(ie)},h),qe=Xs(K,"start",O,h),Ne=Xs(K,"stop",N,h),lt=Xs(K,"stop",B,h),Xe=Xs(K,"stop",ie=>{Id(ie.target)||ne(!1),b&&b(ie)},!1),He=_n(ie=>{W.current||(W.current=ie.currentTarget),Id(ie.target)&&(ne(!0),T&&T(ie)),j&&j(ie)}),Le=()=>{const ie=W.current;return l&&l!=="button"&&!(ie.tagName==="A"&&ie.href)},Re=_n(ie=>{m&&!ie.repeat&&J&&ie.key===" "&&K.stop(ie,()=>{K.start(ie)}),ie.target===ie.currentTarget&&Le()&&ie.key===" "&&ie.preventDefault(),k&&k(ie),ie.target===ie.currentTarget&&Le()&&ie.key==="Enter"&&!p&&(ie.preventDefault(),x&&x(ie))}),ae=_n(ie=>{m&&ie.key===" "&&J&&!ie.defaultPrevented&&K.stop(ie,()=>{K.pulsate(ie)}),A&&A(ie),x&&ie.target===ie.currentTarget&&Le()&&ie.key===" "&&!ie.defaultPrevented&&x(ie)});let ke=l;ke==="button"&&(G.href||G.to)&&(ke=v);const fe={};if(ke==="button"){const ie=!!G.formAction;fe.type=V===void 0&&!ie?"button":V,fe.disabled=p}else!G.href&&!G.to&&(fe.role="button"),p&&(fe["aria-disabled"]=p);const dt=zr(r,W),Be={...n,centerRipple:i,component:l,disabled:p,disableRipple:f,disableTouchRipple:h,focusRipple:m,tabIndex:D,focusVisible:J},Te=$9(Be);return u.jsxs(F9,{as:ke,className:Se(Te.root,a),ownerState:Be,onBlur:Xe,onClick:x,onContextMenu:ce,onFocus:He,onKeyDown:Re,onKeyUp:ae,onMouseDown:ge,onMouseLeave:Ie,onMouseUp:ve,onDragLeave:te,onTouchEnd:Ne,onTouchMove:lt,onTouchStart:qe,ref:dt,tabIndex:p?-1:D,type:V,...fe,...G,children:[s,me?u.jsx(L9,{ref:H,center:i,...F}):null]})});function Xs(t,e,r,n=!1){return _n(o=>(r&&r(o),n||t[e](o),!0))}function B9(t){return typeof t.main=="string"}function W9(t,e=[]){if(!B9(t))return!1;for(const r of e)if(!t.hasOwnProperty(r)||typeof t[r]!="string")return!1;return!0}function _r(t=[]){return([,e])=>e&&W9(e,t)}function H9(t){return et("MuiAlert",t)}const kT=st("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function U9(t){return et("MuiCircularProgress",t)}st("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Ji=44,N1=Zr`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,L1=Zr`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,V9=typeof N1!="string"?Dl`
        animation: ${N1} 1.4s linear infinite;
      `:null,q9=typeof L1!="string"?Dl`
        animation: ${L1} 1.4s ease-in-out infinite;
      `:null,G9=t=>{const{classes:e,variant:r,color:n,disableShrink:o}=t,i={root:["root",r,`color${ue(n)}`],svg:["svg"],track:["track"],circle:["circle",`circle${ue(r)}`,o&&"circleDisableShrink"]};return tt(i,U9,e)},K9=oe("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`color${ue(r.color)}`]]}})(rt(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:V9||{animation:`${N1} 1.4s linear infinite`}},...Object.entries(t.palette).filter(_r()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),Y9=oe("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),J9=oe("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.circle,e[`circle${ue(r.variant)}`],r.disableShrink&&e.circleDisableShrink]}})(rt(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:q9||{animation:`${L1} 1.4s ease-in-out infinite`}}]}))),X9=oe("circle",{name:"MuiCircularProgress",slot:"Track"})(rt(({theme:t})=>({stroke:"currentColor",opacity:(t.vars||t).palette.action.activatedOpacity}))),Mn=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiCircularProgress"}),{className:o,color:i="primary",disableShrink:s=!1,enableTrackSlot:a=!1,size:l=40,style:p,thickness:f=3.6,value:h=0,variant:m="indeterminate",...y}=n,v={...n,color:i,disableShrink:s,size:l,thickness:f,value:h,variant:m,enableTrackSlot:a},b=G9(v),x={},C={},E={};if(m==="determinate"){const j=2*Math.PI*((Ji-f)/2);x.strokeDasharray=j.toFixed(3),E["aria-valuenow"]=Math.round(h),x.strokeDashoffset=`${((100-h)/100*j).toFixed(3)}px`,C.transform="rotate(-90deg)"}return u.jsx(K9,{className:Se(b.root,o),style:{width:l,height:l,...C,...p},ownerState:v,ref:r,role:"progressbar",...E,...y,children:u.jsxs(Y9,{className:b.svg,ownerState:v,viewBox:`${Ji/2} ${Ji/2} ${Ji} ${Ji}`,children:[a?u.jsx(X9,{className:b.track,ownerState:v,cx:Ji,cy:Ji,r:(Ji-f)/2,fill:"none",strokeWidth:f,"aria-hidden":"true"}):null,u.jsx(J9,{className:b.circle,style:x,ownerState:v,cx:Ji,cy:Ji,r:(Ji-f)/2,fill:"none",strokeWidth:f})]})})});function Q9(t){return et("MuiIconButton",t)}const ET=st("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),Z9=t=>{const{classes:e,disabled:r,color:n,edge:o,size:i,loading:s}=t,a={root:["root",s&&"loading",r&&"disabled",n!=="default"&&`color${ue(n)}`,o&&`edge${ue(o)}`,`size${ue(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return tt(a,Q9,e)},eB=oe(zi,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.loading&&e.loading,r.color!=="default"&&e[`color${ue(r.color)}`],r.edge&&e[`edge${ue(r.edge)}`],e[`size${ue(r.size)}`]]}})(rt(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),rt(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(_r()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(_r()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${ET.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${ET.loading}`]:{color:"transparent"}}))),tB=oe("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),pt=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiIconButton"}),{edge:o=!1,children:i,className:s,color:a="default",disabled:l=!1,disableFocusRipple:p=!1,size:f="medium",id:h,loading:m=null,loadingIndicator:y,...v}=n,b=Ds(h),x=y??u.jsx(Mn,{"aria-labelledby":b,color:"inherit",size:16}),C={...n,edge:o,color:a,disabled:l,disableFocusRipple:p,loading:m,loadingIndicator:x,size:f},E=Z9(C);return u.jsxs(eB,{id:m?b:h,className:Se(E.root,s),centerRipple:!0,focusRipple:!p,disabled:l||m,ref:r,...v,ownerState:C,children:[typeof m=="boolean"&&u.jsx("span",{className:E.loadingWrapper,style:{display:"contents"},children:u.jsx(tB,{className:E.loadingIndicator,ownerState:C,children:m&&x})}),i]})}),rB=pe(u.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),nB=pe(u.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),oB=pe(u.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),iB=pe(u.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),eM=pe(u.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),sB=t=>{const{variant:e,color:r,severity:n,classes:o}=t,i={root:["root",`color${ue(r||n)}`,`${e}${ue(r||n)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return tt(i,H9,o)},aB=oe(St,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`${r.variant}${ue(r.color||r.severity)}`]]}})(rt(({theme:t})=>{const e=t.palette.mode==="light"?t.darken:t.lighten,r=t.palette.mode==="light"?t.lighten:t.darken;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(_r(["light"])).map(([n])=>({props:{colorSeverity:n,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${n}Color`]:e(t.palette[n].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${n}StandardBg`]:r(t.palette[n].light,.9),[`& .${kT.icon}`]:t.vars?{color:t.vars.palette.Alert[`${n}IconColor`]}:{color:t.palette[n].main}}})),...Object.entries(t.palette).filter(_r(["light"])).map(([n])=>({props:{colorSeverity:n,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${n}Color`]:e(t.palette[n].light,.6),border:`1px solid ${(t.vars||t).palette[n].light}`,[`& .${kT.icon}`]:t.vars?{color:t.vars.palette.Alert[`${n}IconColor`]}:{color:t.palette[n].main}}})),...Object.entries(t.palette).filter(_r(["dark"])).map(([n])=>({props:{colorSeverity:n,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${n}FilledColor`],backgroundColor:t.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)}}}))]}})),lB=oe("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),cB=oe("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),uB=oe("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),dB={success:u.jsx(rB,{fontSize:"inherit"}),warning:u.jsx(nB,{fontSize:"inherit"}),error:u.jsx(oB,{fontSize:"inherit"}),info:u.jsx(iB,{fontSize:"inherit"})},ya=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiAlert"}),{action:o,children:i,className:s,closeText:a="Close",color:l,components:p={},componentsProps:f={},icon:h,iconMapping:m=dB,onClose:y,role:v="alert",severity:b="success",slotProps:x={},slots:C={},variant:E="standard",...j}=n,T={...n,color:l,severity:b,variant:E,colorSeverity:l||b},k=sB(T),A={slots:{closeButton:p.CloseButton,closeIcon:p.CloseIcon,...C},slotProps:{...f,...x}},[_,I]=it("root",{ref:r,shouldForwardComponentProp:!0,className:Se(k.root,s),elementType:aB,externalForwardedProps:{...A,...j},ownerState:T,additionalProps:{role:v,elevation:0}}),[P,N]=it("icon",{className:k.icon,elementType:lB,externalForwardedProps:A,ownerState:T}),[B,O]=it("message",{className:k.message,elementType:cB,externalForwardedProps:A,ownerState:T}),[D,F]=it("action",{className:k.action,elementType:uB,externalForwardedProps:A,ownerState:T}),[U,V]=it("closeButton",{elementType:pt,externalForwardedProps:A,ownerState:T}),[G,W]=it("closeIcon",{elementType:eM,externalForwardedProps:A,ownerState:T});return u.jsxs(_,{...I,children:[h!==!1?u.jsx(P,{...N,children:h||m[b]}):null,u.jsx(B,{...O,children:i}),o!=null?u.jsx(D,{...F,children:o}):null,o==null&&y?u.jsx(D,{...F,children:u.jsx(U,{size:"small","aria-label":a,title:a,color:"inherit",onClick:y,...V,children:u.jsx(G,{fontSize:"small",...W})})}):null]})});function pB(t){return et("MuiTypography",t)}const TT=st("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),fB={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},hB=i9(),mB=t=>{const{align:e,gutterBottom:r,noWrap:n,paragraph:o,variant:i,classes:s}=t,a={root:["root",i,t.align!=="inherit"&&`align${ue(e)}`,r&&"gutterBottom",n&&"noWrap",o&&"paragraph"]};return tt(a,pB,s)},gB=oe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.variant&&e[r.variant],r.align!=="inherit"&&e[`align${ue(r.align)}`],r.noWrap&&e.noWrap,r.gutterBottom&&e.gutterBottom,r.paragraph&&e.paragraph]}})(rt(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([r,n])=>r!=="inherit"&&n&&typeof n=="object").map(([r,n])=>({props:{variant:r},style:n})),...Object.entries(t.palette).filter(_r()).map(([r])=>({props:{color:r},style:{color:(t.vars||t).palette[r].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,r])=>typeof r=="string").map(([r])=>({props:{color:`text${ue(r)}`},style:{color:(t.vars||t).palette.text[r]}})),{props:({ownerState:r})=>r.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:r})=>r.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:r})=>r.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:r})=>r.paragraph,style:{marginBottom:16}}]}})),jT={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},$=S.forwardRef(function(e,r){const{color:n,...o}=nt({props:e,name:"MuiTypography"}),i=!fB[n],s=hB({...o,...i&&{color:n}}),{align:a="inherit",className:l,component:p,gutterBottom:f=!1,noWrap:h=!1,paragraph:m=!1,variant:y="body1",variantMapping:v=jT,...b}=s,x={...s,align:a,color:n,className:l,component:p,gutterBottom:f,noWrap:h,paragraph:m,variant:y,variantMapping:v},C=p||(m?"p":v[y]||jT[y])||"span",E=mB(x);return u.jsx(gB,{as:C,ref:r,className:Se(E.root,l),...b,ownerState:x,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...b.style}})});function yB(t){return et("MuiAppBar",t)}st("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const vB=t=>{const{color:e,position:r,classes:n}=t,o={root:["root",`color${ue(e)}`,`position${ue(r)}`]};return tt(o,yB,n)},RT=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,xB=oe(St,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`position${ue(r.position)}`],e[`color${ue(r.color)}`]]}})(rt(({theme:t})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit",color:"var(--AppBar-color)"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(_r(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(t.vars??t).palette[e].main,"--AppBar-color":(t.vars??t).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?RT(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?RT(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}))),bB=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiAppBar"}),{className:o,color:i="primary",enableColorOnDark:s=!1,position:a="fixed",...l}=n,p={...n,color:i,position:a,enableColorOnDark:s},f=vB(p);return u.jsx(xB,{square:!0,component:"header",ownerState:p,elevation:4,className:Se(f.root,o,a==="fixed"&&"mui-fixed"),ref:r,...l})});function SS(t){const e=S.useRef({});return S.useEffect(()=>{e.current=t}),e.current}function AT({array1:t,array2:e,parser:r=n=>n}){return t&&e&&t.length===e.length&&t.every((n,o)=>r(n)===r(e[o]))}function _T(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function wB(t={}){const{ignoreAccents:e=!0,ignoreCase:r=!0,limit:n,matchFrom:o="any",stringify:i,trim:s=!1}=t;return(a,{inputValue:l,getOptionLabel:p})=>{let f=s?l.trim():l;r&&(f=f.toLowerCase()),e&&(f=_T(f));const h=f?a.filter(m=>{let y=(i||p)(m);return r&&(y=y.toLowerCase()),e&&(y=_T(y)),o==="start"?y.startsWith(f):y.includes(f)}):a;return typeof n=="number"?h.slice(0,n):h}}const SB=wB(),MT=5,CB=t=>{var e;return t.current!==null&&((e=t.current.parentElement)==null?void 0:e.contains(document.activeElement))},kB=[];function IT(t,e,r,n){if(e||t==null||n)return"";const o=r(t);return typeof o=="string"?o:""}function EB(t){const{unstable_isActiveElementInListbox:e=CB,unstable_classNamePrefix:r="Mui",autoComplete:n=!1,autoHighlight:o=!1,autoSelect:i=!1,blurOnSelect:s=!1,clearOnBlur:a=!t.freeSolo,clearOnEscape:l=!1,componentName:p="useAutocomplete",defaultValue:f=t.multiple?kB:null,disableClearable:h=!1,disableCloseOnSelect:m=!1,disabled:y,disabledItemsFocusable:v=!1,disableListWrap:b=!1,filterOptions:x=SB,filterSelectedOptions:C=!1,freeSolo:E=!1,getOptionDisabled:j,getOptionKey:T,getOptionLabel:k=ye=>ye.label??ye,groupBy:A,handleHomeEndKeys:_=!t.freeSolo,id:I,includeInputInList:P=!1,inputValue:N,isOptionEqualToValue:B=(ye,he)=>ye===he,multiple:O=!1,onChange:D,onClose:F,onHighlightChange:U,onInputChange:V,onOpen:G,open:W,openOnFocus:K=!1,options:H,readOnly:J=!1,renderValue:ne,selectOnFocus:me=!t.freeSolo,value:ge}=t,ce=Ds(I);let te=k;te=ye=>{const he=k(ye);return typeof he!="string"?String(he):he};const ve=S.useRef(!1),Ie=S.useRef(!0),qe=S.useRef(null),Ne=S.useRef(null),[lt,Xe]=S.useState(null),[He,Le]=S.useState(-1),Re=o?0:-1,ae=S.useRef(Re),ke=S.useRef(IT(f??ge,O,te)).current,[fe,dt]=pa({controlled:ge,default:f,name:p}),[Be,Te]=pa({controlled:N,default:ke,name:p,state:"inputValue"}),[ie,Ce]=S.useState(!1),We=S.useCallback((ye,he,ut)=>{if(!(O?fe.length<he.length:he!==null)&&!a)return;const Wt=IT(he,O,te,ne);Be!==Wt&&(Te(Wt),V&&V(ye,Wt,ut))},[te,Be,O,V,Te,a,fe,ne]),[Qe,mt]=pa({controlled:W,default:!1,name:p,state:"open"}),[je,Ze]=S.useState(!0),ot=!O&&fe!=null&&Be===te(fe),ft=Qe&&!J,Ae=ft?x(H.filter(ye=>!(C&&(O?fe:[fe]).some(he=>he!==null&&B(ye,he)))),{inputValue:ot&&je?"":Be,getOptionLabel:te}):[],ct=SS({filteredOptions:Ae,value:fe,inputValue:Be});S.useEffect(()=>{const ye=fe!==ct.value;ie&&!ye||E&&!ye||We(null,fe,"reset")},[fe,We,ie,ct.value,E]);const at=Qe&&Ae.length>0&&!J,ee=_n(ye=>{if(ye===-1)qe.current.focus();else{const he=ne?"data-item-index":"data-tag-index";lt.querySelector(`[${he}="${ye}"]`).focus()}});S.useEffect(()=>{O&&He>fe.length-1&&(Le(-1),ee(-1))},[fe,O,He,ee]);function we(ye,he){if(!Ne.current||ye<0||ye>=Ae.length)return-1;let ut=ye;for(;;){const It=Ne.current.querySelector(`[data-option-index="${ut}"]`),Wt=v?!1:!It||It.disabled||It.getAttribute("aria-disabled")==="true";if(It&&It.hasAttribute("tabindex")&&!Wt)return ut;if(he==="next"?ut=(ut+1)%Ae.length:ut=(ut-1+Ae.length)%Ae.length,ut===ye)return-1}}const Me=_n(({event:ye,index:he,reason:ut})=>{if(ae.current=he,he===-1?qe.current.removeAttribute("aria-activedescendant"):qe.current.setAttribute("aria-activedescendant",`${ce}-option-${he}`),U&&["mouse","keyboard","touch"].includes(ut)&&U(ye,he===-1?null:Ae[he],ut),!Ne.current)return;const It=Ne.current.querySelector(`[role="option"].${r}-focused`);It&&(It.classList.remove(`${r}-focused`),It.classList.remove(`${r}-focusVisible`));let Wt=Ne.current;if(Ne.current.getAttribute("role")!=="listbox"&&(Wt=Ne.current.parentElement.querySelector('[role="listbox"]')),!Wt)return;if(he===-1){Wt.scrollTop=0;return}const Gr=Ne.current.querySelector(`[data-option-index="${he}"]`);if(Gr&&(Gr.classList.add(`${r}-focused`),ut==="keyboard"&&Gr.classList.add(`${r}-focusVisible`),Wt.scrollHeight>Wt.clientHeight&&ut!=="mouse"&&ut!=="touch")){const Ft=Gr,Nn=Wt.clientHeight+Wt.scrollTop,oo=Ft.offsetTop+Ft.offsetHeight;oo>Nn?Wt.scrollTop=oo-Wt.clientHeight:Ft.offsetTop-Ft.offsetHeight*(A?1.3:0)<Wt.scrollTop&&(Wt.scrollTop=Ft.offsetTop-Ft.offsetHeight*(A?1.3:0))}}),_t=_n(({event:ye,diff:he,direction:ut="next",reason:It})=>{if(!ft)return;const Gr=we((()=>{const Ft=Ae.length-1;if(he==="reset")return Re;if(he==="start")return 0;if(he==="end")return Ft;const Nn=ae.current+he;return Nn<0?Nn===-1&&P?-1:b&&ae.current!==-1||Math.abs(he)>1?0:Ft:Nn>Ft?Nn===Ft+1&&P?-1:b||Math.abs(he)>1?Ft:0:Nn})(),ut);if(Me({index:Gr,reason:It,event:ye}),n&&he!=="reset")if(Gr===-1)qe.current.value=Be;else{const Ft=te(Ae[Gr]);qe.current.value=Ft,Ft.toLowerCase().indexOf(Be.toLowerCase())===0&&Be.length>0&&qe.current.setSelectionRange(Be.length,Ft.length)}}),gt=!AT({array1:ct.filteredOptions,array2:Ae,parser:te}),$t=()=>{const ye=(he,ut)=>{const It=he?te(he):"",Wt=ut?te(ut):"";return It===Wt};if(ae.current!==-1&&!AT({array1:ct.filteredOptions,array2:Ae,parser:te})&&ct.inputValue===Be&&(O?fe.length===ct.value.length&&ct.value.every((he,ut)=>te(fe[ut])===te(he)):ye(ct.value,fe))){const he=ct.filteredOptions[ae.current];if(he)return Ae.findIndex(ut=>te(ut)===te(he))}return-1},or=S.useCallback(()=>{if(!ft)return;const ye=$t();if(ye!==-1){ae.current=ye;return}const he=O?fe[0]:fe;if(Ae.length===0||he==null){_t({diff:"reset"});return}if(Ne.current){if(he!=null){const ut=Ae[ae.current];if(O&&ut&&fe.findIndex(Wt=>B(ut,Wt))!==-1)return;const It=Ae.findIndex(Wt=>B(Wt,he));It===-1?_t({diff:"reset"}):Me({index:It});return}if(ae.current>=Ae.length-1){Me({index:Ae.length-1});return}Me({index:ae.current})}},[Ae.length,O?!1:fe,_t,Me,ft,Be,O]),Oe=_n(ye=>{M1(Ne,ye),ye&&or()});S.useEffect(()=>{(gt||ft)&&or()},[or,gt,ft]);const Je=ye=>{Qe||(mt(!0),Ze(!0),G&&G(ye))},Lt=(ye,he)=>{Qe&&(mt(!1),F&&F(ye,he))},qt=(ye,he,ut,It)=>{if(O){if(fe.length===he.length&&fe.every((Wt,Gr)=>Wt===he[Gr]))return}else if(fe===he)return;D&&D(ye,he,ut,It),dt(he)},vr=S.useRef(!1),xr=(ye,he,ut="selectOption",It="options")=>{let Wt=ut,Gr=he;if(O){Gr=Array.isArray(fe)?fe.slice():[];const Ft=Gr.findIndex(Nn=>B(he,Nn));Ft===-1?Gr.push(he):It!=="freeSolo"&&(Gr.splice(Ft,1),Wt="removeOption")}We(ye,Gr,Wt),qt(ye,Gr,Wt,{option:he}),!m&&(!ye||!ye.ctrlKey&&!ye.metaKey)&&Lt(ye,Wt),(s===!0||s==="touch"&&vr.current||s==="mouse"&&!vr.current)&&qe.current.blur()};function Ct(ye,he){if(ye===-1)return-1;let ut=ye;for(;;){if(he==="next"&&ut===fe.length||he==="previous"&&ut===-1)return-1;const It=ne?"data-item-index":"data-tag-index",Wt=lt.querySelector(`[${It}="${ut}"]`);if(!Wt||!Wt.hasAttribute("tabindex")||Wt.disabled||Wt.getAttribute("aria-disabled")==="true")ut+=he==="next"?1:-1;else return ut}}const ir=(ye,he)=>{if(!O)return;Be===""&&Lt(ye,"toggleInput");let ut=He;He===-1&&he==="previous"?(ut=fe.length-1,E&&Be!==""&&(Te(""),V&&V(ye,"","reset"))):(ut+=he==="next"?1:-1,ut<0&&(ut=0),ut===fe.length&&(ut=-1)),ut=Ct(ut,he),Le(ut),ee(ut)},$e=ye=>{ve.current=!0,Te(""),V&&V(ye,"","clear"),qt(ye,O?[]:null,"clear")},Ge=ye=>he=>{if(ye.onKeyDown&&ye.onKeyDown(he),!he.defaultMuiPrevented&&(He!==-1&&!["ArrowLeft","ArrowRight"].includes(he.key)&&(Le(-1),ee(-1)),he.which!==229))switch(he.key){case"Home":ft&&_&&(he.preventDefault(),_t({diff:"start",direction:"next",reason:"keyboard",event:he}));break;case"End":ft&&_&&(he.preventDefault(),_t({diff:"end",direction:"previous",reason:"keyboard",event:he}));break;case"PageUp":he.preventDefault(),_t({diff:-MT,direction:"previous",reason:"keyboard",event:he}),Je(he);break;case"PageDown":he.preventDefault(),_t({diff:MT,direction:"next",reason:"keyboard",event:he}),Je(he);break;case"ArrowDown":he.preventDefault(),_t({diff:1,direction:"next",reason:"keyboard",event:he}),Je(he);break;case"ArrowUp":he.preventDefault(),_t({diff:-1,direction:"previous",reason:"keyboard",event:he}),Je(he);break;case"ArrowLeft":{const ut=qe.current;if(!(ut&&ut.selectionStart===0&&ut.selectionEnd===0))return;!O&&ne&&fe!=null?(E&&Be!==""&&(Te(""),V&&V(he,"","reset")),Le(0),ee(0)):ir(he,"previous");break}case"ArrowRight":!O&&ne?(Le(-1),ee(-1)):ir(he,"next");break;case"Enter":if(ae.current!==-1&&ft){const ut=Ae[ae.current],It=j?j(ut):!1;if(he.preventDefault(),It)return;xr(he,ut,"selectOption"),n&&qe.current.setSelectionRange(qe.current.value.length,qe.current.value.length)}else E&&Be!==""&&ot===!1&&(O&&he.preventDefault(),xr(he,Be,"createOption","freeSolo"));break;case"Escape":ft?(he.preventDefault(),he.stopPropagation(),Lt(he,"escape")):l&&(Be!==""||O&&fe.length>0||ne)&&(he.preventDefault(),he.stopPropagation(),$e(he));break;case"Backspace":if(O&&!J&&Be===""&&fe.length>0){const ut=He===-1?fe.length-1:He,It=fe.slice();It.splice(ut,1),qt(he,It,"removeOption",{option:fe[ut]})}!O&&ne&&!J&&Be===""&&qt(he,null,"removeOption",{option:fe});break;case"Delete":if(O&&!J&&Be===""&&fe.length>0&&He!==-1){const ut=He,It=fe.slice();It.splice(ut,1),qt(he,It,"removeOption",{option:fe[ut]})}!O&&ne&&!J&&Be===""&&qt(he,null,"removeOption",{option:fe});break}},At=ye=>{Ce(!0),He!==-1&&(Le(-1),ee(-1)),K&&!ve.current&&Je(ye)},jt=ye=>{if(e(Ne)){qe.current.focus();return}Ce(!1),Ie.current=!0,ve.current=!1,i&&ae.current!==-1&&ft?xr(ye,Ae[ae.current],"blur"):i&&E&&Be!==""?xr(ye,Be,"blur","freeSolo"):a&&We(ye,fe,"blur"),Lt(ye,"blur")},Jt=ye=>{const he=ye.target.value;Be!==he&&(Te(he),Ze(!1),V&&V(ye,he,"input")),he===""?!h&&!O&&!ne&&qt(ye,null,"clear"):Je(ye)},jr=ye=>{const he=Number(ye.currentTarget.getAttribute("data-option-index"));ae.current!==he&&Me({event:ye,index:he,reason:"mouse"})},Wr=ye=>{Me({event:ye,index:Number(ye.currentTarget.getAttribute("data-option-index")),reason:"touch"}),vr.current=!0},Pr=ye=>{const he=Number(ye.currentTarget.getAttribute("data-option-index"));xr(ye,Ae[he],"selectOption"),vr.current=!1},On=ye=>he=>{const ut=fe.slice();ut.splice(ye,1),qt(he,ut,"removeOption",{option:fe[ye]})},Pn=ye=>{qt(ye,null,"removeOption",{option:fe})},Qt=ye=>{Qe?Lt(ye,"toggleInput"):Je(ye)},qr=ye=>{ye.currentTarget.contains(ye.target)&&ye.target.getAttribute("id")!==ce&&ye.preventDefault()},cr=ye=>{ye.currentTarget.contains(ye.target)&&(qe.current.focus(),me&&Ie.current&&qe.current.selectionEnd-qe.current.selectionStart===0&&qe.current.select(),Ie.current=!1)},zs=ye=>{!y&&(Be===""||!Qe)&&Qt(ye)};let br=E&&Be.length>0;br=br||(O?fe.length>0:fe!==null);let ci=Ae;return A&&(ci=Ae.reduce((ye,he,ut)=>{const It=A(he);return ye.length>0&&ye[ye.length-1].group===It?ye[ye.length-1].options.push(he):ye.push({key:ut,index:ut,group:It,options:[he]}),ye},[])),y&&ie&&jt(),{getRootProps:(ye={})=>({...ye,onKeyDown:Ge(ye),onMouseDown:qr,onClick:cr}),getInputLabelProps:()=>({id:`${ce}-label`,htmlFor:ce}),getInputProps:()=>({id:ce,value:Be,onBlur:jt,onFocus:At,onChange:Jt,onMouseDown:zs,"aria-activedescendant":ft?"":null,"aria-autocomplete":n?"both":"list","aria-controls":at?`${ce}-listbox`:void 0,"aria-expanded":at,autoComplete:"off",ref:qe,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:y}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:$e}),getItemProps:({index:ye=0}={})=>({...O&&{key:ye},...ne?{"data-item-index":ye}:{"data-tag-index":ye},tabIndex:-1,...!J&&{onDelete:O?On(ye):Pn}}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Qt}),getTagProps:({index:ye})=>({key:ye,"data-tag-index":ye,tabIndex:-1,...!J&&{onDelete:On(ye)}}),getListboxProps:()=>({role:"listbox",id:`${ce}-listbox`,"aria-labelledby":`${ce}-label`,ref:Oe,onMouseDown:ye=>{ye.preventDefault()}}),getOptionProps:({index:ye,option:he})=>{const ut=(O?fe:[fe]).some(Wt=>Wt!=null&&B(he,Wt)),It=j?j(he):!1;return{key:(T==null?void 0:T(he))??te(he),tabIndex:-1,role:"option",id:`${ce}-option-${ye}`,onMouseMove:jr,onClick:Pr,onTouchStart:Wr,"data-option-index":ye,"aria-disabled":It,"aria-selected":ut}},id:ce,inputValue:Be,value:fe,dirty:br,expanded:ft&&lt,popupOpen:ft,focused:ie||He!==-1,anchorEl:lt,setAnchorEl:Xe,focusedItem:He,focusedTag:He,groupedOptions:ci}}var Fo="top",$i="bottom",Fi="right",Bo="left",CS="auto",Lh=[Fo,$i,Fi,Bo],Od="start",th="end",TB="clippingParents",tM="viewport",Up="popper",jB="reference",OT=Lh.reduce(function(t,e){return t.concat([e+"-"+Od,e+"-"+th])},[]),rM=[].concat(Lh,[CS]).reduce(function(t,e){return t.concat([e,e+"-"+Od,e+"-"+th])},[]),RB="beforeRead",AB="read",_B="afterRead",MB="beforeMain",IB="main",OB="afterMain",PB="beforeWrite",NB="write",LB="afterWrite",DB=[RB,AB,_B,MB,IB,OB,PB,NB,LB];function Ps(t){return t?(t.nodeName||"").toLowerCase():null}function si(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Kc(t){var e=si(t).Element;return t instanceof e||t instanceof Element}function Oi(t){var e=si(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function kS(t){if(typeof ShadowRoot>"u")return!1;var e=si(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function zB(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},o=e.attributes[r]||{},i=e.elements[r];!Oi(i)||!Ps(i)||(Object.assign(i.style,n),Object.keys(o).forEach(function(s){var a=o[s];a===!1?i.removeAttribute(s):i.setAttribute(s,a===!0?"":a)}))})}function $B(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var o=e.elements[n],i=e.attributes[n]||{},s=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),a=s.reduce(function(l,p){return l[p]="",l},{});!Oi(o)||!Ps(o)||(Object.assign(o.style,a),Object.keys(i).forEach(function(l){o.removeAttribute(l)}))})}}const FB={name:"applyStyles",enabled:!0,phase:"write",fn:zB,effect:$B,requires:["computeStyles"]};function Is(t){return t.split("-")[0]}var Fc=Math.max,ny=Math.min,Pd=Math.round;function D1(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function nM(){return!/^((?!chrome|android).)*safari/i.test(D1())}function Nd(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),o=1,i=1;e&&Oi(t)&&(o=t.offsetWidth>0&&Pd(n.width)/t.offsetWidth||1,i=t.offsetHeight>0&&Pd(n.height)/t.offsetHeight||1);var s=Kc(t)?si(t):window,a=s.visualViewport,l=!nM()&&r,p=(n.left+(l&&a?a.offsetLeft:0))/o,f=(n.top+(l&&a?a.offsetTop:0))/i,h=n.width/o,m=n.height/i;return{width:h,height:m,top:f,right:p+h,bottom:f+m,left:p,x:p,y:f}}function ES(t){var e=Nd(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function oM(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&kS(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function va(t){return si(t).getComputedStyle(t)}function BB(t){return["table","td","th"].indexOf(Ps(t))>=0}function zl(t){return((Kc(t)?t.ownerDocument:t.document)||window.document).documentElement}function _0(t){return Ps(t)==="html"?t:t.assignedSlot||t.parentNode||(kS(t)?t.host:null)||zl(t)}function PT(t){return!Oi(t)||va(t).position==="fixed"?null:t.offsetParent}function WB(t){var e=/firefox/i.test(D1()),r=/Trident/i.test(D1());if(r&&Oi(t)){var n=va(t);if(n.position==="fixed")return null}var o=_0(t);for(kS(o)&&(o=o.host);Oi(o)&&["html","body"].indexOf(Ps(o))<0;){var i=va(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function Dh(t){for(var e=si(t),r=PT(t);r&&BB(r)&&va(r).position==="static";)r=PT(r);return r&&(Ps(r)==="html"||Ps(r)==="body"&&va(r).position==="static")?e:r||WB(t)||e}function TS(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Cf(t,e,r){return Fc(t,ny(e,r))}function HB(t,e,r){var n=Cf(t,e,r);return n>r?r:n}function iM(){return{top:0,right:0,bottom:0,left:0}}function sM(t){return Object.assign({},iM(),t)}function aM(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var UB=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,sM(typeof e!="number"?e:aM(e,Lh))};function VB(t){var e,r=t.state,n=t.name,o=t.options,i=r.elements.arrow,s=r.modifiersData.popperOffsets,a=Is(r.placement),l=TS(a),p=[Bo,Fi].indexOf(a)>=0,f=p?"height":"width";if(!(!i||!s)){var h=UB(o.padding,r),m=ES(i),y=l==="y"?Fo:Bo,v=l==="y"?$i:Fi,b=r.rects.reference[f]+r.rects.reference[l]-s[l]-r.rects.popper[f],x=s[l]-r.rects.reference[l],C=Dh(i),E=C?l==="y"?C.clientHeight||0:C.clientWidth||0:0,j=b/2-x/2,T=h[y],k=E-m[f]-h[v],A=E/2-m[f]/2+j,_=Cf(T,A,k),I=l;r.modifiersData[n]=(e={},e[I]=_,e.centerOffset=_-A,e)}}function qB(t){var e=t.state,r=t.options,n=r.element,o=n===void 0?"[data-popper-arrow]":n;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||oM(e.elements.popper,o)&&(e.elements.arrow=o))}const GB={name:"arrow",enabled:!0,phase:"main",fn:VB,effect:qB,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ld(t){return t.split("-")[1]}var KB={top:"auto",right:"auto",bottom:"auto",left:"auto"};function YB(t,e){var r=t.x,n=t.y,o=e.devicePixelRatio||1;return{x:Pd(r*o)/o||0,y:Pd(n*o)/o||0}}function NT(t){var e,r=t.popper,n=t.popperRect,o=t.placement,i=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,p=t.adaptive,f=t.roundOffsets,h=t.isFixed,m=s.x,y=m===void 0?0:m,v=s.y,b=v===void 0?0:v,x=typeof f=="function"?f({x:y,y:b}):{x:y,y:b};y=x.x,b=x.y;var C=s.hasOwnProperty("x"),E=s.hasOwnProperty("y"),j=Bo,T=Fo,k=window;if(p){var A=Dh(r),_="clientHeight",I="clientWidth";if(A===si(r)&&(A=zl(r),va(A).position!=="static"&&a==="absolute"&&(_="scrollHeight",I="scrollWidth")),A=A,o===Fo||(o===Bo||o===Fi)&&i===th){T=$i;var P=h&&A===k&&k.visualViewport?k.visualViewport.height:A[_];b-=P-n.height,b*=l?1:-1}if(o===Bo||(o===Fo||o===$i)&&i===th){j=Fi;var N=h&&A===k&&k.visualViewport?k.visualViewport.width:A[I];y-=N-n.width,y*=l?1:-1}}var B=Object.assign({position:a},p&&KB),O=f===!0?YB({x:y,y:b},si(r)):{x:y,y:b};if(y=O.x,b=O.y,l){var D;return Object.assign({},B,(D={},D[T]=E?"0":"",D[j]=C?"0":"",D.transform=(k.devicePixelRatio||1)<=1?"translate("+y+"px, "+b+"px)":"translate3d("+y+"px, "+b+"px, 0)",D))}return Object.assign({},B,(e={},e[T]=E?b+"px":"",e[j]=C?y+"px":"",e.transform="",e))}function JB(t){var e=t.state,r=t.options,n=r.gpuAcceleration,o=n===void 0?!0:n,i=r.adaptive,s=i===void 0?!0:i,a=r.roundOffsets,l=a===void 0?!0:a,p={placement:Is(e.placement),variation:Ld(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,NT(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,NT(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const XB={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:JB,data:{}};var rg={passive:!0};function QB(t){var e=t.state,r=t.instance,n=t.options,o=n.scroll,i=o===void 0?!0:o,s=n.resize,a=s===void 0?!0:s,l=si(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&p.forEach(function(f){f.addEventListener("scroll",r.update,rg)}),a&&l.addEventListener("resize",r.update,rg),function(){i&&p.forEach(function(f){f.removeEventListener("scroll",r.update,rg)}),a&&l.removeEventListener("resize",r.update,rg)}}const ZB={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:QB,data:{}};var e8={left:"right",right:"left",bottom:"top",top:"bottom"};function Lg(t){return t.replace(/left|right|bottom|top/g,function(e){return e8[e]})}var t8={start:"end",end:"start"};function LT(t){return t.replace(/start|end/g,function(e){return t8[e]})}function jS(t){var e=si(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function RS(t){return Nd(zl(t)).left+jS(t).scrollLeft}function r8(t,e){var r=si(t),n=zl(t),o=r.visualViewport,i=n.clientWidth,s=n.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;var p=nM();(p||!p&&e==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a+RS(t),y:l}}function n8(t){var e,r=zl(t),n=jS(t),o=(e=t.ownerDocument)==null?void 0:e.body,i=Fc(r.scrollWidth,r.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=Fc(r.scrollHeight,r.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-n.scrollLeft+RS(t),l=-n.scrollTop;return va(o||r).direction==="rtl"&&(a+=Fc(r.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:a,y:l}}function AS(t){var e=va(t),r=e.overflow,n=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+o+n)}function lM(t){return["html","body","#document"].indexOf(Ps(t))>=0?t.ownerDocument.body:Oi(t)&&AS(t)?t:lM(_0(t))}function kf(t,e){var r;e===void 0&&(e=[]);var n=lM(t),o=n===((r=t.ownerDocument)==null?void 0:r.body),i=si(n),s=o?[i].concat(i.visualViewport||[],AS(n)?n:[]):n,a=e.concat(s);return o?a:a.concat(kf(_0(s)))}function z1(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function o8(t,e){var r=Nd(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function DT(t,e,r){return e===tM?z1(r8(t,r)):Kc(e)?o8(e,r):z1(n8(zl(t)))}function i8(t){var e=kf(_0(t)),r=["absolute","fixed"].indexOf(va(t).position)>=0,n=r&&Oi(t)?Dh(t):t;return Kc(n)?e.filter(function(o){return Kc(o)&&oM(o,n)&&Ps(o)!=="body"}):[]}function s8(t,e,r,n){var o=e==="clippingParents"?i8(t):[].concat(e),i=[].concat(o,[r]),s=i[0],a=i.reduce(function(l,p){var f=DT(t,p,n);return l.top=Fc(f.top,l.top),l.right=ny(f.right,l.right),l.bottom=ny(f.bottom,l.bottom),l.left=Fc(f.left,l.left),l},DT(t,s,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function cM(t){var e=t.reference,r=t.element,n=t.placement,o=n?Is(n):null,i=n?Ld(n):null,s=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,l;switch(o){case Fo:l={x:s,y:e.y-r.height};break;case $i:l={x:s,y:e.y+e.height};break;case Fi:l={x:e.x+e.width,y:a};break;case Bo:l={x:e.x-r.width,y:a};break;default:l={x:e.x,y:e.y}}var p=o?TS(o):null;if(p!=null){var f=p==="y"?"height":"width";switch(i){case Od:l[p]=l[p]-(e[f]/2-r[f]/2);break;case th:l[p]=l[p]+(e[f]/2-r[f]/2);break}}return l}function rh(t,e){e===void 0&&(e={});var r=e,n=r.placement,o=n===void 0?t.placement:n,i=r.strategy,s=i===void 0?t.strategy:i,a=r.boundary,l=a===void 0?TB:a,p=r.rootBoundary,f=p===void 0?tM:p,h=r.elementContext,m=h===void 0?Up:h,y=r.altBoundary,v=y===void 0?!1:y,b=r.padding,x=b===void 0?0:b,C=sM(typeof x!="number"?x:aM(x,Lh)),E=m===Up?jB:Up,j=t.rects.popper,T=t.elements[v?E:m],k=s8(Kc(T)?T:T.contextElement||zl(t.elements.popper),l,f,s),A=Nd(t.elements.reference),_=cM({reference:A,element:j,placement:o}),I=z1(Object.assign({},j,_)),P=m===Up?I:A,N={top:k.top-P.top+C.top,bottom:P.bottom-k.bottom+C.bottom,left:k.left-P.left+C.left,right:P.right-k.right+C.right},B=t.modifiersData.offset;if(m===Up&&B){var O=B[o];Object.keys(N).forEach(function(D){var F=[Fi,$i].indexOf(D)>=0?1:-1,U=[Fo,$i].indexOf(D)>=0?"y":"x";N[D]+=O[U]*F})}return N}function a8(t,e){e===void 0&&(e={});var r=e,n=r.placement,o=r.boundary,i=r.rootBoundary,s=r.padding,a=r.flipVariations,l=r.allowedAutoPlacements,p=l===void 0?rM:l,f=Ld(n),h=f?a?OT:OT.filter(function(v){return Ld(v)===f}):Lh,m=h.filter(function(v){return p.indexOf(v)>=0});m.length===0&&(m=h);var y=m.reduce(function(v,b){return v[b]=rh(t,{placement:b,boundary:o,rootBoundary:i,padding:s})[Is(b)],v},{});return Object.keys(y).sort(function(v,b){return y[v]-y[b]})}function l8(t){if(Is(t)===CS)return[];var e=Lg(t);return[LT(t),e,LT(e)]}function c8(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var o=r.mainAxis,i=o===void 0?!0:o,s=r.altAxis,a=s===void 0?!0:s,l=r.fallbackPlacements,p=r.padding,f=r.boundary,h=r.rootBoundary,m=r.altBoundary,y=r.flipVariations,v=y===void 0?!0:y,b=r.allowedAutoPlacements,x=e.options.placement,C=Is(x),E=C===x,j=l||(E||!v?[Lg(x)]:l8(x)),T=[x].concat(j).reduce(function(ge,ce){return ge.concat(Is(ce)===CS?a8(e,{placement:ce,boundary:f,rootBoundary:h,padding:p,flipVariations:v,allowedAutoPlacements:b}):ce)},[]),k=e.rects.reference,A=e.rects.popper,_=new Map,I=!0,P=T[0],N=0;N<T.length;N++){var B=T[N],O=Is(B),D=Ld(B)===Od,F=[Fo,$i].indexOf(O)>=0,U=F?"width":"height",V=rh(e,{placement:B,boundary:f,rootBoundary:h,altBoundary:m,padding:p}),G=F?D?Fi:Bo:D?$i:Fo;k[U]>A[U]&&(G=Lg(G));var W=Lg(G),K=[];if(i&&K.push(V[O]<=0),a&&K.push(V[G]<=0,V[W]<=0),K.every(function(ge){return ge})){P=B,I=!1;break}_.set(B,K)}if(I)for(var H=v?3:1,J=function(ce){var te=T.find(function(ve){var Ie=_.get(ve);if(Ie)return Ie.slice(0,ce).every(function(qe){return qe})});if(te)return P=te,"break"},ne=H;ne>0;ne--){var me=J(ne);if(me==="break")break}e.placement!==P&&(e.modifiersData[n]._skip=!0,e.placement=P,e.reset=!0)}}const u8={name:"flip",enabled:!0,phase:"main",fn:c8,requiresIfExists:["offset"],data:{_skip:!1}};function zT(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function $T(t){return[Fo,Fi,$i,Bo].some(function(e){return t[e]>=0})}function d8(t){var e=t.state,r=t.name,n=e.rects.reference,o=e.rects.popper,i=e.modifiersData.preventOverflow,s=rh(e,{elementContext:"reference"}),a=rh(e,{altBoundary:!0}),l=zT(s,n),p=zT(a,o,i),f=$T(l),h=$T(p);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:p,isReferenceHidden:f,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":h})}const p8={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:d8};function f8(t,e,r){var n=Is(t),o=[Bo,Fo].indexOf(n)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,s=i[0],a=i[1];return s=s||0,a=(a||0)*o,[Bo,Fi].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}function h8(t){var e=t.state,r=t.options,n=t.name,o=r.offset,i=o===void 0?[0,0]:o,s=rM.reduce(function(f,h){return f[h]=f8(h,e.rects,i),f},{}),a=s[e.placement],l=a.x,p=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=p),e.modifiersData[n]=s}const m8={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:h8};function g8(t){var e=t.state,r=t.name;e.modifiersData[r]=cM({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const y8={name:"popperOffsets",enabled:!0,phase:"read",fn:g8,data:{}};function v8(t){return t==="x"?"y":"x"}function x8(t){var e=t.state,r=t.options,n=t.name,o=r.mainAxis,i=o===void 0?!0:o,s=r.altAxis,a=s===void 0?!1:s,l=r.boundary,p=r.rootBoundary,f=r.altBoundary,h=r.padding,m=r.tether,y=m===void 0?!0:m,v=r.tetherOffset,b=v===void 0?0:v,x=rh(e,{boundary:l,rootBoundary:p,padding:h,altBoundary:f}),C=Is(e.placement),E=Ld(e.placement),j=!E,T=TS(C),k=v8(T),A=e.modifiersData.popperOffsets,_=e.rects.reference,I=e.rects.popper,P=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,N=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),B=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,O={x:0,y:0};if(A){if(i){var D,F=T==="y"?Fo:Bo,U=T==="y"?$i:Fi,V=T==="y"?"height":"width",G=A[T],W=G+x[F],K=G-x[U],H=y?-I[V]/2:0,J=E===Od?_[V]:I[V],ne=E===Od?-I[V]:-_[V],me=e.elements.arrow,ge=y&&me?ES(me):{width:0,height:0},ce=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:iM(),te=ce[F],ve=ce[U],Ie=Cf(0,_[V],ge[V]),qe=j?_[V]/2-H-Ie-te-N.mainAxis:J-Ie-te-N.mainAxis,Ne=j?-_[V]/2+H+Ie+ve+N.mainAxis:ne+Ie+ve+N.mainAxis,lt=e.elements.arrow&&Dh(e.elements.arrow),Xe=lt?T==="y"?lt.clientTop||0:lt.clientLeft||0:0,He=(D=B==null?void 0:B[T])!=null?D:0,Le=G+qe-He-Xe,Re=G+Ne-He,ae=Cf(y?ny(W,Le):W,G,y?Fc(K,Re):K);A[T]=ae,O[T]=ae-G}if(a){var ke,fe=T==="x"?Fo:Bo,dt=T==="x"?$i:Fi,Be=A[k],Te=k==="y"?"height":"width",ie=Be+x[fe],Ce=Be-x[dt],We=[Fo,Bo].indexOf(C)!==-1,Qe=(ke=B==null?void 0:B[k])!=null?ke:0,mt=We?ie:Be-_[Te]-I[Te]-Qe+N.altAxis,je=We?Be+_[Te]+I[Te]-Qe-N.altAxis:Ce,Ze=y&&We?HB(mt,Be,je):Cf(y?mt:ie,Be,y?je:Ce);A[k]=Ze,O[k]=Ze-Be}e.modifiersData[n]=O}}const b8={name:"preventOverflow",enabled:!0,phase:"main",fn:x8,requiresIfExists:["offset"]};function w8(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function S8(t){return t===si(t)||!Oi(t)?jS(t):w8(t)}function C8(t){var e=t.getBoundingClientRect(),r=Pd(e.width)/t.offsetWidth||1,n=Pd(e.height)/t.offsetHeight||1;return r!==1||n!==1}function k8(t,e,r){r===void 0&&(r=!1);var n=Oi(e),o=Oi(e)&&C8(e),i=zl(e),s=Nd(t,o,r),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((Ps(e)!=="body"||AS(i))&&(a=S8(e)),Oi(e)?(l=Nd(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=RS(i))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function E8(t){var e=new Map,r=new Set,n=[];t.forEach(function(i){e.set(i.name,i)});function o(i){r.add(i.name);var s=[].concat(i.requires||[],i.requiresIfExists||[]);s.forEach(function(a){if(!r.has(a)){var l=e.get(a);l&&o(l)}}),n.push(i)}return t.forEach(function(i){r.has(i.name)||o(i)}),n}function T8(t){var e=E8(t);return DB.reduce(function(r,n){return r.concat(e.filter(function(o){return o.phase===n}))},[])}function j8(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function R8(t){var e=t.reduce(function(r,n){var o=r[n.name];return r[n.name]=o?Object.assign({},o,n,{options:Object.assign({},o.options,n.options),data:Object.assign({},o.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var FT={placement:"bottom",modifiers:[],strategy:"absolute"};function BT(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function A8(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,o=e.defaultOptions,i=o===void 0?FT:o;return function(a,l,p){p===void 0&&(p=i);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},FT,i),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],m=!1,y={state:f,setOptions:function(C){var E=typeof C=="function"?C(f.options):C;b(),f.options=Object.assign({},i,f.options,E),f.scrollParents={reference:Kc(a)?kf(a):a.contextElement?kf(a.contextElement):[],popper:kf(l)};var j=T8(R8([].concat(n,f.options.modifiers)));return f.orderedModifiers=j.filter(function(T){return T.enabled}),v(),y.update()},forceUpdate:function(){if(!m){var C=f.elements,E=C.reference,j=C.popper;if(BT(E,j)){f.rects={reference:k8(E,Dh(j),f.options.strategy==="fixed"),popper:ES(j)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(N){return f.modifiersData[N.name]=Object.assign({},N.data)});for(var T=0;T<f.orderedModifiers.length;T++){if(f.reset===!0){f.reset=!1,T=-1;continue}var k=f.orderedModifiers[T],A=k.fn,_=k.options,I=_===void 0?{}:_,P=k.name;typeof A=="function"&&(f=A({state:f,options:I,name:P,instance:y})||f)}}}},update:j8(function(){return new Promise(function(x){y.forceUpdate(),x(f)})}),destroy:function(){b(),m=!0}};if(!BT(a,l))return y;y.setOptions(p).then(function(x){!m&&p.onFirstUpdate&&p.onFirstUpdate(x)});function v(){f.orderedModifiers.forEach(function(x){var C=x.name,E=x.options,j=E===void 0?{}:E,T=x.effect;if(typeof T=="function"){var k=T({state:f,name:C,instance:y,options:j}),A=function(){};h.push(k||A)}})}function b(){h.forEach(function(x){return x()}),h=[]}return y}}var _8=[ZB,y8,XB,FB,m8,u8,b8,GB,p8],M8=A8({defaultModifiers:_8});function Dd(t){var h;const{elementType:e,externalSlotProps:r,ownerState:n,skipResolvingSlotProps:o=!1,...i}=t,s=o?{}:Q_(r,n),{props:a,internalRef:l}=Z_({...i,externalSlotProps:s}),p=zr(l,s==null?void 0:s.ref,(h=t.additionalProps)==null?void 0:h.ref);return X_(e,{...a,ref:p},n)}function Sa(t){var e;return parseInt(S.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}function I8(t){return typeof t=="function"?t():t}const uM=S.forwardRef(function(e,r){const{children:n,container:o,disablePortal:i=!1}=e,[s,a]=S.useState(null),l=zr(S.isValidElement(n)?Sa(n):null,r);if(Eo(()=>{i||a(I8(o)||document.body)},[o,i]),Eo(()=>{if(s&&!i)return M1(r,s),()=>{M1(r,null)}},[r,s,i]),i){if(S.isValidElement(n)){const p={ref:l};return S.cloneElement(n,p)}return n}return s&&ua.createPortal(n,s)});function O8(t){return et("MuiPopper",t)}st("MuiPopper",["root"]);function P8(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function $1(t){return typeof t=="function"?t():t}function N8(t){return t.nodeType!==void 0}const L8=t=>{const{classes:e}=t;return tt({root:["root"]},O8,e)},D8={},z8=S.forwardRef(function(e,r){const{anchorEl:n,children:o,direction:i,disablePortal:s,modifiers:a,open:l,placement:p,popperOptions:f,popperRef:h,slotProps:m={},slots:y={},TransitionProps:v,ownerState:b,...x}=e,C=S.useRef(null),E=zr(C,r),j=S.useRef(null),T=zr(j,h),k=S.useRef(T);Eo(()=>{k.current=T},[T]),S.useImperativeHandle(h,()=>j.current,[]);const A=P8(p,i),[_,I]=S.useState(A),[P,N]=S.useState($1(n));S.useEffect(()=>{j.current&&j.current.forceUpdate()}),S.useEffect(()=>{n&&N($1(n))},[n]),Eo(()=>{if(!P||!l)return;const U=W=>{I(W.placement)};let V=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:W})=>{U(W)}}];a!=null&&(V=V.concat(a)),f&&f.modifiers!=null&&(V=V.concat(f.modifiers));const G=M8(P,C.current,{placement:A,...f,modifiers:V});return k.current(G),()=>{G.destroy(),k.current(null)}},[P,s,a,l,f,A]);const B={placement:_};v!==null&&(B.TransitionProps=v);const O=L8(e),D=y.root??"div",F=Dd({elementType:D,externalSlotProps:m.root,externalForwardedProps:x,additionalProps:{role:"tooltip",ref:E},ownerState:e,className:O.root});return u.jsx(D,{...F,children:typeof o=="function"?o(B):o})}),$8=S.forwardRef(function(e,r){const{anchorEl:n,children:o,container:i,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:p,open:f,placement:h="bottom",popperOptions:m=D8,popperRef:y,style:v,transition:b=!1,slotProps:x={},slots:C={},...E}=e,[j,T]=S.useState(!0),k=()=>{T(!1)},A=()=>{T(!0)};if(!l&&!f&&(!b||j))return null;let _;if(i)_=i;else if(n){const N=$1(n);_=N&&N8(N)?ro(N).body:ro(null).body}const I=!f&&l&&(!b||j)?"none":void 0,P=b?{in:f,onEnter:k,onExited:A}:void 0;return u.jsx(uM,{disablePortal:a,container:_,children:u.jsx(z8,{anchorEl:n,direction:s,disablePortal:a,modifiers:p,ref:r,open:b?!j:f,placement:h,popperOptions:m,popperRef:y,slotProps:x,slots:C,...E,style:{position:"fixed",top:0,left:0,display:I,...v},TransitionProps:P,children:o})})}),F8=oe($8,{name:"MuiPopper",slot:"Root"})({}),M0=S.forwardRef(function(e,r){const n=wa(),o=nt({props:e,name:"MuiPopper"}),{anchorEl:i,component:s,components:a,componentsProps:l,container:p,disablePortal:f,keepMounted:h,modifiers:m,open:y,placement:v,popperOptions:b,popperRef:x,transition:C,slots:E,slotProps:j,...T}=o,k=(E==null?void 0:E.root)??(a==null?void 0:a.Root),A={anchorEl:i,container:p,disablePortal:f,keepMounted:h,modifiers:m,open:y,placement:v,popperOptions:b,popperRef:x,transition:C,...T};return u.jsx(F8,{as:s,direction:n?"rtl":"ltr",slots:{root:k},slotProps:j??l,...A,ref:r})});function B8(t){return et("MuiListSubheader",t)}st("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const W8=t=>{const{classes:e,color:r,disableGutters:n,inset:o,disableSticky:i}=t,s={root:["root",r!=="default"&&`color${ue(r)}`,!n&&"gutters",o&&"inset",!i&&"sticky"]};return tt(s,B8,e)},H8=oe("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="default"&&e[`color${ue(r.color)}`],!r.disableGutters&&e.gutters,r.inset&&e.inset,!r.disableSticky&&e.sticky]}})(rt(({theme:t})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(t.vars||t).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:72}},{props:({ownerState:e})=>!e.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper}}]}))),oy=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiListSubheader"}),{className:o,color:i="default",component:s="li",disableGutters:a=!1,disableSticky:l=!1,inset:p=!1,...f}=n,h={...n,color:i,component:s,disableGutters:a,disableSticky:l,inset:p},m=W8(h);return u.jsx(H8,{as:s,className:Se(m.root,o),ref:r,ownerState:h,...f})});oy&&(oy.muiSkipListHighlight=!0);const U8=pe(u.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function V8(t){return et("MuiChip",t)}const ar=st("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),q8=t=>{const{classes:e,disabled:r,size:n,color:o,iconColor:i,onDelete:s,clickable:a,variant:l}=t,p={root:["root",l,r&&"disabled",`size${ue(n)}`,`color${ue(o)}`,a&&"clickable",a&&`clickableColor${ue(o)}`,s&&"deletable",s&&`deletableColor${ue(o)}`,`${l}${ue(o)}`],label:["label",`label${ue(n)}`],avatar:["avatar",`avatar${ue(n)}`,`avatarColor${ue(o)}`],icon:["icon",`icon${ue(n)}`,`iconColor${ue(i)}`],deleteIcon:["deleteIcon",`deleteIcon${ue(n)}`,`deleteIconColor${ue(o)}`,`deleteIcon${ue(l)}Color${ue(o)}`]};return tt(p,V8,e)},G8=oe("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t,{color:n,iconColor:o,clickable:i,onDelete:s,size:a,variant:l}=r;return[{[`& .${ar.avatar}`]:e.avatar},{[`& .${ar.avatar}`]:e[`avatar${ue(a)}`]},{[`& .${ar.avatar}`]:e[`avatarColor${ue(n)}`]},{[`& .${ar.icon}`]:e.icon},{[`& .${ar.icon}`]:e[`icon${ue(a)}`]},{[`& .${ar.icon}`]:e[`iconColor${ue(o)}`]},{[`& .${ar.deleteIcon}`]:e.deleteIcon},{[`& .${ar.deleteIcon}`]:e[`deleteIcon${ue(a)}`]},{[`& .${ar.deleteIcon}`]:e[`deleteIconColor${ue(n)}`]},{[`& .${ar.deleteIcon}`]:e[`deleteIcon${ue(l)}Color${ue(n)}`]},e.root,e[`size${ue(a)}`],e[`color${ue(n)}`],i&&e.clickable,i&&n!=="default"&&e[`clickableColor${ue(n)}`],s&&e.deletable,s&&n!=="default"&&e[`deletableColor${ue(n)}`],e[l],e[`${l}${ue(n)}`]]}})(rt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${ar.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${ar.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${ar.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${ar.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${ar.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${ar.icon}`]:{marginLeft:5,marginRight:-6},[`& .${ar.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.alpha((t.vars||t).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.alpha((t.vars||t).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${ar.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${ar.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(_r(["contrastText"])).map(([r])=>({props:{color:r},style:{backgroundColor:(t.vars||t).palette[r].main,color:(t.vars||t).palette[r].contrastText,[`& .${ar.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[r].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[r].contrastText}}}})),{props:r=>r.iconColor===r.color,style:{[`& .${ar.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:r=>r.iconColor===r.color&&r.color!=="default",style:{[`& .${ar.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${ar.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}},...Object.entries(t.palette).filter(_r(["dark"])).map(([r])=>({props:{color:r,onDelete:!0},style:{[`&.${ar.focusVisible}`]:{background:(t.vars||t).palette[r].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`)},[`&.${ar.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(_r(["dark"])).map(([r])=>({props:{color:r,clickable:!0},style:{[`&:hover, &.${ar.focusVisible}`]:{backgroundColor:(t.vars||t).palette[r].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${ar.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${ar.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${ar.avatar}`]:{marginLeft:4},[`& .${ar.avatarSmall}`]:{marginLeft:2},[`& .${ar.icon}`]:{marginLeft:4},[`& .${ar.iconSmall}`]:{marginLeft:2},[`& .${ar.deleteIcon}`]:{marginRight:5},[`& .${ar.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(_r()).map(([r])=>({props:{variant:"outlined",color:r},style:{color:(t.vars||t).palette[r].main,border:`1px solid ${t.alpha((t.vars||t).palette[r].main,.7)}`,[`&.${ar.clickable}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity)},[`&.${ar.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.focusOpacity)},[`& .${ar.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[r].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[r].main}}}}))]}})),K8=oe("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:r}=t,{size:n}=r;return[e.label,e[`label${ue(n)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function WT(t){return t.key==="Backspace"||t.key==="Delete"}const Qr=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiChip"}),{avatar:o,className:i,clickable:s,color:a="default",component:l,deleteIcon:p,disabled:f=!1,icon:h,label:m,onClick:y,onDelete:v,onKeyDown:b,onKeyUp:x,size:C="medium",variant:E="filled",tabIndex:j,skipFocusWhenDisabled:T=!1,slots:k={},slotProps:A={},..._}=n,I=S.useRef(null),P=zr(I,r),N=te=>{te.stopPropagation(),v&&v(te)},B=te=>{te.currentTarget===te.target&&WT(te)&&te.preventDefault(),b&&b(te)},O=te=>{te.currentTarget===te.target&&v&&WT(te)&&v(te),x&&x(te)},D=s!==!1&&y?!0:s,F=D||v?zi:l||"div",U={...n,component:F,disabled:f,size:C,color:a,iconColor:S.isValidElement(h)&&h.props.color||a,onDelete:!!v,clickable:D,variant:E},V=q8(U),G=F===zi?{component:l||"div",focusVisibleClassName:V.focusVisible,...v&&{disableRipple:!0}}:{};let W=null;v&&(W=p&&S.isValidElement(p)?S.cloneElement(p,{className:Se(p.props.className,V.deleteIcon),onClick:N}):u.jsx(U8,{className:V.deleteIcon,onClick:N}));let K=null;o&&S.isValidElement(o)&&(K=S.cloneElement(o,{className:Se(V.avatar,o.props.className)}));let H=null;h&&S.isValidElement(h)&&(H=S.cloneElement(h,{className:Se(V.icon,h.props.className)}));const J={slots:k,slotProps:A},[ne,me]=it("root",{elementType:G8,externalForwardedProps:{...J,..._},ownerState:U,shouldForwardComponentProp:!0,ref:P,className:Se(V.root,i),additionalProps:{disabled:D&&f?!0:void 0,tabIndex:T&&f?-1:j,...G},getSlotProps:te=>({...te,onClick:ve=>{var Ie;(Ie=te.onClick)==null||Ie.call(te,ve),y==null||y(ve)},onKeyDown:ve=>{var Ie;(Ie=te.onKeyDown)==null||Ie.call(te,ve),B(ve)},onKeyUp:ve=>{var Ie;(Ie=te.onKeyUp)==null||Ie.call(te,ve),O(ve)}})}),[ge,ce]=it("label",{elementType:K8,externalForwardedProps:J,ownerState:U,className:V.label});return u.jsxs(ne,{as:F,...me,children:[K||H,u.jsx(ge,{...ce,children:m}),W]})});function ng(t){return parseInt(t,10)||0}const Y8={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function J8(t){for(const e in t)return!1;return!0}function HT(t){return J8(t)||t.outerHeightStyle===0&&!t.overflowing}const X8=S.forwardRef(function(e,r){const{onChange:n,maxRows:o,minRows:i=1,style:s,value:a,...l}=e,{current:p}=S.useRef(a!=null),f=S.useRef(null),h=zr(r,f),m=S.useRef(null),y=S.useRef(null),v=S.useCallback(()=>{const j=f.current,T=y.current;if(!j||!T)return;const A=ii(j).getComputedStyle(j);if(A.width==="0px")return{outerHeightStyle:0,overflowing:!1};T.style.width=A.width,T.value=j.value||e.placeholder||"x",T.value.slice(-1)===`
`&&(T.value+=" ");const _=A.boxSizing,I=ng(A.paddingBottom)+ng(A.paddingTop),P=ng(A.borderBottomWidth)+ng(A.borderTopWidth),N=T.scrollHeight;T.value="x";const B=T.scrollHeight;let O=N;i&&(O=Math.max(Number(i)*B,O)),o&&(O=Math.min(Number(o)*B,O)),O=Math.max(O,B);const D=O+(_==="border-box"?I+P:0),F=Math.abs(O-N)<=1;return{outerHeightStyle:D,overflowing:F}},[o,i,e.placeholder]),b=_n(()=>{const j=f.current,T=v();if(!j||!T||HT(T))return!1;const k=T.outerHeightStyle;return m.current!=null&&m.current!==k}),x=S.useCallback(()=>{const j=f.current,T=v();if(!j||!T||HT(T))return;const k=T.outerHeightStyle;m.current!==k&&(m.current=k,j.style.height=`${k}px`),j.style.overflow=T.overflowing?"hidden":""},[v]),C=S.useRef(-1);Eo(()=>{const j=Nh(x),T=f==null?void 0:f.current;if(!T)return;const k=ii(T);k.addEventListener("resize",j);let A;return typeof ResizeObserver<"u"&&(A=new ResizeObserver(()=>{b()&&(A.unobserve(T),cancelAnimationFrame(C.current),x(),C.current=requestAnimationFrame(()=>{A.observe(T)}))}),A.observe(T)),()=>{j.clear(),cancelAnimationFrame(C.current),k.removeEventListener("resize",j),A&&A.disconnect()}},[v,x,b]),Eo(()=>{x()});const E=j=>{p||x();const T=j.target,k=T.value.length,A=T.value.endsWith(`
`),_=T.selectionStart===k;A&&_&&T.setSelectionRange(k,k),n&&n(j)};return u.jsxs(S.Fragment,{children:[u.jsx("textarea",{value:a,onChange:E,ref:h,rows:i,style:s,...l}),u.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:y,tabIndex:-1,style:{...Y8.shadow,...s,paddingTop:0,paddingBottom:0}})]})});function ep({props:t,states:e,muiFormControl:r}){return e.reduce((n,o)=>(n[o]=t[o],r&&typeof t[o]>"u"&&(n[o]=r[o]),n),{})}const I0=S.createContext(void 0);function $l(){return S.useContext(I0)}function UT(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function iy(t,e=!1){return t&&(UT(t.value)&&t.value!==""||e&&UT(t.defaultValue)&&t.defaultValue!=="")}function Q8(t){return t.startAdornment}function Z8(t){return et("MuiInputBase",t)}const Zo=st("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var VT;const O0=(t,e)=>{const{ownerState:r}=t;return[e.root,r.formControl&&e.formControl,r.startAdornment&&e.adornedStart,r.endAdornment&&e.adornedEnd,r.error&&e.error,r.size==="small"&&e.sizeSmall,r.multiline&&e.multiline,r.color&&e[`color${ue(r.color)}`],r.fullWidth&&e.fullWidth,r.hiddenLabel&&e.hiddenLabel]},P0=(t,e)=>{const{ownerState:r}=t;return[e.input,r.size==="small"&&e.inputSizeSmall,r.multiline&&e.inputMultiline,r.type==="search"&&e.inputTypeSearch,r.startAdornment&&e.inputAdornedStart,r.endAdornment&&e.inputAdornedEnd,r.hiddenLabel&&e.inputHiddenLabel]},eW=t=>{const{classes:e,color:r,disabled:n,error:o,endAdornment:i,focused:s,formControl:a,fullWidth:l,hiddenLabel:p,multiline:f,readOnly:h,size:m,startAdornment:y,type:v}=t,b={root:["root",`color${ue(r)}`,n&&"disabled",o&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",m&&m!=="medium"&&`size${ue(m)}`,f&&"multiline",y&&"adornedStart",i&&"adornedEnd",p&&"hiddenLabel",h&&"readOnly"],input:["input",n&&"disabled",v==="search"&&"inputTypeSearch",f&&"inputMultiline",m==="small"&&"inputSizeSmall",p&&"inputHiddenLabel",y&&"inputAdornedStart",i&&"inputAdornedEnd",h&&"readOnly"]};return tt(b,Z8,e)},N0=oe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:O0})(rt(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Zo.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:r})=>e.multiline&&r==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),L0=oe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:P0})(rt(({theme:t})=>{const e=t.palette.mode==="light",r={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},n={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Zo.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${Zo.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:i})=>!i.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:i})=>i.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),qT=vS({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),D0=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:i,autoFocus:s,className:a,color:l,components:p={},componentsProps:f={},defaultValue:h,disabled:m,disableInjectingGlobalStyles:y,endAdornment:v,error:b,fullWidth:x=!1,id:C,inputComponent:E="input",inputProps:j={},inputRef:T,margin:k,maxRows:A,minRows:_,multiline:I=!1,name:P,onBlur:N,onChange:B,onClick:O,onFocus:D,onKeyDown:F,onKeyUp:U,placeholder:V,readOnly:G,renderSuffix:W,rows:K,size:H,slotProps:J={},slots:ne={},startAdornment:me,type:ge="text",value:ce,...te}=n,ve=j.value!=null?j.value:ce,{current:Ie}=S.useRef(ve!=null),qe=S.useRef(),Ne=S.useCallback(Ae=>{},[]),lt=zr(qe,T,j.ref,Ne),[Xe,He]=S.useState(!1),Le=$l(),Re=ep({props:n,muiFormControl:Le,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Re.focused=Le?Le.focused:Xe,S.useEffect(()=>{!Le&&m&&Xe&&(He(!1),N&&N())},[Le,m,Xe,N]);const ae=Le&&Le.onFilled,ke=Le&&Le.onEmpty,fe=S.useCallback(Ae=>{iy(Ae)?ae&&ae():ke&&ke()},[ae,ke]);Eo(()=>{Ie&&fe({value:ve})},[ve,fe,Ie]);const dt=Ae=>{D&&D(Ae),j.onFocus&&j.onFocus(Ae),Le&&Le.onFocus?Le.onFocus(Ae):He(!0)},Be=Ae=>{N&&N(Ae),j.onBlur&&j.onBlur(Ae),Le&&Le.onBlur?Le.onBlur(Ae):He(!1)},Te=(Ae,...ct)=>{if(!Ie){const at=Ae.target||qe.current;if(at==null)throw new Error(ga(1));fe({value:at.value})}j.onChange&&j.onChange(Ae,...ct),B&&B(Ae,...ct)};S.useEffect(()=>{fe(qe.current)},[]);const ie=Ae=>{qe.current&&Ae.currentTarget===Ae.target&&qe.current.focus(),O&&O(Ae)};let Ce=E,We=j;I&&Ce==="input"&&(K?We={type:void 0,minRows:K,maxRows:K,...We}:We={type:void 0,maxRows:A,minRows:_,...We},Ce=X8);const Qe=Ae=>{fe(Ae.animationName==="mui-auto-fill-cancel"?qe.current:{value:"x"})};S.useEffect(()=>{Le&&Le.setAdornedStart(!!me)},[Le,me]);const mt={...n,color:Re.color||"primary",disabled:Re.disabled,endAdornment:v,error:Re.error,focused:Re.focused,formControl:Le,fullWidth:x,hiddenLabel:Re.hiddenLabel,multiline:I,size:Re.size,startAdornment:me,type:ge},je=eW(mt),Ze=ne.root||p.Root||N0,ot=J.root||f.root||{},ft=ne.input||p.Input||L0;return We={...We,...J.input??f.input},u.jsxs(S.Fragment,{children:[!y&&typeof qT=="function"&&(VT||(VT=u.jsx(qT,{}))),u.jsxs(Ze,{...ot,ref:r,onClick:ie,...te,...!Md(Ze)&&{ownerState:{...mt,...ot.ownerState}},className:Se(je.root,ot.className,a,G&&"MuiInputBase-readOnly"),children:[me,u.jsx(I0.Provider,{value:null,children:u.jsx(ft,{"aria-invalid":Re.error,"aria-describedby":o,autoComplete:i,autoFocus:s,defaultValue:h,disabled:Re.disabled,id:C,onAnimationStart:Qe,name:P,placeholder:V,readOnly:G,required:Re.required,rows:K,value:ve,onKeyDown:F,onKeyUp:U,type:ge,...We,...!Md(ft)&&{as:Ce,ownerState:{...mt,...We.ownerState}},ref:lt,className:Se(je.input,We.className,G&&"MuiInputBase-readOnly"),onBlur:Be,onChange:Te,onFocus:dt})}),v,W?W({...Re,startAdornment:me}):null]})]})});function tW(t){return et("MuiInput",t)}const sl={...Zo,...st("MuiInput",["root","underline","input"])};function rW(t){return et("MuiOutlinedInput",t)}const Ci={...Zo,...st("MuiOutlinedInput",["root","notchedOutline","input"])};function nW(t){return et("MuiFilledInput",t)}const ei={...Zo,...st("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},dM=pe(u.jsx("path",{d:"M7 10l5 5 5-5z"}));function oW(t){return et("MuiAutocomplete",t)}const rr=st("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var GT,KT;const iW=t=>{const{classes:e,disablePortal:r,expanded:n,focused:o,fullWidth:i,hasClearIcon:s,hasPopupIcon:a,inputFocused:l,popupOpen:p,size:f}=t,h={root:["root",n&&"expanded",o&&"focused",i&&"fullWidth",s&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag",`tagSize${ue(f)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",p&&"popupIndicatorOpen"],popper:["popper",r&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return tt(h,oW,e)},sW=oe("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t,{fullWidth:n,hasClearIcon:o,hasPopupIcon:i,inputFocused:s,size:a}=r;return[{[`& .${rr.tag}`]:e.tag},{[`& .${rr.tag}`]:e[`tagSize${ue(a)}`]},{[`& .${rr.inputRoot}`]:e.inputRoot},{[`& .${rr.input}`]:e.input},{[`& .${rr.input}`]:s&&e.inputFocused},e.root,n&&e.fullWidth,i&&e.hasPopupIcon,o&&e.hasClearIcon]}})({[`&.${rr.focused} .${rr.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${rr.clearIndicator}`]:{visibility:"visible"}},[`& .${rr.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${rr.inputRoot}`]:{[`.${rr.hasPopupIcon}&, .${rr.hasClearIcon}&`]:{paddingRight:30},[`.${rr.hasPopupIcon}.${rr.hasClearIcon}&`]:{paddingRight:56},[`& .${rr.input}`]:{width:0,minWidth:30}},[`& .${sl.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${sl.root}.${Zo.sizeSmall}`]:{[`& .${sl.input}`]:{padding:"2px 4px 3px 0"}},[`& .${Ci.root}`]:{padding:9,[`.${rr.hasPopupIcon}&, .${rr.hasClearIcon}&`]:{paddingRight:39},[`.${rr.hasPopupIcon}.${rr.hasClearIcon}&`]:{paddingRight:65},[`& .${rr.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${rr.endAdornment}`]:{right:9}},[`& .${Ci.root}.${Zo.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${rr.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${ei.root}`]:{paddingTop:19,paddingLeft:8,[`.${rr.hasPopupIcon}&, .${rr.hasClearIcon}&`]:{paddingRight:39},[`.${rr.hasPopupIcon}.${rr.hasClearIcon}&`]:{paddingRight:65},[`& .${ei.input}`]:{padding:"7px 4px"},[`& .${rr.endAdornment}`]:{right:9}},[`& .${ei.root}.${Zo.sizeSmall}`]:{paddingBottom:1,[`& .${ei.input}`]:{padding:"2.5px 4px"}},[`& .${Zo.hiddenLabel}`]:{paddingTop:8},[`& .${ei.root}.${Zo.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${rr.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${ei.root}.${Zo.hiddenLabel}.${Zo.sizeSmall}`]:{[`& .${rr.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${rr.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${rr.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${rr.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${rr.inputRoot}`]:{flexWrap:"wrap"}}}]}),aW=oe("div",{name:"MuiAutocomplete",slot:"EndAdornment"})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),lW=oe(pt,{name:"MuiAutocomplete",slot:"ClearIndicator"})({marginRight:-2,padding:4,visibility:"hidden"}),cW=oe(pt,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.popupIndicator,r.popupOpen&&e.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),uW=oe(M0,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${rr.option}`]:e.option},e.popper,r.disablePortal&&e.popperDisablePortal]}})(rt(({theme:t})=>({zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),dW=oe(St,{name:"MuiAutocomplete",slot:"Paper"})(rt(({theme:t})=>({...t.typography.body1,overflow:"auto"}))),pW=oe("div",{name:"MuiAutocomplete",slot:"Loading"})(rt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),fW=oe("div",{name:"MuiAutocomplete",slot:"NoOptions"})(rt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),hW=oe("ul",{name:"MuiAutocomplete",slot:"Listbox"})(rt(({theme:t})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${rr.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${rr.focused}`]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${rr.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${rr.focused}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${rr.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}}}))),mW=oe(oy,{name:"MuiAutocomplete",slot:"GroupLabel"})(rt(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,top:-8}))),gW=oe("ul",{name:"MuiAutocomplete",slot:"GroupUl"})({padding:0,[`& .${rr.option}`]:{paddingLeft:24}}),yW=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiAutocomplete"}),{autoComplete:o=!1,autoHighlight:i=!1,autoSelect:s=!1,blurOnSelect:a=!1,ChipProps:l,className:p,clearIcon:f=GT||(GT=u.jsx(eM,{fontSize:"small"})),clearOnBlur:h=!n.freeSolo,clearOnEscape:m=!1,clearText:y="Clear",closeText:v="Close",componentsProps:b,defaultValue:x=n.multiple?[]:null,disableClearable:C=!1,disableCloseOnSelect:E=!1,disabled:j=!1,disabledItemsFocusable:T=!1,disableListWrap:k=!1,disablePortal:A=!1,filterOptions:_,filterSelectedOptions:I=!1,forcePopupIcon:P="auto",freeSolo:N=!1,fullWidth:B=!1,getLimitTagsText:O=Zt=>`+${Zt}`,getOptionDisabled:D,getOptionKey:F,getOptionLabel:U,isOptionEqualToValue:V,groupBy:G,handleHomeEndKeys:W=!n.freeSolo,id:K,includeInputInList:H=!1,inputValue:J,limitTags:ne=-1,ListboxComponent:me,ListboxProps:ge,loading:ce=!1,loadingText:te="Loading",multiple:ve=!1,noOptionsText:Ie="No options",onChange:qe,onClose:Ne,onHighlightChange:lt,onInputChange:Xe,onOpen:He,open:Le,openOnFocus:Re=!1,openText:ae="Open",options:ke,PaperComponent:fe,PopperComponent:dt,popupIcon:Be=KT||(KT=u.jsx(dM,{})),readOnly:Te=!1,renderGroup:ie,renderInput:Ce,renderOption:We,renderTags:Qe,renderValue:mt,selectOnFocus:je=!n.freeSolo,size:Ze="medium",slots:ot={},slotProps:ft={},value:Ae,...ct}=n,{getRootProps:at,getInputProps:ee,getInputLabelProps:we,getPopupIndicatorProps:Me,getClearProps:_t,getItemProps:gt,getListboxProps:$t,getOptionProps:or,value:Oe,dirty:Je,expanded:Lt,id:qt,popupOpen:vr,focused:xr,focusedItem:Ct,anchorEl:ir,setAnchorEl:$e,inputValue:Ge,groupedOptions:At}=EB({...n,componentName:"Autocomplete"}),jt=!C&&!j&&Je&&!Te,Jt=(!N||P===!0)&&P!==!1,{onMouseDown:jr}=ee(),{ref:Wr,...Pr}=$t(),Pn=U||(Zt=>Zt.label??Zt),Qt={...n,disablePortal:A,expanded:Lt,focused:xr,fullWidth:B,getOptionLabel:Pn,hasClearIcon:jt,hasPopupIcon:Jt,inputFocused:Ct===-1,popupOpen:vr,size:Ze},qr=iW(Qt),cr={slots:{paper:fe,popper:dt,...ot},slotProps:{chip:l,listbox:ge,...b,...ft}},[zs,br]=it("listbox",{elementType:hW,externalForwardedProps:cr,ownerState:Qt,className:qr.listbox,additionalProps:Pr,ref:Wr}),[ci,ye]=it("paper",{elementType:St,externalForwardedProps:cr,ownerState:Qt,className:qr.paper}),[he,ut]=it("popper",{elementType:M0,externalForwardedProps:cr,ownerState:Qt,className:qr.popper,additionalProps:{disablePortal:A,style:{width:ir?ir.clientWidth:null},role:"presentation",anchorEl:ir,open:vr}});let It;const Wt=Zt=>({className:qr.tag,disabled:j,...gt(Zt)});if(ve?Oe.length>0&&(Qe?It=Qe(Oe,Wt,Qt):mt?It=mt(Oe,Wt,Qt):It=Oe.map((Zt,Ln)=>{const{key:tn,...ds}=Wt({index:Ln});return u.jsx(Qr,{label:Pn(Zt),size:Ze,...ds,...cr.slotProps.chip},tn)})):mt&&Oe!=null&&(It=mt(Oe,Wt,Qt)),ne>-1&&Array.isArray(It)){const Zt=It.length-ne;!xr&&Zt>0&&(It=It.splice(0,ne),It.push(u.jsx("span",{className:qr.tag,children:O(Zt)},It.length)))}const Ft=ie||(Zt=>u.jsxs("li",{children:[u.jsx(mW,{className:qr.groupLabel,ownerState:Qt,component:"div",children:Zt.group}),u.jsx(gW,{className:qr.groupUl,ownerState:Qt,children:Zt.children})]},Zt.key)),oo=We||((Zt,Ln)=>{const{key:tn,...ds}=Zt;return u.jsx("li",{...ds,children:Pn(Ln)},tn)}),$s=(Zt,Ln)=>{const tn=or({option:Zt,index:Ln});return oo({...tn,className:qr.option},Zt,{selected:tn["aria-selected"],index:Ln,inputValue:Ge},Qt)},Vo=cr.slotProps.clearIndicator,qo=cr.slotProps.popupIndicator;return u.jsxs(S.Fragment,{children:[u.jsx(sW,{ref:r,className:Se(qr.root,p),ownerState:Qt,...at(ct),children:Ce({id:qt,disabled:j,fullWidth:!0,size:Ze==="small"?"small":void 0,InputLabelProps:we(),InputProps:{ref:$e,className:qr.inputRoot,startAdornment:It,onMouseDown:Zt=>{Zt.target===Zt.currentTarget&&jr(Zt)},...(jt||Jt)&&{endAdornment:u.jsxs(aW,{className:qr.endAdornment,ownerState:Qt,children:[jt?u.jsx(lW,{..._t(),"aria-label":y,title:y,ownerState:Qt,...Vo,className:Se(qr.clearIndicator,Vo==null?void 0:Vo.className),children:f}):null,Jt?u.jsx(cW,{...Me(),disabled:j,"aria-label":vr?v:ae,title:vr?v:ae,ownerState:Qt,...qo,className:Se(qr.popupIndicator,qo==null?void 0:qo.className),children:Be}):null]})}},inputProps:{className:qr.input,disabled:j,readOnly:Te,...ee()}})}),ir?u.jsx(uW,{as:he,...ut,children:u.jsxs(dW,{as:ci,...ye,children:[ce&&At.length===0?u.jsx(pW,{className:qr.loading,ownerState:Qt,children:te}):null,At.length===0&&!N&&!ce?u.jsx(fW,{className:qr.noOptions,ownerState:Qt,role:"presentation",onMouseDown:Zt=>{Zt.preventDefault()},children:Ie}):null,At.length>0?u.jsx(zs,{as:me,...br,children:At.map((Zt,Ln)=>G?Ft({key:Zt.key,group:Zt.group,children:Zt.options.map((tn,ds)=>$s(tn,Zt.index+ds))}):$s(Zt,Ln))}):null]})}):null]})}),vW=pe(u.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function xW(t){return et("MuiAvatar",t)}const bW=st("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]),wW=t=>{const{classes:e,variant:r,colorDefault:n}=t;return tt({root:["root",r,n&&"colorDefault"],img:["img"],fallback:["fallback"]},xW,e)},SW=oe("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],r.colorDefault&&e.colorDefault]}})(rt(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),CW=oe("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),kW=oe(vW,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function EW({crossOrigin:t,referrerPolicy:e,src:r,srcSet:n}){const[o,i]=S.useState(!1);return S.useEffect(()=>{if(!r&&!n)return;i(!1);let s=!0;const a=new Image;return a.onload=()=>{s&&i("loaded")},a.onerror=()=>{s&&i("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=r,n&&(a.srcset=n),()=>{s=!1}},[t,e,r,n]),o}const ai=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiAvatar"}),{alt:o,children:i,className:s,component:a="div",slots:l={},slotProps:p={},imgProps:f,sizes:h,src:m,srcSet:y,variant:v="circular",...b}=n;let x=null;const C={...n,component:a,variant:v},E=EW({...f,...typeof p.img=="function"?p.img(C):p.img,src:m,srcSet:y}),j=m||y,T=j&&E!=="error";C.colorDefault=!T,delete C.ownerState;const k=wW(C),[A,_]=it("root",{ref:r,className:Se(k.root,s),elementType:SW,externalForwardedProps:{slots:l,slotProps:p,component:a,...b},ownerState:C}),[I,P]=it("img",{className:k.img,elementType:CW,externalForwardedProps:{slots:l,slotProps:{img:{...f,...p.img}}},additionalProps:{alt:o,src:m,srcSet:y,sizes:h},ownerState:C}),[N,B]=it("fallback",{className:k.fallback,elementType:kW,externalForwardedProps:{slots:l,slotProps:p},shouldForwardComponentProp:!0,ownerState:C});return T?x=u.jsx(I,{...P}):i||i===0?x=i:j&&o?x=o[0]:x=u.jsx(N,{...B}),u.jsx(A,{..._,children:x})});function TW(t){return et("MuiAvatarGroup",t)}const jW=st("MuiAvatarGroup",["root","avatar"]),ib={small:-16,medium:-8},RW=t=>{const{classes:e}=t;return tt({root:["root"],avatar:["avatar"]},TW,e)},AW=oe("div",{name:"MuiAvatarGroup",slot:"Root",overridesResolver:(t,e)=>[{[`& .${jW.avatar}`]:e.avatar},e.root]})(rt(({theme:t})=>({display:"flex",flexDirection:"row-reverse",[`& .${bW.root}`]:{border:`2px solid ${(t.vars||t).palette.background.default}`,boxSizing:"content-box",marginLeft:"var(--AvatarGroup-spacing, -8px)","&:last-child":{marginLeft:0}}}))),_W=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiAvatarGroup"}),{children:o,className:i,component:s="div",componentsProps:a,max:l=5,renderSurplus:p,slotProps:f={},slots:h={},spacing:m="medium",total:y,variant:v="circular",...b}=n;let x=l<2?2:l;const C={...n,max:l,spacing:m,component:s,variant:v},E=RW(C),j=S.Children.toArray(o).filter(O=>S.isValidElement(O)),T=y||j.length;T===x&&(x+=1),x=Math.min(T+1,x);const k=Math.min(j.length,x-1),A=Math.max(T-x,T-k,0),_=p?p(A):`+${A}`;let I;C.spacing&&ib[C.spacing]!==void 0?I=ib[C.spacing]:C.spacing===0?I=0:I=-C.spacing||ib.medium;const P={slots:h,slotProps:{surplus:f.additionalAvatar??(a==null?void 0:a.additionalAvatar),...a,...f}},[N,B]=it("surplus",{elementType:ai,externalForwardedProps:P,className:E.avatar,ownerState:C,additionalProps:{variant:v}});return u.jsxs(AW,{as:s,ownerState:C,className:Se(E.root,i),ref:r,...b,style:{"--AvatarGroup-spacing":`${I}px`,...b.style},children:[A?u.jsx(N,{...B,children:_}):null,j.slice(0,k).reverse().map(O=>S.cloneElement(O,{className:Se(O.props.className,E.avatar),variant:O.props.variant||v}))]})}),MW={entering:{opacity:1},entered:{opacity:1}},F1=S.forwardRef(function(e,r){const n=Yt(),o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:i,appear:s=!0,children:a,easing:l,in:p,onEnter:f,onEntered:h,onEntering:m,onExit:y,onExited:v,onExiting:b,style:x,timeout:C=o,TransitionComponent:E=li,...j}=e,T=S.useRef(null),k=zr(T,Sa(a),r),A=F=>U=>{if(F){const V=T.current;U===void 0?F(V):F(V,U)}},_=A(m),I=A((F,U)=>{A0(F);const V=Os({style:x,timeout:C,easing:l},{mode:"enter"});F.style.webkitTransition=n.transitions.create("opacity",V),F.style.transition=n.transitions.create("opacity",V),f&&f(F,U)}),P=A(h),N=A(b),B=A(F=>{const U=Os({style:x,timeout:C,easing:l},{mode:"exit"});F.style.webkitTransition=n.transitions.create("opacity",U),F.style.transition=n.transitions.create("opacity",U),y&&y(F)}),O=A(v),D=F=>{i&&i(T.current,F)};return u.jsx(E,{appear:s,in:p,nodeRef:T,onEnter:I,onEntered:P,onEntering:_,onExit:B,onExited:O,onExiting:N,addEndListener:D,timeout:C,...j,children:(F,{ownerState:U,...V})=>S.cloneElement(a,{style:{opacity:0,visibility:F==="exited"&&!p?"hidden":void 0,...MW[F],...x,...a.props.style},ref:k,...V})})});function IW(t){return et("MuiBackdrop",t)}st("MuiBackdrop",["root","invisible"]);const OW=t=>{const{classes:e,invisible:r}=t;return tt({root:["root",r&&"invisible"]},IW,e)},PW=oe("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),pM=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiBackdrop"}),{children:o,className:i,component:s="div",invisible:a=!1,open:l,components:p={},componentsProps:f={},slotProps:h={},slots:m={},TransitionComponent:y,transitionDuration:v,...b}=n,x={...n,component:s,invisible:a},C=OW(x),E={transition:y,root:p.Root,...m},j={...f,...h},T={component:s,slots:E,slotProps:j},[k,A]=it("root",{elementType:PW,externalForwardedProps:T,className:Se(C.root,i),ownerState:x}),[_,I]=it("transition",{elementType:F1,externalForwardedProps:T,ownerState:x});return u.jsx(_,{in:l,timeout:v,...b,...I,children:u.jsx(k,{"aria-hidden":!0,...A,ref:r,children:o})})});function NW(t){const{badgeContent:e,invisible:r=!1,max:n=99,showZero:o=!1}=t,i=SS({badgeContent:e,max:n});let s=r;r===!1&&e===0&&!o&&(s=!0);const{badgeContent:a,max:l=n}=s?i:t,p=a&&Number(a)>l?`${l}+`:a;return{badgeContent:a,invisible:s,max:l,displayValue:p}}function LW(t){return et("MuiBadge",t)}const Ya=st("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),sb=10,ab=4,DW=t=>{const{color:e,anchorOrigin:r,invisible:n,overlap:o,variant:i,classes:s={}}=t,a={root:["root"],badge:["badge",i,n&&"invisible",`anchorOrigin${ue(r.vertical)}${ue(r.horizontal)}`,`anchorOrigin${ue(r.vertical)}${ue(r.horizontal)}${ue(o)}`,`overlap${ue(o)}`,e!=="default"&&`color${ue(e)}`]};return tt(a,LW,s)},zW=oe("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),$W=oe("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.badge,e[r.variant],e[`anchorOrigin${ue(r.anchorOrigin.vertical)}${ue(r.anchorOrigin.horizontal)}${ue(r.overlap)}`],r.color!=="default"&&e[`color${ue(r.color)}`],r.invisible&&e.invisible]}})(rt(({theme:t})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:sb*2,lineHeight:1,padding:"0 6px",height:sb*2,borderRadius:sb,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter(_r(["contrastText"])).map(([e])=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main,color:(t.vars||t).palette[e].contrastText}})),{props:{variant:"dot"},style:{borderRadius:ab,height:ab*2,minWidth:ab*2,padding:0}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Ya.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Ya.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Ya.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Ya.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Ya.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Ya.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Ya.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Ya.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]})));function YT(t){return{vertical:(t==null?void 0:t.vertical)??"top",horizontal:(t==null?void 0:t.horizontal)??"right"}}const FW=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiBadge"}),{anchorOrigin:o,className:i,classes:s,component:a,components:l={},componentsProps:p={},children:f,overlap:h="rectangular",color:m="default",invisible:y=!1,max:v=99,badgeContent:b,slots:x,slotProps:C,showZero:E=!1,variant:j="standard",...T}=n,{badgeContent:k,invisible:A,max:_,displayValue:I}=NW({max:v,invisible:y,badgeContent:b,showZero:E}),P=SS({anchorOrigin:YT(o),color:m,overlap:h,variant:j,badgeContent:b}),N=A||k==null&&j!=="dot",{color:B=m,overlap:O=h,anchorOrigin:D,variant:F=j}=N?P:n,U=YT(D),V=F!=="dot"?I:void 0,G={...n,badgeContent:k,invisible:N,max:_,displayValue:V,showZero:E,anchorOrigin:U,color:B,overlap:O,variant:F},W=DW(G),K={slots:{root:(x==null?void 0:x.root)??l.Root,badge:(x==null?void 0:x.badge)??l.Badge},slotProps:{root:(C==null?void 0:C.root)??p.root,badge:(C==null?void 0:C.badge)??p.badge}},[H,J]=it("root",{elementType:zW,externalForwardedProps:{...K,...T},ownerState:G,className:Se(W.root,i),ref:r,additionalProps:{as:a}}),[ne,me]=it("badge",{elementType:$W,externalForwardedProps:K,ownerState:G,className:W.badge});return u.jsxs(H,{...J,children:[f,u.jsx(ne,{...me,children:V})]})}),BW=st("MuiBox",["root"]),WW=Ph(),L=c6({themeId:ss,defaultTheme:WW,defaultClassName:BW.root,generateClassName:k_.generate});function HW(t){return et("MuiButton",t)}const fc=st("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),UW=S.createContext({}),VW=S.createContext(void 0),qW=t=>{const{color:e,disableElevation:r,fullWidth:n,size:o,variant:i,loading:s,loadingPosition:a,classes:l}=t,p={root:["root",s&&"loading",i,`${i}${ue(e)}`,`size${ue(o)}`,`${i}Size${ue(o)}`,`color${ue(e)}`,r&&"disableElevation",n&&"fullWidth",s&&`loadingPosition${ue(a)}`],startIcon:["icon","startIcon",`iconSize${ue(o)}`],endIcon:["icon","endIcon",`iconSize${ue(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},f=tt(p,HW,l);return{...l,...f}},fM=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],GW=oe(zi,{shouldForwardProp:t=>no(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`${r.variant}${ue(r.color)}`],e[`size${ue(r.size)}`],e[`${r.variant}Size${ue(r.size)}`],r.color==="inherit"&&e.colorInherit,r.disableElevation&&e.disableElevation,r.fullWidth&&e.fullWidth,r.loading&&e.loading]}})(rt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],r=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${fc.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${fc.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${fc.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${fc.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(_r()).map(([n])=>({props:{color:n},style:{"--variant-textColor":(t.vars||t).palette[n].main,"--variant-outlinedColor":(t.vars||t).palette[n].main,"--variant-outlinedBorder":t.alpha((t.vars||t).palette[n].main,.5),"--variant-containedColor":(t.vars||t).palette[n].contrastText,"--variant-containedBg":(t.vars||t).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[n].dark,"--variant-textBg":t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[n].main,"--variant-outlinedBg":t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${fc.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${fc.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${fc.loading}`]:{color:"transparent"}}}]}})),KW=oe("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.startIcon,r.loading&&e.startIconLoadingStart,e[`iconSize${ue(r.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...fM]})),YW=oe("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.endIcon,r.loading&&e.endIconLoadingEnd,e[`iconSize${ue(r.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...fM]})),JW=oe("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),JT=oe("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Ye=S.forwardRef(function(e,r){const n=S.useContext(UW),o=S.useContext(VW),i=Zf(n,e),s=nt({props:i,name:"MuiButton"}),{children:a,color:l="primary",component:p="button",className:f,disabled:h=!1,disableElevation:m=!1,disableFocusRipple:y=!1,endIcon:v,focusVisibleClassName:b,fullWidth:x=!1,id:C,loading:E=null,loadingIndicator:j,loadingPosition:T="center",size:k="medium",startIcon:A,type:_,variant:I="text",...P}=s,N=Ds(C),B=j??u.jsx(Mn,{"aria-labelledby":N,color:"inherit",size:16}),O={...s,color:l,component:p,disabled:h,disableElevation:m,disableFocusRipple:y,fullWidth:x,loading:E,loadingIndicator:B,loadingPosition:T,size:k,type:_,variant:I},D=qW(O),F=(A||E&&T==="start")&&u.jsx(KW,{className:D.startIcon,ownerState:O,children:A||u.jsx(JT,{className:D.loadingIconPlaceholder,ownerState:O})}),U=(v||E&&T==="end")&&u.jsx(YW,{className:D.endIcon,ownerState:O,children:v||u.jsx(JT,{className:D.loadingIconPlaceholder,ownerState:O})}),V=o||"",G=typeof E=="boolean"?u.jsx("span",{className:D.loadingWrapper,style:{display:"contents"},children:E&&u.jsx(JW,{className:D.loadingIndicator,ownerState:O,children:B})}):null;return u.jsxs(GW,{ownerState:O,className:Se(n.className,D.root,f,V),component:p,disabled:h||E,focusRipple:!y,focusVisibleClassName:Se(D.focusVisible,b),ref:r,type:_,id:E?N:C,...P,classes:D,children:[F,T!=="end"&&G,a,T==="end"&&G,U]})});function XW(t){return et("MuiCard",t)}st("MuiCard",["root"]);const QW=t=>{const{classes:e}=t;return tt({root:["root"]},XW,e)},ZW=oe(St,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),xl=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiCard"}),{className:o,raised:i=!1,...s}=n,a={...n,raised:i},l=QW(a);return u.jsx(ZW,{className:Se(l.root,o),elevation:i?8:void 0,ref:r,ownerState:a,...s})});function e7(t){return et("MuiCardActionArea",t)}const lb=st("MuiCardActionArea",["root","focusVisible","focusHighlight"]),t7=t=>{const{classes:e}=t;return tt({root:["root"],focusHighlight:["focusHighlight"]},e7,e)},r7=oe(zi,{name:"MuiCardActionArea",slot:"Root"})(rt(({theme:t})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${lb.focusHighlight}`]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${lb.focusVisible} .${lb.focusHighlight}`]:{opacity:(t.vars||t).palette.action.focusOpacity}}))),n7=oe("span",{name:"MuiCardActionArea",slot:"FocusHighlight"})(rt(({theme:t})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})}))),hM=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiCardActionArea"}),{children:o,className:i,focusVisibleClassName:s,slots:a={},slotProps:l={},...p}=n,f=n,h=t7(f),m={slots:a,slotProps:l},[y,v]=it("root",{elementType:r7,externalForwardedProps:{...m,...p},shouldForwardComponentProp:!0,ownerState:f,ref:r,className:Se(h.root,i),additionalProps:{focusVisibleClassName:Se(s,h.focusVisible)}}),[b,x]=it("focusHighlight",{elementType:n7,externalForwardedProps:m,ownerState:f,className:h.focusHighlight});return u.jsxs(y,{...v,children:[o,u.jsx(b,{...x})]})});function o7(t){return et("MuiCardActions",t)}st("MuiCardActions",["root","spacing"]);const i7=t=>{const{classes:e,disableSpacing:r}=t;return tt({root:["root",!r&&"spacing"]},o7,e)},s7=oe("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),mM=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiCardActions"}),{disableSpacing:o=!1,className:i,...s}=n,a={...n,disableSpacing:o},l=i7(a);return u.jsx(s7,{className:Se(l.root,i),ownerState:a,ref:r,...s})});function a7(t){return et("MuiCardContent",t)}st("MuiCardContent",["root"]);const l7=t=>{const{classes:e}=t;return tt({root:["root"]},a7,e)},c7=oe("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),nh=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiCardContent"}),{className:o,component:i="div",...s}=n,a={...n,component:i},l=l7(a);return u.jsx(c7,{as:i,className:Se(l.root,o),ownerState:a,ref:r,...s})});function u7(t){return et("MuiCardMedia",t)}st("MuiCardMedia",["root","media","img"]);const d7=t=>{const{classes:e,isMediaComponent:r,isImageComponent:n}=t;return tt({root:["root",r&&"media",n&&"img"]},u7,e)},p7=oe("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t,{isMediaComponent:n,isImageComponent:o}=r;return[e.root,n&&e.media,o&&e.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),f7=["video","audio","picture","iframe","img"],h7=["picture","img"],m7=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiCardMedia"}),{children:o,className:i,component:s="div",image:a,src:l,style:p,...f}=n,h=f7.includes(s),m=!h&&a?{backgroundImage:`url("${a}")`,...p}:p,y={...n,component:s,isMediaComponent:h,isImageComponent:h7.includes(s)},v=d7(y);return u.jsx(p7,{className:Se(v.root,i),as:s,role:!h&&a?"img":void 0,ref:r,style:m,ownerState:y,src:h?a||l:void 0,...f,children:o})});function g7(t){return et("PrivateSwitchBase",t)}st("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const y7=t=>{const{classes:e,checked:r,disabled:n,edge:o}=t,i={root:["root",r&&"checked",n&&"disabled",o&&`edge${ue(o)}`],input:["input"]};return tt(i,g7,e)},v7=oe(zi,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),x7=oe("input",{name:"MuiSwitchBase",shouldForwardProp:no})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),b7=S.forwardRef(function(e,r){const{autoFocus:n,checked:o,checkedIcon:i,defaultChecked:s,disabled:a,disableFocusRipple:l=!1,edge:p=!1,icon:f,id:h,inputProps:m,inputRef:y,name:v,onBlur:b,onChange:x,onFocus:C,readOnly:E,required:j=!1,tabIndex:T,type:k,value:A,slots:_={},slotProps:I={},...P}=e,[N,B]=pa({controlled:o,default:!!s,name:"SwitchBase",state:"checked"}),O=$l(),D=ce=>{C&&C(ce),O&&O.onFocus&&O.onFocus(ce)},F=ce=>{b&&b(ce),O&&O.onBlur&&O.onBlur(ce)},U=ce=>{if(ce.nativeEvent.defaultPrevented||E)return;const te=ce.target.checked;B(te),x&&x(ce,te)};let V=a;O&&typeof V>"u"&&(V=O.disabled);const G=k==="checkbox"||k==="radio",W={...e,checked:N,disabled:V,disableFocusRipple:l,edge:p},K=y7(W),H={slots:_,slotProps:{input:m,...I}},[J,ne]=it("root",{ref:r,elementType:v7,className:K.root,shouldForwardComponentProp:!0,externalForwardedProps:{...H,component:"span",...P},getSlotProps:ce=>({...ce,onFocus:te=>{var ve;(ve=ce.onFocus)==null||ve.call(ce,te),D(te)},onBlur:te=>{var ve;(ve=ce.onBlur)==null||ve.call(ce,te),F(te)}}),ownerState:W,additionalProps:{centerRipple:!0,focusRipple:!l,disabled:V,role:void 0,tabIndex:null}}),[me,ge]=it("input",{ref:y,elementType:x7,className:K.input,externalForwardedProps:H,getSlotProps:ce=>({...ce,onChange:te=>{var ve;(ve=ce.onChange)==null||ve.call(ce,te),U(te)}}),ownerState:W,additionalProps:{autoFocus:n,checked:o,defaultChecked:s,disabled:V,id:G?h:void 0,name:v,readOnly:E,required:j,tabIndex:T,type:k,...k==="checkbox"&&A===void 0?{}:{value:A}}});return u.jsxs(J,{...ne,children:[u.jsx(me,{...ge}),N?i:f]})}),w7=pe(u.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),S7=pe(u.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),C7=pe(u.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function k7(t){return et("MuiCheckbox",t)}const cb=st("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),E7=t=>{const{classes:e,indeterminate:r,color:n,size:o}=t,i={root:["root",r&&"indeterminate",`color${ue(n)}`,`size${ue(o)}`]},s=tt(i,k7,e);return{...e,...s}},T7=oe(b7,{shouldForwardProp:t=>no(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.indeterminate&&e.indeterminate,e[`size${ue(r.size)}`],r.color!=="default"&&e[`color${ue(r.color)}`]]}})(rt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(_r()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(_r()).map(([e])=>({props:{color:e},style:{[`&.${cb.checked}, &.${cb.indeterminate}`]:{color:(t.vars||t).palette[e].main},[`&.${cb.disabled}`]:{color:(t.vars||t).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),j7=u.jsx(S7,{}),R7=u.jsx(w7,{}),A7=u.jsx(C7,{}),_7=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiCheckbox"}),{checkedIcon:o=j7,color:i="primary",icon:s=R7,indeterminate:a=!1,indeterminateIcon:l=A7,inputProps:p,size:f="medium",disableRipple:h=!1,className:m,slots:y={},slotProps:v={},...b}=n,x=a?l:s,C=a?l:o,E={...n,disableRipple:h,color:i,indeterminate:a,size:f},j=E7(E),T=v.input??p,[k,A]=it("root",{ref:r,elementType:T7,className:Se(j.root,m),shouldForwardComponentProp:!0,externalForwardedProps:{slots:y,slotProps:v,...b},ownerState:E,additionalProps:{type:"checkbox",icon:S.cloneElement(x,{fontSize:x.props.fontSize??f}),checkedIcon:S.cloneElement(C,{fontSize:C.props.fontSize??f}),disableRipple:h,slots:y,slotProps:{input:xS(typeof T=="function"?T(E):T,{"data-indeterminate":a})}}});return u.jsx(k,{...A,classes:j})});function XT(t){return t.substring(2).toLowerCase()}function M7(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function gM(t){const{children:e,disableReactTree:r=!1,mouseEvent:n="onClick",onClickAway:o,touchEvent:i="onTouchEnd"}=t,s=S.useRef(!1),a=S.useRef(null),l=S.useRef(!1),p=S.useRef(!1);S.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const f=zr(Sa(e),a),h=_n(v=>{const b=p.current;p.current=!1;const x=ro(a.current);if(!l.current||!a.current||"clientX"in v&&M7(v,x))return;if(s.current){s.current=!1;return}let C;v.composedPath?C=v.composedPath().includes(a.current):C=!x.documentElement.contains(v.target)||a.current.contains(v.target),!C&&(r||!b)&&o(v)}),m=v=>b=>{p.current=!0;const x=e.props[v];x&&x(b)},y={ref:f};return i!==!1&&(y[i]=m(i)),S.useEffect(()=>{if(i!==!1){const v=XT(i),b=ro(a.current),x=()=>{s.current=!0};return b.addEventListener(v,h),b.addEventListener("touchmove",x),()=>{b.removeEventListener(v,h),b.removeEventListener("touchmove",x)}}},[h,i]),n!==!1&&(y[n]=m(n)),S.useEffect(()=>{if(n!==!1){const v=XT(n),b=ro(a.current);return b.addEventListener(v,h),()=>{b.removeEventListener(v,h)}}},[h,n]),S.cloneElement(e,y)}const fr=Z6({createStyledComponent:oe("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`maxWidth${ue(String(r.maxWidth))}`],r.fixed&&e.fixed,r.disableGutters&&e.disableGutters]}}),useThemeProps:t=>nt({props:t,name:"MuiContainer"})}),B1=typeof vS({})=="function",I7=(t,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!t.vars&&{colorScheme:t.palette.mode}}),O7=t=>({color:(t.vars||t).palette.text.primary,...t.typography.body1,backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),yM=(t,e=!1)=>{var i,s;const r={};e&&t.colorSchemes&&typeof t.getColorSchemeSelector=="function"&&Object.entries(t.colorSchemes).forEach(([a,l])=>{var f,h;const p=t.getColorSchemeSelector(a);p.startsWith("@")?r[p]={":root":{colorScheme:(f=l.palette)==null?void 0:f.mode}}:r[p.replace(/\s*&/,"")]={colorScheme:(h=l.palette)==null?void 0:h.mode}});let n={html:I7(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:{margin:0,...O7(t),"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}},...r};const o=(s=(i=t.components)==null?void 0:i.MuiCssBaseline)==null?void 0:s.styleOverrides;return o&&(n=[n,o]),n},Dg="mui-ecs",P7=t=>{const e=yM(t,!1),r=Array.isArray(e)?e[0]:e;return!t.vars&&r&&(r.html[`:root:has(${Dg})`]={colorScheme:t.palette.mode}),t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([n,o])=>{var s,a;const i=t.getColorSchemeSelector(n);i.startsWith("@")?r[i]={[`:root:not(:has(.${Dg}))`]:{colorScheme:(s=o.palette)==null?void 0:s.mode}}:r[i.replace(/\s*&/,"")]={[`&:not(:has(.${Dg}))`]:{colorScheme:(a=o.palette)==null?void 0:a.mode}}}),e},N7=vS(B1?({theme:t,enableColorScheme:e})=>yM(t,e):({theme:t})=>P7(t));function L7(t){const e=nt({props:t,name:"MuiCssBaseline"}),{children:r,enableColorScheme:n=!1}=e;return u.jsxs(S.Fragment,{children:[B1&&u.jsx(N7,{enableColorScheme:n}),!B1&&!n&&u.jsx("span",{className:Dg,style:{display:"none"}}),r]})}function vM(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function D7(t){const e=ro(t);return e.body===t?ii(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Ef(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function QT(t){return parseFloat(ii(t).getComputedStyle(t).paddingRight)||0}function z7(t){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),n=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return r||n}function ZT(t,e,r,n,o){const i=[e,r,...n];[].forEach.call(t.children,s=>{const a=!i.includes(s),l=!z7(s);a&&l&&Ef(s,o)})}function ub(t,e){let r=-1;return t.some((n,o)=>e(n)?(r=o,!0):!1),r}function $7(t,e){const r=[],n=t.container;if(!e.disableScrollLock){if(D7(n)){const s=vM(ii(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${QT(n)+s}px`;const a=ro(n).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{r.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${QT(l)+s}px`})}let i;if(n.parentNode instanceof DocumentFragment)i=ro(n).body;else{const s=n.parentElement,a=ii(n);i=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:n}r.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{r.forEach(({value:i,el:s,property:a})=>{i?s.style.setProperty(a,i):s.style.removeProperty(a)})}}function F7(t){const e=[];return[].forEach.call(t.children,r=>{r.getAttribute("aria-hidden")==="true"&&e.push(r)}),e}class B7{constructor(){this.modals=[],this.containers=[]}add(e,r){let n=this.modals.indexOf(e);if(n!==-1)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Ef(e.modalRef,!1);const o=F7(r);ZT(r,e.mount,e.modalRef,o,!0);const i=ub(this.containers,s=>s.container===r);return i!==-1?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:r,restore:null,hiddenSiblings:o}),n)}mount(e,r){const n=ub(this.containers,i=>i.modals.includes(e)),o=this.containers[n];o.restore||(o.restore=$7(o,r))}remove(e,r=!0){const n=this.modals.indexOf(e);if(n===-1)return n;const o=ub(this.containers,s=>s.modals.includes(e)),i=this.containers[o];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),i.modals.length===0)i.restore&&i.restore(),e.modalRef&&Ef(e.modalRef,r),ZT(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(o,1);else{const s=i.modals[i.modals.length-1];s.modalRef&&Ef(s.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function sd(t){var r;let e=t.activeElement;for(;((r=e==null?void 0:e.shadowRoot)==null?void 0:r.activeElement)!=null;)e=e.shadowRoot.activeElement;return e}const W7=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function H7(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function U7(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=n=>t.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=e(`[name="${t.name}"]:checked`);return r||(r=e(`[name="${t.name}"]`)),r!==t}function V7(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||U7(t))}function q7(t){const e=[],r=[];return Array.from(t.querySelectorAll(W7)).forEach((n,o)=>{const i=H7(n);i===-1||!V7(n)||(i===0?e.push(n):r.push({documentOrder:o,tabIndex:i,node:n}))}),r.sort((n,o)=>n.tabIndex===o.tabIndex?n.documentOrder-o.documentOrder:n.tabIndex-o.tabIndex).map(n=>n.node).concat(e)}function G7(){return!0}function K7(t){const{children:e,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:o=!1,getTabbable:i=q7,isEnabled:s=G7,open:a}=t,l=S.useRef(!1),p=S.useRef(null),f=S.useRef(null),h=S.useRef(null),m=S.useRef(null),y=S.useRef(!1),v=S.useRef(null),b=zr(Sa(e),v),x=S.useRef(null);S.useEffect(()=>{!a||!v.current||(y.current=!r)},[r,a]),S.useEffect(()=>{if(!a||!v.current)return;const j=ro(v.current),T=sd(j);return v.current.contains(T)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex","-1"),y.current&&v.current.focus()),()=>{o||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}},[a]),S.useEffect(()=>{if(!a||!v.current)return;const j=ro(v.current),T=_=>{if(x.current=_,n||!s()||_.key!=="Tab")return;sd(j)===v.current&&_.shiftKey&&(l.current=!0,f.current&&f.current.focus())},k=()=>{var N,B;const _=v.current;if(_===null)return;const I=sd(j);if(!j.hasFocus()||!s()||l.current){l.current=!1;return}if(_.contains(I)||n&&I!==p.current&&I!==f.current)return;if(I!==m.current)m.current=null;else if(m.current!==null)return;if(!y.current)return;let P=[];if((I===p.current||I===f.current)&&(P=i(v.current)),P.length>0){const O=!!((N=x.current)!=null&&N.shiftKey&&((B=x.current)==null?void 0:B.key)==="Tab"),D=P[0],F=P[P.length-1];typeof D!="string"&&typeof F!="string"&&(O?F.focus():D.focus())}else _.focus()};j.addEventListener("focusin",k),j.addEventListener("keydown",T,!0);const A=setInterval(()=>{const _=sd(j);_&&_.tagName==="BODY"&&k()},50);return()=>{clearInterval(A),j.removeEventListener("focusin",k),j.removeEventListener("keydown",T,!0)}},[r,n,o,s,a,i]);const C=j=>{h.current===null&&(h.current=j.relatedTarget),y.current=!0,m.current=j.target;const T=e.props.onFocus;T&&T(j)},E=j=>{h.current===null&&(h.current=j.relatedTarget),y.current=!0};return u.jsxs(S.Fragment,{children:[u.jsx("div",{tabIndex:a?0:-1,onFocus:E,ref:p,"data-testid":"sentinelStart"}),S.cloneElement(e,{ref:b,onFocus:C}),u.jsx("div",{tabIndex:a?0:-1,onFocus:E,ref:f,"data-testid":"sentinelEnd"})]})}function Y7(t){return typeof t=="function"?t():t}function J7(t){return t?t.props.hasOwnProperty("in"):!1}const ej=()=>{},og=new B7;function X7(t){const{container:e,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,closeAfterTransition:o=!1,onTransitionEnter:i,onTransitionExited:s,children:a,onClose:l,open:p,rootRef:f}=t,h=S.useRef({}),m=S.useRef(null),y=S.useRef(null),v=zr(y,f),[b,x]=S.useState(!p),C=J7(a);let E=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(E=!1);const j=()=>ro(m.current),T=()=>(h.current.modalRef=y.current,h.current.mount=m.current,h.current),k=()=>{og.mount(T(),{disableScrollLock:n}),y.current&&(y.current.scrollTop=0)},A=_n(()=>{const U=Y7(e)||j().body;og.add(T(),U),y.current&&k()}),_=()=>og.isTopModal(T()),I=_n(U=>{m.current=U,U&&(p&&_()?k():y.current&&Ef(y.current,E))}),P=S.useCallback(()=>{og.remove(T(),E)},[E]);S.useEffect(()=>()=>{P()},[P]),S.useEffect(()=>{p?A():(!C||!o)&&P()},[p,P,C,o,A]);const N=U=>V=>{var G;(G=U.onKeyDown)==null||G.call(U,V),!(V.key!=="Escape"||V.which===229||!_())&&(r||(V.stopPropagation(),l&&l(V,"escapeKeyDown")))},B=U=>V=>{var G;(G=U.onClick)==null||G.call(U,V),V.target===V.currentTarget&&l&&l(V,"backdropClick")};return{getRootProps:(U={})=>{const V=ty(t);delete V.onTransitionEnter,delete V.onTransitionExited;const G={...V,...U};return{role:"presentation",...G,onKeyDown:N(G),ref:v}},getBackdropProps:(U={})=>{const V=U;return{"aria-hidden":!0,...V,onClick:B(V),open:p}},getTransitionProps:()=>{const U=()=>{x(!1),i&&i()},V=()=>{x(!0),s&&s(),o&&P()};return{onEnter:bT(U,(a==null?void 0:a.props.onEnter)??ej),onExited:bT(V,(a==null?void 0:a.props.onExited)??ej)}},rootRef:v,portalRef:I,isTopModal:_,exited:b,hasTransition:C}}function Q7(t){return et("MuiModal",t)}st("MuiModal",["root","hidden","backdrop"]);const Z7=t=>{const{open:e,exited:r,classes:n}=t;return tt({root:["root",!e&&r&&"hidden"],backdrop:["backdrop"]},Q7,n)},eH=oe("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.open&&r.exited&&e.hidden]}})(rt(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),tH=oe(pM,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),_S=S.forwardRef(function(e,r){const n=nt({name:"MuiModal",props:e}),{BackdropComponent:o=tH,BackdropProps:i,classes:s,className:a,closeAfterTransition:l=!1,children:p,container:f,component:h,components:m={},componentsProps:y={},disableAutoFocus:v=!1,disableEnforceFocus:b=!1,disableEscapeKeyDown:x=!1,disablePortal:C=!1,disableRestoreFocus:E=!1,disableScrollLock:j=!1,hideBackdrop:T=!1,keepMounted:k=!1,onClose:A,onTransitionEnter:_,onTransitionExited:I,open:P,slotProps:N={},slots:B={},theme:O,...D}=n,F={...n,closeAfterTransition:l,disableAutoFocus:v,disableEnforceFocus:b,disableEscapeKeyDown:x,disablePortal:C,disableRestoreFocus:E,disableScrollLock:j,hideBackdrop:T,keepMounted:k},{getRootProps:U,getBackdropProps:V,getTransitionProps:G,portalRef:W,isTopModal:K,exited:H,hasTransition:J}=X7({...F,rootRef:r}),ne={...F,exited:H},me=Z7(ne),ge={};if(p.props.tabIndex===void 0&&(ge.tabIndex="-1"),J){const{onEnter:Ne,onExited:lt}=G();ge.onEnter=Ne,ge.onExited=lt}const ce={slots:{root:m.Root,backdrop:m.Backdrop,...B},slotProps:{...y,...N}},[te,ve]=it("root",{ref:r,elementType:eH,externalForwardedProps:{...ce,...D,component:h},getSlotProps:U,ownerState:ne,className:Se(a,me==null?void 0:me.root,!ne.open&&ne.exited&&(me==null?void 0:me.hidden))}),[Ie,qe]=it("backdrop",{ref:i==null?void 0:i.ref,elementType:o,externalForwardedProps:ce,shouldForwardComponentProp:!0,additionalProps:i,getSlotProps:Ne=>V({...Ne,onClick:lt=>{Ne!=null&&Ne.onClick&&Ne.onClick(lt)}}),className:Se(i==null?void 0:i.className,me==null?void 0:me.backdrop),ownerState:ne});return!k&&!P&&(!J||H)?null:u.jsx(uM,{ref:W,container:f,disablePortal:C,children:u.jsxs(te,{...ve,children:[!T&&o?u.jsx(Ie,{...qe}):null,u.jsx(K7,{disableEnforceFocus:b,disableAutoFocus:v,disableRestoreFocus:E,isEnabled:K,open:P,children:S.cloneElement(p,ge)})]})})});function rH(t){return et("MuiDialog",t)}const db=st("MuiDialog",["root","backdrop","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),xM=S.createContext({}),nH=oe(pM,{name:"MuiDialog",slot:"Backdrop"})({zIndex:-1}),oH=t=>{const{classes:e,scroll:r,maxWidth:n,fullWidth:o,fullScreen:i}=t,s={root:["root"],backdrop:["backdrop"],container:["container",`scroll${ue(r)}`],paper:["paper",`paperScroll${ue(r)}`,`paperWidth${ue(String(n))}`,o&&"paperFullWidth",i&&"paperFullScreen"]};return tt(s,rH,e)},iH=oe(_S,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),sH=oe("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.container,e[`scroll${ue(r.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),aH=oe(St,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`scrollPaper${ue(r.scroll)}`],e[`paperWidth${ue(String(r.maxWidth))}`],r.fullWidth&&e.paperFullWidth,r.fullScreen&&e.paperFullScreen]}})(rt(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${db.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${db.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${db.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),hd=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiDialog"}),o=Yt(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,"aria-modal":l=!0,BackdropComponent:p,BackdropProps:f,children:h,className:m,disableEscapeKeyDown:y=!1,fullScreen:v=!1,fullWidth:b=!1,maxWidth:x="sm",onClick:C,onClose:E,open:j,PaperComponent:T=St,PaperProps:k={},scroll:A="paper",slots:_={},slotProps:I={},TransitionComponent:P=F1,transitionDuration:N=i,TransitionProps:B,...O}=n,D={...n,disableEscapeKeyDown:y,fullScreen:v,fullWidth:b,maxWidth:x,scroll:A},F=oH(D),U=S.useRef(),V=He=>{U.current=He.target===He.currentTarget},G=He=>{C&&C(He),U.current&&(U.current=null,E&&E(He,"backdropClick"))},W=Ds(a),K=S.useMemo(()=>({titleId:W}),[W]),H={transition:P,..._},J={transition:B,paper:k,backdrop:f,...I},ne={slots:H,slotProps:J},[me,ge]=it("root",{elementType:iH,shouldForwardComponentProp:!0,externalForwardedProps:ne,ownerState:D,className:Se(F.root,m),ref:r}),[ce,te]=it("backdrop",{elementType:nH,shouldForwardComponentProp:!0,externalForwardedProps:ne,ownerState:D,className:F.backdrop}),[ve,Ie]=it("paper",{elementType:aH,shouldForwardComponentProp:!0,externalForwardedProps:ne,ownerState:D,className:Se(F.paper,k.className)}),[qe,Ne]=it("container",{elementType:sH,externalForwardedProps:ne,ownerState:D,className:F.container}),[lt,Xe]=it("transition",{elementType:F1,externalForwardedProps:ne,ownerState:D,additionalProps:{appear:!0,in:j,timeout:N,role:"presentation"}});return u.jsx(me,{closeAfterTransition:!0,slots:{backdrop:ce},slotProps:{backdrop:{transitionDuration:N,as:p,...te}},disableEscapeKeyDown:y,onClose:E,open:j,onClick:G,...ge,...O,children:u.jsx(lt,{...Xe,children:u.jsx(qe,{onMouseDown:V,...Ne,children:u.jsx(ve,{as:T,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":W,"aria-modal":l,...Ie,children:u.jsx(xM.Provider,{value:K,children:h})})})})})});function lH(t){return et("MuiDialogActions",t)}st("MuiDialogActions",["root","spacing"]);const cH=t=>{const{classes:e,disableSpacing:r}=t;return tt({root:["root",!r&&"spacing"]},lH,e)},uH=oe("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),bM=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiDialogActions"}),{className:o,disableSpacing:i=!1,...s}=n,a={...n,disableSpacing:i},l=cH(a);return u.jsx(uH,{className:Se(l.root,o),ownerState:a,ref:r,...s})});function dH(t){return et("MuiDialogContent",t)}st("MuiDialogContent",["root","dividers"]);function pH(t){return et("MuiDialogTitle",t)}const fH=st("MuiDialogTitle",["root"]),hH=t=>{const{classes:e,dividers:r}=t;return tt({root:["root",r&&"dividers"]},dH,e)},mH=oe("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.dividers&&e.dividers]}})(rt(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${fH.root} + &`]:{paddingTop:0}}}]}))),Tf=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiDialogContent"}),{className:o,dividers:i=!1,...s}=n,a={...n,dividers:i},l=hH(a);return u.jsx(mH,{className:Se(l.root,o),ownerState:a,ref:r,...s})}),gH=t=>{const{classes:e}=t;return tt({root:["root"]},pH,e)},yH=oe($,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),wM=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiDialogTitle"}),{className:o,id:i,...s}=n,a=n,l=gH(a),{titleId:p=i}=S.useContext(xM);return u.jsx(yH,{component:"h2",className:Se(l.root,o),ownerState:a,ref:r,variant:"h6",id:i??p,...s})});function vH(t){return et("MuiDivider",t)}const tj=st("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),xH=t=>{const{absolute:e,children:r,classes:n,flexItem:o,light:i,orientation:s,textAlign:a,variant:l}=t;return tt({root:["root",e&&"absolute",l,i&&"light",s==="vertical"&&"vertical",o&&"flexItem",r&&"withChildren",r&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},vH,n)},bH=oe("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.absolute&&e.absolute,e[r.variant],r.light&&e.light,r.orientation==="vertical"&&e.vertical,r.flexItem&&e.flexItem,r.children&&e.withChildren,r.children&&r.orientation==="vertical"&&e.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&e.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&e.textAlignLeft]}})(rt(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.alpha((t.vars||t).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),wH=oe("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.wrapper,r.orientation==="vertical"&&e.wrapperVertical]}})(rt(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),Ir=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiDivider"}),{absolute:o=!1,children:i,className:s,orientation:a="horizontal",component:l=i||a==="vertical"?"div":"hr",flexItem:p=!1,light:f=!1,role:h=l!=="hr"?"separator":void 0,textAlign:m="center",variant:y="fullWidth",...v}=n,b={...n,absolute:o,component:l,flexItem:p,light:f,orientation:a,role:h,textAlign:m,variant:y},x=xH(b);return u.jsx(bH,{as:l,className:Se(x.root,s),role:h,ref:r,ownerState:b,"aria-orientation":h==="separator"&&(l!=="hr"||a==="vertical")?a:void 0,...v,children:i?u.jsx(wH,{className:x.wrapper,ownerState:b,children:i}):null})});Ir&&(Ir.muiSkipListHighlight=!0);function SH(t,e,r){const n=e.getBoundingClientRect(),o=r&&r.getBoundingClientRect(),i=ii(e);let s;if(e.fakeTransform)s=e.fakeTransform;else{const p=i.getComputedStyle(e);s=p.getPropertyValue("-webkit-transform")||p.getPropertyValue("transform")}let a=0,l=0;if(s&&s!=="none"&&typeof s=="string"){const p=s.split("(")[1].split(")")[0].split(",");a=parseInt(p[4],10),l=parseInt(p[5],10)}return t==="left"?o?`translateX(${o.right+a-n.left}px)`:`translateX(${i.innerWidth+a-n.left}px)`:t==="right"?o?`translateX(-${n.right-o.left-a}px)`:`translateX(-${n.left+n.width-a}px)`:t==="up"?o?`translateY(${o.bottom+l-n.top}px)`:`translateY(${i.innerHeight+l-n.top}px)`:o?`translateY(-${n.top-o.top+n.height-l}px)`:`translateY(-${n.top+n.height-l}px)`}function CH(t){return typeof t=="function"?t():t}function ig(t,e,r){const n=CH(r),o=SH(t,e,n);o&&(e.style.webkitTransform=o,e.style.transform=o)}const SM=S.forwardRef(function(e,r){const n=Yt(),o={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:l,container:p,direction:f="down",easing:h=o,in:m,onEnter:y,onEntered:v,onEntering:b,onExit:x,onExited:C,onExiting:E,style:j,timeout:T=i,TransitionComponent:k=li,...A}=e,_=S.useRef(null),I=zr(Sa(l),_,r),P=W=>K=>{W&&(K===void 0?W(_.current):W(_.current,K))},N=P((W,K)=>{ig(f,W,p),A0(W),y&&y(W,K)}),B=P((W,K)=>{const H=Os({timeout:T,style:j,easing:h},{mode:"enter"});W.style.webkitTransition=n.transitions.create("-webkit-transform",{...H}),W.style.transition=n.transitions.create("transform",{...H}),W.style.webkitTransform="none",W.style.transform="none",b&&b(W,K)}),O=P(v),D=P(E),F=P(W=>{const K=Os({timeout:T,style:j,easing:h},{mode:"exit"});W.style.webkitTransition=n.transitions.create("-webkit-transform",K),W.style.transition=n.transitions.create("transform",K),ig(f,W,p),x&&x(W)}),U=P(W=>{W.style.webkitTransition="",W.style.transition="",C&&C(W)}),V=W=>{s&&s(_.current,W)},G=S.useCallback(()=>{_.current&&ig(f,_.current,p)},[f,p]);return S.useEffect(()=>{if(m||f==="down"||f==="right")return;const W=Nh(()=>{_.current&&ig(f,_.current,p)}),K=ii(_.current);return K.addEventListener("resize",W),()=>{W.clear(),K.removeEventListener("resize",W)}},[f,m,p]),S.useEffect(()=>{m||G()},[m,G]),u.jsx(k,{nodeRef:_,onEnter:N,onEntered:O,onEntering:B,onExit:F,onExited:U,onExiting:D,addEndListener:V,appear:a,in:m,timeout:T,...A,children:(W,{ownerState:K,...H})=>S.cloneElement(l,{ref:I,style:{visibility:W==="exited"&&!m?"hidden":void 0,...j,...l.props.style},...H})})});function kH(t){return et("MuiDrawer",t)}st("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const CM=(t,e)=>{const{ownerState:r}=t;return[e.root,(r.variant==="permanent"||r.variant==="persistent")&&e.docked,e.modal]},EH=t=>{const{classes:e,anchor:r,variant:n}=t,o={root:["root",`anchor${ue(r)}`],docked:[(n==="permanent"||n==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${ue(r)}`,n!=="temporary"&&`paperAnchorDocked${ue(r)}`]};return tt(o,kH,e)},TH=oe(_S,{name:"MuiDrawer",slot:"Root",overridesResolver:CM})(rt(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer}))),jH=oe("div",{shouldForwardProp:no,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:CM})({flex:"0 0 auto"}),RH=oe(St,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`paperAnchor${ue(r.anchor)}`],r.variant!=="temporary"&&e[`paperAnchorDocked${ue(r.anchor)}`]]}})(rt(({theme:t})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:e})=>e.anchor==="left"&&e.variant!=="temporary",style:{borderRight:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="top"&&e.variant!=="temporary",style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="right"&&e.variant!=="temporary",style:{borderLeft:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="bottom"&&e.variant!=="temporary",style:{borderTop:`1px solid ${(t.vars||t).palette.divider}`}}]}))),kM={left:"right",right:"left",top:"down",bottom:"up"};function AH(t){return["left","right"].includes(t)}function _H({direction:t},e){return t==="rtl"&&AH(e)?kM[e]:e}const EM=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiDrawer"}),o=Yt(),i=wa(),s={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:l,children:p,className:f,elevation:h=16,hideBackdrop:m=!1,ModalProps:{BackdropProps:y,...v}={},onClose:b,open:x=!1,PaperProps:C={},SlideProps:E,TransitionComponent:j,transitionDuration:T=s,variant:k="temporary",slots:A={},slotProps:_={},...I}=n,P=S.useRef(!1);S.useEffect(()=>{P.current=!0},[]);const N=_H({direction:i?"rtl":"ltr"},a),O={...n,anchor:a,elevation:h,open:x,variant:k,...I},D=EH(O),F={slots:{transition:j,...A},slotProps:{paper:C,transition:E,..._,backdrop:xS(_.backdrop||{...l,...y},{transitionDuration:T})}},[U,V]=it("root",{ref:r,elementType:TH,className:Se(D.root,D.modal,f),shouldForwardComponentProp:!0,ownerState:O,externalForwardedProps:{...F,...I,...v},additionalProps:{open:x,onClose:b,hideBackdrop:m,slots:{backdrop:F.slots.backdrop},slotProps:{backdrop:F.slotProps.backdrop}}}),[G,W]=it("paper",{elementType:RH,shouldForwardComponentProp:!0,className:Se(D.paper,C.className),ownerState:O,externalForwardedProps:F,additionalProps:{elevation:k==="temporary"?h:0,square:!0,...k==="temporary"&&{role:"dialog","aria-modal":"true"}}}),[K,H]=it("docked",{elementType:jH,ref:r,className:Se(D.root,D.docked,f),ownerState:O,externalForwardedProps:F,additionalProps:I}),[J,ne]=it("transition",{elementType:SM,ownerState:O,externalForwardedProps:F,additionalProps:{in:x,direction:kM[N],timeout:T,appear:P.current}}),me=u.jsx(G,{...W,children:p});if(k==="permanent")return u.jsx(K,{...H,children:me});const ge=u.jsx(J,{...ne,children:me});return k==="persistent"?u.jsx(K,{...H,children:ge}):u.jsx(U,{...V,children:ge})});function MH(t){return et("MuiFab",t)}const rj=st("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),IH=t=>{const{color:e,variant:r,classes:n,size:o}=t,i={root:["root",r,`size${ue(o)}`,e==="inherit"?"colorInherit":e]},s=tt(i,MH,n);return{...n,...s}},OH=oe(zi,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>no(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`size${ue(r.size)}`],r.color==="inherit"&&e.colorInherit,e[ue(r.size)],e[r.color]]}})(rt(({theme:t})=>{var e,r;return{...t.typography.button,minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.grey[900]:(r=(e=t.palette).getContrastText)==null?void 0:r.call(e,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${rj.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},variants:[{props:{size:"small"},style:{width:40,height:40}},{props:{size:"medium"},style:{width:48,height:48}},{props:{variant:"extended"},style:{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48}},{props:{variant:"extended",size:"small"},style:{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34}},{props:{variant:"extended",size:"medium"},style:{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40}},{props:{color:"inherit"},style:{color:"inherit"}}]}}),rt(({theme:t})=>({variants:[...Object.entries(t.palette).filter(_r(["dark","contrastText"])).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].contrastText,backgroundColor:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:(t.vars||t).palette[e].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e].main}}}}))]})),rt(({theme:t})=>({[`&.${rj.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}))),sy=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiFab"}),{children:o,className:i,color:s="default",component:a="button",disabled:l=!1,disableFocusRipple:p=!1,focusVisibleClassName:f,size:h="large",variant:m="circular",...y}=n,v={...n,color:s,component:a,disabled:l,disableFocusRipple:p,size:h,variant:m},b=IH(v);return u.jsx(OH,{className:Se(b.root,i),component:a,disabled:l,focusRipple:!p,focusVisibleClassName:Se(b.focusVisible,f),ownerState:v,ref:r,...y,classes:b,children:o})}),PH=t=>{const{classes:e,disableUnderline:r,startAdornment:n,endAdornment:o,size:i,hiddenLabel:s,multiline:a}=t,l={root:["root",!r&&"underline",n&&"adornedStart",o&&"adornedEnd",i==="small"&&`size${ue(i)}`,s&&"hiddenLabel",a&&"multiline"],input:["input"]},p=tt(l,nW,e);return{...e,...p}},NH=oe(N0,{shouldForwardProp:t=>no(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[...O0(t,e),!r.disableUnderline&&e.underline]}})(rt(({theme:t})=>{const e=t.palette.mode==="light",r=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n}},[`&.${ei.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n},[`&.${ei.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:i},variants:[{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ei.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ei.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline):r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ei.disabled}, .${ei.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${ei.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(_r()).map(([s])=>{var a;return{props:{disableUnderline:!1,color:s},style:{"&::after":{borderBottom:`2px solid ${(a=(t.vars||t).palette[s])==null?void 0:a.main}`}}}}),{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:12}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:12}},{props:({ownerState:s})=>s.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:s,size:a})=>s.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),LH=oe(L0,{name:"MuiFilledInput",slot:"Input",overridesResolver:P0})(rt(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),MS=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiFilledInput"}),{disableUnderline:o=!1,components:i={},componentsProps:s,fullWidth:a=!1,hiddenLabel:l,inputComponent:p="input",multiline:f=!1,slotProps:h,slots:m={},type:y="text",...v}=n,b={...n,disableUnderline:o,fullWidth:a,inputComponent:p,multiline:f,type:y},x=PH(n),C={root:{ownerState:b},input:{ownerState:b}},E=h??s?Un(C,h??s):C,j=m.root??i.Root??NH,T=m.input??i.Input??LH;return u.jsx(D0,{slots:{root:j,input:T},slotProps:E,fullWidth:a,inputComponent:p,multiline:f,ref:r,type:y,...v,classes:x})});MS.muiName="Input";function DH(t){return et("MuiFormControl",t)}st("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const zH=t=>{const{classes:e,margin:r,fullWidth:n}=t,o={root:["root",r!=="none"&&`margin${ue(r)}`,n&&"fullWidth"]};return tt(o,DH,e)},$H=oe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`margin${ue(r.margin)}`],r.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),rs=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiFormControl"}),{children:o,className:i,color:s="primary",component:a="div",disabled:l=!1,error:p=!1,focused:f,fullWidth:h=!1,hiddenLabel:m=!1,margin:y="none",required:v=!1,size:b="medium",variant:x="outlined",...C}=n,E={...n,color:s,component:a,disabled:l,error:p,fullWidth:h,hiddenLabel:m,margin:y,required:v,size:b,variant:x},j=zH(E),[T,k]=S.useState(()=>{let U=!1;return o&&S.Children.forEach(o,V=>{if(!Sf(V,["Input","Select"]))return;const G=Sf(V,["Select"])?V.props.input:V;G&&Q8(G.props)&&(U=!0)}),U}),[A,_]=S.useState(()=>{let U=!1;return o&&S.Children.forEach(o,V=>{Sf(V,["Input","Select"])&&(iy(V.props,!0)||iy(V.props.inputProps,!0))&&(U=!0)}),U}),[I,P]=S.useState(!1);l&&I&&P(!1);const N=f!==void 0&&!l?f:I;let B;S.useRef(!1);const O=S.useCallback(()=>{_(!0)},[]),D=S.useCallback(()=>{_(!1)},[]),F=S.useMemo(()=>({adornedStart:T,setAdornedStart:k,color:s,disabled:l,error:p,filled:A,focused:N,fullWidth:h,hiddenLabel:m,size:b,onBlur:()=>{P(!1)},onFocus:()=>{P(!0)},onEmpty:D,onFilled:O,registerEffect:B,required:v,variant:x}),[T,s,l,p,A,N,h,m,B,D,O,v,b,x]);return u.jsx(I0.Provider,{value:F,children:u.jsx($H,{as:a,ownerState:E,className:Se(j.root,i),ref:r,...C,children:o})})});function FH(t){return et("MuiFormHelperText",t)}const nj=st("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var oj;const BH=t=>{const{classes:e,contained:r,size:n,disabled:o,error:i,filled:s,focused:a,required:l}=t,p={root:["root",o&&"disabled",i&&"error",n&&`size${ue(n)}`,r&&"contained",a&&"focused",s&&"filled",l&&"required"]};return tt(p,FH,e)},WH=oe("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.size&&e[`size${ue(r.size)}`],r.contained&&e.contained,r.filled&&e.filled]}})(rt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${nj.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${nj.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),HH=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiFormHelperText"}),{children:o,className:i,component:s="p",disabled:a,error:l,filled:p,focused:f,margin:h,required:m,variant:y,...v}=n,b=$l(),x=ep({props:n,muiFormControl:b,states:["variant","size","disabled","error","filled","focused","required"]}),C={...n,component:s,contained:x.variant==="filled"||x.variant==="outlined",variant:x.variant,size:x.size,disabled:x.disabled,error:x.error,filled:x.filled,focused:x.focused,required:x.required};delete C.ownerState;const E=BH(C);return u.jsx(WH,{as:s,className:Se(E.root,i),ref:r,...v,ownerState:C,children:o===" "?oj||(oj=u.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):o})});function UH(t){return et("MuiFormLabel",t)}const jf=st("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),VH=t=>{const{classes:e,color:r,focused:n,disabled:o,error:i,filled:s,required:a}=t,l={root:["root",`color${ue(r)}`,o&&"disabled",i&&"error",s&&"filled",n&&"focused",a&&"required"],asterisk:["asterisk",i&&"error"]};return tt(l,UH,e)},qH=oe("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color==="secondary"&&e.colorSecondary,r.filled&&e.filled]}})(rt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(_r()).map(([e])=>({props:{color:e},style:{[`&.${jf.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${jf.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${jf.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),GH=oe("span",{name:"MuiFormLabel",slot:"Asterisk"})(rt(({theme:t})=>({[`&.${jf.error}`]:{color:(t.vars||t).palette.error.main}}))),KH=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiFormLabel"}),{children:o,className:i,color:s,component:a="label",disabled:l,error:p,filled:f,focused:h,required:m,...y}=n,v=$l(),b=ep({props:n,muiFormControl:v,states:["color","required","focused","disabled","error","filled"]}),x={...n,color:b.color||"primary",component:a,disabled:b.disabled,error:b.error,filled:b.filled,focused:b.focused,required:b.required},C=VH(x);return u.jsxs(qH,{as:a,ownerState:x,className:Se(C.root,i),ref:r,...y,children:[o,b.required&&u.jsxs(GH,{ownerState:x,"aria-hidden":!0,className:C.asterisk,children:["","*"]})]})}),_e=mF({createStyledComponent:oe("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:t=>nt({props:t,name:"MuiGrid"}),useTheme:Yt});function W1(t){return`scale(${t}, ${t**2})`}const YH={entering:{opacity:1,transform:W1(1)},entered:{opacity:1,transform:"none"}},pb=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),oh=S.forwardRef(function(e,r){const{addEndListener:n,appear:o=!0,children:i,easing:s,in:a,onEnter:l,onEntered:p,onEntering:f,onExit:h,onExited:m,onExiting:y,style:v,timeout:b="auto",TransitionComponent:x=li,...C}=e,E=vl(),j=S.useRef(),T=Yt(),k=S.useRef(null),A=zr(k,Sa(i),r),_=U=>V=>{if(U){const G=k.current;V===void 0?U(G):U(G,V)}},I=_(f),P=_((U,V)=>{A0(U);const{duration:G,delay:W,easing:K}=Os({style:v,timeout:b,easing:s},{mode:"enter"});let H;b==="auto"?(H=T.transitions.getAutoHeightDuration(U.clientHeight),j.current=H):H=G,U.style.transition=[T.transitions.create("opacity",{duration:H,delay:W}),T.transitions.create("transform",{duration:pb?H:H*.666,delay:W,easing:K})].join(","),l&&l(U,V)}),N=_(p),B=_(y),O=_(U=>{const{duration:V,delay:G,easing:W}=Os({style:v,timeout:b,easing:s},{mode:"exit"});let K;b==="auto"?(K=T.transitions.getAutoHeightDuration(U.clientHeight),j.current=K):K=V,U.style.transition=[T.transitions.create("opacity",{duration:K,delay:G}),T.transitions.create("transform",{duration:pb?K:K*.666,delay:pb?G:G||K*.333,easing:W})].join(","),U.style.opacity=0,U.style.transform=W1(.75),h&&h(U)}),D=_(m),F=U=>{b==="auto"&&E.start(j.current||0,U),n&&n(k.current,U)};return u.jsx(x,{appear:o,in:a,nodeRef:k,onEnter:P,onEntered:N,onEntering:I,onExit:O,onExited:D,onExiting:B,addEndListener:F,timeout:b==="auto"?null:b,...C,children:(U,{ownerState:V,...G})=>S.cloneElement(i,{style:{opacity:0,transform:W1(.75),visibility:U==="exited"&&!a?"hidden":void 0,...YH[U],...v,...i.props.style},ref:A,...G})})});oh&&(oh.muiSupportAuto=!0);const JH=t=>{const{classes:e,disableUnderline:r}=t,o=tt({root:["root",!r&&"underline"],input:["input"]},tW,e);return{...e,...o}},XH=oe(N0,{shouldForwardProp:t=>no(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[...O0(t,e),!r.disableUnderline&&e.underline]}})(rt(({theme:t})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:n})=>n.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:n})=>!n.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${sl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${sl.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${sl.disabled}, .${sl.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${sl.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(_r()).map(([n])=>({props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n].main}`}}}))]}})),QH=oe(L0,{name:"MuiInput",slot:"Input",overridesResolver:P0})({}),IS=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiInput"}),{disableUnderline:o=!1,components:i={},componentsProps:s,fullWidth:a=!1,inputComponent:l="input",multiline:p=!1,slotProps:f,slots:h={},type:m="text",...y}=n,v=JH(n),x={root:{ownerState:{disableUnderline:o}}},C=f??s?Un(f??s,x):x,E=h.root??i.Root??XH,j=h.input??i.Input??QH;return u.jsx(D0,{slots:{root:E,input:j},slotProps:C,fullWidth:a,inputComponent:l,multiline:p,ref:r,type:m,...y,classes:v})});IS.muiName="Input";function ZH(t){return et("MuiInputAdornment",t)}const ij=st("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var sj;const eU=(t,e)=>{const{ownerState:r}=t;return[e.root,e[`position${ue(r.position)}`],r.disablePointerEvents===!0&&e.disablePointerEvents,e[r.variant]]},tU=t=>{const{classes:e,disablePointerEvents:r,hiddenLabel:n,position:o,size:i,variant:s}=t,a={root:["root",r&&"disablePointerEvents",o&&`position${ue(o)}`,s,n&&"hiddenLabel",i&&`size${ue(i)}`]};return tt(a,ZH,e)},rU=oe("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:eU})(rt(({theme:t})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${ij.positionStart}&:not(.${ij.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),H1=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiInputAdornment"}),{children:o,className:i,component:s="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:p,variant:f,...h}=n,m=$l()||{};let y=f;f&&m.variant,m&&!y&&(y=m.variant);const v={...n,hiddenLabel:m.hiddenLabel,size:m.size,disablePointerEvents:a,position:p,variant:y},b=tU(v);return u.jsx(I0.Provider,{value:null,children:u.jsx(rU,{as:s,ownerState:v,className:Se(b.root,i),ref:r,...h,children:typeof o=="string"&&!l?u.jsx($,{color:"textSecondary",children:o}):u.jsxs(S.Fragment,{children:[p==="start"?sj||(sj=u.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,o]})})})});function nU(t){return et("MuiInputLabel",t)}st("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const oU=t=>{const{classes:e,formControl:r,size:n,shrink:o,disableAnimation:i,variant:s,required:a}=t,l={root:["root",r&&"formControl",!i&&"animated",o&&"shrink",n&&n!=="medium"&&`size${ue(n)}`,s],asterisk:[a&&"asterisk"]},p=tt(l,nU,e);return{...e,...p}},iU=oe(KH,{shouldForwardProp:t=>no(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${jf.asterisk}`]:e.asterisk},e.root,r.formControl&&e.formControl,r.size==="small"&&e.sizeSmall,r.shrink&&e.shrink,!r.disableAnimation&&e.animated,r.focused&&e.focused,e[r.variant]]}})(rt(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:r})=>e==="filled"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:r,size:n})=>e==="filled"&&r.shrink&&n==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:r})=>e==="outlined"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),pf=S.forwardRef(function(e,r){const n=nt({name:"MuiInputLabel",props:e}),{disableAnimation:o=!1,margin:i,shrink:s,variant:a,className:l,...p}=n,f=$l();let h=s;typeof h>"u"&&f&&(h=f.filled||f.focused||f.adornedStart);const m=ep({props:n,muiFormControl:f,states:["size","variant","required","focused"]}),y={...n,disableAnimation:o,formControl:f,shrink:h,size:m.size,variant:m.variant,required:m.required,focused:m.focused},v=oU(y);return u.jsx(iU,{"data-shrink":h,ref:r,className:Se(v.root,l),...p,ownerState:y,classes:v})});function sU(t){return et("MuiLinearProgress",t)}st("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const U1=4,V1=Zr`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,aU=typeof V1!="string"?Dl`
        animation: ${V1} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,q1=Zr`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,lU=typeof q1!="string"?Dl`
        animation: ${q1} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,G1=Zr`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,cU=typeof G1!="string"?Dl`
        animation: ${G1} 3s infinite linear;
      `:null,uU=t=>{const{classes:e,variant:r,color:n}=t,o={root:["root",`color${ue(n)}`,r],dashed:["dashed",`dashedColor${ue(n)}`],bar1:["bar","bar1",`barColor${ue(n)}`,(r==="indeterminate"||r==="query")&&"bar1Indeterminate",r==="determinate"&&"bar1Determinate",r==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",r!=="buffer"&&`barColor${ue(n)}`,r==="buffer"&&`color${ue(n)}`,(r==="indeterminate"||r==="query")&&"bar2Indeterminate",r==="buffer"&&"bar2Buffer"]};return tt(o,sU,e)},OS=(t,e)=>t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?t.lighten(t.palette[e].main,.62):t.darken(t.palette[e].main,.5),dU=oe("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`color${ue(r.color)}`],e[r.variant]]}})(rt(({theme:t})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(t.palette).filter(_r()).map(([e])=>({props:{color:e},style:{backgroundColor:OS(t,e)}})),{props:({ownerState:e})=>e.color==="inherit"&&e.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),pU=oe("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.dashed,e[`dashedColor${ue(r.color)}`]]}})(rt(({theme:t})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(t.palette).filter(_r()).map(([e])=>{const r=OS(t,e);return{props:{color:e},style:{backgroundImage:`radial-gradient(${r} 0%, ${r} 16%, transparent 42%)`}}})]})),cU||{animation:`${G1} 3s infinite linear`}),fU=oe("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.bar,e.bar1,e[`barColor${ue(r.color)}`],(r.variant==="indeterminate"||r.variant==="query")&&e.bar1Indeterminate,r.variant==="determinate"&&e.bar1Determinate,r.variant==="buffer"&&e.bar1Buffer]}})(rt(({theme:t})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(t.palette).filter(_r()).map(([e])=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main}})),{props:{variant:"determinate"},style:{transition:`transform .${U1}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${U1}s linear`}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:aU||{animation:`${V1} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),hU=oe("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.bar,e.bar2,e[`barColor${ue(r.color)}`],(r.variant==="indeterminate"||r.variant==="query")&&e.bar2Indeterminate,r.variant==="buffer"&&e.bar2Buffer]}})(rt(({theme:t})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(t.palette).filter(_r()).map(([e])=>({props:{color:e},style:{"--LinearProgressBar2-barColor":(t.vars||t).palette[e].main}})),{props:({ownerState:e})=>e.variant!=="buffer"&&e.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:e})=>e.variant!=="buffer"&&e.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(t.palette).filter(_r()).map(([e])=>({props:{color:e,variant:"buffer"},style:{backgroundColor:OS(t,e),transition:`transform .${U1}s linear`}})),{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:lU||{animation:`${q1} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),TM=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiLinearProgress"}),{className:o,color:i="primary",value:s,valueBuffer:a,variant:l="indeterminate",...p}=n,f={...n,color:i,variant:l},h=uU(f),m=wa(),y={},v={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&s!==void 0){y["aria-valuenow"]=Math.round(s),y["aria-valuemin"]=0,y["aria-valuemax"]=100;let b=s-100;m&&(b=-b),v.bar1.transform=`translateX(${b}%)`}if(l==="buffer"&&a!==void 0){let b=(a||0)-100;m&&(b=-b),v.bar2.transform=`translateX(${b}%)`}return u.jsxs(dU,{className:Se(h.root,o),ownerState:f,role:"progressbar",...y,ref:r,...p,children:[l==="buffer"?u.jsx(pU,{className:h.dashed,ownerState:f}):null,u.jsx(fU,{className:h.bar1,ownerState:f,style:v.bar1}),l==="determinate"?null:u.jsx(hU,{className:h.bar2,ownerState:f,style:v.bar2})]})}),Pi=S.createContext({});function mU(t){return et("MuiList",t)}st("MuiList",["root","padding","dense","subheader"]);const gU=t=>{const{classes:e,disablePadding:r,dense:n,subheader:o}=t;return tt({root:["root",!r&&"padding",n&&"dense",o&&"subheader"]},mU,e)},yU=oe("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disablePadding&&e.padding,r.dense&&e.dense,r.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),Ni=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiList"}),{children:o,className:i,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:p,...f}=n,h=S.useMemo(()=>({dense:a}),[a]),m={...n,component:s,dense:a,disablePadding:l},y=gU(m);return u.jsx(Pi.Provider,{value:h,children:u.jsxs(yU,{as:s,className:Se(y.root,i),ref:r,ownerState:m,...f,children:[p,o]})})});function vU(t){return et("MuiListItem",t)}st("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function xU(t){return et("MuiListItemButton",t)}const td=st("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),bU=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.alignItems==="flex-start"&&e.alignItemsFlexStart,r.divider&&e.divider,!r.disableGutters&&e.gutters]},wU=t=>{const{alignItems:e,classes:r,dense:n,disabled:o,disableGutters:i,divider:s,selected:a}=t,p=tt({root:["root",n&&"dense",!i&&"gutters",s&&"divider",o&&"disabled",e==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},xU,r);return{...r,...p}},SU=oe(zi,{shouldForwardProp:t=>no(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:bU})(rt(({theme:t})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${td.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${td.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${td.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${td.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${td.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.dense,style:{paddingTop:4,paddingBottom:4}}]}))),bo=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiListItemButton"}),{alignItems:o="center",autoFocus:i=!1,component:s="div",children:a,dense:l=!1,disableGutters:p=!1,divider:f=!1,focusVisibleClassName:h,selected:m=!1,className:y,...v}=n,b=S.useContext(Pi),x=S.useMemo(()=>({dense:l||b.dense||!1,alignItems:o,disableGutters:p}),[o,b.dense,l,p]),C=S.useRef(null);Eo(()=>{i&&C.current&&C.current.focus()},[i]);const E={...n,alignItems:o,dense:x.dense,disableGutters:p,divider:f,selected:m},j=wU(E),T=zr(C,r);return u.jsx(Pi.Provider,{value:x,children:u.jsx(SU,{ref:T,href:v.href||v.to,component:(v.href||v.to)&&s==="div"?"button":s,focusVisibleClassName:Se(j.focusVisible,h),ownerState:E,className:Se(j.root,y),...v,classes:j,children:a})})});function CU(t){return et("MuiListItemSecondaryAction",t)}st("MuiListItemSecondaryAction",["root","disableGutters"]);const kU=t=>{const{disableGutters:e,classes:r}=t;return tt({root:["root",e&&"disableGutters"]},CU,r)},EU=oe("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),ay=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiListItemSecondaryAction"}),{className:o,...i}=n,s=S.useContext(Pi),a={...n,disableGutters:s.disableGutters},l=kU(a);return u.jsx(EU,{className:Se(l.root,o),ownerState:a,ref:r,...i})});ay.muiName="ListItemSecondaryAction";const TU=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.alignItems==="flex-start"&&e.alignItemsFlexStart,r.divider&&e.divider,!r.disableGutters&&e.gutters,!r.disablePadding&&e.padding,r.hasSecondaryAction&&e.secondaryAction]},jU=t=>{const{alignItems:e,classes:r,dense:n,disableGutters:o,disablePadding:i,divider:s,hasSecondaryAction:a}=t;return tt({root:["root",n&&"dense",!o&&"gutters",!i&&"padding",s&&"divider",e==="flex-start"&&"alignItemsFlexStart",a&&"secondaryAction"],container:["container"],secondaryAction:["secondaryAction"]},vU,r)},RU=oe("div",{name:"MuiListItem",slot:"Root",overridesResolver:TU})(rt(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${td.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),AU=oe("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),un=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiListItem"}),{alignItems:o="center",children:i,className:s,component:a,components:l={},componentsProps:p={},ContainerComponent:f="li",ContainerProps:{className:h,...m}={},dense:y=!1,disableGutters:v=!1,disablePadding:b=!1,divider:x=!1,secondaryAction:C,slotProps:E={},slots:j={},...T}=n,k=S.useContext(Pi),A=S.useMemo(()=>({dense:y||k.dense||!1,alignItems:o,disableGutters:v}),[o,k.dense,y,v]),_=S.useRef(null),I=S.Children.toArray(i),P=I.length&&Sf(I[I.length-1],["ListItemSecondaryAction"]),N={...n,alignItems:o,dense:A.dense,disableGutters:v,disablePadding:b,divider:x,hasSecondaryAction:P},B=jU(N),O=zr(_,r),D={slots:j,slotProps:E},[F,U]=it("secondaryAction",{elementType:ay,externalForwardedProps:D,ownerState:N,className:B.secondaryAction}),V=j.root||l.Root||RU,G=E.root||p.root||{},W={className:Se(B.root,G.className,s),...T};let K=a||"li";return P?(K=!W.component&&!a?"div":K,f==="li"&&(K==="li"?K="div":W.component==="li"&&(W.component="div")),u.jsx(Pi.Provider,{value:A,children:u.jsxs(AU,{as:f,className:Se(B.container,h),ref:O,ownerState:N,...m,children:[u.jsx(V,{...G,...!Md(V)&&{as:K,ownerState:{...N,...G.ownerState}},...W,children:I}),I.pop()]})})):u.jsx(Pi.Provider,{value:A,children:u.jsxs(V,{...G,as:K,ref:O,...!Md(V)&&{ownerState:{...N,...G.ownerState}},...W,children:[I,C&&u.jsx(F,{...U,children:C})]})})});function _U(t){return et("MuiListItemAvatar",t)}st("MuiListItemAvatar",["root","alignItemsFlexStart"]);const MU=t=>{const{alignItems:e,classes:r}=t;return tt({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},_U,r)},IU=oe("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.alignItems==="flex-start"&&e.alignItemsFlexStart]}})({minWidth:56,flexShrink:0,variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}),OU=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiListItemAvatar"}),{className:o,...i}=n,s=S.useContext(Pi),a={...n,alignItems:s.alignItems},l=MU(a);return u.jsx(IU,{className:Se(l.root,o),ownerState:a,ref:r,...i})});function PU(t){return et("MuiListItemIcon",t)}const aj=st("MuiListItemIcon",["root","alignItemsFlexStart"]),NU=t=>{const{alignItems:e,classes:r}=t;return tt({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},PU,r)},LU=oe("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(rt(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),Lo=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiListItemIcon"}),{className:o,...i}=n,s=S.useContext(Pi),a={...n,alignItems:s.alignItems},l=NU(a);return u.jsx(LU,{className:Se(l.root,o),ownerState:a,ref:r,...i})});function DU(t){return et("MuiListItemText",t)}const ad=st("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),zU=t=>{const{classes:e,inset:r,primary:n,secondary:o,dense:i}=t;return tt({root:["root",r&&"inset",i&&"dense",n&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},DU,e)},$U=oe("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${ad.primary}`]:e.primary},{[`& .${ad.secondary}`]:e.secondary},e.root,r.inset&&e.inset,r.primary&&r.secondary&&e.multiline,r.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${TT.root}:where(& .${ad.primary})`]:{display:"block"},[`.${TT.root}:where(& .${ad.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),jn=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiListItemText"}),{children:o,className:i,disableTypography:s=!1,inset:a=!1,primary:l,primaryTypographyProps:p,secondary:f,secondaryTypographyProps:h,slots:m={},slotProps:y={},...v}=n,{dense:b}=S.useContext(Pi);let x=l??o,C=f;const E={...n,disableTypography:s,inset:a,primary:!!x,secondary:!!C,dense:b},j=zU(E),T={slots:m,slotProps:{primary:p,secondary:h,...y}},[k,A]=it("root",{className:Se(j.root,i),elementType:$U,externalForwardedProps:{...T,...v},ownerState:E,ref:r}),[_,I]=it("primary",{className:j.primary,elementType:$,externalForwardedProps:T,ownerState:E}),[P,N]=it("secondary",{className:j.secondary,elementType:$,externalForwardedProps:T,ownerState:E});return x!=null&&x.type!==$&&!s&&(x=u.jsx(_,{variant:b?"body2":"body1",component:I!=null&&I.variant?void 0:"span",...I,children:x})),C!=null&&C.type!==$&&!s&&(C=u.jsx(P,{variant:"body2",color:"textSecondary",...N,children:C})),u.jsxs(k,{...A,children:[x,C]})});function fb(t,e,r){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:r?null:t.firstChild}function lj(t,e,r){return t===e?r?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:r?null:t.lastChild}function jM(t,e){if(e===void 0)return!0;let r=t.innerText;return r===void 0&&(r=t.textContent),r=r.trim().toLowerCase(),r.length===0?!1:e.repeating?r[0]===e.keys[0]:r.startsWith(e.keys.join(""))}function Vp(t,e,r,n,o,i){let s=!1,a=o(t,e,e?r:!1);for(;a;){if(a===t.firstChild){if(s)return!1;s=!0}const l=n?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!jM(a,i)||l)a=o(t,a,r);else return a.focus(),!0}return!1}const FU=S.forwardRef(function(e,r){const{actions:n,autoFocus:o=!1,autoFocusItem:i=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:p=!1,onKeyDown:f,variant:h="selectedMenu",...m}=e,y=S.useRef(null),v=S.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Eo(()=>{o&&y.current.focus()},[o]),S.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(j,{direction:T})=>{const k=!y.current.style.width;if(j.clientHeight<y.current.clientHeight&&k){const A=`${vM(ii(j))}px`;y.current.style[T==="rtl"?"paddingLeft":"paddingRight"]=A,y.current.style.width=`calc(100% + ${A})`}return y.current}}),[]);const b=j=>{const T=y.current,k=j.key;if(j.ctrlKey||j.metaKey||j.altKey){f&&f(j);return}const _=sd(ro(T));if(k==="ArrowDown")j.preventDefault(),Vp(T,_,p,l,fb);else if(k==="ArrowUp")j.preventDefault(),Vp(T,_,p,l,lj);else if(k==="Home")j.preventDefault(),Vp(T,null,p,l,fb);else if(k==="End")j.preventDefault(),Vp(T,null,p,l,lj);else if(k.length===1){const I=v.current,P=k.toLowerCase(),N=performance.now();I.keys.length>0&&(N-I.lastTime>500?(I.keys=[],I.repeating=!0,I.previousKeyMatched=!0):I.repeating&&P!==I.keys[0]&&(I.repeating=!1)),I.lastTime=N,I.keys.push(P);const B=_&&!I.repeating&&jM(_,I);I.previousKeyMatched&&(B||Vp(T,_,!1,l,fb,I))?j.preventDefault():I.previousKeyMatched=!1}f&&f(j)},x=zr(y,r);let C=-1;S.Children.forEach(s,(j,T)=>{if(!S.isValidElement(j)){C===T&&(C+=1,C>=s.length&&(C=-1));return}j.props.disabled||(h==="selectedMenu"&&j.props.selected||C===-1)&&(C=T),C===T&&(j.props.disabled||j.props.muiSkipListHighlight||j.type.muiSkipListHighlight)&&(C+=1,C>=s.length&&(C=-1))});const E=S.Children.map(s,(j,T)=>{if(T===C){const k={};return i&&(k.autoFocus=!0),j.props.tabIndex===void 0&&h==="selectedMenu"&&(k.tabIndex=0),S.cloneElement(j,k)}return j});return u.jsx(Ni,{role:"menu",ref:x,className:a,onKeyDown:b,tabIndex:o?0:-1,...m,children:E})});function BU(t){return et("MuiPopover",t)}st("MuiPopover",["root","paper"]);function cj(t,e){let r=0;return typeof e=="number"?r=e:e==="center"?r=t.height/2:e==="bottom"&&(r=t.height),r}function uj(t,e){let r=0;return typeof e=="number"?r=e:e==="center"?r=t.width/2:e==="right"&&(r=t.width),r}function dj(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function sg(t){return typeof t=="function"?t():t}const WU=t=>{const{classes:e}=t;return tt({root:["root"],paper:["paper"]},BU,e)},HU=oe(_S,{name:"MuiPopover",slot:"Root"})({}),RM=oe(St,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),UU=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiPopover"}),{action:o,anchorEl:i,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:p,className:f,container:h,elevation:m=8,marginThreshold:y=16,open:v,PaperProps:b={},slots:x={},slotProps:C={},transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:j,transitionDuration:T="auto",TransitionProps:k={},disableScrollLock:A=!1,..._}=n,I=S.useRef(),P={...n,anchorOrigin:s,anchorReference:l,elevation:m,marginThreshold:y,transformOrigin:E,TransitionComponent:j,transitionDuration:T,TransitionProps:k},N=WU(P),B=S.useCallback(()=>{if(l==="anchorPosition")return a;const Ne=sg(i),Xe=(Ne&&Ne.nodeType===1?Ne:ro(I.current).body).getBoundingClientRect();return{top:Xe.top+cj(Xe,s.vertical),left:Xe.left+uj(Xe,s.horizontal)}},[i,s.horizontal,s.vertical,a,l]),O=S.useCallback(Ne=>({vertical:cj(Ne,E.vertical),horizontal:uj(Ne,E.horizontal)}),[E.horizontal,E.vertical]),D=S.useCallback(Ne=>{const lt={width:Ne.offsetWidth,height:Ne.offsetHeight},Xe=O(lt);if(l==="none")return{top:null,left:null,transformOrigin:dj(Xe)};const He=B();let Le=He.top-Xe.vertical,Re=He.left-Xe.horizontal;const ae=Le+lt.height,ke=Re+lt.width,fe=ii(sg(i)),dt=fe.innerHeight-y,Be=fe.innerWidth-y;if(y!==null&&Le<y){const Te=Le-y;Le-=Te,Xe.vertical+=Te}else if(y!==null&&ae>dt){const Te=ae-dt;Le-=Te,Xe.vertical+=Te}if(y!==null&&Re<y){const Te=Re-y;Re-=Te,Xe.horizontal+=Te}else if(ke>Be){const Te=ke-Be;Re-=Te,Xe.horizontal+=Te}return{top:`${Math.round(Le)}px`,left:`${Math.round(Re)}px`,transformOrigin:dj(Xe)}},[i,l,B,O,y]),[F,U]=S.useState(v),V=S.useCallback(()=>{const Ne=I.current;if(!Ne)return;const lt=D(Ne);lt.top!==null&&Ne.style.setProperty("top",lt.top),lt.left!==null&&(Ne.style.left=lt.left),Ne.style.transformOrigin=lt.transformOrigin,U(!0)},[D]);S.useEffect(()=>(A&&window.addEventListener("scroll",V),()=>window.removeEventListener("scroll",V)),[i,A,V]);const G=()=>{V()},W=()=>{U(!1)};S.useEffect(()=>{v&&V()}),S.useImperativeHandle(o,()=>v?{updatePosition:()=>{V()}}:null,[v,V]),S.useEffect(()=>{if(!v)return;const Ne=Nh(()=>{V()}),lt=ii(sg(i));return lt.addEventListener("resize",Ne),()=>{Ne.clear(),lt.removeEventListener("resize",Ne)}},[i,v,V]);let K=T;const H={slots:{transition:j,...x},slotProps:{transition:k,paper:b,...C}},[J,ne]=it("transition",{elementType:oh,externalForwardedProps:H,ownerState:P,getSlotProps:Ne=>({...Ne,onEntering:(lt,Xe)=>{var He;(He=Ne.onEntering)==null||He.call(Ne,lt,Xe),G()},onExited:lt=>{var Xe;(Xe=Ne.onExited)==null||Xe.call(Ne,lt),W()}}),additionalProps:{appear:!0,in:v}});T==="auto"&&!J.muiSupportAuto&&(K=void 0);const me=h||(i?ro(sg(i)).body:void 0),[ge,{slots:ce,slotProps:te,...ve}]=it("root",{ref:r,elementType:HU,externalForwardedProps:{...H,..._},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:x.backdrop},slotProps:{backdrop:xS(typeof C.backdrop=="function"?C.backdrop(P):C.backdrop,{invisible:!0})},container:me,open:v},ownerState:P,className:Se(N.root,f)}),[Ie,qe]=it("paper",{ref:I,className:N.paper,elementType:RM,externalForwardedProps:H,shouldForwardComponentProp:!0,additionalProps:{elevation:m,style:F?void 0:{opacity:0}},ownerState:P});return u.jsx(ge,{...ve,...!Md(ge)&&{slots:ce,slotProps:te,disableScrollLock:A},children:u.jsx(J,{...ne,timeout:K,children:u.jsx(Ie,{...qe,children:p})})})});function VU(t){return et("MuiMenu",t)}st("MuiMenu",["root","paper","list"]);const qU={vertical:"top",horizontal:"right"},GU={vertical:"top",horizontal:"left"},KU=t=>{const{classes:e}=t;return tt({root:["root"],paper:["paper"],list:["list"]},VU,e)},YU=oe(UU,{shouldForwardProp:t=>no(t)||t==="classes",name:"MuiMenu",slot:"Root"})({}),JU=oe(RM,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),XU=oe(FU,{name:"MuiMenu",slot:"List"})({outline:0}),AM=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:i,className:s,disableAutoFocusItem:a=!1,MenuListProps:l={},onClose:p,open:f,PaperProps:h={},PopoverClasses:m,transitionDuration:y="auto",TransitionProps:{onEntering:v,...b}={},variant:x="selectedMenu",slots:C={},slotProps:E={},...j}=n,T=wa(),k={...n,autoFocus:o,disableAutoFocusItem:a,MenuListProps:l,onEntering:v,PaperProps:h,transitionDuration:y,TransitionProps:b,variant:x},A=KU(k),_=o&&!a&&f,I=S.useRef(null),P=(K,H)=>{I.current&&I.current.adjustStyleForScrollbar(K,{direction:T?"rtl":"ltr"}),v&&v(K,H)},N=K=>{K.key==="Tab"&&(K.preventDefault(),p&&p(K,"tabKeyDown"))};let B=-1;S.Children.map(i,(K,H)=>{S.isValidElement(K)&&(K.props.disabled||(x==="selectedMenu"&&K.props.selected||B===-1)&&(B=H))});const O={slots:C,slotProps:{list:l,transition:b,paper:h,...E}},D=Dd({elementType:C.root,externalSlotProps:E.root,ownerState:k,className:[A.root,s]}),[F,U]=it("paper",{className:A.paper,elementType:JU,externalForwardedProps:O,shouldForwardComponentProp:!0,ownerState:k}),[V,G]=it("list",{className:Se(A.list,l.className),elementType:XU,shouldForwardComponentProp:!0,externalForwardedProps:O,getSlotProps:K=>({...K,onKeyDown:H=>{var J;N(H),(J=K.onKeyDown)==null||J.call(K,H)}}),ownerState:k}),W=typeof O.slotProps.transition=="function"?O.slotProps.transition(k):O.slotProps.transition;return u.jsx(YU,{onClose:p,anchorOrigin:{vertical:"bottom",horizontal:T?"right":"left"},transformOrigin:T?qU:GU,slots:{root:C.root,paper:F,backdrop:C.backdrop,...C.transition&&{transition:C.transition}},slotProps:{root:D,paper:U,backdrop:typeof E.backdrop=="function"?E.backdrop(k):E.backdrop,transition:{...W,onEntering:(...K)=>{var H;P(...K),(H=W==null?void 0:W.onEntering)==null||H.call(W,...K)}}},open:f,ref:r,transitionDuration:y,ownerState:k,...j,classes:m,children:u.jsx(V,{actions:I,autoFocus:o&&(B===-1||a),autoFocusItem:_,variant:x,...G,children:i})})});function QU(t){return et("MuiMenuItem",t)}const qp=st("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),ZU=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.divider&&e.divider,!r.disableGutters&&e.gutters]},eV=t=>{const{disabled:e,dense:r,divider:n,disableGutters:o,selected:i,classes:s}=t,l=tt({root:["root",r&&"dense",e&&"disabled",!o&&"gutters",n&&"divider",i&&"selected"]},QU,s);return{...s,...l}},tV=oe(zi,{shouldForwardProp:t=>no(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:ZU})(rt(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${qp.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${qp.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${qp.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${qp.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${qp.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${tj.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${tj.inset}`]:{marginLeft:52},[`& .${ad.root}`]:{marginTop:0,marginBottom:0},[`& .${ad.inset}`]:{paddingLeft:36},[`& .${aj.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${aj.root} svg`]:{fontSize:"1.25rem"}}}]}))),Dr=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiMenuItem"}),{autoFocus:o=!1,component:i="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:p,role:f="menuitem",tabIndex:h,className:m,...y}=n,v=S.useContext(Pi),b=S.useMemo(()=>({dense:s||v.dense||!1,disableGutters:l}),[v.dense,s,l]),x=S.useRef(null);Eo(()=>{o&&x.current&&x.current.focus()},[o]);const C={...n,dense:b.dense,divider:a,disableGutters:l},E=eV(n),j=zr(x,r);let T;return n.disabled||(T=h!==void 0?h:-1),u.jsx(Pi.Provider,{value:b,children:u.jsx(tV,{ref:j,role:f,tabIndex:T,component:i,focusVisibleClassName:Se(E.focusVisible,p),className:Se(E.root,m),...y,ownerState:C,classes:E})})});function rV(t){return et("MuiNativeSelect",t)}const PS=st("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),nV=t=>{const{classes:e,variant:r,disabled:n,multiple:o,open:i,error:s}=t,a={select:["select",r,n&&"disabled",o&&"multiple",s&&"error"],icon:["icon",`icon${ue(r)}`,i&&"iconOpen",n&&"disabled"]};return tt(a,rV,e)},_M=oe("select",{name:"MuiNativeSelect"})(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${PS.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),oV=oe(_M,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:no,overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.select,e[r.variant],r.error&&e.error,{[`&.${PS.multiple}`]:e.multiple}]}})({}),MM=oe("svg",{name:"MuiNativeSelect"})(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${PS.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),iV=oe(MM,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.variant&&e[`icon${ue(r.variant)}`],r.open&&e.iconOpen]}})({}),sV=S.forwardRef(function(e,r){const{className:n,disabled:o,error:i,IconComponent:s,inputRef:a,variant:l="standard",...p}=e,f={...e,disabled:o,variant:l,error:i},h=nV(f);return u.jsxs(S.Fragment,{children:[u.jsx(oV,{ownerState:f,className:Se(h.select,n),disabled:o,ref:a||r,...p}),e.multiple?null:u.jsx(iV,{as:s,ownerState:f,className:h.icon})]})});var pj;const aV=oe("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:no})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),lV=oe("legend",{name:"MuiNotchedOutlined",shouldForwardProp:no})(rt(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function cV(t){const{children:e,classes:r,className:n,label:o,notched:i,...s}=t,a=o!=null&&o!=="",l={...t,notched:i,withLabel:a};return u.jsx(aV,{"aria-hidden":!0,className:n,ownerState:l,...s,children:u.jsx(lV,{ownerState:l,children:a?u.jsx("span",{children:o}):pj||(pj=u.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const uV=t=>{const{classes:e}=t,n=tt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},rW,e);return{...e,...n}},dV=oe(N0,{shouldForwardProp:t=>no(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:O0})(rt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Ci.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ci.notchedOutline}`]:{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}},[`&.${Ci.focused} .${Ci.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(_r()).map(([r])=>({props:{color:r},style:{[`&.${Ci.focused} .${Ci.notchedOutline}`]:{borderColor:(t.vars||t).palette[r].main}}})),{props:{},style:{[`&.${Ci.error} .${Ci.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Ci.disabled} .${Ci.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:r})=>r.startAdornment,style:{paddingLeft:14}},{props:({ownerState:r})=>r.endAdornment,style:{paddingRight:14}},{props:({ownerState:r})=>r.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:r,size:n})=>r.multiline&&n==="small",style:{padding:"8.5px 14px"}}]}})),pV=oe(cV,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(rt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}})),fV=oe(L0,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:P0})(rt(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),NS=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiOutlinedInput"}),{components:o={},fullWidth:i=!1,inputComponent:s="input",label:a,multiline:l=!1,notched:p,slots:f={},slotProps:h={},type:m="text",...y}=n,v=uV(n),b=$l(),x=ep({props:n,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),C={...n,color:x.color||"primary",disabled:x.disabled,error:x.error,focused:x.focused,formControl:b,fullWidth:i,hiddenLabel:x.hiddenLabel,multiline:l,size:x.size,type:m},E=f.root??o.Root??dV,j=f.input??o.Input??fV,[T,k]=it("notchedOutline",{elementType:pV,className:v.notchedOutline,shouldForwardComponentProp:!0,ownerState:C,externalForwardedProps:{slots:f,slotProps:h},additionalProps:{label:a!=null&&a!==""&&x.required?u.jsxs(S.Fragment,{children:[a,"","*"]}):a}});return u.jsx(D0,{slots:{root:E,input:j},slotProps:h,renderSuffix:A=>u.jsx(T,{...k,notched:typeof p<"u"?p:!!(A.startAdornment||A.filled||A.focused)}),fullWidth:i,inputComponent:s,multiline:l,ref:r,type:m,...y,classes:{...v,notchedOutline:null}})});NS.muiName="Input";function hV(t){return et("MuiPagination",t)}st("MuiPagination",["root","ul","outlined","text"]);function mV(t={}){const{boundaryCount:e=1,componentName:r="usePagination",count:n=1,defaultPage:o=1,disabled:i=!1,hideNextButton:s=!1,hidePrevButton:a=!1,onChange:l,page:p,showFirstButton:f=!1,showLastButton:h=!1,siblingCount:m=1,...y}=t,[v,b]=pa({controlled:p,default:o,name:r,state:"page"}),x=(P,N)=>{p||b(N),l&&l(P,N)},C=(P,N)=>{const B=N-P+1;return Array.from({length:B},(O,D)=>P+D)},E=C(1,Math.min(e,n)),j=C(Math.max(n-e+1,e+1),n),T=Math.max(Math.min(v-m,n-e-m*2-1),e+2),k=Math.min(Math.max(v+m,e+m*2+2),n-e-1),A=[...f?["first"]:[],...a?[]:["previous"],...E,...T>e+2?["start-ellipsis"]:e+1<n-e?[e+1]:[],...C(T,k),...k<n-e-1?["end-ellipsis"]:n-e>e?[n-e]:[],...j,...s?[]:["next"],...h?["last"]:[]],_=P=>{switch(P){case"first":return 1;case"previous":return v-1;case"next":return v+1;case"last":return n;default:return null}};return{items:A.map(P=>typeof P=="number"?{onClick:N=>{x(N,P)},type:"page",page:P,selected:P===v,disabled:i,"aria-current":P===v?"page":void 0}:{onClick:N=>{x(N,_(P))},type:P,page:_(P),selected:!1,disabled:i||!P.includes("ellipsis")&&(P==="next"||P==="last"?v>=n:v<=1)}),...y}}function gV(t){return et("MuiPaginationItem",t)}const xo=st("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon","colorPrimary","colorSecondary"]),yV=pe(u.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"})),vV=pe(u.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"})),xV=pe(u.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),bV=pe(u.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),IM=(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`size${ue(r.size)}`],r.variant==="text"&&e[`text${ue(r.color)}`],r.variant==="outlined"&&e[`outlined${ue(r.color)}`],r.shape==="rounded"&&e.rounded,r.type==="page"&&e.page,(r.type==="start-ellipsis"||r.type==="end-ellipsis")&&e.ellipsis,(r.type==="previous"||r.type==="next")&&e.previousNext,(r.type==="first"||r.type==="last")&&e.firstLast]},wV=t=>{const{classes:e,color:r,disabled:n,selected:o,size:i,shape:s,type:a,variant:l}=t,p={root:["root",`size${ue(i)}`,l,s,r!=="standard"&&`color${ue(r)}`,r!=="standard"&&`${l}${ue(r)}`,n&&"disabled",o&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[a]],icon:["icon"]};return tt(p,gV,e)},SV=oe("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:IM})(rt(({theme:t})=>({...t.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,height:"auto",[`&.${xo.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:{size:"small"},style:{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:t.typography.pxToRem(15)}}]}))),CV=oe(zi,{name:"MuiPaginationItem",slot:"Root",overridesResolver:IM})(rt(({theme:t})=>({...t.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,[`&.${xo.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${xo.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},transition:t.transitions.create(["color","background-color"],{duration:t.transitions.duration.short}),"&:hover":{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${xo.selected}`]:{backgroundColor:(t.vars||t).palette.action.selected,"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${xo.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)},[`&.${xo.disabled}`]:{opacity:1,color:(t.vars||t).palette.action.disabled,backgroundColor:(t.vars||t).palette.action.selected}},variants:[{props:{size:"small"},style:{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:t.typography.pxToRem(15)}},{props:{shape:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"outlined"},style:{border:t.vars?`1px solid ${t.alpha(t.vars.palette.common.onBackground,.23)}`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${xo.selected}`]:{[`&.${xo.disabled}`]:{borderColor:(t.vars||t).palette.action.disabledBackground,color:(t.vars||t).palette.action.disabled}}}},{props:{variant:"text"},style:{[`&.${xo.selected}`]:{[`&.${xo.disabled}`]:{color:(t.vars||t).palette.action.disabled}}}},...Object.entries(t.palette).filter(_r(["dark","contrastText"])).map(([e])=>({props:{variant:"text",color:e},style:{[`&.${xo.selected}`]:{color:(t.vars||t).palette[e].contrastText,backgroundColor:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:(t.vars||t).palette[e].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e].main}},[`&.${xo.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e].dark},[`&.${xo.disabled}`]:{color:(t.vars||t).palette.action.disabled}}}})),...Object.entries(t.palette).filter(_r(["light"])).map(([e])=>({props:{variant:"outlined",color:e},style:{[`&.${xo.selected}`]:{color:(t.vars||t).palette[e].main,border:`1px solid ${t.alpha((t.vars||t).palette[e].main,.5)}`,backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.activatedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,`${(t.vars||t).palette.action.activatedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${xo.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette[e].main,`${(t.vars||t).palette.action.activatedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}}}))]}))),kV=oe("div",{name:"MuiPaginationItem",slot:"Icon"})(rt(({theme:t})=>({fontSize:t.typography.pxToRem(20),margin:"0 -8px",variants:[{props:{size:"small"},style:{fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:t.typography.pxToRem(22)}}]}))),EV=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiPaginationItem"}),{className:o,color:i="standard",component:s,components:a={},disabled:l=!1,page:p,selected:f=!1,shape:h="circular",size:m="medium",slots:y={},slotProps:v={},type:b="page",variant:x="text",...C}=n,E={...n,color:i,disabled:l,selected:f,shape:h,size:m,type:b,variant:x},j=wa(),T=wV(E),k={slots:{previous:y.previous??a.previous,next:y.next??a.next,first:y.first??a.first,last:y.last??a.last},slotProps:v},[A,_]=it("previous",{elementType:xV,externalForwardedProps:k,ownerState:E}),[I,P]=it("next",{elementType:bV,externalForwardedProps:k,ownerState:E}),[N,B]=it("first",{elementType:yV,externalForwardedProps:k,ownerState:E}),[O,D]=it("last",{elementType:vV,externalForwardedProps:k,ownerState:E}),F=j?{previous:"next",next:"previous",first:"last",last:"first"}[b]:b,U={previous:A,next:I,first:N,last:O}[F],V={previous:_,next:P,first:B,last:D}[F];return b==="start-ellipsis"||b==="end-ellipsis"?u.jsx(SV,{ref:r,ownerState:E,className:Se(T.root,o),children:""}):u.jsxs(CV,{ref:r,ownerState:E,component:s,disabled:l,className:Se(T.root,o),...C,children:[b==="page"&&p,U?u.jsx(kV,{...V,className:T.icon,as:U}):null]})}),TV=t=>{const{classes:e,variant:r}=t;return tt({root:["root",r],ul:["ul"]},hV,e)},jV=oe("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant]]}})({}),RV=oe("ul",{name:"MuiPagination",slot:"Ul"})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function AV(t,e,r){return t==="page"?`${r?"":"Go to "}page ${e}`:`Go to ${t} page`}const fj=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiPagination"}),{boundaryCount:o=1,className:i,color:s="standard",count:a=1,defaultPage:l=1,disabled:p=!1,getItemAriaLabel:f=AV,hideNextButton:h=!1,hidePrevButton:m=!1,onChange:y,page:v,renderItem:b=N=>u.jsx(EV,{...N}),shape:x="circular",showFirstButton:C=!1,showLastButton:E=!1,siblingCount:j=1,size:T="medium",variant:k="text",...A}=n,{items:_}=mV({...n,componentName:"Pagination"}),I={...n,boundaryCount:o,color:s,count:a,defaultPage:l,disabled:p,getItemAriaLabel:f,hideNextButton:h,hidePrevButton:m,renderItem:b,shape:x,showFirstButton:C,showLastButton:E,siblingCount:j,size:T,variant:k},P=TV(I);return u.jsx(jV,{"aria-label":"pagination navigation",className:Se(P.root,i),ownerState:I,ref:r,...A,children:u.jsx(RV,{className:P.ul,ownerState:I,children:_.map((N,B)=>u.jsx("li",{children:b({...N,color:s,"aria-label":f(N.type,N.page,N.selected),shape:x,size:T,variant:k})},B))})})}),_V={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},MV=pe(u.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),IV=pe(u.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}));function OV(t){return et("MuiRating",t)}const Gp=st("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function PV(t){const e=t.toString().split(".")[1];return e?e.length:0}function hb(t,e){if(t==null)return t;const r=Math.round(t/e)*e;return Number(r.toFixed(PV(e)))}const NV=t=>{const{classes:e,size:r,readOnly:n,disabled:o,emptyValueFocused:i,focusVisible:s}=t,a={root:["root",`size${ue(r)}`,o&&"disabled",s&&"focusVisible",n&&"readOnly"],label:["label","pristine"],labelEmptyValue:[i&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return tt(a,OV,e)},LV=oe("span",{name:"MuiRating",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${Gp.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${ue(r.size)}`],r.readOnly&&e.readOnly]}})(rt(({theme:t})=>({display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${Gp.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Gp.focusVisible} .${Gp.iconActive}`]:{outline:"1px solid #999"},[`& .${Gp.visuallyHidden}`]:_V,variants:[{props:{size:"small"},style:{fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:t.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),OM=oe("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:t},e)=>[e.label,t.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:t})=>t.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),DV=oe("span",{name:"MuiRating",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.iconEmpty&&e.iconEmpty,r.iconFilled&&e.iconFilled,r.iconHover&&e.iconHover,r.iconFocus&&e.iconFocus,r.iconActive&&e.iconActive]}})(rt(({theme:t})=>({display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(t.vars||t).palette.action.disabled}}]}))),zV=oe("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:t=>yS(t)&&t!=="iconActive",overridesResolver:(t,e)=>{const{iconActive:r}=t;return[e.decimal,r&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:t})=>t,style:{transform:"scale(1.2)"}}]});function $V(t){const{value:e,...r}=t;return u.jsx("span",{...r})}function hj(t){const{classes:e,disabled:r,emptyIcon:n,focus:o,getLabelText:i,highlightSelectedOnly:s,hover:a,icon:l,IconContainerComponent:p,isActive:f,itemValue:h,labelProps:m,name:y,onBlur:v,onChange:b,onClick:x,onFocus:C,readOnly:E,ownerState:j,ratingValue:T,ratingValueRounded:k,slots:A={},slotProps:_={}}=t,I=s?h===T:h<=T,P=h<=a,N=h<=o,B=h===k,O=`${y}-${Ds()}`,D={slots:A,slotProps:_},[F,U]=it("icon",{elementType:DV,className:Se(e.icon,I?e.iconFilled:e.iconEmpty,P&&e.iconHover,N&&e.iconFocus,f&&e.iconActive),externalForwardedProps:D,ownerState:{...j,iconEmpty:!I,iconFilled:I,iconHover:P,iconFocus:N,iconActive:f},additionalProps:{value:h},internalForwardedProps:{as:p}}),[V,G]=it("label",{elementType:OM,externalForwardedProps:D,ownerState:{...j,emptyValueFocused:void 0},additionalProps:{style:m==null?void 0:m.style,htmlFor:O}}),W=u.jsx(F,{...U,children:n&&!I?n:l});return E?u.jsx("span",{...m,children:W}):u.jsxs(S.Fragment,{children:[u.jsxs(V,{...G,children:[W,u.jsx("span",{className:e.visuallyHidden,children:i(h)})]}),u.jsx("input",{className:e.visuallyHidden,onFocus:C,onBlur:v,onChange:b,onClick:x,disabled:r,value:h,id:O,type:"radio",name:y,checked:B})]})}const FV=u.jsx(MV,{fontSize:"inherit"}),BV=u.jsx(IV,{fontSize:"inherit"});function WV(t){return`${t||"0"} Star${t!==1?"s":""}`}const Rf=S.forwardRef(function(e,r){const n=nt({name:"MuiRating",props:e}),{component:o="span",className:i,defaultValue:s=null,disabled:a=!1,emptyIcon:l=BV,emptyLabelText:p="Empty",getLabelText:f=WV,highlightSelectedOnly:h=!1,icon:m=FV,IconContainerComponent:y=$V,max:v=5,name:b,onChange:x,onChangeActive:C,onMouseLeave:E,onMouseMove:j,precision:T=1,readOnly:k=!1,size:A="medium",value:_,slots:I={},slotProps:P={},...N}=n,B=Ds(b),[O,D]=pa({controlled:_,default:s,name:"Rating"}),F=hb(O,T),U=wa(),[{hover:V,focus:G},W]=S.useState({hover:-1,focus:-1});let K=F;V!==-1&&(K=V),G!==-1&&(K=G);const[H,J]=S.useState(!1),ne=S.useRef(),me=zr(ne,r),ge=Te=>{j&&j(Te);const ie=ne.current,{right:Ce,left:We,width:Qe}=ie.getBoundingClientRect();let mt;U?mt=(Ce-Te.clientX)/Qe:mt=(Te.clientX-We)/Qe;let je=hb(v*mt+T/2,T);je=I_(je,T,v),W(Ze=>Ze.hover===je&&Ze.focus===je?Ze:{hover:je,focus:je}),J(!1),C&&V!==je&&C(Te,je)},ce=Te=>{E&&E(Te);const ie=-1;W({hover:ie,focus:ie}),C&&V!==ie&&C(Te,ie)},te=Te=>{let ie=Te.target.value===""?null:parseFloat(Te.target.value);V!==-1&&(ie=V),D(ie),x&&x(Te,ie)},ve=Te=>{Te.clientX===0&&Te.clientY===0||(W({hover:-1,focus:-1}),D(null),x&&parseFloat(Te.target.value)===F&&x(Te,null))},Ie=Te=>{Id(Te.target)&&J(!0);const ie=parseFloat(Te.target.value);W(Ce=>({hover:Ce.hover,focus:ie}))},qe=Te=>{if(V!==-1)return;Id(Te.target)||J(!1);const ie=-1;W(Ce=>({hover:Ce.hover,focus:ie}))},[Ne,lt]=S.useState(!1),Xe={...n,component:o,defaultValue:s,disabled:a,emptyIcon:l,emptyLabelText:p,emptyValueFocused:Ne,focusVisible:H,getLabelText:f,icon:m,IconContainerComponent:y,max:v,precision:T,readOnly:k,size:A},He=NV(Xe),Le={slots:I,slotProps:P},[Re,ae]=it("root",{ref:me,className:Se(He.root,i),elementType:LV,externalForwardedProps:{...Le,...N,component:o},getSlotProps:Te=>({...Te,onMouseMove:ie=>{var Ce;ge(ie),(Ce=Te.onMouseMove)==null||Ce.call(Te,ie)},onMouseLeave:ie=>{var Ce;ce(ie),(Ce=Te.onMouseLeave)==null||Ce.call(Te,ie)}}),ownerState:Xe,additionalProps:{role:k?"img":null,"aria-label":k?f(K):null}}),[ke,fe]=it("label",{className:Se(He.label,He.labelEmptyValue),elementType:OM,externalForwardedProps:Le,ownerState:Xe}),[dt,Be]=it("decimal",{className:He.decimal,elementType:zV,externalForwardedProps:Le,ownerState:Xe});return u.jsxs(Re,{...ae,children:[Array.from(new Array(v)).map((Te,ie)=>{const Ce=ie+1,We={classes:He,disabled:a,emptyIcon:l,focus:G,getLabelText:f,highlightSelectedOnly:h,hover:V,icon:m,IconContainerComponent:y,name:B,onBlur:qe,onChange:te,onClick:ve,onFocus:Ie,ratingValue:K,ratingValueRounded:F,readOnly:k,ownerState:Xe,slots:I,slotProps:P},Qe=Ce===Math.ceil(K)&&(V!==-1||G!==-1);if(T<1){const mt=Array.from(new Array(1/T));return S.createElement(dt,{...Be,key:Ce,className:Se(Be.className,Qe&&He.iconActive),iconActive:Qe},mt.map((je,Ze)=>{const ot=hb(Ce-1+(Ze+1)*T,T);return u.jsx(hj,{...We,isActive:!1,itemValue:ot,labelProps:{style:mt.length-1===Ze?{}:{width:ot===K?`${(Ze+1)*T*100}%`:"0%",overflow:"hidden",position:"absolute"}}},ot)}))}return u.jsx(hj,{...We,isActive:Qe,itemValue:Ce},Ce)}),!k&&!a&&u.jsxs(ke,{...fe,children:[u.jsx("input",{className:He.visuallyHidden,value:"",id:`${B}-empty`,type:"radio",name:B,checked:F==null,onFocus:()=>lt(!0),onBlur:()=>lt(!1),onChange:te}),u.jsx("span",{className:He.visuallyHidden,children:p})]})]})});function PM(t){return et("MuiSelect",t)}const Kp=st("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var mj;const HV=oe(_M,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`&.${Kp.select}`]:e.select},{[`&.${Kp.select}`]:e[r.variant]},{[`&.${Kp.error}`]:e.error},{[`&.${Kp.multiple}`]:e.multiple}]}})({[`&.${Kp.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),UV=oe(MM,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.variant&&e[`icon${ue(r.variant)}`],r.open&&e.iconOpen]}})({}),VV=oe("input",{shouldForwardProp:t=>yS(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function gj(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function qV(t){return t==null||typeof t=="string"&&!t.trim()}const GV=t=>{const{classes:e,variant:r,disabled:n,multiple:o,open:i,error:s}=t,a={select:["select",r,n&&"disabled",o&&"multiple",s&&"error"],icon:["icon",`icon${ue(r)}`,i&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return tt(a,PM,e)},KV=S.forwardRef(function(e,r){var _t,gt,$t,or;const{"aria-describedby":n,"aria-label":o,autoFocus:i,autoWidth:s,children:a,className:l,defaultOpen:p,defaultValue:f,disabled:h,displayEmpty:m,error:y=!1,IconComponent:v,inputRef:b,labelId:x,MenuProps:C={},multiple:E,name:j,onBlur:T,onChange:k,onClose:A,onFocus:_,onKeyDown:I,onMouseDown:P,onOpen:N,open:B,readOnly:O,renderValue:D,required:F,SelectDisplayProps:U={},tabIndex:V,type:G,value:W,variant:K="standard",...H}=e,[J,ne]=pa({controlled:W,default:f,name:"Select"}),[me,ge]=pa({controlled:B,default:p,name:"Select"}),ce=S.useRef(null),te=S.useRef(null),[ve,Ie]=S.useState(null),{current:qe}=S.useRef(B!=null),[Ne,lt]=S.useState(),Xe=zr(r,b),He=S.useCallback(Oe=>{te.current=Oe,Oe&&Ie(Oe)},[]),Le=ve==null?void 0:ve.parentNode;S.useImperativeHandle(Xe,()=>({focus:()=>{te.current.focus()},node:ce.current,value:J}),[J]);const Re=ve!==null&&me;S.useEffect(()=>{if(!Re||!Le||s||typeof ResizeObserver>"u")return;const Oe=new ResizeObserver(()=>{lt(Le.clientWidth)});return Oe.observe(Le),()=>{Oe.disconnect()}},[Re,Le,s]),S.useEffect(()=>{p&&me&&ve&&!qe&&(lt(s?null:Le.clientWidth),te.current.focus())},[ve,s]),S.useEffect(()=>{i&&te.current.focus()},[i]),S.useEffect(()=>{if(!x)return;const Oe=ro(te.current).getElementById(x);if(Oe){const Je=()=>{getSelection().isCollapsed&&te.current.focus()};return Oe.addEventListener("click",Je),()=>{Oe.removeEventListener("click",Je)}}},[x]);const ae=(Oe,Je)=>{Oe?N&&N(Je):A&&A(Je),qe||(lt(s?null:Le.clientWidth),ge(Oe))},ke=Oe=>{P==null||P(Oe),Oe.button===0&&(Oe.preventDefault(),te.current.focus(),ae(!0,Oe))},fe=Oe=>{ae(!1,Oe)},dt=S.Children.toArray(a),Be=Oe=>{const Je=dt.find(Lt=>Lt.props.value===Oe.target.value);Je!==void 0&&(ne(Je.props.value),k&&k(Oe,Je))},Te=Oe=>Je=>{let Lt;if(Je.currentTarget.hasAttribute("tabindex")){if(E){Lt=Array.isArray(J)?J.slice():[];const qt=J.indexOf(Oe.props.value);qt===-1?Lt.push(Oe.props.value):Lt.splice(qt,1)}else Lt=Oe.props.value;if(Oe.props.onClick&&Oe.props.onClick(Je),J!==Lt&&(ne(Lt),k)){const qt=Je.nativeEvent||Je,vr=new qt.constructor(qt.type,qt);Object.defineProperty(vr,"target",{writable:!0,value:{value:Lt,name:j}}),k(vr,Oe)}E||ae(!1,Je)}},ie=Oe=>{O||([" ","ArrowUp","ArrowDown","Enter"].includes(Oe.key)&&(Oe.preventDefault(),ae(!0,Oe)),I==null||I(Oe))},Ce=Oe=>{!Re&&T&&(Object.defineProperty(Oe,"target",{writable:!0,value:{value:J,name:j}}),T(Oe))};delete H["aria-invalid"];let We,Qe;const mt=[];let je=!1;(iy({value:J})||m)&&(D?We=D(J):je=!0);const Ze=dt.map(Oe=>{if(!S.isValidElement(Oe))return null;let Je;if(E){if(!Array.isArray(J))throw new Error(ga(2));Je=J.some(Lt=>gj(Lt,Oe.props.value)),Je&&je&&mt.push(Oe.props.children)}else Je=gj(J,Oe.props.value),Je&&je&&(Qe=Oe.props.children);return S.cloneElement(Oe,{"aria-selected":Je?"true":"false",onClick:Te(Oe),onKeyUp:Lt=>{Lt.key===" "&&Lt.preventDefault(),Oe.props.onKeyUp&&Oe.props.onKeyUp(Lt)},role:"option",selected:Je,value:void 0,"data-value":Oe.props.value})});je&&(E?mt.length===0?We=null:We=mt.reduce((Oe,Je,Lt)=>(Oe.push(Je),Lt<mt.length-1&&Oe.push(", "),Oe),[]):We=Qe);let ot=Ne;!s&&qe&&ve&&(ot=Le.clientWidth);let ft;typeof V<"u"?ft=V:ft=h?null:0;const Ae=U.id||(j?`mui-component-select-${j}`:void 0),ct={...e,variant:K,value:J,open:Re,error:y},at=GV(ct),ee={...C.PaperProps,...typeof((_t=C.slotProps)==null?void 0:_t.paper)=="function"?C.slotProps.paper(ct):(gt=C.slotProps)==null?void 0:gt.paper},we={...C.MenuListProps,...typeof(($t=C.slotProps)==null?void 0:$t.list)=="function"?C.slotProps.list(ct):(or=C.slotProps)==null?void 0:or.list},Me=Ds();return u.jsxs(S.Fragment,{children:[u.jsx(HV,{as:"div",ref:He,tabIndex:ft,role:"combobox","aria-controls":Re?Me:void 0,"aria-disabled":h?"true":void 0,"aria-expanded":Re?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[x,Ae].filter(Boolean).join(" ")||void 0,"aria-describedby":n,"aria-required":F?"true":void 0,"aria-invalid":y?"true":void 0,onKeyDown:ie,onMouseDown:h||O?null:ke,onBlur:Ce,onFocus:_,...U,ownerState:ct,className:Se(U.className,at.select,l),id:Ae,children:qV(We)?mj||(mj=u.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):We}),u.jsx(VV,{"aria-invalid":y,value:Array.isArray(J)?J.join(","):J,name:j,ref:ce,"aria-hidden":!0,onChange:Be,tabIndex:-1,disabled:h,className:at.nativeInput,autoFocus:i,required:F,...H,ownerState:ct}),u.jsx(UV,{as:v,className:at.icon,ownerState:ct}),u.jsx(AM,{id:`menu-${j||""}`,anchorEl:Le,open:Re,onClose:fe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...C,slotProps:{...C.slotProps,list:{"aria-labelledby":x,role:"listbox","aria-multiselectable":E?"true":void 0,disableListWrap:!0,id:Me,...we},paper:{...ee,style:{minWidth:ot,...ee!=null?ee.style:null}}},children:Ze})]})}),YV=t=>{const{classes:e}=t,n=tt({root:["root"]},PM,e);return{...e,...n}},LS={name:"MuiSelect",slot:"Root",shouldForwardProp:t=>no(t)&&t!=="variant"},JV=oe(IS,LS)(""),XV=oe(NS,LS)(""),QV=oe(MS,LS)(""),ns=S.forwardRef(function(e,r){const n=nt({name:"MuiSelect",props:e}),{autoWidth:o=!1,children:i,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:p=!1,IconComponent:f=dM,id:h,input:m,inputProps:y,label:v,labelId:b,MenuProps:x,multiple:C=!1,native:E=!1,onClose:j,onOpen:T,open:k,renderValue:A,SelectDisplayProps:_,variant:I="outlined",...P}=n,N=E?sV:KV,B=$l(),O=ep({props:n,muiFormControl:B,states:["variant","error"]}),D=O.variant||I,F={...n,variant:D,classes:s},U=YV(F),{root:V,...G}=U,W=m||{standard:u.jsx(JV,{ownerState:F}),outlined:u.jsx(XV,{label:v,ownerState:F}),filled:u.jsx(QV,{ownerState:F})}[D],K=zr(r,Sa(W));return u.jsx(S.Fragment,{children:S.cloneElement(W,{inputComponent:N,inputProps:{children:i,error:O.error,IconComponent:f,variant:D,type:void 0,multiple:C,...E?{id:h}:{autoWidth:o,defaultOpen:l,displayEmpty:p,labelId:b,MenuProps:x,onClose:j,onOpen:T,open:k,renderValue:A,SelectDisplayProps:{id:h,..._}},...y,classes:y?Un(G,y.classes):G,...m?m.props.inputProps:{}},...(C&&E||p)&&D==="outlined"?{notched:!0}:{},ref:K,className:Se(W.props.className,a,U.root),...!m&&{variant:D},...P})})});ns.muiName="Select";function ZV(t){return et("MuiSkeleton",t)}st("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const eq=t=>{const{classes:e,variant:r,animation:n,hasChildren:o,width:i,height:s}=t;return tt({root:["root",r,n,o&&"withChildren",o&&!i&&"fitContent",o&&!s&&"heightAuto"]},ZV,e)},K1=Zr`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,Y1=Zr`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,tq=typeof K1!="string"?Dl`
        animation: ${K1} 2s ease-in-out 0.5s infinite;
      `:null,rq=typeof Y1!="string"?Dl`
        &::after {
          animation: ${Y1} 2s linear 0.5s infinite;
        }
      `:null,nq=oe("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],r.animation!==!1&&e[r.animation],r.hasChildren&&e.withChildren,r.hasChildren&&!r.width&&e.fitContent,r.hasChildren&&!r.height&&e.heightAuto]}})(rt(({theme:t})=>{const e=ZF(t.shape.borderRadius)||"px",r=e9(t.shape.borderRadius);return{display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:t.alpha(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${e}/${Math.round(r/.6*10)/10}${e}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:({ownerState:n})=>n.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:n})=>n.hasChildren&&!n.width,style:{maxWidth:"fit-content"}},{props:({ownerState:n})=>n.hasChildren&&!n.height,style:{height:"auto"}},{props:{animation:"pulse"},style:tq||{animation:`${K1} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(t.vars||t).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:rq||{"&::after":{animation:`${Y1} 2s linear 0.5s infinite`}}}]}})),Qs=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiSkeleton"}),{animation:o="pulse",className:i,component:s="span",height:a,style:l,variant:p="text",width:f,...h}=n,m={...n,animation:o,component:s,variant:p,hasChildren:!!h.children},y=eq(m);return u.jsx(nq,{as:s,ref:r,className:Se(y.root,i),ownerState:m,...h,style:{width:f,height:a,...l}})});function oq(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:r=!1,onClose:n,open:o,resumeHideDuration:i}=t,s=vl();S.useEffect(()=>{if(!o)return;function C(E){E.defaultPrevented||E.key==="Escape"&&(n==null||n(E,"escapeKeyDown"))}return document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}},[o,n]);const a=_n((C,E)=>{n==null||n(C,E)}),l=_n(C=>{!n||C==null||s.start(C,()=>{a(null,"timeout")})});S.useEffect(()=>(o&&l(e),s.clear),[o,e,l,s]);const p=C=>{n==null||n(C,"clickaway")},f=s.clear,h=S.useCallback(()=>{e!=null&&l(i??e*.5)},[e,i,l]),m=C=>E=>{const j=C.onBlur;j==null||j(E),h()},y=C=>E=>{const j=C.onFocus;j==null||j(E),f()},v=C=>E=>{const j=C.onMouseEnter;j==null||j(E),f()},b=C=>E=>{const j=C.onMouseLeave;j==null||j(E),h()};return S.useEffect(()=>{if(!r&&o)return window.addEventListener("focus",h),window.addEventListener("blur",f),()=>{window.removeEventListener("focus",h),window.removeEventListener("blur",f)}},[r,o,h,f]),{getRootProps:(C={})=>{const E={...ty(t),...ty(C)};return{role:"presentation",...C,...E,onBlur:m(E),onFocus:y(E),onMouseEnter:v(E),onMouseLeave:b(E)}},onClickAway:p}}function iq(t){return et("MuiSnackbarContent",t)}st("MuiSnackbarContent",["root","message","action"]);const sq=t=>{const{classes:e}=t;return tt({root:["root"],action:["action"],message:["message"]},iq,e)},aq=oe(St,{name:"MuiSnackbarContent",slot:"Root"})(rt(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98;return{...t.typography.body2,color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(j1(t.palette.background.default,e)),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:j1(t.palette.background.default,e),display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),lq=oe("div",{name:"MuiSnackbarContent",slot:"Message"})({padding:"8px 0"}),cq=oe("div",{name:"MuiSnackbarContent",slot:"Action"})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),uq=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiSnackbarContent"}),{action:o,className:i,message:s,role:a="alert",...l}=n,p=n,f=sq(p);return u.jsxs(aq,{role:a,elevation:6,className:Se(f.root,i),ownerState:p,ref:r,...l,children:[u.jsx(lq,{className:f.message,ownerState:p,children:s}),o?u.jsx(cq,{className:f.action,ownerState:p,children:o}):null]})});function dq(t){return et("MuiSnackbar",t)}st("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const pq=t=>{const{classes:e,anchorOrigin:r}=t,n={root:["root",`anchorOrigin${ue(r.vertical)}${ue(r.horizontal)}`]};return tt(n,dq,e)},fq=oe("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`anchorOrigin${ue(r.anchorOrigin.vertical)}${ue(r.anchorOrigin.horizontal)}`]]}})(rt(({theme:t})=>({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:e})=>e.anchorOrigin.vertical==="top",style:{top:8,[t.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:e})=>e.anchorOrigin.vertical!=="top",style:{bottom:8,[t.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[t.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[t.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="center",style:{[t.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),z0=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiSnackbar"}),o=Yt(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{action:s,anchorOrigin:{vertical:a,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:p=null,children:f,className:h,ClickAwayListenerProps:m,ContentProps:y,disableWindowBlurListener:v=!1,message:b,onBlur:x,onClose:C,onFocus:E,onMouseEnter:j,onMouseLeave:T,open:k,resumeHideDuration:A,slots:_={},slotProps:I={},TransitionComponent:P,transitionDuration:N=i,TransitionProps:{onEnter:B,onExited:O,...D}={},...F}=n,U={...n,anchorOrigin:{vertical:a,horizontal:l},autoHideDuration:p,disableWindowBlurListener:v,TransitionComponent:P,transitionDuration:N},V=pq(U),{getRootProps:G,onClickAway:W}=oq(U),[K,H]=S.useState(!0),J=He=>{H(!0),O&&O(He)},ne=(He,Le)=>{H(!1),B&&B(He,Le)},me={slots:{transition:P,..._},slotProps:{content:y,clickAwayListener:m,transition:D,...I}},[ge,ce]=it("root",{ref:r,className:[V.root,h],elementType:fq,getSlotProps:G,externalForwardedProps:{...me,...F},ownerState:U}),[te,{ownerState:ve,...Ie}]=it("clickAwayListener",{elementType:gM,externalForwardedProps:me,getSlotProps:He=>({onClickAway:(...Le)=>{var ae;const Re=Le[0];(ae=He.onClickAway)==null||ae.call(He,...Le),!(Re!=null&&Re.defaultMuiPrevented)&&W(...Le)}}),ownerState:U}),[qe,Ne]=it("content",{elementType:uq,shouldForwardComponentProp:!0,externalForwardedProps:me,additionalProps:{message:b,action:s},ownerState:U}),[lt,Xe]=it("transition",{elementType:oh,externalForwardedProps:me,getSlotProps:He=>({onEnter:(...Le)=>{var Re;(Re=He.onEnter)==null||Re.call(He,...Le),ne(...Le)},onExited:(...Le)=>{var Re;(Re=He.onExited)==null||Re.call(He,...Le),J(...Le)}}),additionalProps:{appear:!0,in:k,timeout:N,direction:a==="top"?"down":"up"},ownerState:U});return!k&&K?null:u.jsx(te,{...Ie,..._.clickAwayListener&&{ownerState:ve},children:u.jsx(ge,{...ce,children:u.jsx(lt,{...Xe,children:f||u.jsx(qe,{...Ne})})})})}),hq={entering:{transform:"none"},entered:{transform:"none"}},NM=S.forwardRef(function(e,r){const n=Yt(),o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:i,appear:s=!0,children:a,easing:l,in:p,onEnter:f,onEntered:h,onEntering:m,onExit:y,onExited:v,onExiting:b,style:x,timeout:C=o,TransitionComponent:E=li,...j}=e,T=S.useRef(null),k=zr(T,Sa(a),r),A=F=>U=>{if(F){const V=T.current;U===void 0?F(V):F(V,U)}},_=A(m),I=A((F,U)=>{A0(F);const V=Os({style:x,timeout:C,easing:l},{mode:"enter"});F.style.webkitTransition=n.transitions.create("transform",V),F.style.transition=n.transitions.create("transform",V),f&&f(F,U)}),P=A(h),N=A(b),B=A(F=>{const U=Os({style:x,timeout:C,easing:l},{mode:"exit"});F.style.webkitTransition=n.transitions.create("transform",U),F.style.transition=n.transitions.create("transform",U),y&&y(F)}),O=A(v),D=F=>{i&&i(T.current,F)};return u.jsx(E,{appear:s,in:p,nodeRef:T,onEnter:I,onEntered:P,onEntering:_,onExit:B,onExited:O,onExiting:N,addEndListener:D,timeout:C,...j,children:(F,{ownerState:U,...V})=>S.cloneElement(a,{style:{transform:"scale(0)",visibility:F==="exited"&&!p?"hidden":void 0,...hq[F],...x,...a.props.style},ref:k,...V})})});function mq(t){return et("MuiTooltip",t)}const cn=st("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function gq(t){return Math.round(t*1e5)/1e5}const yq=t=>{const{classes:e,disableInteractive:r,arrow:n,touch:o,placement:i}=t,s={popper:["popper",!r&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",o&&"touch",`tooltipPlacement${ue(i.split("-")[0])}`],arrow:["arrow"]};return tt(s,mq,e)},vq=oe(M0,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.popper,!r.disableInteractive&&e.popperInteractive,r.arrow&&e.popperArrow,!r.open&&e.popperClose]}})(rt(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${cn.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${cn.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${cn.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${cn.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${cn.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${cn.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${cn.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${cn.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),xq=oe("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.tooltip,r.touch&&e.touch,r.arrow&&e.tooltipArrow,e[`tooltipPlacement${ue(r.placement.split("-")[0])}`]]}})(rt(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${cn.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${cn.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${cn.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${cn.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${gq(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${cn.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${cn.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${cn.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${cn.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${cn.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${cn.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${cn.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${cn.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${cn.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${cn.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),bq=oe("span",{name:"MuiTooltip",slot:"Arrow"})(rt(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let ag=!1;const yj=new R0;let Yp={x:0,y:0};function lg(t,e){return(r,...n)=>{e&&e(r,...n),t(r,...n)}}const dr=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiTooltip"}),{arrow:o=!1,children:i,classes:s,components:a={},componentsProps:l={},describeChild:p=!1,disableFocusListener:f=!1,disableHoverListener:h=!1,disableInteractive:m=!1,disableTouchListener:y=!1,enterDelay:v=100,enterNextDelay:b=0,enterTouchDelay:x=700,followCursor:C=!1,id:E,leaveDelay:j=0,leaveTouchDelay:T=1500,onClose:k,onOpen:A,open:_,placement:I="bottom",PopperComponent:P,PopperProps:N={},slotProps:B={},slots:O={},title:D,TransitionComponent:F,TransitionProps:U,...V}=n,G=S.isValidElement(i)?i:u.jsx("span",{children:i}),W=Yt(),K=wa(),[H,J]=S.useState(),[ne,me]=S.useState(null),ge=S.useRef(!1),ce=m||C,te=vl(),ve=vl(),Ie=vl(),qe=vl(),[Ne,lt]=pa({controlled:_,default:!1,name:"Tooltip",state:"open"});let Xe=Ne;const He=Ds(E),Le=S.useRef(),Re=_n(()=>{Le.current!==void 0&&(document.body.style.WebkitUserSelect=Le.current,Le.current=void 0),qe.clear()});S.useEffect(()=>Re,[Re]);const ae=Ct=>{yj.clear(),ag=!0,lt(!0),A&&!Xe&&A(Ct)},ke=_n(Ct=>{yj.start(800+j,()=>{ag=!1}),lt(!1),k&&Xe&&k(Ct),te.start(W.transitions.duration.shortest,()=>{ge.current=!1})}),fe=Ct=>{ge.current&&Ct.type!=="touchstart"||(H&&H.removeAttribute("title"),ve.clear(),Ie.clear(),v||ag&&b?ve.start(ag?b:v,()=>{ae(Ct)}):ae(Ct))},dt=Ct=>{ve.clear(),Ie.start(j,()=>{ke(Ct)})},[,Be]=S.useState(!1),Te=Ct=>{Id(Ct.target)||(Be(!1),dt(Ct))},ie=Ct=>{H||J(Ct.currentTarget),Id(Ct.target)&&(Be(!0),fe(Ct))},Ce=Ct=>{ge.current=!0;const ir=G.props;ir.onTouchStart&&ir.onTouchStart(Ct)},We=Ct=>{Ce(Ct),Ie.clear(),te.clear(),Re(),Le.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",qe.start(x,()=>{document.body.style.WebkitUserSelect=Le.current,fe(Ct)})},Qe=Ct=>{G.props.onTouchEnd&&G.props.onTouchEnd(Ct),Re(),Ie.start(T,()=>{ke(Ct)})};S.useEffect(()=>{if(!Xe)return;function Ct(ir){ir.key==="Escape"&&ke(ir)}return document.addEventListener("keydown",Ct),()=>{document.removeEventListener("keydown",Ct)}},[ke,Xe]);const mt=zr(Sa(G),J,r);!D&&D!==0&&(Xe=!1);const je=S.useRef(),Ze=Ct=>{const ir=G.props;ir.onMouseMove&&ir.onMouseMove(Ct),Yp={x:Ct.clientX,y:Ct.clientY},je.current&&je.current.update()},ot={},ft=typeof D=="string";p?(ot.title=!Xe&&ft&&!h?D:null,ot["aria-describedby"]=Xe?He:null):(ot["aria-label"]=ft?D:null,ot["aria-labelledby"]=Xe&&!ft?He:null);const Ae={...ot,...V,...G.props,className:Se(V.className,G.props.className),onTouchStart:Ce,ref:mt,...C?{onMouseMove:Ze}:{}},ct={};y||(Ae.onTouchStart=We,Ae.onTouchEnd=Qe),h||(Ae.onMouseOver=lg(fe,Ae.onMouseOver),Ae.onMouseLeave=lg(dt,Ae.onMouseLeave),ce||(ct.onMouseOver=fe,ct.onMouseLeave=dt)),f||(Ae.onFocus=lg(ie,Ae.onFocus),Ae.onBlur=lg(Te,Ae.onBlur),ce||(ct.onFocus=ie,ct.onBlur=Te));const at={...n,isRtl:K,arrow:o,disableInteractive:ce,placement:I,PopperComponentProp:P,touch:ge.current},ee=typeof B.popper=="function"?B.popper(at):B.popper,we=S.useMemo(()=>{var ir,$e;let Ct=[{name:"arrow",enabled:!!ne,options:{element:ne,padding:4}}];return(ir=N.popperOptions)!=null&&ir.modifiers&&(Ct=Ct.concat(N.popperOptions.modifiers)),($e=ee==null?void 0:ee.popperOptions)!=null&&$e.modifiers&&(Ct=Ct.concat(ee.popperOptions.modifiers)),{...N.popperOptions,...ee==null?void 0:ee.popperOptions,modifiers:Ct}},[ne,N.popperOptions,ee==null?void 0:ee.popperOptions]),Me=yq(at),_t=typeof B.transition=="function"?B.transition(at):B.transition,gt={slots:{popper:a.Popper,transition:a.Transition??F,tooltip:a.Tooltip,arrow:a.Arrow,...O},slotProps:{arrow:B.arrow??l.arrow,popper:{...N,...ee??l.popper},tooltip:B.tooltip??l.tooltip,transition:{...U,..._t??l.transition}}},[$t,or]=it("popper",{elementType:vq,externalForwardedProps:gt,ownerState:at,className:Se(Me.popper,N==null?void 0:N.className)}),[Oe,Je]=it("transition",{elementType:oh,externalForwardedProps:gt,ownerState:at}),[Lt,qt]=it("tooltip",{elementType:xq,className:Me.tooltip,externalForwardedProps:gt,ownerState:at}),[vr,xr]=it("arrow",{elementType:bq,className:Me.arrow,externalForwardedProps:gt,ownerState:at,ref:me});return u.jsxs(S.Fragment,{children:[S.cloneElement(G,Ae),u.jsx($t,{as:P??M0,placement:I,anchorEl:C?{getBoundingClientRect:()=>({top:Yp.y,left:Yp.x,right:Yp.x,bottom:Yp.y,width:0,height:0})}:H,popperRef:je,open:H?Xe:!1,id:He,transition:!0,...ct,...or,popperOptions:we,children:({TransitionProps:Ct})=>u.jsx(Oe,{timeout:W.transitions.duration.shorter,...Ct,...Je,children:u.jsxs(Lt,{...qt,children:[D,o?u.jsx(vr,{...xr}):null]})})})]})}),wt=SF({createStyledComponent:oe("div",{name:"MuiStack",slot:"Root"}),useThemeProps:t=>nt({props:t,name:"MuiStack"})}),$0=S.createContext({}),DS=S.createContext({});function wq(t){return et("MuiStep",t)}st("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const Sq=t=>{const{classes:e,orientation:r,alternativeLabel:n,completed:o}=t;return tt({root:["root",r,n&&"alternativeLabel",o&&"completed"]},wq,e)},Cq=oe("div",{name:"MuiStep",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.orientation],r.alternativeLabel&&e.alternativeLabel,r.completed&&e.completed]}})({variants:[{props:{orientation:"horizontal"},style:{paddingLeft:8,paddingRight:8}},{props:{alternativeLabel:!0},style:{flex:1,position:"relative"}}]}),kq=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiStep"}),{active:o,children:i,className:s,component:a="div",completed:l,disabled:p,expanded:f=!1,index:h,last:m,...y}=n,{activeStep:v,connector:b,alternativeLabel:x,orientation:C,nonLinear:E}=S.useContext($0);let[j=!1,T=!1,k=!1]=[o,l,p];v===h?j=o!==void 0?o:!0:!E&&v>h?T=l!==void 0?l:!0:!E&&v<h&&(k=p!==void 0?p:!0);const A=S.useMemo(()=>({index:h,last:m,expanded:f,icon:h+1,active:j,completed:T,disabled:k}),[h,m,f,j,T,k]),_={...n,active:j,orientation:C,alternativeLabel:x,completed:T,disabled:k,expanded:f,component:a},I=Sq(_),P=u.jsxs(Cq,{as:a,className:Se(I.root,s),ref:r,ownerState:_,...y,children:[b&&x&&h!==0?b:null,i]});return u.jsx(DS.Provider,{value:A,children:b&&!x&&h!==0?u.jsxs(S.Fragment,{children:[b,P]}):P})}),Eq=pe(u.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"})),Tq=pe(u.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}));function jq(t){return et("MuiStepIcon",t)}const mb=st("MuiStepIcon",["root","active","completed","error","text"]);var vj;const Rq=t=>{const{classes:e,active:r,completed:n,error:o}=t;return tt({root:["root",r&&"active",n&&"completed",o&&"error"],text:["text"]},jq,e)},gb=oe(eh,{name:"MuiStepIcon",slot:"Root"})(rt(({theme:t})=>({display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),color:(t.vars||t).palette.text.disabled,[`&.${mb.completed}`]:{color:(t.vars||t).palette.primary.main},[`&.${mb.active}`]:{color:(t.vars||t).palette.primary.main},[`&.${mb.error}`]:{color:(t.vars||t).palette.error.main}}))),Aq=oe("text",{name:"MuiStepIcon",slot:"Text"})(rt(({theme:t})=>({fill:(t.vars||t).palette.primary.contrastText,fontSize:t.typography.caption.fontSize,fontFamily:t.typography.fontFamily}))),_q=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiStepIcon"}),{active:o=!1,className:i,completed:s=!1,error:a=!1,icon:l,...p}=n,f={...n,active:o,completed:s,error:a},h=Rq(f);if(typeof l=="number"||typeof l=="string"){const m=Se(i,h.root);return a?u.jsx(gb,{as:Tq,className:m,ref:r,ownerState:f,...p}):s?u.jsx(gb,{as:Eq,className:m,ref:r,ownerState:f,...p}):u.jsxs(gb,{className:m,ref:r,ownerState:f,...p,children:[vj||(vj=u.jsx("circle",{cx:"12",cy:"12",r:"12"})),u.jsx(Aq,{className:h.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:f,children:l})]})}return l});function Mq(t){return et("MuiStepLabel",t)}const bl=st("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),Iq=t=>{const{classes:e,orientation:r,active:n,completed:o,error:i,disabled:s,alternativeLabel:a}=t;return tt({root:["root",r,i&&"error",s&&"disabled",a&&"alternativeLabel"],label:["label",n&&"active",o&&"completed",i&&"error",s&&"disabled",a&&"alternativeLabel"],iconContainer:["iconContainer",n&&"active",o&&"completed",i&&"error",s&&"disabled",a&&"alternativeLabel"],labelContainer:["labelContainer",a&&"alternativeLabel"]},Mq,e)},Oq=oe("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.orientation]]}})({display:"flex",alignItems:"center",[`&.${bl.alternativeLabel}`]:{flexDirection:"column"},[`&.${bl.disabled}`]:{cursor:"default"},variants:[{props:{orientation:"vertical"},style:{textAlign:"left",padding:"8px 0"}}]}),Pq=oe("span",{name:"MuiStepLabel",slot:"Label"})(rt(({theme:t})=>({...t.typography.body2,display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),[`&.${bl.active}`]:{color:(t.vars||t).palette.text.primary,fontWeight:500},[`&.${bl.completed}`]:{color:(t.vars||t).palette.text.primary,fontWeight:500},[`&.${bl.alternativeLabel}`]:{marginTop:16},[`&.${bl.error}`]:{color:(t.vars||t).palette.error.main}}))),Nq=oe("span",{name:"MuiStepLabel",slot:"IconContainer"})({flexShrink:0,display:"flex",paddingRight:8,[`&.${bl.alternativeLabel}`]:{paddingRight:0}}),Lq=oe("span",{name:"MuiStepLabel",slot:"LabelContainer"})(rt(({theme:t})=>({width:"100%",color:(t.vars||t).palette.text.secondary,[`&.${bl.alternativeLabel}`]:{textAlign:"center"}}))),LM=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiStepLabel"}),{children:o,className:i,componentsProps:s={},error:a=!1,icon:l,optional:p,slots:f={},slotProps:h={},StepIconComponent:m,StepIconProps:y,...v}=n,{alternativeLabel:b,orientation:x}=S.useContext($0),{active:C,disabled:E,completed:j,icon:T}=S.useContext(DS),k=l||T;let A=m;k&&!A&&(A=_q);const _={...n,active:C,alternativeLabel:b,completed:j,disabled:E,error:a,orientation:x},I=Iq(_),P={slots:f,slotProps:{stepIcon:y,...s,...h}},[N,B]=it("root",{elementType:Oq,externalForwardedProps:{...P,...v},ownerState:_,ref:r,className:Se(I.root,i)}),[O,D]=it("label",{elementType:Pq,externalForwardedProps:P,ownerState:_}),[F,U]=it("stepIcon",{elementType:A,externalForwardedProps:P,ownerState:_});return u.jsxs(N,{...B,children:[k||F?u.jsx(Nq,{className:I.iconContainer,ownerState:_,children:u.jsx(F,{completed:j,active:C,error:a,icon:k,...U})}):null,u.jsxs(Lq,{className:I.labelContainer,ownerState:_,children:[o?u.jsx(O,{...D,className:Se(I.label,D==null?void 0:D.className),children:o}):null,p]})]})});LM.muiName="StepLabel";function Dq(t){return et("MuiStepConnector",t)}const Wu=st("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]),zq=t=>{const{classes:e,orientation:r,alternativeLabel:n,active:o,completed:i,disabled:s}=t,a={root:["root",r,n&&"alternativeLabel",o&&"active",i&&"completed",s&&"disabled"],line:["line",`line${ue(r)}`]};return tt(a,Dq,e)},$q=oe("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.orientation],r.alternativeLabel&&e.alternativeLabel,r.completed&&e.completed]}})({flex:"1 1 auto",variants:[{props:{orientation:"vertical"},style:{marginLeft:12}},{props:{alternativeLabel:!0},style:{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"}}]}),Fq=oe("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.line,e[`line${ue(r.orientation)}`]]}})(rt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600];return{display:"block",borderColor:t.vars?t.vars.palette.StepConnector.border:e,variants:[{props:{orientation:"horizontal"},style:{borderTopStyle:"solid",borderTopWidth:1}},{props:{orientation:"vertical"},style:{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24}}]}})),DM=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiStepConnector"}),{className:o,...i}=n,{alternativeLabel:s,orientation:a="horizontal"}=S.useContext($0),{active:l,disabled:p,completed:f}=S.useContext(DS),h={...n,alternativeLabel:s,orientation:a,active:l,completed:f,disabled:p},m=zq(h);return u.jsx($q,{className:Se(m.root,o),ref:r,ownerState:h,...i,children:u.jsx(Fq,{className:m.line,ownerState:h})})});function Bq(t){return et("MuiStepper",t)}st("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const Wq=t=>{const{orientation:e,nonLinear:r,alternativeLabel:n,classes:o}=t;return tt({root:["root",e,r&&"nonLinear",n&&"alternativeLabel"]},Bq,o)},Hq=oe("div",{name:"MuiStepper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.orientation],r.alternativeLabel&&e.alternativeLabel,r.nonLinear&&e.nonLinear]}})({display:"flex",variants:[{props:{orientation:"horizontal"},style:{flexDirection:"row",alignItems:"center"}},{props:{orientation:"vertical"},style:{flexDirection:"column"}},{props:{alternativeLabel:!0},style:{alignItems:"flex-start"}}]}),Uq=u.jsx(DM,{}),Vq=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiStepper"}),{activeStep:o=0,alternativeLabel:i=!1,children:s,className:a,component:l="div",connector:p=Uq,nonLinear:f=!1,orientation:h="horizontal",...m}=n,y={...n,nonLinear:f,alternativeLabel:i,orientation:h,component:l},v=Wq(y),b=S.Children.toArray(s).filter(Boolean),x=b.map((E,j)=>S.cloneElement(E,{index:j,last:j+1===b.length,...E.props})),C=S.useMemo(()=>({activeStep:o,alternativeLabel:i,connector:p,nonLinear:f,orientation:h}),[o,i,p,f,h]);return u.jsx($0.Provider,{value:C,children:u.jsx(Hq,{as:l,ownerState:y,className:Se(v.root,a),ref:r,...m,children:x})})});function qq(t){return et("MuiTab",t)}const bi=st("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),Gq=t=>{const{classes:e,textColor:r,fullWidth:n,wrapped:o,icon:i,label:s,selected:a,disabled:l}=t,p={root:["root",i&&s&&"labelIcon",`textColor${ue(r)}`,n&&"fullWidth",o&&"wrapped",a&&"selected",l&&"disabled"],icon:["iconWrapper","icon"]};return tt(p,qq,e)},Kq=oe(zi,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.label&&r.icon&&e.labelIcon,e[`textColor${ue(r.textColor)}`],r.fullWidth&&e.fullWidth,r.wrapped&&e.wrapped,{[`& .${bi.iconWrapper}`]:e.iconWrapper},{[`& .${bi.icon}`]:e.icon}]}})(rt(({theme:t})=>({...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:r})=>e.icon&&e.label&&r==="top",style:{[`& > .${bi.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:r})=>e.icon&&e.label&&r==="bottom",style:{[`& > .${bi.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:r})=>e.icon&&e.label&&r==="start",style:{[`& > .${bi.icon}`]:{marginRight:t.spacing(1)}}},{props:({ownerState:e,iconPosition:r})=>e.icon&&e.label&&r==="end",style:{[`& > .${bi.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${bi.selected}`]:{opacity:1},[`&.${bi.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${bi.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${bi.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${bi.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${bi.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:t.typography.pxToRem(12)}}]}))),yb=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiTab"}),{className:o,disabled:i=!1,disableFocusRipple:s=!1,fullWidth:a,icon:l,iconPosition:p="top",indicator:f,label:h,onChange:m,onClick:y,onFocus:v,selected:b,selectionFollowsFocus:x,textColor:C="inherit",value:E,wrapped:j=!1,...T}=n,k={...n,disabled:i,disableFocusRipple:s,selected:b,icon:!!l,iconPosition:p,label:!!h,fullWidth:a,textColor:C,wrapped:j},A=Gq(k),_=l&&h&&S.isValidElement(l)?S.cloneElement(l,{className:Se(A.icon,l.props.className)}):l,I=N=>{!b&&m&&m(N,E),y&&y(N)},P=N=>{x&&!b&&m&&m(N,E),v&&v(N)};return u.jsxs(Kq,{focusRipple:!s,className:Se(A.root,o),ref:r,role:"tab","aria-selected":b,disabled:i,onClick:I,onFocus:P,ownerState:k,tabIndex:b?0:-1,...T,children:[p==="top"||p==="start"?u.jsxs(S.Fragment,{children:[_,h]}):u.jsxs(S.Fragment,{children:[h,_]}),f]})}),zM=S.createContext();function Yq(t){return et("MuiTable",t)}st("MuiTable",["root","stickyHeader"]);const Jq=t=>{const{classes:e,stickyHeader:r}=t;return tt({root:["root",r&&"stickyHeader"]},Yq,e)},Xq=oe("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.stickyHeader&&e.stickyHeader]}})(rt(({theme:t})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),xj="table",$M=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiTable"}),{className:o,component:i=xj,padding:s="normal",size:a="medium",stickyHeader:l=!1,...p}=n,f={...n,component:i,padding:s,size:a,stickyHeader:l},h=Jq(f),m=S.useMemo(()=>({padding:s,size:a,stickyHeader:l}),[s,a,l]);return u.jsx(zM.Provider,{value:m,children:u.jsx(Xq,{as:i,role:i===xj?null:"table",ref:r,className:Se(h.root,o),ownerState:f,...p})})}),F0=S.createContext();function Qq(t){return et("MuiTableBody",t)}st("MuiTableBody",["root"]);const Zq=t=>{const{classes:e}=t;return tt({root:["root"]},Qq,e)},eG=oe("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),tG={variant:"body"},bj="tbody",FM=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiTableBody"}),{className:o,component:i=bj,...s}=n,a={...n,component:i},l=Zq(a);return u.jsx(F0.Provider,{value:tG,children:u.jsx(eG,{className:Se(l.root,o),as:i,ref:r,role:i===bj?null:"rowgroup",ownerState:a,...s})})});function rG(t){return et("MuiTableCell",t)}const nG=st("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),oG=t=>{const{classes:e,variant:r,align:n,padding:o,size:i,stickyHeader:s}=t,a={root:["root",r,s&&"stickyHeader",n!=="inherit"&&`align${ue(n)}`,o!=="normal"&&`padding${ue(o)}`,`size${ue(i)}`]};return tt(a,rG,e)},iG=oe("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`size${ue(r.size)}`],r.padding!=="normal"&&e[`padding${ue(r.padding)}`],r.align!=="inherit"&&e[`align${ue(r.align)}`],r.stickyHeader&&e.stickyHeader]}})(rt(({theme:t})=>({...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?t.lighten(t.alpha(t.palette.divider,1),.88):t.darken(t.alpha(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${nG.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}))),yr=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiTableCell"}),{align:o="inherit",className:i,component:s,padding:a,scope:l,size:p,sortDirection:f,variant:h,...m}=n,y=S.useContext(zM),v=S.useContext(F0),b=v&&v.variant==="head";let x;s?x=s:x=b?"th":"td";let C=l;x==="td"?C=void 0:!C&&b&&(C="col");const E=h||v&&v.variant,j={...n,align:o,component:x,padding:a||(y&&y.padding?y.padding:"normal"),size:p||(y&&y.size?y.size:"medium"),sortDirection:f,stickyHeader:E==="head"&&y&&y.stickyHeader,variant:E},T=oG(j);let k=null;return f&&(k=f==="asc"?"ascending":"descending"),u.jsx(iG,{as:x,ref:r,className:Se(T.root,i),"aria-sort":k,scope:C,ownerState:j,...m})});function sG(t){return et("MuiTableContainer",t)}st("MuiTableContainer",["root"]);const aG=t=>{const{classes:e}=t;return tt({root:["root"]},sG,e)},lG=oe("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),BM=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiTableContainer"}),{className:o,component:i="div",...s}=n,a={...n,component:i},l=aG(a);return u.jsx(lG,{ref:r,as:i,className:Se(l.root,o),ownerState:a,...s})});function cG(t){return et("MuiTableHead",t)}st("MuiTableHead",["root"]);const uG=t=>{const{classes:e}=t;return tt({root:["root"]},cG,e)},dG=oe("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),pG={variant:"head"},wj="thead",WM=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiTableHead"}),{className:o,component:i=wj,...s}=n,a={...n,component:i},l=uG(a);return u.jsx(F0.Provider,{value:pG,children:u.jsx(dG,{as:i,className:Se(l.root,o),ref:r,role:i===wj?null:"rowgroup",ownerState:a,...s})})});function fG(t){return et("MuiToolbar",t)}st("MuiToolbar",["root","gutters","regular","dense"]);const hG=t=>{const{classes:e,disableGutters:r,variant:n}=t;return tt({root:["root",!r&&"gutters",n]},fG,e)},mG=oe("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableGutters&&e.gutters,e[r.variant]]}})(rt(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}))),gG=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiToolbar"}),{className:o,component:i="div",disableGutters:s=!1,variant:a="regular",...l}=n,p={...n,component:i,disableGutters:s,variant:a},f=hG(p);return u.jsx(mG,{as:i,className:Se(f.root,o),ref:r,ownerState:p,...l})}),yG=pe(u.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),vG=pe(u.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function xG(t){return et("MuiTableRow",t)}const Sj=st("MuiTableRow",["root","selected","hover","head","footer"]),bG=t=>{const{classes:e,selected:r,hover:n,head:o,footer:i}=t;return tt({root:["root",r&&"selected",n&&"hover",o&&"head",i&&"footer"]},xG,e)},wG=oe("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.head&&e.head,r.footer&&e.footer]}})(rt(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${Sj.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Sj.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`)}}}))),Cj="tr",Ec=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiTableRow"}),{className:o,component:i=Cj,hover:s=!1,selected:a=!1,...l}=n,p=S.useContext(F0),f={...n,component:i,hover:s,selected:a,head:p&&p.variant==="head",footer:p&&p.variant==="footer"},h=bG(f);return u.jsx(wG,{as:i,ref:r,className:Se(h.root,o),role:i===Cj?null:"row",ownerState:f,...l})});function SG(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function CG(t,e,r,n={},o=()=>{}){const{ease:i=SG,duration:s=300}=n;let a=null;const l=e[t];let p=!1;const f=()=>{p=!0},h=m=>{if(p){o(new Error("Animation cancelled"));return}a===null&&(a=m);const y=Math.min(1,(m-a)/s);if(e[t]=i(y)*(r-l)+l,y>=1){requestAnimationFrame(()=>{o(null)});return}requestAnimationFrame(h)};return l===r?(o(new Error("Element already at target position")),f):(requestAnimationFrame(h),f)}const kG={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function EG(t){const{onChange:e,...r}=t,n=S.useRef(),o=S.useRef(null),i=()=>{n.current=o.current.offsetHeight-o.current.clientHeight};return Eo(()=>{const s=Nh(()=>{const l=n.current;i(),l!==n.current&&e(n.current)}),a=ii(o.current);return a.addEventListener("resize",s),()=>{s.clear(),a.removeEventListener("resize",s)}},[e]),S.useEffect(()=>{i(),e(n.current)},[e]),u.jsx("div",{style:kG,...r,ref:o})}function TG(t){return et("MuiTabScrollButton",t)}const jG=st("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),RG=t=>{const{classes:e,orientation:r,disabled:n}=t;return tt({root:["root",r,n&&"disabled"]},TG,e)},AG=oe(zi,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.orientation&&e[r.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${jG.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),_G=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiTabScrollButton"}),{className:o,slots:i={},slotProps:s={},direction:a,orientation:l,disabled:p,...f}=n,h=wa(),m={isRtl:h,...n},y=RG(m),v=i.StartScrollButtonIcon??yG,b=i.EndScrollButtonIcon??vG,x=Dd({elementType:v,externalSlotProps:s.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:m}),C=Dd({elementType:b,externalSlotProps:s.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:m});return u.jsx(AG,{component:"div",className:Se(y.root,o),ref:r,role:null,ownerState:m,tabIndex:null,...f,style:{...f.style,...l==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${h?-90:90}deg)`}},children:a==="left"?u.jsx(v,{...x}):u.jsx(b,{...C})})});function MG(t){return et("MuiTabs",t)}const vb=st("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),kj=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,Ej=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,cg=(t,e,r)=>{let n=!1,o=r(t,e);for(;o;){if(o===t.firstChild){if(n)return;n=!0}const i=o.disabled||o.getAttribute("aria-disabled")==="true";if(!o.hasAttribute("tabindex")||i)o=r(t,o);else{o.focus();return}}},IG=t=>{const{vertical:e,fixed:r,hideScrollbar:n,scrollableX:o,scrollableY:i,centered:s,scrollButtonsHideMobile:a,classes:l}=t;return tt({root:["root",e&&"vertical"],scroller:["scroller",r&&"fixed",n&&"hideScrollbar",o&&"scrollableX",i&&"scrollableY"],list:["list","flexContainer",e&&"flexContainerVertical",e&&"vertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[o&&"scrollableX"],hideScrollbar:[n&&"hideScrollbar"]},MG,l)},OG=oe("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${vb.scrollButtons}`]:e.scrollButtons},{[`& .${vb.scrollButtons}`]:r.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,r.vertical&&e.vertical]}})(rt(({theme:t})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${vb.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}))),PG=oe("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.scroller,r.fixed&&e.fixed,r.hideScrollbar&&e.hideScrollbar,r.scrollableX&&e.scrollableX,r.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:t})=>t.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:t})=>t.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:t})=>t.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:t})=>t.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),NG=oe("div",{name:"MuiTabs",slot:"List",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.list,e.flexContainer,r.vertical&&e.flexContainerVertical,r.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.centered,style:{justifyContent:"center"}}]}),LG=oe("span",{name:"MuiTabs",slot:"Indicator"})(rt(({theme:t})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),DG=oe(EG)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),Tj={},zG=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiTabs"}),o=Yt(),i=wa(),{"aria-label":s,"aria-labelledby":a,action:l,centered:p=!1,children:f,className:h,component:m="div",allowScrollButtonsMobile:y=!1,indicatorColor:v="primary",onChange:b,orientation:x="horizontal",ScrollButtonComponent:C,scrollButtons:E="auto",selectionFollowsFocus:j,slots:T={},slotProps:k={},TabIndicatorProps:A={},TabScrollButtonProps:_={},textColor:I="primary",value:P,variant:N="standard",visibleScrollbar:B=!1,...O}=n,D=N==="scrollable",F=x==="vertical",U=F?"scrollTop":"scrollLeft",V=F?"top":"left",G=F?"bottom":"right",W=F?"clientHeight":"clientWidth",K=F?"height":"width",H={...n,component:m,allowScrollButtonsMobile:y,indicatorColor:v,orientation:x,vertical:F,scrollButtons:E,textColor:I,variant:N,visibleScrollbar:B,fixed:!D,hideScrollbar:D&&!B,scrollableX:D&&!F,scrollableY:D&&F,centered:p&&!D,scrollButtonsHideMobile:!y},J=IG(H),ne=Dd({elementType:T.StartScrollButtonIcon,externalSlotProps:k.startScrollButtonIcon,ownerState:H}),me=Dd({elementType:T.EndScrollButtonIcon,externalSlotProps:k.endScrollButtonIcon,ownerState:H}),[ge,ce]=S.useState(!1),[te,ve]=S.useState(Tj),[Ie,qe]=S.useState(!1),[Ne,lt]=S.useState(!1),[Xe,He]=S.useState(!1),[Le,Re]=S.useState({overflow:"hidden",scrollbarWidth:0}),ae=new Map,ke=S.useRef(null),fe=S.useRef(null),dt={slots:T,slotProps:{indicator:A,scrollButtons:_,...k}},Be=()=>{const $e=ke.current;let Ge;if($e){const jt=$e.getBoundingClientRect();Ge={clientWidth:$e.clientWidth,scrollLeft:$e.scrollLeft,scrollTop:$e.scrollTop,scrollWidth:$e.scrollWidth,top:jt.top,bottom:jt.bottom,left:jt.left,right:jt.right}}let At;if($e&&P!==!1){const jt=fe.current.children;if(jt.length>0){const Jt=jt[ae.get(P)];At=Jt?Jt.getBoundingClientRect():null}}return{tabsMeta:Ge,tabMeta:At}},Te=_n(()=>{const{tabsMeta:$e,tabMeta:Ge}=Be();let At=0,jt;F?(jt="top",Ge&&$e&&(At=Ge.top-$e.top+$e.scrollTop)):(jt=i?"right":"left",Ge&&$e&&(At=(i?-1:1)*(Ge[jt]-$e[jt]+$e.scrollLeft)));const Jt={[jt]:At,[K]:Ge?Ge[K]:0};if(typeof te[jt]!="number"||typeof te[K]!="number")ve(Jt);else{const jr=Math.abs(te[jt]-Jt[jt]),Wr=Math.abs(te[K]-Jt[K]);(jr>=1||Wr>=1)&&ve(Jt)}}),ie=($e,{animation:Ge=!0}={})=>{Ge?CG(U,ke.current,$e,{duration:o.transitions.duration.standard}):ke.current[U]=$e},Ce=$e=>{let Ge=ke.current[U];F?Ge+=$e:Ge+=$e*(i?-1:1),ie(Ge)},We=()=>{const $e=ke.current[W];let Ge=0;const At=Array.from(fe.current.children);for(let jt=0;jt<At.length;jt+=1){const Jt=At[jt];if(Ge+Jt[W]>$e){jt===0&&(Ge=$e);break}Ge+=Jt[W]}return Ge},Qe=()=>{Ce(-1*We())},mt=()=>{Ce(We())},[je,{onChange:Ze,...ot}]=it("scrollbar",{className:Se(J.scrollableX,J.hideScrollbar),elementType:DG,shouldForwardComponentProp:!0,externalForwardedProps:dt,ownerState:H}),ft=S.useCallback($e=>{Ze==null||Ze($e),Re({overflow:null,scrollbarWidth:$e})},[Ze]),[Ae,ct]=it("scrollButtons",{className:Se(J.scrollButtons,_.className),elementType:_G,externalForwardedProps:dt,ownerState:H,additionalProps:{orientation:x,slots:{StartScrollButtonIcon:T.startScrollButtonIcon||T.StartScrollButtonIcon,EndScrollButtonIcon:T.endScrollButtonIcon||T.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:ne,endScrollButtonIcon:me}}}),at=()=>{const $e={};$e.scrollbarSizeListener=D?u.jsx(je,{...ot,onChange:ft}):null;const At=D&&(E==="auto"&&(Ie||Ne)||E===!0);return $e.scrollButtonStart=At?u.jsx(Ae,{direction:i?"right":"left",onClick:Qe,disabled:!Ie,...ct}):null,$e.scrollButtonEnd=At?u.jsx(Ae,{direction:i?"left":"right",onClick:mt,disabled:!Ne,...ct}):null,$e},ee=_n($e=>{const{tabsMeta:Ge,tabMeta:At}=Be();if(!(!At||!Ge)){if(At[V]<Ge[V]){const jt=Ge[U]+(At[V]-Ge[V]);ie(jt,{animation:$e})}else if(At[G]>Ge[G]){const jt=Ge[U]+(At[G]-Ge[G]);ie(jt,{animation:$e})}}}),we=_n(()=>{D&&E!==!1&&He(!Xe)});S.useEffect(()=>{const $e=Nh(()=>{ke.current&&Te()});let Ge;const At=jr=>{jr.forEach(Wr=>{Wr.removedNodes.forEach(Pr=>{Ge==null||Ge.unobserve(Pr)}),Wr.addedNodes.forEach(Pr=>{Ge==null||Ge.observe(Pr)})}),$e(),we()},jt=ii(ke.current);jt.addEventListener("resize",$e);let Jt;return typeof ResizeObserver<"u"&&(Ge=new ResizeObserver($e),Array.from(fe.current.children).forEach(jr=>{Ge.observe(jr)})),typeof MutationObserver<"u"&&(Jt=new MutationObserver(At),Jt.observe(fe.current,{childList:!0})),()=>{$e.clear(),jt.removeEventListener("resize",$e),Jt==null||Jt.disconnect(),Ge==null||Ge.disconnect()}},[Te,we]),S.useEffect(()=>{const $e=Array.from(fe.current.children),Ge=$e.length;if(typeof IntersectionObserver<"u"&&Ge>0&&D&&E!==!1){const At=$e[0],jt=$e[Ge-1],Jt={root:ke.current,threshold:.99},jr=Pn=>{qe(!Pn[0].isIntersecting)},Wr=new IntersectionObserver(jr,Jt);Wr.observe(At);const Pr=Pn=>{lt(!Pn[0].isIntersecting)},On=new IntersectionObserver(Pr,Jt);return On.observe(jt),()=>{Wr.disconnect(),On.disconnect()}}},[D,E,Xe,f==null?void 0:f.length]),S.useEffect(()=>{ce(!0)},[]),S.useEffect(()=>{Te()}),S.useEffect(()=>{ee(Tj!==te)},[ee,te]),S.useImperativeHandle(l,()=>({updateIndicator:Te,updateScrollButtons:we}),[Te,we]);const[Me,_t]=it("indicator",{className:Se(J.indicator,A.className),elementType:LG,externalForwardedProps:dt,ownerState:H,additionalProps:{style:te}}),gt=u.jsx(Me,{..._t});let $t=0;const or=S.Children.map(f,$e=>{if(!S.isValidElement($e))return null;const Ge=$e.props.value===void 0?$t:$e.props.value;ae.set(Ge,$t);const At=Ge===P;return $t+=1,S.cloneElement($e,{fullWidth:N==="fullWidth",indicator:At&&!ge&&gt,selected:At,selectionFollowsFocus:j,onChange:b,textColor:I,value:Ge,...$t===1&&P===!1&&!$e.props.tabIndex?{tabIndex:0}:{}})}),Oe=$e=>{if($e.altKey||$e.shiftKey||$e.ctrlKey||$e.metaKey)return;const Ge=fe.current,At=sd(ro(Ge));if((At==null?void 0:At.getAttribute("role"))!=="tab")return;let Jt=x==="horizontal"?"ArrowLeft":"ArrowUp",jr=x==="horizontal"?"ArrowRight":"ArrowDown";switch(x==="horizontal"&&i&&(Jt="ArrowRight",jr="ArrowLeft"),$e.key){case Jt:$e.preventDefault(),cg(Ge,At,Ej);break;case jr:$e.preventDefault(),cg(Ge,At,kj);break;case"Home":$e.preventDefault(),cg(Ge,null,kj);break;case"End":$e.preventDefault(),cg(Ge,null,Ej);break}},Je=at(),[Lt,qt]=it("root",{ref:r,className:Se(J.root,h),elementType:OG,externalForwardedProps:{...dt,...O,component:m},ownerState:H}),[vr,xr]=it("scroller",{ref:ke,className:J.scroller,elementType:PG,externalForwardedProps:dt,ownerState:H,additionalProps:{style:{overflow:Le.overflow,[F?`margin${i?"Left":"Right"}`:"marginBottom"]:B?void 0:-Le.scrollbarWidth}}}),[Ct,ir]=it("list",{ref:fe,className:Se(J.list,J.flexContainer),elementType:NG,externalForwardedProps:dt,ownerState:H,getSlotProps:$e=>({...$e,onKeyDown:Ge=>{var At;Oe(Ge),(At=$e.onKeyDown)==null||At.call($e,Ge)}})});return u.jsxs(Lt,{...qt,children:[Je.scrollButtonStart,Je.scrollbarSizeListener,u.jsxs(vr,{...xr,children:[u.jsx(Ct,{"aria-label":s,"aria-labelledby":a,"aria-orientation":x==="vertical"?"vertical":null,role:"tablist",...ir,children:or}),ge&&gt]}),Je.scrollButtonEnd]})});function $G(t){return et("MuiTextField",t)}st("MuiTextField",["root"]);const FG={standard:IS,filled:MS,outlined:NS},BG=t=>{const{classes:e}=t;return tt({root:["root"]},$G,e)},WG=oe(rs,{name:"MuiTextField",slot:"Root"})({}),Ut=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiTextField"}),{autoComplete:o,autoFocus:i=!1,children:s,className:a,color:l="primary",defaultValue:p,disabled:f=!1,error:h=!1,FormHelperTextProps:m,fullWidth:y=!1,helperText:v,id:b,InputLabelProps:x,inputProps:C,InputProps:E,inputRef:j,label:T,maxRows:k,minRows:A,multiline:_=!1,name:I,onBlur:P,onChange:N,onFocus:B,placeholder:O,required:D=!1,rows:F,select:U=!1,SelectProps:V,slots:G={},slotProps:W={},type:K,value:H,variant:J="outlined",...ne}=n,me={...n,autoFocus:i,color:l,disabled:f,error:h,fullWidth:y,multiline:_,required:D,select:U,variant:J},ge=BG(me),ce=Ds(b),te=v&&ce?`${ce}-helper-text`:void 0,ve=T&&ce?`${ce}-label`:void 0,Ie=FG[J],qe={slots:G,slotProps:{input:E,inputLabel:x,htmlInput:C,formHelperText:m,select:V,...W}},Ne={},lt=qe.slotProps.inputLabel;J==="outlined"&&(lt&&typeof lt.shrink<"u"&&(Ne.notched=lt.shrink),Ne.label=T),U&&((!V||!V.native)&&(Ne.id=void 0),Ne["aria-describedby"]=void 0);const[Xe,He]=it("root",{elementType:WG,shouldForwardComponentProp:!0,externalForwardedProps:{...qe,...ne},ownerState:me,className:Se(ge.root,a),ref:r,additionalProps:{disabled:f,error:h,fullWidth:y,required:D,color:l,variant:J}}),[Le,Re]=it("input",{elementType:Ie,externalForwardedProps:qe,additionalProps:Ne,ownerState:me}),[ae,ke]=it("inputLabel",{elementType:pf,externalForwardedProps:qe,ownerState:me}),[fe,dt]=it("htmlInput",{elementType:"input",externalForwardedProps:qe,ownerState:me}),[Be,Te]=it("formHelperText",{elementType:HH,externalForwardedProps:qe,ownerState:me}),[ie,Ce]=it("select",{elementType:ns,externalForwardedProps:qe,ownerState:me}),We=u.jsx(Le,{"aria-describedby":te,autoComplete:o,autoFocus:i,defaultValue:p,fullWidth:y,multiline:_,name:I,rows:F,maxRows:k,minRows:A,type:K,value:H,id:ce,inputRef:j,onBlur:P,onChange:N,onFocus:B,placeholder:O,inputProps:dt,slots:{input:G.htmlInput?fe:void 0},...Re});return u.jsxs(Xe,{...He,children:[T!=null&&T!==""&&u.jsx(ae,{htmlFor:ce,id:ve,...ke,children:T}),U?u.jsx(ie,{"aria-describedby":te,id:ce,labelId:ve,value:H,input:We,...Ce,children:s}):We,v&&u.jsx(Be,{id:te,...Te,children:v})]})}),HM=M_({themeId:ss});function HG(t,e){const{disableHysteresis:r=!1,threshold:n=100,target:o}=e,i=t.current;return o&&(t.current=o.pageYOffset!==void 0?o.pageYOffset:o.scrollTop),!r&&i!==void 0&&t.current<i?!1:t.current>n}const UG=typeof window<"u"?window:null;function VG(t={}){const{getTrigger:e=HG,target:r=UG,...n}=t,o=S.useRef(),[i,s]=S.useState(()=>e(o,n));return S.useEffect(()=>{if(r===null)return s(!1);const a=()=>{s(e(o,{target:r,...n}))};return a(),r.addEventListener("scroll",a,{passive:!0}),()=>{r.removeEventListener("scroll",a,{passive:!0})}},[r,e,JSON.stringify(n)]),i}const qG=pe([u.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),u.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")]),GG=pe(u.jsx("path",{d:"M20.5 6c-2.61.7-5.67 1-8.5 1s-5.89-.3-8.5-1L3 8c1.86.5 4 .83 6 1v13h2v-6h2v6h2V9c2-.17 4.14-.5 6-1zM12 6c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2"})),KG=pe(u.jsx("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"})),tp=pe(u.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),J1=pe(u.jsx("path",{d:"M3 4V1h2v3h3v2H5v3H3V6H0V4zm3 6V7h3V4h7l1.83 2H21c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V10zm7 9c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5m-3.2-5c0 1.77 1.43 3.2 3.2 3.2s3.2-1.43 3.2-3.2-1.43-3.2-3.2-3.2-3.2 1.43-3.2 3.2"})),YG=pe(u.jsx("path",{d:"M11 9h2V6h3V4h-3V1h-2v3H8v2h3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2m10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2m-9.83-3.25.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.86-7.01L19.42 4h-.01l-1.1 2-2.76 5H8.53l-.13-.27L6.16 6l-.95-2-.94-2H1v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.13 0-.25-.11-.25-.25"})),JG=pe(u.jsx("path",{d:"m14 12-2 2-2-2 2-2zm-2-6 2.12 2.12 2.5-2.5L12 1 7.38 5.62l2.5 2.5zm-6 6 2.12-2.12-2.5-2.5L1 12l4.62 4.62 2.5-2.5zm12 0-2.12 2.12 2.5 2.5L23 12l-4.62-4.62-2.5 2.5zm-6 6-2.12-2.12-2.5 2.5L12 23l4.62-4.62-2.5-2.5z"})),rp=pe(u.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"})),zh=pe(u.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})),XG=pe(u.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"})),zS=pe(u.jsx("path",{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25z"})),$S=pe(u.jsx("path",{d:"M7.5 5.6 10 7 8.6 4.5 10 2 7.5 3.4 5 2l1.4 2.5L5 7zm12 9.8L17 14l1.4 2.5L17 19l2.5-1.4L22 19l-1.4-2.5L22 14zM22 2l-2.5 1.4L17 2l1.4 2.5L17 7l2.5-1.4L22 7l-1.4-2.5zm-7.63 5.29a.996.996 0 0 0-1.41 0L1.29 18.96c-.39.39-.39 1.02 0 1.41l2.34 2.34c.39.39 1.02.39 1.41 0L16.7 11.05c.39-.39.39-1.02 0-1.41zm-1.03 5.49-2.12-2.12 2.44-2.44 2.12 2.12z"})),ld=pe(u.jsx("path",{d:"m19 1-5 5v11l5-4.5zM1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5V6c-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6m22 13.5V6c-.6-.45-1.25-.75-2-1v13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5v2c1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5z"})),UM=pe(u.jsx("path",{d:"M20 8v12c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2V8c0-1.86 1.28-3.41 3-3.86V2h3v2h4V2h3v2.14c1.72.45 3 2 3 3.86M6 12v2h10v2h2v-4z"})),QG=pe(u.jsx("path",{d:"M21 7h-6V5h6zm-2 3.9c-.32.07-.66.1-1 .1-2.76 0-5-2.24-5-5 0-1.13.37-2.16 1-3H7c-1.1 0-2 .9-2 2v16l7-3 7 3z"})),jj=pe(u.jsx("path",{d:"M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3m13.71-9.37-1.34-1.34a.996.996 0 0 0-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41"})),VM=pe(u.jsx("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5s-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20zm-6 8h-4v-2h4zm0-4h-4v-2h4z"})),ZG=pe(u.jsx("path",{d:"m22.7 19-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4"})),qM=pe(u.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"})),eK=pe(u.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18m0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9"})),FS=pe([u.jsx("path",{d:"m12 2-5.5 9h11z"},"0"),u.jsx("circle",{cx:"17.5",cy:"17.5",r:"4.5"},"1"),u.jsx("path",{d:"M3 13.5h8v8H3z"},"2")]),tK=pe(u.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m0 14H6l-2 2V4h16z"})),GM=pe(u.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),KM=pe(u.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),YM=pe(u.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),JM=pe(u.jsx("path",{d:"M16 11h-1V3c0-1.1-.9-2-2-2h-2c-1.1 0-2 .9-2 2v8H8c-2.76 0-5 2.24-5 5v7h18v-7c0-2.76-2.24-5-5-5m3 10h-2v-3c0-.55-.45-1-1-1s-1 .45-1 1v3h-2v-3c0-.55-.45-1-1-1s-1 .45-1 1v3H9v-3c0-.55-.45-1-1-1s-1 .45-1 1v3H5v-5c0-1.65 1.35-3 3-3h8c1.65 0 3 1.35 3 3z"})),Ii=pe(u.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),rK=pe(u.jsx("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6z"})),nK=pe(u.jsx("path",{d:"M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2m-11-4 2.03 2.71L16 11l4 5H8zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6z"})),oK=pe(u.jsx("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4zM18 14H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"})),xb=pe(u.jsx("path",{d:"m13.7826 15.1719 2.1213-2.1213 5.9963 5.9962-2.1213 2.1213zM17.5 10c1.93 0 3.5-1.57 3.5-3.5 0-.58-.16-1.12-.41-1.6l-2.7 2.7-1.49-1.49 2.7-2.7c-.48-.25-1.02-.41-1.6-.41C15.57 3 14 4.57 14 6.5c0 .41.08.8.21 1.16l-1.85 1.85-1.78-1.78.71-.71-1.41-1.41L12 3.49c-1.17-1.17-3.07-1.17-4.24 0L4.22 7.03l1.41 1.41H2.81l-.71.71 3.54 3.54.71-.71V9.15l1.41 1.41.71-.71 1.78 1.78-7.41 7.41 2.12 2.12L16.34 9.79c.36.13.75.21 1.16.21"})),XM=pe(u.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"})),iK=pe(u.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),ko=pe(u.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),sK=pe(u.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"})),aK=pe(u.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"})),lK=pe(u.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"})),Rj=pe(u.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),cK=pe(u.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"})),uK=pe(u.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"})),dK=pe(u.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),ih=pe(u.jsx("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"})),BS=pe(u.jsx("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"})),pK=pe(u.jsx("circle",{cx:"12",cy:"12",r:"8"})),WS=pe(u.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"})),fK=pe(u.jsx("path",{d:"M14.4 6 14 4H5v17h2v-7h5.6l.4 2h7V6z"})),QM=pe(u.jsx("path",{d:"M7 15v2h10v-2zm-4 6h18v-2H3zm0-8h18v-2H3zm4-6v2h10V7zM3 3v2h18V3z"})),hK=pe(u.jsx("path",{d:"M3 21h18v-2H3zm0-4h18v-2H3zm0-4h18v-2H3zm0-4h18V7H3zm0-6v2h18V3z"})),ZM=pe(u.jsx("path",{d:"M15 15H3v2h12zm0-8H3v2h12zM3 13h18v-2H3zm0 8h18v-2H3zM3 3v2h18V3z"})),eI=pe(u.jsx("path",{d:"M3 21h18v-2H3zm6-4h12v-2H9zm-6-4h18v-2H3zm6-4h12V7H9zM3 3v2h18V3z"})),mK=pe(u.jsx("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42M10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5"})),gK=pe(u.jsx("path",{d:"M3.27 5 2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5z"})),yK=pe(u.jsx("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"})),vK=pe(u.jsx("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5m0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5m0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5M7 19h14v-2H7zm0-6h14v-2H7zm0-8v2h14V5z"})),xK=pe(u.jsx("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2zm1-9h1V4H2v1h1zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2zm5-6v2h14V5zm0 14h14v-2H7zm0-6h14v-2H7z"})),tI=pe(u.jsx("path",{d:"M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"})),bK=pe(u.jsx("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6m-7 2v2h14v-2z"})),wK=pe(u.jsx("path",{d:"M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1m-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1"})),SK=pe(u.jsx("path",{d:"m5.2494 8.0688 2.83-2.8269 14.1343 14.15-2.83 2.8269zm4.2363-4.2415 2.828-2.8289 5.6577 5.656-2.828 2.8289zM.9989 12.3147l2.8284-2.8285 5.6569 5.6569-2.8285 2.8284zM1 21h12v2H1z"})),CK=pe(u.jsx("path",{d:"M22 7V5h-3V2h-2v3h-4V2h-2v3H7V2H5v3H2v2h3v4H2v2h3v4H2v2h3v3h2v-3h4v3h2v-3h4v3h2v-3h3v-2h-3v-4h3v-2h-3V7zM7 7h4v4H7zm0 10v-4h4v4zm10 0h-4v-4h4zm0-6h-4V7h4z"})),kK=pe(u.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"})),zd=pe(u.jsx("path",{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91M4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29M20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3"})),HS=pe([u.jsx("path",{d:"m21.67 18.17-5.3-5.3h-.99l-2.54 2.54v.99l5.3 5.3c.39.39 1.02.39 1.41 0l2.12-2.12c.39-.38.39-1.02 0-1.41"},"0"),u.jsx("path",{d:"m17.34 10.19 1.41-1.41 2.12 2.12c1.17-1.17 1.17-3.07 0-4.24l-3.54-3.54-1.41 1.41V1.71l-.7-.71-3.54 3.54.71.71h2.83l-1.41 1.41 1.06 1.06-2.89 2.89-4.13-4.13V5.06L4.83 2.04 2 4.87 5.03 7.9h1.41l4.13 4.13-.85.85H7.6l-5.3 5.3c-.39.39-.39 1.02 0 1.41l2.12 2.12c.39.39 1.02.39 1.41 0l5.3-5.3v-2.12l5.15-5.15z"},"1")]),rI=pe(u.jsx("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"})),Aj=pe(u.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"})),ly=pe(u.jsx("path",{d:"M9 4v1.38c-.83-.33-1.72-.5-2.61-.5-1.79 0-3.58.68-4.95 2.05l3.33 3.33h1.11v1.11c.86.86 1.98 1.31 3.11 1.36V15H6v3c0 1.1.9 2 2 2h10c1.66 0 3-1.34 3-3V4zm-1.11 6.41V8.26H5.61L4.57 7.22a5.07 5.07 0 0 1 1.82-.34c1.34 0 2.59.52 3.54 1.46l1.41 1.41-.2.2c-.51.51-1.19.8-1.92.8-.47 0-.93-.12-1.33-.34M19 17c0 .55-.45 1-1 1s-1-.45-1-1v-2h-6v-2.59c.57-.23 1.1-.57 1.56-1.03l.2-.2L15.59 14H17v-1.41l-6-5.97V6h8z"})),EK=pe(u.jsx("path",{fillRule:"evenodd",d:"M4 11h16v2H4z"})),nI=pe(u.jsx("path",{d:"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2zm10 14.5V20H8v-3.5l4-4zm-4-5-4-4V4h8v3.5z"})),TK=pe(u.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"})),jK=pe(u.jsx("path",{d:"m21.9 21.9-8.49-8.49-9.82-9.82L2.1 2.1.69 3.51 3 5.83V19c0 1.1.9 2 2 2h13.17l2.31 2.31zM5 18l3.5-4.5 2.5 3.01L12.17 15l3 3zm16 .17L5.83 3H19c1.1 0 2 .9 2 2z"})),RK=pe(u.jsx("path",{d:"M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z"})),AK=pe(u.jsx("path",{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2m-5 12H9v-2h6zm5-7H4V4l16-.02z"})),_K=pe(u.jsx("path",{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2m-5 12H9v-2h6zm5-7H4V4h16z"})),US=pe(u.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"})),oI=pe(u.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"})),MK=pe(u.jsx("path",{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27z"})),_j=pe(u.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"})),cy=pe(u.jsx("path",{d:"M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5m-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3z"})),IK=pe(u.jsx("path",{d:"M21 5V3H3v2l8 9v5H6v2h12v-2h-5v-5zM7.43 7 5.66 5h12.69l-1.78 2z"})),OK=pe(u.jsx("path",{d:"m21.41 11.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42M5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7"})),B0=pe(u.jsx("path",{d:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m13.5-9 1.96 2.5H17V9.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"})),PK=pe(u.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"})),$d=pe(u.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"})),Mj=pe(u.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"})),VS=pe(u.jsx("path",{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5M15 19l-6-2.11V5l6 2.11z"})),NK=pe(u.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"})),LK=pe([u.jsx("path",{d:"M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1m0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5z"},"0"),u.jsx("path",{d:"M17.5 10.5c.88 0 1.73.09 2.5.26V9.24c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99M13 12.49v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26V11.9c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.3-4.5.83m4.5 1.84c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26v-1.52c-.79-.16-1.64-.24-2.5-.24"},"1")]),DK=pe(u.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16"})),iI=pe(u.jsx("path",{d:"M19 14V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2m-9-1c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m13-6v11c0 1.1-.9 2-2 2H4v-2h17V7z"})),zK=pe(u.jsx("path",{d:"m2 9 4 12h12l4-12-10-7z"})),zg=pe(u.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),sI=pe(u.jsx("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),aI=pe([u.jsx("circle",{cx:"4.5",cy:"9.5",r:"2.5"},"0"),u.jsx("circle",{cx:"9",cy:"5.5",r:"2.5"},"1"),u.jsx("circle",{cx:"15",cy:"5.5",r:"2.5"},"2"),u.jsx("circle",{cx:"19.5",cy:"9.5",r:"2.5"},"3"),u.jsx("path",{d:"M17.34 14.86c-.87-1.02-1.6-1.89-2.48-2.91-.46-.54-1.05-1.08-1.75-1.32q-.165-.06-.33-.09c-.25-.04-.52-.04-.78-.04s-.53 0-.79.05q-.165.03-.33.09c-.7.24-1.28.78-1.75 1.32-.87 1.02-1.6 1.89-2.48 2.91-1.31 1.31-2.92 2.76-2.62 4.79.29 1.02 1.02 2.03 2.33 2.32.73.15 3.06-.44 5.54-.44h.18c2.48 0 4.81.58 5.54.44 1.31-.29 2.04-1.31 2.33-2.32.31-2.04-1.3-3.49-2.61-4.8"},"4")]),$K=pe(u.jsx("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3m-3 11H8v-5h8zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-1-9H6v4h12z"})),FK=pe(u.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39"})),X1=pe(u.jsx("path",{fillRule:"evenodd",d:"M16 9V4h1c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3"})),BK=pe(u.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 14v-2.47l6.88-6.88c.2-.2.51-.2.71 0l1.77 1.77c.2.2.2.51 0 .71L8.47 14zm12 0h-7.5l2-2H18z"})),lI=pe([u.jsx("path",{d:"M19.5 3.5 18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2v14H3v3c0 1.66 1.34 3 3 3h12c1.66 0 3-1.34 3-3V2zM19 19c0 .55-.45 1-1 1s-1-.45-1-1v-3H8V5h11z"},"0"),u.jsx("path",{d:"M9 7h6v2H9zm7 0h2v2h-2zm-7 3h6v2H9zm7 0h2v2h-2z"},"1")]),WK=pe(u.jsx("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7z"})),HK=pe(u.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"})),UK=pe(u.jsx("path",{d:"M19 13H5v-2h14z"})),VK=pe(u.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"})),qK=pe(u.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"})),GK=pe(u.jsx("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"})),El=pe(u.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),cI=pe(u.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"})),W0=pe(u.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"})),uI=pe([u.jsx("circle",{cx:"15.5",cy:"9.5",r:"1.5"},"0"),u.jsx("circle",{cx:"8.5",cy:"9.5",r:"1.5"},"1"),u.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m0-3.5c.73 0 1.39.19 1.97.53.12-.14.86-.98 1.01-1.14-.85-.56-1.87-.89-2.98-.89s-2.13.33-2.99.88c.97 1.09.01.02 1.01 1.14.59-.33 1.25-.52 1.98-.52"},"2")]),Ij=pe(u.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"})),KK=pe(u.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5z"})),YK=pe(u.jsx("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2M1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2"})),Bc=pe(u.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),JK=pe(u.jsx("path",{d:"m21.9 8.89-1.05-4.37c-.22-.9-1-1.52-1.91-1.52H5.05c-.9 0-1.69.63-1.9 1.52L2.1 8.89c-.24 1.02-.02 2.06.62 2.88.08.11.19.19.28.29V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6.94c.09-.09.2-.18.28-.28.64-.82.87-1.87.62-2.89m-2.99-3.9 1.05 4.37c.1.42.01.84-.25 1.17-.14.18-.44.47-.94.47-.61 0-1.14-.49-1.21-1.14L16.98 5zM13 5h1.96l.54 4.52c.05.39-.07.78-.33 1.07-.22.26-.54.41-.95.41-.67 0-1.22-.59-1.22-1.31zM8.49 9.52 9.04 5H11v4.69c0 .72-.55 1.31-1.29 1.31-.34 0-.65-.15-.89-.41-.25-.29-.37-.68-.33-1.07m-4.45-.16L5.05 5h1.97l-.58 4.86c-.08.65-.6 1.14-1.21 1.14-.49 0-.8-.29-.93-.47-.27-.32-.36-.75-.26-1.17M5 19v-6.03c.08.01.15.03.23.03.87 0 1.66-.36 2.24-.95.6.6 1.4.95 2.31.95.87 0 1.65-.36 2.23-.93.59.57 1.39.93 2.29.93.84 0 1.64-.35 2.24-.95.58.59 1.37.95 2.24.95.08 0 .15-.02.23-.03V19z"})),dI=pe(u.jsx("path",{d:"M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 10H3V8h2v4h2V8h2v4h2V8h2v4h2V8h2v4h2V8h2z"})),XK=pe(u.jsx("path",{d:"M6.85 7.08C6.85 4.37 9.45 3 12.24 3c1.64 0 3 .49 3.9 1.28.77.65 1.46 1.73 1.46 3.24h-3.01c0-.31-.05-.59-.15-.85-.29-.86-1.2-1.28-2.25-1.28-1.86 0-2.34 1.02-2.34 1.7 0 .48.25.88.74 1.21.38.25.77.48 1.41.7H7.39c-.21-.34-.54-.89-.54-1.92M21 12v-2H3v2h9.62c1.15.45 1.96.75 1.96 1.97 0 1-.81 1.67-2.28 1.67-1.54 0-2.93-.54-2.93-2.51H6.4c0 .55.08 1.13.24 1.58.81 2.29 3.29 3.3 5.67 3.3 2.27 0 5.3-.89 5.3-4.05 0-.3-.01-1.16-.48-1.94H21z"})),Oj=pe(u.jsx("path",{d:"M5 4v3h5.5v12h3V7H19V4z"})),bb=pe(u.jsx("path",{d:"M19.97 6.43 12 2 4.03 6.43 9.1 9.24C9.83 8.48 10.86 8 12 8s2.17.48 2.9 1.24zM10 12c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2m1 9.44L3 17V8.14l5.13 2.85c-.09.32-.13.66-.13 1.01 0 1.86 1.27 3.43 3 3.87zm2 0v-5.57c1.73-.44 3-2.01 3-3.87 0-.35-.04-.69-.13-1.01L21 8.14V17z"})),QK=pe(u.jsx("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8"})),ZK=pe(u.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"})),pI=pe(u.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"})),eY=pe(u.jsx("path",{d:"M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"})),tY=pe(u.jsx("path",{d:"M12 2c-5.33 4.55-8 8.48-8 11.8 0 4.98 3.8 8.2 8 8.2s8-3.22 8-8.2c0-3.32-2.67-7.25-8-11.8M7.83 14c.37 0 .67.26.74.62.41 2.22 2.28 2.98 3.64 2.87.43-.02.79.32.79.75 0 .4-.32.73-.72.75-2.13.13-4.62-1.09-5.19-4.12-.08-.45.28-.87.74-.87"})),H0=pe(u.jsx("path",{d:"M16.75 13.96c.25.13.41.2.46.3.06.11.04.61-.21 1.18-.2.56-1.24 1.1-1.7 1.12-.46.02-.47.36-2.96-.73-2.49-1.09-3.99-3.75-4.11-3.92-.12-.17-.96-1.38-.92-2.61.05-1.22.69-1.8.95-2.04.24-.26.51-.29.68-.26h.47c.15 0 .36-.06.55.45l.69 1.87c.06.13.1.28.01.44l-.27.41-.39.42c-.12.12-.26.25-.12.5.12.26.62 1.09 1.32 1.78.91.88 1.71 1.17 1.95 1.3.24.14.39.12.54-.04l.81-.94c.19-.25.35-.19.58-.11l1.67.88M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10c-1.97 0-3.8-.57-5.35-1.55L2 22l1.55-4.65A9.969 9.969 0 0 1 2 12 10 10 0 0 1 12 2m0 2a8 8 0 0 0-8 8c0 1.72.54 3.31 1.46 4.61L4.5 19.5l2.89-.96A7.95 7.95 0 0 0 12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8z"})),rY=pe([u.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"},"0"),u.jsx("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"},"1")]),nY=({phoneNumber:t,message:e=""})=>{const r=Yt(),n=()=>{const o=encodeURIComponent(e),i=`https://wa.me/${t}${e?`?text=${o}`:""}`;window.open(i,"_blank")};return u.jsx(dr,{title:"Contactar al Gremio va WhatsApp",placement:"left",arrow:!0,children:u.jsx(sy,{color:"primary","aria-label":"whatsapp",onClick:n,sx:{position:"fixed",bottom:24,right:24,bgcolor:"#25D366",color:"white",boxShadow:`0 4px 20px ${q("#25D366",.4)}`,border:2,borderColor:r.palette.secondary.main,transition:"all 0.3s ease","&:hover":{bgcolor:"#128C7E",transform:"scale(1.1) translateY(-4px)",boxShadow:`0 8px 30px ${q("#25D366",.6)}, 0 0 20px ${q(r.palette.secondary.main,.3)}`},"&::before":{content:'""',position:"absolute",inset:-4,borderRadius:"50%",background:`linear-gradient(135deg, ${q(r.palette.secondary.main,.3)}, transparent)`,opacity:0,transition:"opacity 0.3s ease",zIndex:-1},"&:hover::before":{opacity:1}},children:u.jsx(H0,{sx:{fontSize:32}})})})};var np=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},oY={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},cl,Yw,A5,iY=(A5=class{constructor(){Ot(this,cl,oY);Ot(this,Yw,!1)}setTimeoutProvider(t){ht(this,cl,t)}setTimeout(t,e){return X(this,cl).setTimeout(t,e)}clearTimeout(t){X(this,cl).clearTimeout(t)}setInterval(t,e){return X(this,cl).setInterval(t,e)}clearInterval(t){X(this,cl).clearInterval(t)}},cl=new WeakMap,Yw=new WeakMap,A5),Tc=new iY;function sY(t){setTimeout(t,0)}var Yc=typeof window>"u"||"Deno"in globalThis;function So(){}function aY(t,e){return typeof t=="function"?t(e):t}function Q1(t){return typeof t=="number"&&t>=0&&t!==1/0}function fI(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Tl(t,e){return typeof t=="function"?t(e):t}function ji(t,e){return typeof t=="function"?t(e):t}function Pj(t,e){const{type:r="all",exact:n,fetchStatus:o,predicate:i,queryKey:s,stale:a}=t;if(s){if(n){if(e.queryHash!==qS(s,e.options))return!1}else if(!sh(e.queryKey,s))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||o&&o!==e.state.fetchStatus||i&&!i(e))}function Nj(t,e){const{exact:r,status:n,predicate:o,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(Jc(e.options.mutationKey)!==Jc(i))return!1}else if(!sh(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||o&&!o(e))}function qS(t,e){return((e==null?void 0:e.queryKeyHashFn)||Jc)(t)}function Jc(t){return JSON.stringify(t,(e,r)=>Z1(r)?Object.keys(r).sort().reduce((n,o)=>(n[o]=r[o],n),{}):r)}function sh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>sh(t[r],e[r])):!1}var lY=Object.prototype.hasOwnProperty;function hI(t,e,r=0){if(t===e)return t;if(r>500)return e;const n=Lj(t)&&Lj(e);if(!n&&!(Z1(t)&&Z1(e)))return e;const i=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),a=s.length,l=n?new Array(a):{};let p=0;for(let f=0;f<a;f++){const h=n?f:s[f],m=t[h],y=e[h];if(m===y){l[h]=m,(n?f<i:lY.call(t,h))&&p++;continue}if(m===null||y===null||typeof m!="object"||typeof y!="object"){l[h]=y;continue}const v=hI(m,y,r+1);l[h]=v,v===m&&p++}return i===a&&p===i?t:l}function uy(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Lj(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Z1(t){if(!Dj(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Dj(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Dj(t){return Object.prototype.toString.call(t)==="[object Object]"}function cY(t){return new Promise(e=>{Tc.setTimeout(e,t)})}function ew(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?hI(t,e):e}function uY(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function dY(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var GS=Symbol();function mI(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===GS?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function KS(t,e){return typeof t=="function"?t(...e):!!t}function pY(t,e,r){let n=!1,o;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(o??(o=e()),n||(n=!0,o.aborted?r():o.addEventListener("abort",r,{once:!0})),o)}),t}var Mc,ul,vd,_5,fY=(_5=class extends np{constructor(){super();Ot(this,Mc);Ot(this,ul);Ot(this,vd);ht(this,vd,e=>{if(!Yc&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){X(this,ul)||this.setEventListener(X(this,vd))}onUnsubscribe(){var e;this.hasListeners()||((e=X(this,ul))==null||e.call(this),ht(this,ul,void 0))}setEventListener(e){var r;ht(this,vd,e),(r=X(this,ul))==null||r.call(this),ht(this,ul,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){X(this,Mc)!==e&&(ht(this,Mc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof X(this,Mc)=="boolean"?X(this,Mc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Mc=new WeakMap,ul=new WeakMap,vd=new WeakMap,_5),YS=new fY;function tw(){let t,e;const r=new Promise((o,i)=>{t=o,e=i});r.status="pending",r.catch(()=>{});function n(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{n({status:"fulfilled",value:o}),t(o)},r.reject=o=>{n({status:"rejected",reason:o}),e(o)},r}var hY=sY;function mY(){let t=[],e=0,r=a=>{a()},n=a=>{a()},o=hY;const i=a=>{e?t.push(a):o(()=>{r(a)})},s=()=>{const a=t;t=[],a.length&&o(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||s()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{o=a}}}var An=mY(),xd,dl,bd,M5,gY=(M5=class extends np{constructor(){super();Ot(this,xd,!0);Ot(this,dl);Ot(this,bd);ht(this,bd,e=>{if(!Yc&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){X(this,dl)||this.setEventListener(X(this,bd))}onUnsubscribe(){var e;this.hasListeners()||((e=X(this,dl))==null||e.call(this),ht(this,dl,void 0))}setEventListener(e){var r;ht(this,bd,e),(r=X(this,dl))==null||r.call(this),ht(this,dl,e(this.setOnline.bind(this)))}setOnline(e){X(this,xd)!==e&&(ht(this,xd,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return X(this,xd)}},xd=new WeakMap,dl=new WeakMap,bd=new WeakMap,M5),dy=new gY;function yY(t){return Math.min(1e3*2**t,3e4)}function gI(t){return(t??"online")==="online"?dy.isOnline():!0}var rw=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function yI(t){let e=!1,r=0,n;const o=tw(),i=()=>o.status!=="pending",s=b=>{var x;if(!i()){const C=new rw(b);m(C),(x=t.onCancel)==null||x.call(t,C)}},a=()=>{e=!0},l=()=>{e=!1},p=()=>YS.isFocused()&&(t.networkMode==="always"||dy.isOnline())&&t.canRun(),f=()=>gI(t.networkMode)&&t.canRun(),h=b=>{i()||(n==null||n(),o.resolve(b))},m=b=>{i()||(n==null||n(),o.reject(b))},y=()=>new Promise(b=>{var x;n=C=>{(i()||p())&&b(C)},(x=t.onPause)==null||x.call(t)}).then(()=>{var b;n=void 0,i()||(b=t.onContinue)==null||b.call(t)}),v=()=>{if(i())return;let b;const x=r===0?t.initialPromise:void 0;try{b=x??t.fn()}catch(C){b=Promise.reject(C)}Promise.resolve(b).then(h).catch(C=>{var A;if(i())return;const E=t.retry??(Yc?0:3),j=t.retryDelay??yY,T=typeof j=="function"?j(r,C):j,k=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,C);if(e||!k){m(C);return}r++,(A=t.onFail)==null||A.call(t,r,C),cY(T).then(()=>p()?void 0:y()).then(()=>{e?m(C):v()})})};return{promise:o,status:()=>o.status,cancel:s,continue:()=>(n==null||n(),o),cancelRetry:a,continueRetry:l,canStart:f,start:()=>(f()?v():y().then(v),o)}}var Ic,I5,vI=(I5=class{constructor(){Ot(this,Ic)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Q1(this.gcTime)&&ht(this,Ic,Tc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Yc?1/0:300*1e3))}clearGcTimeout(){X(this,Ic)&&(Tc.clearTimeout(X(this,Ic)),ht(this,Ic,void 0))}},Ic=new WeakMap,I5),Oc,wd,Ei,Pc,Bn,wh,Nc,Qi,ra,O5,vY=(O5=class extends vI{constructor(e){super();Ot(this,Qi);Ot(this,Oc);Ot(this,wd);Ot(this,Ei);Ot(this,Pc);Ot(this,Bn);Ot(this,wh);Ot(this,Nc);ht(this,Nc,!1),ht(this,wh,e.defaultOptions),this.setOptions(e.options),this.observers=[],ht(this,Pc,e.client),ht(this,Ei,X(this,Pc).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ht(this,Oc,$j(this.options)),this.state=e.state??X(this,Oc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=X(this,Bn))==null?void 0:e.promise}setOptions(e){if(this.options={...X(this,wh),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=$j(this.options);r.data!==void 0&&(this.setState(zj(r.data,r.dataUpdatedAt)),ht(this,Oc,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&X(this,Ei).remove(this)}setData(e,r){const n=ew(this.state.data,e,this.options);return er(this,Qi,ra).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){er(this,Qi,ra).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,o;const r=(n=X(this,Bn))==null?void 0:n.promise;return(o=X(this,Bn))==null||o.cancel(e),r?r.then(So).catch(So):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(X(this,Oc))}isActive(){return this.observers.some(e=>ji(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===GS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Tl(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!fI(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=X(this,Bn))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=X(this,Bn))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),X(this,Ei).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(X(this,Bn)&&(X(this,Nc)?X(this,Bn).cancel({revert:!0}):X(this,Bn).cancelRetry()),this.scheduleGc()),X(this,Ei).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||er(this,Qi,ra).call(this,{type:"invalidate"})}async fetch(e,r){var l,p,f,h,m,y,v,b,x,C,E,j;if(this.state.fetchStatus!=="idle"&&((l=X(this,Bn))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(X(this,Bn))return X(this,Bn).continueRetry(),X(this,Bn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const T=this.observers.find(k=>k.options.queryFn);T&&this.setOptions(T.options)}const n=new AbortController,o=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(ht(this,Nc,!0),n.signal)})},i=()=>{const T=mI(this.options,r),A=(()=>{const _={client:X(this,Pc),queryKey:this.queryKey,meta:this.meta};return o(_),_})();return ht(this,Nc,!1),this.options.persister?this.options.persister(T,A,this):T(A)},a=(()=>{const T={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:X(this,Pc),state:this.state,fetchFn:i};return o(T),T})();(p=this.options.behavior)==null||p.onFetch(a,this),ht(this,wd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&er(this,Qi,ra).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta}),ht(this,Bn,yI({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,onCancel:T=>{T instanceof rw&&T.revert&&this.setState({...X(this,wd),fetchStatus:"idle"}),n.abort()},onFail:(T,k)=>{er(this,Qi,ra).call(this,{type:"failed",failureCount:T,error:k})},onPause:()=>{er(this,Qi,ra).call(this,{type:"pause"})},onContinue:()=>{er(this,Qi,ra).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const T=await X(this,Bn).start();if(T===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(T),(y=(m=X(this,Ei).config).onSuccess)==null||y.call(m,T,this),(b=(v=X(this,Ei).config).onSettled)==null||b.call(v,T,this.state.error,this),T}catch(T){if(T instanceof rw){if(T.silent)return X(this,Bn).promise;if(T.revert){if(this.state.data===void 0)throw T;return this.state.data}}throw er(this,Qi,ra).call(this,{type:"error",error:T}),(C=(x=X(this,Ei).config).onError)==null||C.call(x,T,this),(j=(E=X(this,Ei).config).onSettled)==null||j.call(E,this.state.data,T,this),T}finally{this.scheduleGc()}}},Oc=new WeakMap,wd=new WeakMap,Ei=new WeakMap,Pc=new WeakMap,Bn=new WeakMap,wh=new WeakMap,Nc=new WeakMap,Qi=new WeakSet,ra=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...xI(n.data,this.options),fetchMeta:e.meta??null};case"success":const o={...n,...zj(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ht(this,wd,e.manual?o:void 0),o;case"error":const i=e.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),An.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),X(this,Ei).notify({query:this,type:"updated",action:e})})},O5);function xI(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:gI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function zj(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function $j(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Do,lr,Sh,wo,Lc,Sd,sa,pl,Ch,Cd,kd,Dc,zc,fl,Ed,Sr,ff,nw,ow,iw,sw,aw,lw,cw,bI,P5,xY=(P5=class extends np{constructor(e,r){super();Ot(this,Sr);Ot(this,Do);Ot(this,lr);Ot(this,Sh);Ot(this,wo);Ot(this,Lc);Ot(this,Sd);Ot(this,sa);Ot(this,pl);Ot(this,Ch);Ot(this,Cd);Ot(this,kd);Ot(this,Dc);Ot(this,zc);Ot(this,fl);Ot(this,Ed,new Set);this.options=r,ht(this,Do,e),ht(this,pl,null),ht(this,sa,tw()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(X(this,lr).addObserver(this),Fj(X(this,lr),this.options)?er(this,Sr,ff).call(this):this.updateResult(),er(this,Sr,sw).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return uw(X(this,lr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return uw(X(this,lr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,er(this,Sr,aw).call(this),er(this,Sr,lw).call(this),X(this,lr).removeObserver(this)}setOptions(e){const r=this.options,n=X(this,lr);if(this.options=X(this,Do).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ji(this.options.enabled,X(this,lr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");er(this,Sr,cw).call(this),X(this,lr).setOptions(this.options),r._defaulted&&!uy(this.options,r)&&X(this,Do).getQueryCache().notify({type:"observerOptionsUpdated",query:X(this,lr),observer:this});const o=this.hasListeners();o&&Bj(X(this,lr),n,this.options,r)&&er(this,Sr,ff).call(this),this.updateResult(),o&&(X(this,lr)!==n||ji(this.options.enabled,X(this,lr))!==ji(r.enabled,X(this,lr))||Tl(this.options.staleTime,X(this,lr))!==Tl(r.staleTime,X(this,lr)))&&er(this,Sr,nw).call(this);const i=er(this,Sr,ow).call(this);o&&(X(this,lr)!==n||ji(this.options.enabled,X(this,lr))!==ji(r.enabled,X(this,lr))||i!==X(this,fl))&&er(this,Sr,iw).call(this,i)}getOptimisticResult(e){const r=X(this,Do).getQueryCache().build(X(this,Do),e),n=this.createResult(r,e);return wY(this,n)&&(ht(this,wo,n),ht(this,Sd,this.options),ht(this,Lc,X(this,lr).state)),n}getCurrentResult(){return X(this,wo)}trackResult(e,r){return new Proxy(e,{get:(n,o)=>(this.trackProp(o),r==null||r(o),o==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&X(this,sa).status==="pending"&&X(this,sa).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,o))})}trackProp(e){X(this,Ed).add(e)}getCurrentQuery(){return X(this,lr)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=X(this,Do).defaultQueryOptions(e),n=X(this,Do).getQueryCache().build(X(this,Do),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return er(this,Sr,ff).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),X(this,wo)))}createResult(e,r){var P;const n=X(this,lr),o=this.options,i=X(this,wo),s=X(this,Lc),a=X(this,Sd),p=e!==n?e.state:X(this,Sh),{state:f}=e;let h={...f},m=!1,y;if(r._optimisticResults){const N=this.hasListeners(),B=!N&&Fj(e,r),O=N&&Bj(e,n,r,o);(B||O)&&(h={...h,...xI(f.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:b,status:x}=h;y=h.data;let C=!1;if(r.placeholderData!==void 0&&y===void 0&&x==="pending"){let N;i!=null&&i.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData)?(N=i.data,C=!0):N=typeof r.placeholderData=="function"?r.placeholderData((P=X(this,kd))==null?void 0:P.state.data,X(this,kd)):r.placeholderData,N!==void 0&&(x="success",y=ew(i==null?void 0:i.data,N,r),m=!0)}if(r.select&&y!==void 0&&!C)if(i&&y===(s==null?void 0:s.data)&&r.select===X(this,Ch))y=X(this,Cd);else try{ht(this,Ch,r.select),y=r.select(y),y=ew(i==null?void 0:i.data,y,r),ht(this,Cd,y),ht(this,pl,null)}catch(N){ht(this,pl,N)}X(this,pl)&&(v=X(this,pl),y=X(this,Cd),b=Date.now(),x="error");const E=h.fetchStatus==="fetching",j=x==="pending",T=x==="error",k=j&&E,A=y!==void 0,I={status:x,fetchStatus:h.fetchStatus,isPending:j,isSuccess:x==="success",isError:T,isInitialLoading:k,isLoading:k,data:y,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>p.dataUpdateCount||h.errorUpdateCount>p.errorUpdateCount,isFetching:E,isRefetching:E&&!j,isLoadingError:T&&!A,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:T&&A,isStale:JS(e,r),refetch:this.refetch,promise:X(this,sa),isEnabled:ji(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const N=I.data!==void 0,B=I.status==="error"&&!N,O=U=>{B?U.reject(I.error):N&&U.resolve(I.data)},D=()=>{const U=ht(this,sa,I.promise=tw());O(U)},F=X(this,sa);switch(F.status){case"pending":e.queryHash===n.queryHash&&O(F);break;case"fulfilled":(B||I.data!==F.value)&&D();break;case"rejected":(!B||I.error!==F.reason)&&D();break}}return I}updateResult(){const e=X(this,wo),r=this.createResult(X(this,lr),this.options);if(ht(this,Lc,X(this,lr).state),ht(this,Sd,this.options),X(this,Lc).data!==void 0&&ht(this,kd,X(this,lr)),uy(r,e))return;ht(this,wo,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:o}=this.options,i=typeof o=="function"?o():o;if(i==="all"||!i&&!X(this,Ed).size)return!0;const s=new Set(i??X(this,Ed));return this.options.throwOnError&&s.add("error"),Object.keys(X(this,wo)).some(a=>{const l=a;return X(this,wo)[l]!==e[l]&&s.has(l)})};er(this,Sr,bI).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&er(this,Sr,sw).call(this)}},Do=new WeakMap,lr=new WeakMap,Sh=new WeakMap,wo=new WeakMap,Lc=new WeakMap,Sd=new WeakMap,sa=new WeakMap,pl=new WeakMap,Ch=new WeakMap,Cd=new WeakMap,kd=new WeakMap,Dc=new WeakMap,zc=new WeakMap,fl=new WeakMap,Ed=new WeakMap,Sr=new WeakSet,ff=function(e){er(this,Sr,cw).call(this);let r=X(this,lr).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(So)),r},nw=function(){er(this,Sr,aw).call(this);const e=Tl(this.options.staleTime,X(this,lr));if(Yc||X(this,wo).isStale||!Q1(e))return;const n=fI(X(this,wo).dataUpdatedAt,e)+1;ht(this,Dc,Tc.setTimeout(()=>{X(this,wo).isStale||this.updateResult()},n))},ow=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(X(this,lr)):this.options.refetchInterval)??!1},iw=function(e){er(this,Sr,lw).call(this),ht(this,fl,e),!(Yc||ji(this.options.enabled,X(this,lr))===!1||!Q1(X(this,fl))||X(this,fl)===0)&&ht(this,zc,Tc.setInterval(()=>{(this.options.refetchIntervalInBackground||YS.isFocused())&&er(this,Sr,ff).call(this)},X(this,fl)))},sw=function(){er(this,Sr,nw).call(this),er(this,Sr,iw).call(this,er(this,Sr,ow).call(this))},aw=function(){X(this,Dc)&&(Tc.clearTimeout(X(this,Dc)),ht(this,Dc,void 0))},lw=function(){X(this,zc)&&(Tc.clearInterval(X(this,zc)),ht(this,zc,void 0))},cw=function(){const e=X(this,Do).getQueryCache().build(X(this,Do),this.options);if(e===X(this,lr))return;const r=X(this,lr);ht(this,lr,e),ht(this,Sh,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},bI=function(e){An.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(X(this,wo))}),X(this,Do).getQueryCache().notify({query:X(this,lr),type:"observerResultsUpdated"})})},P5);function bY(t,e){return ji(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Fj(t,e){return bY(t,e)||t.state.data!==void 0&&uw(t,e,e.refetchOnMount)}function uw(t,e,r){if(ji(e.enabled,t)!==!1&&Tl(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&JS(t,e)}return!1}function Bj(t,e,r,n){return(t!==e||ji(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&JS(t,r)}function JS(t,e){return ji(e.enabled,t)!==!1&&t.isStaleByTime(Tl(e.staleTime,t))}function wY(t,e){return!uy(t.getCurrentResult(),e)}function Wj(t){return{onFetch:(e,r)=>{var f,h,m,y,v;const n=e.options,o=(m=(h=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,i=((y=e.state.data)==null?void 0:y.pages)||[],s=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const p=async()=>{let b=!1;const x=j=>{pY(j,()=>e.signal,()=>b=!0)},C=mI(e.options,e.fetchOptions),E=async(j,T,k)=>{if(b)return Promise.reject();if(T==null&&j.pages.length)return Promise.resolve(j);const _=(()=>{const B={client:e.client,queryKey:e.queryKey,pageParam:T,direction:k?"backward":"forward",meta:e.options.meta};return x(B),B})(),I=await C(_),{maxPages:P}=e.options,N=k?dY:uY;return{pages:N(j.pages,I,P),pageParams:N(j.pageParams,T,P)}};if(o&&i.length){const j=o==="backward",T=j?SY:Hj,k={pages:i,pageParams:s},A=T(n,k);a=await E(k,A,j)}else{const j=t??i.length;do{const T=l===0?s[0]??n.initialPageParam:Hj(n,a);if(l>0&&T==null)break;a=await E(a,T),l++}while(l<j)}return a};e.options.persister?e.fetchFn=()=>{var b,x;return(x=(b=e.options).persister)==null?void 0:x.call(b,p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=p}}}function Hj(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function SY(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var kh,ks,po,$c,Es,Qa,N5,CY=(N5=class extends vI{constructor(e){super();Ot(this,Es);Ot(this,kh);Ot(this,ks);Ot(this,po);Ot(this,$c);ht(this,kh,e.client),this.mutationId=e.mutationId,ht(this,po,e.mutationCache),ht(this,ks,[]),this.state=e.state||wI(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){X(this,ks).includes(e)||(X(this,ks).push(e),this.clearGcTimeout(),X(this,po).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ht(this,ks,X(this,ks).filter(r=>r!==e)),this.scheduleGc(),X(this,po).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){X(this,ks).length||(this.state.status==="pending"?this.scheduleGc():X(this,po).remove(this))}continue(){var e;return((e=X(this,$c))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,a,l,p,f,h,m,y,v,b,x,C,E,j,T,k,A,_;const r=()=>{er(this,Es,Qa).call(this,{type:"continue"})},n={client:X(this,kh),meta:this.options.meta,mutationKey:this.options.mutationKey};ht(this,$c,yI({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(I,P)=>{er(this,Es,Qa).call(this,{type:"failed",failureCount:I,error:P})},onPause:()=>{er(this,Es,Qa).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>X(this,po).canRun(this)}));const o=this.state.status==="pending",i=!X(this,$c).canStart();try{if(o)r();else{er(this,Es,Qa).call(this,{type:"pending",variables:e,isPaused:i}),X(this,po).config.onMutate&&await X(this,po).config.onMutate(e,this,n);const P=await((a=(s=this.options).onMutate)==null?void 0:a.call(s,e,n));P!==this.state.context&&er(this,Es,Qa).call(this,{type:"pending",context:P,variables:e,isPaused:i})}const I=await X(this,$c).start();return await((p=(l=X(this,po).config).onSuccess)==null?void 0:p.call(l,I,e,this.state.context,this,n)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,I,e,this.state.context,n)),await((y=(m=X(this,po).config).onSettled)==null?void 0:y.call(m,I,null,this.state.variables,this.state.context,this,n)),await((b=(v=this.options).onSettled)==null?void 0:b.call(v,I,null,e,this.state.context,n)),er(this,Es,Qa).call(this,{type:"success",data:I}),I}catch(I){try{await((C=(x=X(this,po).config).onError)==null?void 0:C.call(x,I,e,this.state.context,this,n))}catch(P){Promise.reject(P)}try{await((j=(E=this.options).onError)==null?void 0:j.call(E,I,e,this.state.context,n))}catch(P){Promise.reject(P)}try{await((k=(T=X(this,po).config).onSettled)==null?void 0:k.call(T,void 0,I,this.state.variables,this.state.context,this,n))}catch(P){Promise.reject(P)}try{await((_=(A=this.options).onSettled)==null?void 0:_.call(A,void 0,I,e,this.state.context,n))}catch(P){Promise.reject(P)}throw er(this,Es,Qa).call(this,{type:"error",error:I}),I}finally{X(this,po).runNext(this)}}},kh=new WeakMap,ks=new WeakMap,po=new WeakMap,$c=new WeakMap,Es=new WeakSet,Qa=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),An.batch(()=>{X(this,ks).forEach(n=>{n.onMutationUpdate(e)}),X(this,po).notify({mutation:this,type:"updated",action:e})})},N5);function wI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var aa,Zi,Eh,L5,kY=(L5=class extends np{constructor(e={}){super();Ot(this,aa);Ot(this,Zi);Ot(this,Eh);this.config=e,ht(this,aa,new Set),ht(this,Zi,new Map),ht(this,Eh,0)}build(e,r,n){const o=new CY({client:e,mutationCache:this,mutationId:++Vm(this,Eh)._,options:e.defaultMutationOptions(r),state:n});return this.add(o),o}add(e){X(this,aa).add(e);const r=ug(e);if(typeof r=="string"){const n=X(this,Zi).get(r);n?n.push(e):X(this,Zi).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(X(this,aa).delete(e)){const r=ug(e);if(typeof r=="string"){const n=X(this,Zi).get(r);if(n)if(n.length>1){const o=n.indexOf(e);o!==-1&&n.splice(o,1)}else n[0]===e&&X(this,Zi).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=ug(e);if(typeof r=="string"){const n=X(this,Zi).get(r),o=n==null?void 0:n.find(i=>i.state.status==="pending");return!o||o===e}else return!0}runNext(e){var n;const r=ug(e);if(typeof r=="string"){const o=(n=X(this,Zi).get(r))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){An.batch(()=>{X(this,aa).forEach(e=>{this.notify({type:"removed",mutation:e})}),X(this,aa).clear(),X(this,Zi).clear()})}getAll(){return Array.from(X(this,aa))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Nj(r,n))}findAll(e={}){return this.getAll().filter(r=>Nj(e,r))}notify(e){An.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return An.batch(()=>Promise.all(e.map(r=>r.continue().catch(So))))}},aa=new WeakMap,Zi=new WeakMap,Eh=new WeakMap,L5);function ug(t){var e;return(e=t.options.scope)==null?void 0:e.id}var la,hl,zo,ca,ma,$g,dw,D5,EY=(D5=class extends np{constructor(r,n){super();Ot(this,ma);Ot(this,la);Ot(this,hl);Ot(this,zo);Ot(this,ca);ht(this,la,r),this.setOptions(n),this.bindMethods(),er(this,ma,$g).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var o;const n=this.options;this.options=X(this,la).defaultMutationOptions(r),uy(this.options,n)||X(this,la).getMutationCache().notify({type:"observerOptionsUpdated",mutation:X(this,zo),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Jc(n.mutationKey)!==Jc(this.options.mutationKey)?this.reset():((o=X(this,zo))==null?void 0:o.state.status)==="pending"&&X(this,zo).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=X(this,zo))==null||r.removeObserver(this)}onMutationUpdate(r){er(this,ma,$g).call(this),er(this,ma,dw).call(this,r)}getCurrentResult(){return X(this,hl)}reset(){var r;(r=X(this,zo))==null||r.removeObserver(this),ht(this,zo,void 0),er(this,ma,$g).call(this),er(this,ma,dw).call(this)}mutate(r,n){var o;return ht(this,ca,n),(o=X(this,zo))==null||o.removeObserver(this),ht(this,zo,X(this,la).getMutationCache().build(X(this,la),this.options)),X(this,zo).addObserver(this),X(this,zo).execute(r)}},la=new WeakMap,hl=new WeakMap,zo=new WeakMap,ca=new WeakMap,ma=new WeakSet,$g=function(){var n;const r=((n=X(this,zo))==null?void 0:n.state)??wI();ht(this,hl,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},dw=function(r){An.batch(()=>{var n,o,i,s,a,l,p,f;if(X(this,ca)&&this.hasListeners()){const h=X(this,hl).variables,m=X(this,hl).context,y={client:X(this,la),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(o=(n=X(this,ca)).onSuccess)==null||o.call(n,r.data,h,m,y)}catch(v){Promise.reject(v)}try{(s=(i=X(this,ca)).onSettled)==null||s.call(i,r.data,null,h,m,y)}catch(v){Promise.reject(v)}}else if((r==null?void 0:r.type)==="error"){try{(l=(a=X(this,ca)).onError)==null||l.call(a,r.error,h,m,y)}catch(v){Promise.reject(v)}try{(f=(p=X(this,ca)).onSettled)==null||f.call(p,void 0,r.error,h,m,y)}catch(v){Promise.reject(v)}}}this.listeners.forEach(h=>{h(X(this,hl))})})},D5),Ts,z5,TY=(z5=class extends np{constructor(e={}){super();Ot(this,Ts);this.config=e,ht(this,Ts,new Map)}build(e,r,n){const o=r.queryKey,i=r.queryHash??qS(o,r);let s=this.get(i);return s||(s=new vY({client:e,queryKey:o,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(o)}),this.add(s)),s}add(e){X(this,Ts).has(e.queryHash)||(X(this,Ts).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=X(this,Ts).get(e.queryHash);r&&(e.destroy(),r===e&&X(this,Ts).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){An.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return X(this,Ts).get(e)}getAll(){return[...X(this,Ts).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Pj(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Pj(e,n)):r}notify(e){An.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){An.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){An.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ts=new WeakMap,z5),ln,ml,gl,Td,jd,yl,Rd,Ad,$5,jY=($5=class{constructor(t={}){Ot(this,ln);Ot(this,ml);Ot(this,gl);Ot(this,Td);Ot(this,jd);Ot(this,yl);Ot(this,Rd);Ot(this,Ad);ht(this,ln,t.queryCache||new TY),ht(this,ml,t.mutationCache||new kY),ht(this,gl,t.defaultOptions||{}),ht(this,Td,new Map),ht(this,jd,new Map),ht(this,yl,0)}mount(){Vm(this,yl)._++,X(this,yl)===1&&(ht(this,Rd,YS.subscribe(async t=>{t&&(await this.resumePausedMutations(),X(this,ln).onFocus())})),ht(this,Ad,dy.subscribe(async t=>{t&&(await this.resumePausedMutations(),X(this,ln).onOnline())})))}unmount(){var t,e;Vm(this,yl)._--,X(this,yl)===0&&((t=X(this,Rd))==null||t.call(this),ht(this,Rd,void 0),(e=X(this,Ad))==null||e.call(this),ht(this,Ad,void 0))}isFetching(t){return X(this,ln).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return X(this,ml).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=X(this,ln).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=X(this,ln).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Tl(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return X(this,ln).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),o=X(this,ln).get(n.queryHash),i=o==null?void 0:o.state.data,s=aY(e,i);if(s!==void 0)return X(this,ln).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(t,e,r){return An.batch(()=>X(this,ln).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=X(this,ln).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=X(this,ln);An.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=X(this,ln);return An.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=An.batch(()=>X(this,ln).findAll(t).map(o=>o.cancel(r)));return Promise.all(n).then(So).catch(So)}invalidateQueries(t,e={}){return An.batch(()=>(X(this,ln).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=An.batch(()=>X(this,ln).findAll(t).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let i=o.fetch(void 0,r);return r.throwOnError||(i=i.catch(So)),o.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(So)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=X(this,ln).build(this,e);return r.isStaleByTime(Tl(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(So).catch(So)}fetchInfiniteQuery(t){return t.behavior=Wj(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(So).catch(So)}ensureInfiniteQueryData(t){return t.behavior=Wj(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return dy.isOnline()?X(this,ml).resumePausedMutations():Promise.resolve()}getQueryCache(){return X(this,ln)}getMutationCache(){return X(this,ml)}getDefaultOptions(){return X(this,gl)}setDefaultOptions(t){ht(this,gl,t)}setQueryDefaults(t,e){X(this,Td).set(Jc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...X(this,Td).values()],r={};return e.forEach(n=>{sh(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){X(this,jd).set(Jc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...X(this,jd).values()],r={};return e.forEach(n=>{sh(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...X(this,gl).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=qS(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===GS&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...X(this,gl).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){X(this,ln).clear(),X(this,ml).clear()}},ln=new WeakMap,ml=new WeakMap,gl=new WeakMap,Td=new WeakMap,jd=new WeakMap,yl=new WeakMap,Rd=new WeakMap,Ad=new WeakMap,$5),SI=S.createContext(void 0),ou=t=>{const e=S.useContext(SI);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},RY=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(SI.Provider,{value:t,children:e})),CI=S.createContext(!1),AY=()=>S.useContext(CI);CI.Provider;function _Y(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var MY=S.createContext(_Y()),IY=()=>S.useContext(MY),OY=(t,e,r)=>{const n=r!=null&&r.state.error&&typeof t.throwOnError=="function"?KS(t.throwOnError,[r.state.error,r]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(e.isReset()||(t.retryOnMount=!1))},PY=t=>{S.useEffect(()=>{t.clearReset()},[t])},NY=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:o})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(o&&t.data===void 0||KS(r,[t.error,n])),LY=t=>{if(t.suspense){const r=o=>o==="static"?o:Math.max(o??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...o)=>r(n(...o)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},DY=(t,e)=>t.isLoading&&t.isFetching&&!e,zY=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Uj=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function $Y(t,e,r){var m,y,v,b;const n=AY(),o=IY(),i=ou(),s=i.defaultQueryOptions(t);(y=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||y.call(m,s);const a=i.getQueryCache().get(s.queryHash);s._optimisticResults=n?"isRestoring":"optimistic",LY(s),OY(s,o,a),PY(o);const l=!i.getQueryCache().get(s.queryHash),[p]=S.useState(()=>new e(i,s)),f=p.getOptimisticResult(s),h=!n&&t.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(x=>{const C=h?p.subscribe(An.batchCalls(x)):So;return p.updateResult(),C},[p,h]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),S.useEffect(()=>{p.setOptions(s)},[s,p]),zY(s,f))throw Uj(s,p,o);if(NY({result:f,errorResetBoundary:o,throwOnError:s.throwOnError,query:a,suspense:s.suspense}))throw f.error;if((b=(v=i.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||b.call(v,s,f),s.experimental_prefetchInRender&&!Yc&&DY(f,n)){const x=l?Uj(s,p,o):a==null?void 0:a.promise;x==null||x.catch(So).finally(()=>{p.updateResult()})}return s.notifyOnChangeProps?f:p.trackResult(f)}function FY(t,e){return $Y(t,xY)}function kI(t,e){const r=ou(),[n]=S.useState(()=>new EY(r,t));S.useEffect(()=>{n.setOptions(t)},[n,t]);const o=S.useSyncExternalStore(S.useCallback(s=>n.subscribe(An.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=S.useCallback((s,a)=>{n.mutate(s,a).catch(So)},[n]);if(o.error&&KS(n.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:i,mutateAsync:o.mutate}}const op=()=>FY({queryKey:["products"],queryFn:async()=>{const{data:t,error:e}=await Ee.from("products").select("*").order("created_at",{ascending:!1});if(e)throw e;return t}}),BY=t=>u.jsxs(eh,{...t,viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"currentColor",d:"M3 11v8c0 .5.5 1 1 1h14c.5 0 1-.5 1-1v-8H3z"}),u.jsx("path",{fill:"currentColor",d:"M5 11V9c0-1.7 1.3-3 3-3h6c1.7 0 3 1.3 3 3v2l2-4c0-2.2-1.8-4-4-4H7C4.8 4 3 5.8 3 8l2 3z"}),u.jsx("ellipse",{fill:"currentColor",cx:"14",cy:"5",rx:"4",ry:"2.5",transform:"rotate(-20 14 5)"}),u.jsx("path",{fill:"currentColor",d:"M6 11c1 0 1.5-1 2.5-1s1.5 1 2.5 1 1.5-1 2.5-1 1.5 1 2.5 1v-1c-1 0-1.5-1-2.5-1s-1.5 1-2.5 1-1.5-1-2.5-1-1.5 1-2.5 1v1z",opacity:"0.6"}),u.jsx("circle",{fill:"currentColor",cx:"10",cy:"15",r:"1.2",opacity:"0.4"}),u.jsx("rect",{fill:"currentColor",x:"9.4",y:"15.5",width:"1.2",height:"2",opacity:"0.4"}),u.jsx("path",{fill:"currentColor",d:"M4 6l.8-2L4 2l-.8 2L1 4l2.2.8L4 6z"}),u.jsx("path",{fill:"currentColor",d:"M21 9l.6-1.5.6 1.5 1.5.6-1.5.6-.6 1.5-.6-1.5L19 9.6l1.5-.6z"}),u.jsx("path",{fill:"currentColor",d:"M7 3l.4-1L7 1l-.4 1L5.5 2l1.1.4.4 1z"})]}),Vj=oe("div")(({theme:t})=>({position:"relative",borderRadius:"50px",backgroundColor:q(t.palette.common.white,.15),"&:hover":{backgroundColor:q(t.palette.common.white,.25),border:`1px solid ${q(t.palette.secondary.main,.5)}`},marginRight:t.spacing(2),marginLeft:0,width:"100%",[t.breakpoints.up("sm")]:{marginLeft:t.spacing(3),width:"auto"},border:`1px solid ${q(t.palette.common.white,.2)}`,transition:"all 0.3s ease",display:"flex",alignItems:"center"})),qj=oe("div")(({theme:t})=>({padding:t.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",color:q(t.palette.common.white,.8),zIndex:1})),Gj=oe(D0)(({theme:t})=>({color:t.palette.common.white,"& .MuiInputBase-input":{padding:t.spacing(1,1,1,0),paddingLeft:`calc(1em + ${t.spacing(4)})`,transition:t.transitions.create(["width","background-color"]),width:"100%",textTransform:"none",fontFamily:'"Newsreader", serif',fontSize:"0.95rem",letterSpacing:"0.03em",fontWeight:500,[t.breakpoints.up("md")]:{width:"20ch","&:focus":{width:"30ch"}},"&::placeholder":{color:q(t.palette.common.white,.7),fontStyle:"italic",opacity:1}}}));function WY({children:t}){const e=VG();return u.jsx(SM,{appear:!1,direction:"down",in:!e,children:t})}const HY=({setView:t,currentView:e,onSearch:r,onProductSelect:n,user:o,userProfile:i,isAdmin:s,onLogout:a,isWarhammer:l,onToggleTheme:p})=>{const f=Yt(),{data:h}=op(),{totalItems:m}=Jd(),[y,v]=S.useState(""),[b,x]=S.useState(!1),[C,E]=S.useState(null),[j,T]=S.useState(!1),[k,A]=S.useState(-1),_=S.useRef(null),I=e===be.CHECKOUT,P=G=>{o?E(G.currentTarget):t(be.LOGIN)},N=()=>{E(null)},B=()=>{T(!j)},O=S.useMemo(()=>{if(!y.trim())return[];const G=y.toLowerCase();return h.filter(W=>W.name.toLowerCase().includes(G)||W.category.toLowerCase().includes(G)).slice(0,5)},[y,h]),D=G=>{G.key==="ArrowDown"?(G.preventDefault(),A(W=>Math.min(W+1,O.length-1))):G.key==="ArrowUp"?(G.preventDefault(),A(W=>Math.max(W-1,-1))):G.key==="Enter"&&(G.preventDefault(),k>=0&&k<O.length?U(O[k].id):(r(y),x(!1),G.target.blur()))},F=()=>{r(y)},U=G=>{n(G),x(!1),v(""),A(-1)};Gt.useEffect(()=>{A(-1)},[y]);const V=u.jsxs(L,{onClick:B,sx:{textAlign:"center",height:"100%",overflowY:"auto",bgcolor:l?"#0b1120":"#2c0b0e",backgroundImage:l?"linear-gradient(180deg, #0b1120 0%, #0c4a6e 100%)":"linear-gradient(180deg, #2c0b0e 0%, #5c1c1c 100%)",color:"white"},children:[u.jsx($,{variant:"h6",sx:{my:2,fontFamily:"Cinzel, serif",fontWeight:"bold",letterSpacing:2,color:l?"#d32f2f":"#2e7fc3",filter:`drop-shadow(0 0 5px ${l?"rgba(211, 47, 47, 0.5)":"rgba(46, 127, 195, 0.5)"})`},children:"MEN"}),u.jsx(L,{sx:{px:2,mb:2,position:"relative"},children:u.jsxs(Vj,{onClick:G=>G.stopPropagation(),children:[u.jsx(qj,{children:u.jsx(El,{})}),u.jsx(Gj,{placeholder:"Buscar...",inputProps:{"aria-label":"search"},value:y,onChange:G=>v(G.target.value),onKeyDown:G=>{G.key==="Enter"&&(r(y),T(!1))}})]})}),u.jsxs(Ni,{children:[u.jsx(un,{disablePadding:!0,children:u.jsxs(bo,{onClick:p,children:[u.jsx(Lo,{sx:{color:"secondary.main"},children:l?u.jsx(xb,{}):u.jsx(bb,{})}),u.jsx(jn,{primary:l?"Cambiar a Fantasa":"Cambiar a Grimdark",primaryTypographyProps:{fontFamily:'"Newsreader", serif',fontSize:"1.05rem"}})]})}),u.jsx(un,{disablePadding:!0,children:u.jsx(bo,{onClick:()=>t(be.CATALOG),children:u.jsx(jn,{primary:"CATLOGO",primaryTypographyProps:{fontFamily:'"Newsreader", serif',fontSize:"1.05rem",color:e===be.CATALOG?l?"#d32f2f":"#2e7fc3":"inherit",fontWeight:e===be.CATALOG?"bold":"normal"}})})}),u.jsx(un,{disablePadding:!0,children:u.jsxs(bo,{onClick:()=>t(be.HOW_TO_BUY),children:[u.jsx(Lo,{children:u.jsx(rI,{sx:{color:"secondary.main"}})}),u.jsx(jn,{primary:"CMO COMPRAR",primaryTypographyProps:{fontFamily:'"Newsreader", serif',fontSize:"1.05rem",color:e===be.HOW_TO_BUY?l?"#d32f2f":"#2e7fc3":"inherit",fontWeight:e===be.HOW_TO_BUY?"bold":"normal"}})]})}),u.jsx(un,{disablePadding:!0,children:u.jsxs(bo,{onClick:()=>t(be.NEW_ADVENTURER),children:[u.jsx(Lo,{children:u.jsx(VS,{sx:{color:"secondary.main"}})}),u.jsx(jn,{primary:"GUA DEL AVENTURERO",primaryTypographyProps:{fontFamily:'"Newsreader", serif',fontSize:"1.05rem",color:e===be.NEW_ADVENTURER?l?"#d32f2f":"#2e7fc3":"inherit",fontWeight:e===be.NEW_ADVENTURER?"bold":"normal"}})]})}),s&&u.jsx(un,{disablePadding:!0,children:u.jsx(bo,{onClick:()=>t(be.ADMIN),children:u.jsx(jn,{primary:"ADMIN",primaryTypographyProps:{fontFamily:'"Newsreader", serif'}})})}),o?u.jsxs(u.Fragment,{children:[u.jsxs(oy,{sx:{bgcolor:"transparent",color:"secondary.main",mt:2,fontFamily:'"Newsreader", serif',fontSize:"0.9rem",fontStyle:"italic"},children:["Sesin iniciada como ",(i==null?void 0:i.username)||o]}),u.jsx(un,{disablePadding:!0,children:u.jsxs(bo,{onClick:()=>t(be.PROFILE),children:[u.jsx(Lo,{children:i!=null&&i.avatar_url?u.jsx(ai,{src:i.avatar_url,sx:{width:24,height:24,border:1,borderColor:"secondary.main"}}):u.jsx(zg,{sx:{color:"secondary.main"}})}),u.jsx(jn,{primary:"Mi Perfil",primaryTypographyProps:{fontFamily:'"Newsreader", serif'}})]})}),u.jsx(un,{disablePadding:!0,children:u.jsxs(bo,{onClick:()=>t(be.WISHLIST),children:[u.jsx(Lo,{children:u.jsx(ih,{sx:{color:"secondary.main"}})}),u.jsx(jn,{primary:"Lista de Deseos",primaryTypographyProps:{fontFamily:'"Newsreader", serif'}})]})}),u.jsx(un,{disablePadding:!0,children:u.jsxs(bo,{onClick:()=>t(be.ORDERS),children:[u.jsx(Lo,{children:u.jsx(Aj,{sx:{color:"secondary.main"}})}),u.jsx(jn,{primary:"Pedidos",primaryTypographyProps:{fontFamily:'"Newsreader", serif'}})]})}),u.jsx(un,{disablePadding:!0,children:u.jsxs(bo,{onClick:()=>{a&&a()},children:[u.jsx(Lo,{children:u.jsx(Mj,{color:"error"})}),u.jsx(jn,{primary:"Cerrar Sesin",sx:{color:"error.main"},primaryTypographyProps:{fontFamily:'"Newsreader", serif'}})]})})]}):u.jsx(un,{disablePadding:!0,children:u.jsx(bo,{onClick:()=>t(be.LOGIN),sx:{mt:2,bgcolor:"secondary.main",color:"background.default","&:hover":{bgcolor:"primary.main"}},children:u.jsx(jn,{primary:"INICIAR SESIN / UNIRSE",sx:{textAlign:"center",fontWeight:"bold"},primaryTypographyProps:{fontFamily:'"Newsreader", serif'}})})})]})]});return u.jsxs(u.Fragment,{children:[u.jsx(WY,{children:u.jsx(bB,{position:"fixed",sx:{bgcolor:"transparent",backdropFilter:"blur(4px)",borderBottom:"none",boxShadow:"none",transition:"all 0.5s ease",zIndex:f.zIndex.drawer+1,mt:0},elevation:0,children:u.jsx(fr,{maxWidth:"xl",sx:{px:{xs:1,sm:2,md:3}},children:u.jsxs(gG,{disableGutters:!0,sx:{height:90,justifyContent:"space-between"},children:[u.jsx(L,{sx:{display:"flex",alignItems:"center",width:{xs:"auto",sm:"250px"}},children:u.jsx(Ye,{onClick:()=>t(be.HOME,{resetScroll:!0}),sx:{color:"secondary.main",display:"flex",alignItems:"center",gap:1,transition:"transform 0.1s ease","&:active":{transform:"scale(0.95)"},"&:hover":{bgcolor:"transparent",opacity:.9}},children:I?u.jsx(bb,{fontSize:"large",sx:{filter:"drop-shadow(0 0 2px white)"}}):u.jsx(L,{component:"img",src:l?"https://ydcbptnxlslljccwedwi.supabase.co/storage/v1/object/public/assets/guide/logoTextoSolo.svg":"https://ydcbptnxlslljccwedwi.supabase.co/storage/v1/object/public/assets/guide/logoTextoSolo_fantasy.svg",alt:"Soulforge",sx:{height:{xs:32,sm:64},width:"auto",filter:l?"drop-shadow(0 0 1px white) drop-shadow(0 0 2px rgba(255,255,255,0.5))":"drop-shadow(0 2px 4px rgba(0,0,0,0.5))"}})})}),!I&&u.jsx(L,{ref:_,sx:{display:{xs:"none",md:"flex"},flexGrow:1,justifyContent:"center",maxWidth:"600px",mx:4},children:u.jsx(gM,{onClickAway:()=>x(!1),children:u.jsx(L,{sx:{width:"100%"},children:u.jsxs(Vj,{children:[u.jsx(qj,{children:u.jsx(El,{})}),u.jsx(Gj,{placeholder:"Buscar en los archivos...",inputProps:{"aria-label":"search"},value:y,onChange:G=>v(G.target.value),onFocus:()=>x(!0),onKeyDown:D,sx:{width:"100%"}}),u.jsx(pt,{size:"small",sx:{position:"absolute",right:4,top:"50%",transform:"translateY(-50%)",color:"secondary.main"},onClick:F,children:u.jsx(zh,{fontSize:"small"})}),b&&y.trim().length>0&&u.jsx(St,{sx:{position:"absolute",top:"100%",left:0,right:0,mt:1,zIndex:10,bgcolor:"rgba(20, 20, 20, 0.95)",backdropFilter:"blur(10px)",border:1,borderColor:"rgba(255, 255, 255, 0.1)",borderRadius:"16px",overflow:"hidden",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.5)"},children:u.jsx(Ni,{dense:!0,children:O.length>0?u.jsxs(u.Fragment,{children:[O.map((G,W)=>u.jsx(un,{disablePadding:!0,children:u.jsxs(bo,{selected:W===k,onClick:()=>U(G.id),sx:{bgcolor:W===k?"rgba(255, 255, 255, 0.15)":"transparent","&:hover":{bgcolor:"rgba(255, 255, 255, 0.1)"}},children:[u.jsx(L,{component:"img",src:G.image,sx:{width:40,height:40,mr:2,objectFit:"cover",borderRadius:1}}),u.jsx(jn,{primary:G.name,primaryTypographyProps:{color:"text.primary",fontWeight:500,fontFamily:'"Newsreader", serif'},secondary:u.jsxs($,{variant:"caption",sx:{color:"secondary.main"},children:[G.category," "," ",G.price," GP"]})})]})},G.id)),u.jsx(un,{disablePadding:!0,children:u.jsx(bo,{onClick:F,sx:{justifyContent:"center",py:1.5,bgcolor:"rgba(255, 255, 255, 0.02)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.05)"}},children:u.jsx($,{variant:"caption",sx:{color:"secondary.main",fontWeight:"bold",letterSpacing:1},children:"VER TODOS LOS RESULTADOS"})})})]}):u.jsx(un,{children:u.jsx(jn,{secondary:`No se encontraron artefactos que coincidan con "${y}"`,secondaryTypographyProps:{sx:{fontStyle:"italic",textAlign:"center",color:"text.secondary"}}})})})})]})})})}),u.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2,width:"auto",justifyContent:"flex-end"},children:[!I&&u.jsx(L,{sx:{display:{xs:"none",lg:"flex"},gap:1,mr:2,alignItems:"center"},children:[{label:"Catlogo",view:be.CATALOG,icon:null},{label:"Cmo Comprar",view:be.HOW_TO_BUY,icon:null},{label:"Gua",view:be.NEW_ADVENTURER,icon:null},{label:"La Taberna",view:be.FORUM_HOME,icon:null},...s?[{label:"Admin",view:be.ADMIN,icon:u.jsx(xb,{sx:{fontSize:16,mb:.5,color:l?"inherit":"#e65100"}})}]:[]].map(G=>u.jsx(Ye,{onClick:()=>t(G.view,{resetScroll:!0}),startIcon:G.icon,sx:{color:e===G.view?l?"#0ea5e9":"#d41111":"white",position:"relative",fontFamily:'"Newsreader", serif',fontWeight:600,fontSize:"0.95rem",textTransform:"none",letterSpacing:"0.02em",px:1.5,minWidth:"auto",textShadow:"0 1px 3px rgba(0,0,0,0.8)",transition:"all 0.1s ease","&:active":{transform:"scale(0.95)"},"&:hover":{color:l?"#38bdf8":"#e8c978",bgcolor:"transparent",textShadow:l?"0 0 8px rgba(14, 165, 233, 0.8)":"0 0 8px rgba(197, 160, 89, 0.8)"}},children:G.label},G.label))}),!I&&u.jsxs(u.Fragment,{children:[u.jsx(dr,{title:l?"Volver a Fantasa":"Activar Protocolo Grimdark",arrow:!0,children:u.jsx(pt,{onClick:p,color:"inherit",children:l?u.jsx(xb,{}):u.jsx(bb,{})})}),u.jsx(dr,{title:"Tu Botn",arrow:!0,children:u.jsx(pt,{onClick:()=>t(be.CART),color:"inherit",children:u.jsx(FW,{badgeContent:m,color:"primary",children:u.jsx(BY,{})})})}),u.jsxs(L,{sx:{flexGrow:0,display:{xs:"none",md:"flex"}},children:[u.jsx(dr,{title:o?"Mi Cuenta":"Iniciar Sesin",arrow:!0,children:u.jsx(pt,{onClick:P,sx:{p:0,ml:1,border:o?1:0,borderColor:"secondary.main",borderRadius:"50%",overflow:"hidden"},children:i!=null&&i.avatar_url?u.jsx(ai,{src:i.avatar_url,sx:{width:32,height:32}}):u.jsx(L,{sx:{p:.5,display:"flex"},children:u.jsx(zg,{sx:{color:o?"secondary.main":"inherit"}})})})}),u.jsxs(AM,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:C,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!C,onClose:N,children:[u.jsxs(L,{sx:{px:2,py:1,borderBottom:1,borderColor:"divider"},children:[u.jsx($,{variant:"caption",color:"text.secondary",children:"Sesin iniciada como"}),u.jsx($,{variant:"subtitle2",children:(i==null?void 0:i.username)||o})]}),u.jsxs(Dr,{onClick:()=>{t(be.PROFILE),N()},children:[u.jsx(Lo,{children:u.jsx(zg,{fontSize:"small"})}),u.jsx($,{textAlign:"center",children:"Mi Perfil"})]}),u.jsxs(Dr,{onClick:()=>{t(be.WISHLIST),N()},children:[u.jsx(Lo,{children:u.jsx(ih,{fontSize:"small"})}),u.jsx($,{textAlign:"center",children:"Mi Lista de Deseos"})]}),u.jsxs(Dr,{onClick:()=>{t(be.ORDERS),N()},children:[u.jsx(Lo,{children:u.jsx(Aj,{fontSize:"small"})}),u.jsx($,{textAlign:"center",children:"Mis Pedidos"})]}),u.jsxs(Dr,{onClick:()=>{a&&a(),N()},children:[u.jsx(Lo,{children:u.jsx(Mj,{fontSize:"small",color:"error"})}),u.jsx($,{textAlign:"center",color:"error",children:"Cerrar Sesin"})]})]})]})]}),u.jsx(pt,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:B,sx:{display:{md:"none"},ml:1,color:"secondary.main"},children:u.jsx(NK,{})})]})]})})})}),u.jsx(L,{component:"nav",children:u.jsx(EM,{anchor:"right",variant:"temporary",open:j,onClose:B,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:280,bgcolor:"transparent",borderRight:"1px solid rgba(197, 160, 89, 0.2)"}},children:V})})]})},EI=({children:t,setView:e,currentView:r,onSearch:n,onProductSelect:o,user:i,userProfile:s,isAdmin:a,onLogout:l,isWarhammer:p,onToggleTheme:f})=>{const h=r===be.CHECKOUT;return u.jsxs(L,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh",color:"text.primary"},children:[u.jsx(HY,{setView:e,currentView:r,onSearch:n,onProductSelect:o,user:i,userProfile:s,isAdmin:a,onLogout:l,isWarhammer:p,onToggleTheme:f}),u.jsx(L,{component:"main",sx:{flexGrow:1},children:t}),!h&&u.jsx(L,{component:"footer",sx:{bgcolor:"background.default",borderTop:1,borderColor:"secondary.main",py:8,px:2,mt:"auto",position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"2px",background:m=>`linear-gradient(90deg, transparent, ${m.palette.secondary.main}, transparent)`}},children:u.jsxs(fr,{maxWidth:"lg",children:[u.jsxs(L,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr",md:"2fr 1fr 1fr 1fr"},gap:6},children:[u.jsxs(L,{children:[u.jsx($,{variant:"h5",color:"secondary.main",gutterBottom:!0,sx:{fontFamily:"Cinzel, serif",fontWeight:700,letterSpacing:4},children:"SOULFORGE"}),u.jsx($,{variant:"body2",color:"text.secondary",sx:{maxWidth:300,lineHeight:1.8,fontStyle:"italic",mb:4},children:"Donde las leyendas se forjan en resina de alta fidelidad. Artefactos diseados para elevar tus partidas de rol y colecciones."}),u.jsxs(wt,{direction:"row",spacing:2,children:[u.jsx(pt,{component:"a",href:"https://www.instagram.com/soulforge.miniatures",target:"_blank",rel:"noopener noreferrer",sx:{color:"secondary.main",border:1,borderColor:"rgba(197, 160, 89, 0.3)","&:hover":{color:"common.white",bgcolor:"secondary.main",borderColor:"secondary.main"}},children:u.jsx(RK,{})}),u.jsx(pt,{component:"a",href:`https://wa.me/543815621699?text=${encodeURIComponent("Saludos desde el portal de Soulforge. Necesito asistencia del Gremio...")}`,target:"_blank",rel:"noopener noreferrer",sx:{color:"secondary.main",border:1,borderColor:"rgba(197, 160, 89, 0.3)","&:hover":{color:"common.white",bgcolor:"secondary.main",borderColor:"secondary.main"}},children:u.jsx(H0,{})})]})]}),u.jsxs(L,{children:[u.jsx($,{variant:"subtitle2",color:"common.white",gutterBottom:!0,sx:{letterSpacing:2,fontWeight:"bold",mb:2},children:"EL REINO"}),u.jsx(Ni,{dense:!0,disablePadding:!0,children:[{text:"Catlogo de Hroes",view:be.CATALOG},{text:"La Taberna (Mesa de Rol)",view:be.FORUM_HOME},{text:"Bestiario LFG",view:be.FORUM_LFG}].map(m=>u.jsx(un,{disablePadding:!0,sx:{py:.75},children:u.jsx($,{variant:"body2",onClick:()=>e(m.view),sx:{color:"text.secondary",cursor:"pointer",transition:"color 0.2s","&:hover":{color:"primary.main"}},children:m.text})},m.text))})]}),u.jsxs(L,{children:[u.jsx($,{variant:"subtitle2",color:"common.white",gutterBottom:!0,sx:{letterSpacing:2,fontWeight:"bold",mb:2},children:"SABIDURA"}),u.jsx(Ni,{dense:!0,disablePadding:!0,children:[{text:"Gua de Compra",view:be.HOW_TO_BUY},{text:"Iniciacin al Rol",view:be.NEW_ADVENTURER},{text:"Soporte del Gremio",view:be.FEEDBACK}].map(m=>u.jsx(un,{disablePadding:!0,sx:{py:.75},children:u.jsx($,{variant:"body2",onClick:()=>e(m.view),sx:{color:"text.secondary",cursor:"pointer",transition:"color 0.2s","&:hover":{color:"primary.main"}},children:m.text})},m.text))})]}),u.jsxs(L,{children:[u.jsx($,{variant:"subtitle2",color:"common.white",gutterBottom:!0,sx:{letterSpacing:2,fontWeight:"bold",mb:2},children:"CUENTA"}),u.jsx(Ni,{dense:!0,disablePadding:!0,children:[{text:"Mi Perfil",view:be.PROFILE},{text:"Lista de Deseos",view:be.WISHLIST},{text:"Historial de Pedidos",view:be.ORDERS}].map(m=>u.jsx(un,{disablePadding:!0,sx:{py:.75},children:u.jsx($,{variant:"body2",onClick:()=>e(m.view),sx:{color:"text.secondary",cursor:"pointer",transition:"color 0.2s","&:hover":{color:"primary.main"}},children:m.text})},m.text))})]})]}),u.jsxs($,{variant:"caption",display:"block",align:"center",sx:{mt:10,pt:4,borderTop:1,borderColor:"rgba(197, 160, 89, 0.1)",color:"text.secondary",letterSpacing:2,opacity:.6},children:[" ",new Date().getFullYear()," Soulforge Miniatures. Forjado con pasin por aventureros.",u.jsx("br",{}),"No es un producto oficial de Wizards of the Coast."]})]})}),u.jsx(nY,{phoneNumber:"543815621699",message:"Saludos desde el portal de Soulforge. Necesito asistencia del Gremio..."})]})},Jp="https://ydcbptnxlslljccwedwi.supabase.co/storage/v1/object/public/assets/banners/",Hu=[{image:`${Jp}home_banner_pathfinder.jpg`,subtitle:"Dungeons & Dragons",title:"Aventuras ",titleHighlight:"picas",titleSuffix:"",description:"Todo lo que necesitas para tu prxima campaa.",cta:"Explorar D&D"},{image:`${Jp}home_banner_dnd.png`,subtitle:"Pathfinder",title:"Senda del ",titleHighlight:"Explorador",titleSuffix:"",description:"Criaturas y hroes para el mundo de Golarion.",cta:"Ver Pathfinder"},{image:`${Jp}home_banner_warhammer.png`,subtitle:"Warhammer 40k",title:"En el ",titleHighlight:"Futuro Sombro",titleSuffix:"",description:"Solo hay guerra. Prepara tu ejrcito.",cta:"Por el Emperador"},{image:`${Jp}home_banner_anime.png`,subtitle:"Coleccin Anime",title:"Hroes de ",titleHighlight:"Leyenda",titleSuffix:"",description:"Figuras icnicas del anime esculpidas con detalle.",cta:"Ver Coleccin"},{image:`${Jp}home_banner_starwars.png`,subtitle:"Star Wars",title:"Una Galaxia ",titleHighlight:"Lejana",titleSuffix:"",description:"nete a la Rebelin o al Imperio con estas miniaturas.",cta:"Que la fuerza te acompae"}],UY="linear-gradient(to top, rgba(0, 0, 0, 0.6) 0%, rgba(0, 0, 0, 0.1) 40%, rgba(0, 0, 0, 0) 100%)",Kj=Zr`
  0%, 100% { opacity: 0.1; }
  50% { opacity: 0.3; }
`,VY=Zr`
  0%, 100% { transform: translateY(0) rotate(0deg); opacity: 0.3; }
  50% { transform: translateY(-20px) rotate(180deg); opacity: 0.7; }
`,Yj=Zr`
  0% { opacity: 0; transform: translateY(30px); filter: blur(10px); }
  100% { opacity: 1; transform: translateY(0); filter: blur(0); }
`,qY=Zr`
  0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
  40% { transform: translateY(-10px); }
  60% { transform: translateY(-5px); }
`,GY=({setView:t})=>{const[e,r]=S.useState(!1),[n,o]=S.useState(0);S.useEffect(()=>{r(!0)},[]),S.useEffect(()=>{const a=setInterval(()=>{o(l=>(l+1)%Hu.length)},1e4);return()=>clearInterval(a)},[]);const i=()=>{o(a=>(a+1)%Hu.length)},s=()=>{o(a=>(a-1+Hu.length)%Hu.length)};return u.jsx(L,{sx:{py:0},children:u.jsxs(fr,{maxWidth:!1,disableGutters:!0,children:[u.jsxs(L,{sx:{position:"relative",overflow:"hidden",marginTop:"50px",height:"100dvh",minHeight:"100dvh",bgcolor:"common.black",maskImage:"linear-gradient(to bottom, black 85%, transparent 100%), url('https://ydcbptnxlslljccwedwi.supabase.co/storage/v1/object/public/assets/banners/home_banner.png')",maskSize:"10% 10%, 100% 100%",maskPosition:"top, bottom",maskRepeat:"no-repeat, no-repeat",WebkitMaskImage:"linear-gradient(to bottom, black 85%, transparent 100%), url('https://ydcbptnxlslljccwedwi.supabase.co/storage/v1/object/public/assets/banners/home_banner.png')",WebkitMaskSize:"10% 10%, 100% 100%",WebkitMaskPosition:"top, bottom",WebkitMaskRepeat:"no-repeat, no-repeat","&::before":{content:'""',position:"absolute",inset:2,background:"radial-gradient(ellipse at 100% 50%, rgba(197, 160, 89, 0.1) 10%, transparent 50%)",pointerEvents:"none",zIndex:2}},children:[[...Array(6)].map((a,l)=>u.jsx(L,{sx:{position:"absolute",width:8,height:8,bgcolor:"secondary.main",borderRadius:"50%",top:`${10+l*12}%`,left:`${10+l*15}%`,animation:`${VY} ${3+l*.5}s ease-in-out infinite`,animationDelay:`${l*.3}s`,zIndex:3,pointerEvents:"none",boxShadow:"0 0 10px rgba(197, 160, 89, 0.5)"}},l)),Hu.map((a,l)=>u.jsxs(L,{sx:{position:"absolute",inset:0,transition:"opacity 4s ease-in-out",opacity:l===n?1:0,zIndex:l===n?1:0,display:"flex",flexDirection:"column",justifyContent:"flex-end",p:{xs:2,sm:3,md:10,lg:20},pb:{xs:14,sm:18,md:10,lg:20}},children:[u.jsx(L,{component:"img",src:a.image,alt:a.title,sx:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover",zIndex:-1},loading:l===0?"eager":"lazy",fetchpriority:l===0?"high":"auto"}),u.jsx(L,{sx:{position:"absolute",inset:0,background:UY,zIndex:-1}}),u.jsx(L,{sx:{position:"absolute",top:"30%",left:"80%",right:"80%",transform:"translate(-50%, -50%)",zIndex:0,pointerEvents:"none",opacity:.4,animation:`${Kj} 4s ease-in-out infinite`,display:{xs:"none",md:"block"}},children:u.jsx(L,{component:"img",src:"https://ydcbptnxlslljccwedwi.supabase.co/storage/v1/object/public/assets/guide/YunqueSolo.svg",alt:"SoulForge Logo",sx:{width:200,height:200,opacity:.4,filter:"brightness(100%) saturate(100%) invert(88%) sepia(0%) saturate(1217%) hue-rotate(359deg) brightness(88%) contrast(92%)",animation:`${Kj} 3s ease-in-out infinite`}})}),u.jsxs(L,{sx:{maxWidth:"md",position:"relative",zIndex:10,transition:"all 1s ease-out",transitionDelay:"300ms",opacity:e&&l===n?1:0,transform:e&&l===n?"translateY(0)":"translateY(48px)"},children:[u.jsx($,{variant:"h6",component:"h2",sx:{fontStyle:"italic",color:"secondary.main",mb:1,letterSpacing:3,textTransform:"uppercase",animation:e&&l===n?`${Yj} 0.8s ease-out forwards`:"none",animationDelay:"0.2s",opacity:0},children:a.subtitle}),u.jsxs($,{variant:"h2",component:"h1",sx:{fontWeight:900,color:"common.white",mb:3,textShadow:"0 4px 20px rgba(0,0,0,0.7), 0 0 40px rgba(197, 160, 89, 0.2)",animation:e&&l===n?`${Yj} 0.8s ease-out forwards`:"none",animationDelay:"0.4s",opacity:0,fontSize:{xs:"2rem",sm:"2.5rem",md:"3.75rem"},lineHeight:{xs:1.1,md:1.2}},children:[a.title,u.jsx($,{component:"span",variant:"inherit",color:"primary",sx:{fontStyle:"italic",textShadow:p=>`
                          0 0 30px rgba(212, 17, 17, 0.5),
                          -1px -1px 0 #fff,  
                           1px -1px 0 #fff,
                          -1px  1px 0 #fff,
                           1px  1px 0 #fff,
                           0 0 8px rgba(255, 255, 255, 0.8)
                        `},children:a.titleHighlight}),a.titleSuffix]}),u.jsx($,{variant:"h5",component:"p",sx:{color:"grey.300",mb:5,maxWidth:600,fontSize:{xs:"1rem",md:"1.5rem"}},children:a.description}),u.jsx(Ye,{onClick:()=>t(be.CATALOG),variant:"contained",color:"primary",size:"large",sx:{px:{xs:3,sm:4},py:2,fontWeight:"bold",letterSpacing:2,position:"relative",border:"1px solid",borderColor:"primary.light"},children:a.cta})]})]},l)),u.jsxs(L,{sx:{position:"absolute",bottom:56,left:"50%",transform:"translateX(-50%)",zIndex:30,display:"flex",gap:1},children:[u.jsx(pt,{onClick:s,size:"small",name:"Previous Slide","aria-label":"Previous Slide",sx:{border:1,borderColor:"rgba(197, 160, 89, 0.3)",bgcolor:"rgba(0,0,0,0.4)",color:"secondary.main",width:32,height:32,"&:hover":{bgcolor:"secondary.main",color:"common.black"}},children:u.jsx(KM,{fontSize:"small"})}),u.jsx(pt,{onClick:i,size:"small",name:"Next Slide","aria-label":"Next Slide",sx:{border:1,borderColor:"rgba(197, 160, 89, 0.3)",bgcolor:"rgba(0,0,0,0.4)",color:"secondary.main",width:32,height:32,"&:hover":{bgcolor:"secondary.main",color:"common.black"}},children:u.jsx(YM,{fontSize:"small"})})]}),u.jsx(L,{sx:{position:"absolute",bottom:32,left:"50%",transform:"translateX(-50%)",zIndex:30,display:"flex",gap:1},children:Hu.map((a,l)=>u.jsx(L,{onClick:()=>o(l),sx:{height:6,borderRadius:4,cursor:"pointer",transition:"all 0.5s",width:l===n?32:8,bgcolor:l===n?"secondary.main":"rgba(255,255,255,0.3)",boxShadow:l===n?"0 0 10px #c5a059":"none","&:hover":{bgcolor:"rgba(255,255,255,0.6)"}}},l))})]}),u.jsxs(L,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:2,mb:4,position:"relative",zIndex:40,animation:"pulse 2s infinite"},children:[u.jsx($,{variant:"body2",sx:{color:"secondary.main",mb:1,letterSpacing:"0.2em",textTransform:"uppercase",fontSize:"0.7rem",textShadow:"0 0 10px rgba(0,0,0,0.5)"},children:"Explorar ms"}),u.jsx(US,{sx:{fontSize:32,color:"secondary.main",animation:`${qY} 2s infinite`,cursor:"pointer",filter:"drop-shadow(0 0 5px rgba(0,0,0,0.5))"},onClick:()=>window.scrollTo({top:800,behavior:"smooth"})})]})]})})},TI=Zr`
  0%, 100% { opacity: 0.6; filter: brightness(1); }
  50% { opacity: 1; filter: brightness(1.2); }
`,KY=Zr`
  0% { background-position: -200% center; }
  100% { background-position: 200% center; }
`;Zr`
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-4px); }
`;const XS=({size:t=16,thickness:e=2,color:r,offset:n=-8})=>{const o=Yt(),i=r||o.palette.secondary.main,s={position:"absolute",width:t,height:t,borderColor:i,pointerEvents:"none"};return u.jsxs(u.Fragment,{children:[u.jsx(L,{sx:{...s,top:n,left:n,borderTop:e,borderLeft:e}}),u.jsx(L,{sx:{...s,top:n,right:n,borderTop:e,borderRight:e}}),u.jsx(L,{sx:{...s,bottom:n,left:n,borderBottom:e,borderLeft:e}}),u.jsx(L,{sx:{...s,bottom:n,right:n,borderBottom:e,borderRight:e}})]})},ah=({title:t,description:e,icon:r,rightElement:n})=>u.jsxs(L,{sx:{mb:6,pb:4,borderBottom:1,borderColor:o=>q(o.palette.secondary.main,.2),display:"flex",alignItems:{md:"flex-end"},justifyContent:"space-between",flexDirection:{xs:"column",md:"row"},gap:2},children:[u.jsxs(wt,{direction:"row",spacing:2,alignItems:"center",children:[u.jsx(L,{sx:{width:56,height:56,borderRadius:"50%",bgcolor:o=>q(o.palette.secondary.main,.1),border:1,borderColor:o=>q(o.palette.secondary.main,.3),display:"flex",alignItems:"center",justifyContent:"center",color:"secondary.main"},children:Gt.cloneElement(r,{sx:{fontSize:28}})}),u.jsxs(L,{children:[u.jsx($,{variant:"h3",sx:{fontWeight:"bold",fontStyle:"italic",color:"common.white",mb:.5},children:t}),e&&u.jsx($,{variant:"caption",sx:{color:o=>q(o.palette.secondary.main,.6),textTransform:"uppercase",letterSpacing:2,fontWeight:"bold",display:"block"},children:e})]})]}),n&&u.jsx(L,{sx:{mt:{xs:2,md:0}},children:n})]}),QS=oe(St)(({theme:t})=>({padding:t.spacing(4),backgroundColor:q(t.palette.background.paper,.9),border:`2px solid ${t.palette.secondary.main}`,position:"relative",borderRadius:t.shape.borderRadius,boxShadow:`0 0 50px ${q(t.palette.common.black,.5)}, 
              inset 0 0 30px ${q(t.palette.common.black,.2)}`,"&::before":{content:'""',position:"absolute",inset:-6,border:`1px solid ${q(t.palette.secondary.main,.3)}`,borderRadius:t.shape.borderRadius,pointerEvents:"none"}})),YY=({variant:t="horizontal",glowing:e=!1})=>{const r=Yt();return t==="section"?u.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:3,py:4,position:"relative"},children:[u.jsx(L,{sx:{height:1,width:100,background:`linear-gradient(to right, transparent, ${r.palette.secondary.main})`}}),u.jsx(L,{sx:{position:"relative",color:r.palette.secondary.main,animation:e?`${TI} 3s ease-in-out infinite`:"none","&::before, &::after":{content:'"\\2726"',position:"absolute",top:"50%",transform:"translateY(-50%)",fontSize:8,opacity:.5},"&::before":{left:-16},"&::after":{right:-16}},children:u.jsx($,{sx:{fontSize:20,lineHeight:1},children:""})}),u.jsx(L,{sx:{height:1,width:100,background:`linear-gradient(to left, transparent, ${r.palette.secondary.main})`}})]}):u.jsx(L,{sx:{height:1,width:"100%",background:`linear-gradient(to right, transparent, ${q(r.palette.secondary.main,.4)} 20%, ${q(r.palette.secondary.main,.4)} 80%, transparent)`,position:"relative",my:2,"&::before":{content:'""',position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:8,height:8,bgcolor:r.palette.secondary.main,borderRadius:"50%",boxShadow:e?`0 0 10px ${r.palette.secondary.main}`:"none"}}})},dg=({position:t,animated:e=!1})=>{const r=Yt(),n=t.includes("top"),o=t.includes("left");return u.jsx(L,{sx:{position:"absolute",[n?"top":"bottom"]:-4,[o?"left":"right"]:-4,width:24,height:24,color:r.palette.secondary.main,transform:`rotate(${n&&o?0:n&&!o?90:!n&&o?-90:180}deg)`,animation:e?`${TI} 4s ease-in-out infinite`:"none",pointerEvents:"none","&::before":{content:'""',position:"absolute",top:4,left:4,width:16,height:2,bgcolor:"currentColor"},"&::after":{content:'""',position:"absolute",top:4,left:4,width:2,height:16,bgcolor:"currentColor"}},children:u.jsx(L,{sx:{position:"absolute",top:2,left:2,width:6,height:6,borderRadius:"50%",bgcolor:"currentColor"}})})};oe($)(({theme:t})=>({background:`linear-gradient(90deg, ${t.palette.secondary.main}, ${t.palette.common.white}, ${t.palette.secondary.main})`,backgroundSize:"200% auto",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",animation:`${KY} 3s linear infinite`}));const jl=({children:t,delay:e=0,direction:r="up"})=>{const[n,o]=S.useState(!1),i=S.useRef(null);S.useEffect(()=>{const a=new IntersectionObserver(([l])=>{l.isIntersecting&&(o(!0),a.disconnect())},{threshold:.15,rootMargin:"0px 0px -50px 0px"});return i.current&&a.observe(i.current),()=>a.disconnect()},[]);const s=()=>{if(n)return"none";switch(r){case"left":return"translateX(-48px)";case"right":return"translateX(48px)";case"up":default:return"translateY(48px)"}};return u.jsx(L,{ref:i,sx:{transition:"all 1s ease-out",opacity:n?1:0,transform:s(),transitionDelay:`${e}ms`},children:t})},JY="linear-gradient(0deg, rgba(34, 16, 16, 0.95) 0%, rgba(34, 16, 16, 0.1) 50%)",XY=({products:t,setView:e,onFilterNavigate:r})=>{const n=(l,p)=>t.find(f=>f.category===l&&(!p||p(f))),o=n("D&D",l=>{var p;return((p=l.creature_type)==null?void 0:p.toLowerCase().includes("humanoid"))||!1}),i=n("Warhammer"),s=n("D&D",l=>{var p;return((p=l.creature_type)==null?void 0:p.toLowerCase().includes("monstrosity"))||!1}),a=[{title:"Hroes de Fantasa",sub:"Enanos, Elfos y los Defensores de la Luz.",img:(o==null?void 0:o.image)||"https://lh3.googleusercontent.com/aida-public/AB6AXuB3o4U20eQujlqlLivp6dfCAP5GGzSX_QIVGCsZjAW44J4Cn5dH3fh--dQTkyhXBkrF8FhFqEkEYr9RQT-DUD067sGwueG54R6I2D9AWpl0SZeHcNNNBlpw-hJcGf44E_evb6KJAvH1iUIbN3XlyqFqu1eAkxpckNTqSho97MfodGIWlijVtftnohk4UDHDDFQLMabvPPyGlPuNecTztgQfAeFoes10LMhaiBmRzvnS1bSmrAv4HZDh04MXIr9oLJX0zf3HFw_Us5E",filters:{categories:["D&D"]}},{title:"Guerreros Sci-Fi",sub:"Terrores mecnicos y viajeros estelares.",img:(i==null?void 0:i.image)||"https://lh3.googleusercontent.com/aida-public/AB6AXuCOoJ1jIOn4jPLgzNAvKwwkCQE2_iPHMNTRmJnKwTVe1s16Y3IsWqDCLNtw58ig-nCjvDy9n0viSYpTjKSLiE0rVLs2R08qTyRGA9JmI5Jnt1qJYFJFLndBNbemc8FMbL7eNtue4wI5brNfS4WCKcSI55sF40XAguH8xExwk6LL0xnzivEaNUiUCKQgnyl5zuT-bylNbyOoz--wt1re7DbF7JMqODxHf2_ymsFXG8tWfQW1mFrD7L17j3w_G4V3nuEinQqugO-5iSo",filters:{categories:["Warhammer"]}},{title:"Manual de Monstruos",sub:"Abominaciones, Bestias y los Grandes Dragones.",img:(s==null?void 0:s.image)||"https://lh3.googleusercontent.com/aida-public/AB6AXuAk61FuYDjWAsNtu247-7UQnKD10MRF9FJclnImLSqjn4IV_svngmRGCH5VwHKU4F08LykO4cLSTZjd7PuG9JIqbAISQ8nYCiKO-jK3rG3FEzPVpdOES5vtmUXNCm8gvJ8Rgu_FRc_G4TCYlUMy4NcNsDAj_WUMdNcZZMwWi216xu4wMg54xqhfj3aiFvnT6MQGPfVSpQIT2qPrSJc-rcpRtaEmdk7-ZP_6pl9muFYAhogMHTm1eN1z3FgfVSDNejNMKnVe_KwTVGw",filters:{categories:["D&D"],creatureTypes:["Monstrosity"]}}];return u.jsxs(u.Fragment,{children:[u.jsx(jl,{children:u.jsx(YY,{variant:"section",glowing:!0})}),u.jsx(L,{sx:{py:6},children:u.jsxs(fr,{maxWidth:"xl",children:[u.jsx(jl,{children:u.jsxs(L,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:{xs:"flex-start",md:"flex-end"},justifyContent:"space-between",gap:{xs:2,md:0},mb:5,pb:2,borderBottom:1,borderColor:"rgba(197, 160, 89, 0.1)"},children:[u.jsxs(L,{children:[u.jsx($,{variant:"subtitle2",sx:{color:"secondary.main",letterSpacing:"0.2em",fontWeight:"bold",mb:1},children:"BVEDAS CURADAS"}),u.jsx($,{variant:"h3",sx:{fontWeight:"bold",color:"common.white",display:{xs:"none",sm:"block"}},children:"Colecciones Destacadas"}),u.jsx($,{variant:"h3",sx:{fontWeight:"bold",color:"common.white",display:{xs:"block",sm:"none"}},children:"Destacado"})]}),u.jsx(Ye,{onClick:()=>e(be.CATALOG),sx:{color:"secondary.main",letterSpacing:2,fontWeight:"bold"},children:"Ver Catlogo"})]})}),u.jsx(_e,{container:!0,spacing:{xs:2,md:4},children:a.map((l,p)=>u.jsx(_e,{size:{xs:12,md:4},children:u.jsx(jl,{delay:p*200,children:u.jsxs(L,{onClick:()=>r(l.filters),sx:{position:"relative",aspectRatio:"4/5",borderRadius:2,border:2,borderColor:"secondary.main",cursor:"pointer",overflow:"hidden","&:hover .bg-image":{transform:"scale(1.1)"},"&:hover .col-sub":{opacity:1,transform:"translateY(0)"}},children:[u.jsx(L,{className:"bg-image",sx:{position:"absolute",inset:0,backgroundImage:`${JY}, url("${l.img}")`,backgroundSize:"cover",backgroundPosition:"center",transition:"transform 0.7s"}}),u.jsxs(L,{sx:{position:"absolute",inset:0,p:4,display:"flex",flexDirection:"column",justifyContent:"flex-end"},children:[u.jsx($,{variant:"h4",sx:{fontWeight:"bold",color:"common.white",fontStyle:"italic",mb:1},children:l.title}),u.jsx($,{className:"col-sub",variant:"body2",sx:{color:"grey.400",transition:"all 0.3s",opacity:0,transform:"translateY(16px)"},children:l.sub})]}),u.jsx(dg,{position:"top-left",animated:!0}),u.jsx(dg,{position:"top-right",animated:!0}),u.jsx(dg,{position:"bottom-left",animated:!0}),u.jsx(dg,{position:"bottom-right",animated:!0})]})})},l.title))})]})})]})},QY=Zr`
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.5; transform: scale(0.8); }
`,ZY=({products:t,onFilterNavigate:e})=>{const r=a=>t.find(l=>l.category===a),n=r("Anime"),o=r("Juegos"),i=r("Cine"),s=[{title:"Artesanos del Ki",sub:"Guerreros del sol naciente, portadores de almas forjadas en tinta y celuloide.",tag:"Reinos Orientales",original:"Anime",img:(n==null?void 0:n.image)||"https://lh3.googleusercontent.com/aida-public/AB6AXuAk61FuYDjWAsNtu247-7UQnKD10MRF9FJclnImLSqjn4IV_svngmRGCH5VwHKU4F08LykO4cLSTZjd7PuG9JIqbAISQ8nYCiKO-jK3rG3FEzPVpdOES5vtmUXNCm8gvJ8Rgu_FRc_G4TCYlUMy4NcNsDAj_WUMdNcZZMwWi216xu4wMg54xqhfj3aiFvnT6MQGPfVSpQIT2qPrSJc-rcpRtaEmdk7-ZP_6pl9muFYAhogMHTm1eN1z3FgfVSDNejNMKnVe_KwTVGw",filters:{categories:["Anime"]}},{title:"El Cnclave de los Mandos",sub:"De las mazmorras digitales a la palma de tu mano. Hroes que han superado el Game Over.",tag:"Senda de Bits",original:"Juegos",img:(o==null?void 0:o.image)||"https://lh3.googleusercontent.com/aida-public/AB6AXuCOoJ1jIOn4jPLgzNAvKwwkCQE2_iPHMNTRmJnKwTVe1s16Y3IsWqDCLNtw58ig-nCjvDy9n0viSYpTjKSLiE0rVLs2R08qTyRGA9JmI5Jnt1qJYFJFLndBNbemc8FMbL7eNtue4wI5brNfS4WCKcSI55sF40XAguH8xExwk6LL0xnzivEaNUiUCKQgnyl5zuT-bylNbyOoz--wt1re7DbF7JMqODxHf2_ymsFXG8tWfQW1mFrD7L17j3w_G4V3nuEinQqugO-5iSo",filters:{categories:["Juegos"]}},{title:"Titanes del Sptimo Reino",sub:"Grandes leyendas que han cruzado el umbral de la pantalla para reclamar su lugar en tu mesa.",tag:"Proyeccin pica",original:"Series y Cine",img:(i==null?void 0:i.image)||"https://lh3.googleusercontent.com/aida-public/AB6AXuAk61FuYDjWAsNtu247-7UQnKD10MRF9FJclnImLSqjn4IV_svngmRGCH5VwHKU4F08LykO4cLSTZjd7PuG9JIqbAISQ8nYCiKO-jK3rG3FEzPVpdOES5vtmUXNCm8gvJ8Rgu_FRc_G4TCYlUMy4NcNsDAj_WUMdNcZZMwWi216xu4wMg54xqhfj3aiFvnT6MQGPfVSpQIT2qPrSJc-rcpRtaEmdk7-ZP_6pl9muFYAhogMHTm1eN1z3FgfVSDNejNMKnVe_KwTVGw",filters:{categories:["Cine"]}}];return u.jsxs(u.Fragment,{children:[u.jsx(L,{sx:{display:"flex",justifyContent:"center",py:2,bgcolor:"background.default"},children:u.jsx(US,{sx:{fontSize:30,color:"secondary.main",animation:"bounce 2s infinite",cursor:"pointer",opacity:.6},onClick:()=>{const a=document.querySelector('[data-section="rift-chronicles"]');a&&a.scrollIntoView({behavior:"smooth"})}})}),u.jsxs(L,{"data-section":"rift-chronicles",sx:{position:"relative",py:12,px:{xs:2,lg:10},overflow:"hidden",bgcolor:"background.default",borderTop:1,borderColor:"rgba(197, 160, 89, 0.2)"},children:[u.jsx(L,{sx:{position:"absolute",inset:0,background:"radial-gradient(circle at center, #2e1065, #1a0b2e, #000000)",opacity:.6,zIndex:0}}),u.jsxs(fr,{maxWidth:"xl",sx:{position:"relative",zIndex:1},children:[u.jsx(jl,{children:u.jsxs(L,{sx:{textAlign:"center",mb:8},children:[u.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:2,color:"secondary.main",opacity:.6,mb:2},children:[u.jsx(L,{sx:{width:48,height:1,bgcolor:"secondary.main"}}),u.jsx(zS,{fontSize:"small",sx:{animation:`${QY} 2s infinite ease-in-out`}}),u.jsx(L,{sx:{width:48,height:1,bgcolor:"secondary.main"}})]}),u.jsx($,{variant:"h2",sx:{fontWeight:"bold",mb:2,background:"linear-gradient(to right, #c5a059, #ffffff, #c5a059)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontSize:{xs:"2rem",md:"3.75rem"}},children:"Las Crnicas de la Brecha"}),u.jsx($,{variant:"h6",sx:{fontStyle:"italic",color:"grey.300",maxWidth:"md",mx:"auto"},children:'"Las forjas han abierto una puerta a realidades extraas y distantes. Contempla hroes de grafito y tinta, espritus de animacin y titanes de la pantalla grande."'})]})}),u.jsx(_e,{container:!0,spacing:{xs:2,md:4},children:s.map((a,l)=>u.jsx(_e,{size:{xs:12,md:4},children:u.jsx(jl,{delay:l*150,children:u.jsxs(L,{onClick:()=>e(a.filters),sx:{position:"relative",height:500,borderRadius:"200px 200px 0 0",overflow:"hidden",border:2,borderColor:"rgba(197, 160, 89, 0.3)",bgcolor:"common.black",cursor:"pointer","&:hover":{borderColor:"secondary.main",boxShadow:"0 0 30px rgba(197,160,89,0.2)"},"&:hover .bg-img":{transform:"scale(1.1)",opacity:1},"&:hover .content-sub":{opacity:1,transform:"translateY(0)"}},children:[u.jsx(L,{className:"bg-img",sx:{position:"absolute",inset:0,backgroundImage:`url("${a.img}")`,backgroundSize:"cover",backgroundPosition:"center",opacity:.6,transition:"all 0.7s"}}),u.jsx(L,{sx:{position:"absolute",inset:0,background:"linear-gradient(to top, #000 0%, transparent 60%)"}}),u.jsxs(L,{sx:{position:"absolute",inset:0,p:4,display:"flex",flexDirection:"column",justifyContent:"flex-end",textAlign:"center"},children:[u.jsxs($,{variant:"overline",sx:{color:"secondary.main",fontWeight:"bold",letterSpacing:2,mb:1,display:"flex",flexDirection:"column",alignItems:"center",lineHeight:1.2,minHeight:"3rem",justifyContent:"center"},children:[a.tag,u.jsxs(L,{component:"span",sx:{fontSize:"0.65rem",opacity:.7,letterSpacing:1,fontWeight:"medium",textTransform:"none",fontStyle:"italic"},children:["(",a.original,")"]})]}),u.jsx($,{variant:"h4",sx:{color:"common.white",fontStyle:"italic",fontWeight:"bold",mb:2,fontSize:{xs:a.title.length>20?"1.5rem":"1.75rem",md:a.title.length>20?"1.85rem":"2.125rem"},minHeight:{xs:"3.5rem",md:"5.5rem"},display:"flex",alignItems:"center",justifyContent:"center"},children:a.title}),u.jsx($,{className:"content-sub",variant:"body2",sx:{color:"grey.400",opacity:0,transform:"translateY(10px)",transition:"all 0.5s",minHeight:"3rem"},children:a.sub})]})]})})},a.title))})]})]})]})},eJ=Zr`
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
`,Jj=[{user:"Lord Galen",text:"La calidad de los detalles en el Dragn Rojo es simplemente legendaria. Mis jugadores quedaron aterrados!",rating:5,variant:"Aventurero Veterano"},{user:"Mago Silencioso",text:"El envo fue ms rpido que un conjuro de teletransporte. Muy bien empaquetado.",rating:5,variant:"Maestro de Runas"},{user:"Bardo Anonimo",text:"Las miniaturas tienen un peso y una textura perfectos para pintar. Altamente recomendadas.",rating:4,variant:"Escriba"},{user:"Enano Forjador",text:"La resina es resistente. Se me cay un Orco y no se rompi ni una astilla. Artesana de enanos!",rating:5,variant:"Guerrero de Montaa"},{user:"Elfa Estelar",text:"Diseos nicos que no encuentras en ningn otro lado. Soulforge es mi nueva tienda favorita.",rating:5,variant:"Cazadora"}],tJ=()=>{const[t,e]=S.useState(Jj);return S.useEffect(()=>{(async()=>{const{data:n,error:o}=await Ee.from("product_reviews").select("user_name, comment, rating, products(name)").order("created_at",{ascending:!1}).limit(10);if(!o&&n&&n.length>0){const i=n.map(s=>{var a;return{user:s.user_name||"Aventurero Annimo",text:s.comment,rating:s.rating,variant:((a=s.products)==null?void 0:a.name)||"Aventurero"}});i.length<5?e([...i,...Jj.slice(0,5-i.length)]):e(i)}})()},[]),u.jsx(L,{sx:{py:10,bgcolor:"background.paper",position:"relative",overflow:"hidden",borderBottom:1,borderColor:"rgba(197, 160, 89, 0.1)"},children:u.jsxs(fr,{maxWidth:"xl",children:[u.jsx(jl,{children:u.jsxs(L,{sx:{textAlign:"center",mb:6},children:[u.jsx($,{variant:"subtitle2",sx:{color:"secondary.main",letterSpacing:3,fontWeight:"bold",mb:1,textTransform:"uppercase"},children:"Ecos de la Forja"}),u.jsx($,{variant:"h3",sx:{fontWeight:"bold",color:"common.white",fontStyle:"italic"},children:"Pergaminos de Agradecimiento"})]})}),u.jsx(L,{sx:{display:"flex",overflow:"hidden",position:"relative",py:4,"&::before, &::after":{content:'""',position:"absolute",top:0,bottom:0,width:150,zIndex:2,pointerEvents:"none"},"&::before":{left:0,background:"linear-gradient(to right, #1a0b2e, transparent)"},"&::after":{right:0,background:"linear-gradient(to left, #1a0b2e, transparent)"}},children:u.jsx(L,{sx:{display:"flex",gap:4,animation:`${eJ} 40s linear infinite`,"&:hover":{animationPlayState:"paused"}},children:[...Array(2)].map((r,n)=>u.jsx(L,{sx:{display:"flex",gap:4},children:t.map((o,i)=>u.jsxs(St,{sx:{p:4,minWidth:{xs:280,md:350},maxWidth:{xs:280,md:350},bgcolor:"rgba(255,255,255,0.02)",border:1,borderColor:"rgba(197, 160, 89, 0.2)",borderRadius:2,position:"relative",boxShadow:"0 4px 20px rgba(0,0,0,0.2)"},children:[u.jsx(zS,{sx:{position:"absolute",top:16,right:16,fontSize:16,color:"secondary.main",opacity:.3}}),u.jsxs($,{variant:"body1",sx:{color:"grey.300",fontStyle:"italic",mb:3,minHeight:80},children:['"',o.text,'"']}),u.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2},children:[u.jsx(L,{sx:{width:40,height:40,borderRadius:"50%",bgcolor:"secondary.main",color:"common.black",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"1.2rem"},children:o.user.charAt(0)}),u.jsxs(L,{children:[u.jsx($,{variant:"subtitle2",sx:{color:"common.white",fontWeight:"bold"},children:o.user}),u.jsx($,{variant:"caption",sx:{color:"secondary.main",opacity:.7,textTransform:"uppercase",fontSize:"0.6rem"},children:o.variant})]})]})]},`${n}-${i}`))},n))})})]})})},rJ=()=>u.jsxs(L,{sx:{py:12,px:{xs:2,lg:10},bgcolor:"background.paper",position:"relative",overflow:"hidden"},children:[u.jsx(L,{sx:{position:"absolute",bottom:0,left:0,width:400,height:400,bgcolor:"primary.dark",filter:"blur(100px)",borderRadius:"50%",opacity:.2}}),u.jsx(L,{sx:{position:"absolute",top:0,right:0,width:400,height:400,bgcolor:"secondary.dark",filter:"blur(100px)",borderRadius:"50%",opacity:.2}}),u.jsx(fr,{maxWidth:"xl",sx:{position:"relative",zIndex:1},children:u.jsxs(_e,{container:!0,spacing:8,alignItems:"center",children:[u.jsx(_e,{size:{xs:12,md:6},children:u.jsx(jl,{direction:"left",children:u.jsxs(St,{sx:{p:6,bgcolor:"rgba(255,255,255,0.02)",backdropFilter:"blur(10px)",border:1,borderColor:"primary.main"},children:[u.jsx($,{variant:"h4",sx:{fontWeight:"bold",color:"common.white",fontStyle:"italic",mb:2},children:"Nadie se queda atrs"}),u.jsx($,{sx:{color:"grey.400",mb:4},children:"Si tu grupo de aventureros est buscando forjar un alma en resina, nosotros te ayudamos ofreciendot un descuento en compras de 4 miniaturas o ms."}),u.jsxs(L,{sx:{display:"flex",gap:3,mb:4},children:[u.jsx($S,{sx:{color:"secondary.main",fontSize:40}}),u.jsxs(L,{children:[u.jsx($,{variant:"subtitle2",sx:{color:"common.white",fontWeight:"bold"},children:"DUNGEON MASTER"}),u.jsx($,{variant:"body2",sx:{color:"grey.500"},children:"Expand tu coleccin de criaturas, desde Boblin el Goblin, hasta Tiamat La Reina de los Dragones"})]})]}),u.jsxs(L,{sx:{display:"flex",gap:3},children:[u.jsx(L,{sx:{width:40,height:40,borderRadius:"50%",bgcolor:"rgba(14, 165, 233, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",border:1,borderColor:"primary.main"},children:u.jsx(JG,{sx:{color:"primary.main",fontSize:20}})}),u.jsxs(L,{children:[u.jsx($,{variant:"subtitle2",sx:{color:"common.white",fontWeight:"bold"},children:"WARHAMMER 40K"}),u.jsx($,{variant:"body2",sx:{color:"grey.500"},children:"Complac al Emperador con nuevos reclutas para la guerra Eterna"})]})]})]})})}),u.jsx(_e,{size:{xs:12,md:6},children:u.jsx(jl,{direction:"right",children:u.jsxs(L,{sx:{textAlign:"center",pl:{md:8}},children:[u.jsxs($,{variant:"h2",sx:{fontWeight:900,mb:3,textShadow:"0 0 20px rgba(197,160,89,0.5)",fontSize:{xs:"2.5rem",md:"3.75rem"}},children:[u.jsx($,{component:"span",variant:"inherit",sx:{background:"linear-gradient(to right, #c084fc, #ec4899)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Proximamente"})," ","Ediciones Limitadas"]}),u.jsx($,{variant:"h6",sx:{color:"grey.400",mb:6,fontStyle:"italic"},children:'"Extraemos artefactos del ter antes de que el portal se cierre. Una vez que el molde se rompe, la conexin se corta para siempre."'})]})})})]})})]}),Xj=({setView:t,onFilterNavigate:e})=>{const{data:r}=op(),n=S.useMemo(()=>[...r].sort((o,i)=>i.id.localeCompare(o.id)),[r]);return u.jsxs(L,{sx:{pb:8},children:[u.jsx(GY,{setView:t}),u.jsx(XY,{products:n,setView:t,onFilterNavigate:e}),u.jsx(ZY,{products:n,onFilterNavigate:e}),u.jsx(tJ,{}),u.jsx(rJ,{})]})},nJ=()=>{const t=ou();return kI({mutationFn:async e=>{const{data:r,error:n}=await Ee.from("products").update(e).eq("id",e.id).select().single();if(n)throw n;return r},onSuccess:()=>{t.invalidateQueries({queryKey:["products"]})}})},oJ=()=>{const t=ou();return kI({mutationFn:async e=>{const{error:r,count:n}=await Ee.from("products").delete({count:"exact"}).eq("id",e);if(r)throw r;if(n===0)throw new Error("Product not found");return e},onSuccess:()=>{t.invalidateQueries({queryKey:["products"]})}})},U0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ip(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function ZS(t){return"nodeType"in t}function Ro(t){var e,r;return t?ip(t)?t:ZS(t)&&(e=(r=t.ownerDocument)==null?void 0:r.defaultView)!=null?e:window:window}function eC(t){const{Document:e}=Ro(t);return t instanceof e}function $h(t){return ip(t)?!1:t instanceof Ro(t).HTMLElement}function jI(t){return t instanceof Ro(t).SVGElement}function sp(t){return t?ip(t)?t.document:ZS(t)?eC(t)?t:$h(t)||jI(t)?t.ownerDocument:document:document:document}const xa=U0?S.useLayoutEffect:S.useEffect;function V0(t){const e=S.useRef(t);return xa(()=>{e.current=t}),S.useCallback(function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e.current==null?void 0:e.current(...n)},[])}function iJ(){const t=S.useRef(null),e=S.useCallback((n,o)=>{t.current=setInterval(n,o)},[]),r=S.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,r]}function lh(t,e){e===void 0&&(e=[t]);const r=S.useRef(t);return xa(()=>{r.current!==t&&(r.current=t)},e),r}function Fh(t,e){const r=S.useRef();return S.useMemo(()=>{const n=t(r.current);return r.current=n,n},[...e])}function py(t){const e=V0(t),r=S.useRef(null),n=S.useCallback(o=>{o!==r.current&&(e==null||e(o,r.current)),r.current=o},[]);return[r,n]}function fy(t){const e=S.useRef();return S.useEffect(()=>{e.current=t},[t]),e.current}let wb={};function q0(t,e){return S.useMemo(()=>{if(e)return e;const r=wb[t]==null?0:wb[t]+1;return wb[t]=r,t+"-"+r},[t,e])}function RI(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.reduce((i,s)=>{const a=Object.entries(s);for(const[l,p]of a){const f=i[l];f!=null&&(i[l]=f+t*p)}return i},{...e})}}const md=RI(1),hy=RI(-1);function sJ(t){return"clientX"in t&&"clientY"in t}function tC(t){if(!t)return!1;const{KeyboardEvent:e}=Ro(t.target);return e&&t instanceof e}function aJ(t){if(!t)return!1;const{TouchEvent:e}=Ro(t.target);return e&&t instanceof e}function my(t){if(aJ(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:r}=t.touches[0];return{x:e,y:r}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:r}=t.changedTouches[0];return{x:e,y:r}}}return sJ(t)?{x:t.clientX,y:t.clientY}:null}const Fd=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:r}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:r}=t;return"scaleX("+e+") scaleY("+r+")"}},Transform:{toString(t){if(t)return[Fd.Translate.toString(t),Fd.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:r,easing:n}=t;return e+" "+r+"ms "+n}}}),Qj="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function lJ(t){return t.matches(Qj)?t:t.querySelector(Qj)}const cJ={display:"none"};function uJ(t){let{id:e,value:r}=t;return Gt.createElement("div",{id:e,style:cJ},r)}function dJ(t){let{id:e,announcement:r,ariaLiveType:n="assertive"}=t;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Gt.createElement("div",{id:e,style:o,role:"status","aria-live":n,"aria-atomic":!0},r)}function pJ(){const[t,e]=S.useState("");return{announce:S.useCallback(n=>{n!=null&&e(n)},[]),announcement:t}}const AI=S.createContext(null);function fJ(t){const e=S.useContext(AI);S.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function hJ(){const[t]=S.useState(()=>new Set),e=S.useCallback(n=>(t.add(n),()=>t.delete(n)),[t]);return[S.useCallback(n=>{let{type:o,event:i}=n;t.forEach(s=>{var a;return(a=s[o])==null?void 0:a.call(s,i)})},[t]),e]}const mJ={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},gJ={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was moved over droppable area "+r.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was dropped over droppable area "+r.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function yJ(t){let{announcements:e=gJ,container:r,hiddenTextDescribedById:n,screenReaderInstructions:o=mJ}=t;const{announce:i,announcement:s}=pJ(),a=q0("DndLiveRegion"),[l,p]=S.useState(!1);if(S.useEffect(()=>{p(!0)},[]),fJ(S.useMemo(()=>({onDragStart(h){let{active:m}=h;i(e.onDragStart({active:m}))},onDragMove(h){let{active:m,over:y}=h;e.onDragMove&&i(e.onDragMove({active:m,over:y}))},onDragOver(h){let{active:m,over:y}=h;i(e.onDragOver({active:m,over:y}))},onDragEnd(h){let{active:m,over:y}=h;i(e.onDragEnd({active:m,over:y}))},onDragCancel(h){let{active:m,over:y}=h;i(e.onDragCancel({active:m,over:y}))}}),[i,e])),!l)return null;const f=Gt.createElement(Gt.Fragment,null,Gt.createElement(uJ,{id:n,value:o.draggable}),Gt.createElement(dJ,{id:a,announcement:s}));return r?ua.createPortal(f,r):f}var Rn;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Rn||(Rn={}));function gy(){}function vJ(t,e){return S.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function xJ(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return S.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const cs=Object.freeze({x:0,y:0});function bJ(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function wJ(t,e){const r=my(t);if(!r)return"0 0";const n={x:(r.x-e.left)/e.width*100,y:(r.y-e.top)/e.height*100};return n.x+"% "+n.y+"%"}function SJ(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return r-n}function CJ(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return n-r}function kJ(t,e){if(!t||t.length===0)return null;const[r]=t;return r[e]}function Zj(t,e,r){return e===void 0&&(e=t.left),r===void 0&&(r=t.top),{x:e+t.width*.5,y:r+t.height*.5}}const EJ=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const o=Zj(e,e.left,e.top),i=[];for(const s of n){const{id:a}=s,l=r.get(a);if(l){const p=bJ(Zj(l),o);i.push({id:a,data:{droppableContainer:s,value:p}})}}return i.sort(SJ)};function TJ(t,e){const r=Math.max(e.top,t.top),n=Math.max(e.left,t.left),o=Math.min(e.left+e.width,t.left+t.width),i=Math.min(e.top+e.height,t.top+t.height),s=o-n,a=i-r;if(n<o&&r<i){const l=e.width*e.height,p=t.width*t.height,f=s*a,h=f/(l+p-f);return Number(h.toFixed(4))}return 0}const jJ=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const o=[];for(const i of n){const{id:s}=i,a=r.get(s);if(a){const l=TJ(a,e);l>0&&o.push({id:s,data:{droppableContainer:i,value:l}})}}return o.sort(CJ)};function RJ(t,e,r){return{...t,scaleX:e&&r?e.width/r.width:1,scaleY:e&&r?e.height/r.height:1}}function _I(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:cs}function AJ(t){return function(r){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return o.reduce((s,a)=>({...s,top:s.top+t*a.y,bottom:s.bottom+t*a.y,left:s.left+t*a.x,right:s.right+t*a.x}),{...r})}}const _J=AJ(1);function MI(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function MJ(t,e,r){const n=MI(e);if(!n)return t;const{scaleX:o,scaleY:i,x:s,y:a}=n,l=t.left-s-(1-o)*parseFloat(r),p=t.top-a-(1-i)*parseFloat(r.slice(r.indexOf(" ")+1)),f=o?t.width/o:t.width,h=i?t.height/i:t.height;return{width:f,height:h,top:p,right:l+f,bottom:p+h,left:l}}const IJ={ignoreTransform:!1};function Bh(t,e){e===void 0&&(e=IJ);let r=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:p,transformOrigin:f}=Ro(t).getComputedStyle(t);p&&(r=MJ(r,p,f))}const{top:n,left:o,width:i,height:s,bottom:a,right:l}=r;return{top:n,left:o,width:i,height:s,bottom:a,right:l}}function eR(t){return Bh(t,{ignoreTransform:!0})}function OJ(t){const e=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:e,bottom:r,width:e,height:r}}function PJ(t,e){return e===void 0&&(e=Ro(t).getComputedStyle(t)),e.position==="fixed"}function NJ(t,e){e===void 0&&(e=Ro(t).getComputedStyle(t));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const i=e[o];return typeof i=="string"?r.test(i):!1})}function rC(t,e){const r=[];function n(o){if(e!=null&&r.length>=e||!o)return r;if(eC(o)&&o.scrollingElement!=null&&!r.includes(o.scrollingElement))return r.push(o.scrollingElement),r;if(!$h(o)||jI(o)||r.includes(o))return r;const i=Ro(t).getComputedStyle(o);return o!==t&&NJ(o,i)&&r.push(o),PJ(o,i)?r:n(o.parentNode)}return t?n(t):r}function II(t){const[e]=rC(t,1);return e??null}function Sb(t){return!U0||!t?null:ip(t)?t:ZS(t)?eC(t)||t===sp(t).scrollingElement?window:$h(t)?t:null:null}function OI(t){return ip(t)?t.scrollX:t.scrollLeft}function PI(t){return ip(t)?t.scrollY:t.scrollTop}function pw(t){return{x:OI(t),y:PI(t)}}var Wn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Wn||(Wn={}));function NI(t){return!U0||!t?!1:t===document.scrollingElement}function LI(t){const e={x:0,y:0},r=NI(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},n={x:t.scrollWidth-r.width,y:t.scrollHeight-r.height},o=t.scrollTop<=e.y,i=t.scrollLeft<=e.x,s=t.scrollTop>=n.y,a=t.scrollLeft>=n.x;return{isTop:o,isLeft:i,isBottom:s,isRight:a,maxScroll:n,minScroll:e}}const LJ={x:.2,y:.2};function DJ(t,e,r,n,o){let{top:i,left:s,right:a,bottom:l}=r;n===void 0&&(n=10),o===void 0&&(o=LJ);const{isTop:p,isBottom:f,isLeft:h,isRight:m}=LI(t),y={x:0,y:0},v={x:0,y:0},b={height:e.height*o.y,width:e.width*o.x};return!p&&i<=e.top+b.height?(y.y=Wn.Backward,v.y=n*Math.abs((e.top+b.height-i)/b.height)):!f&&l>=e.bottom-b.height&&(y.y=Wn.Forward,v.y=n*Math.abs((e.bottom-b.height-l)/b.height)),!m&&a>=e.right-b.width?(y.x=Wn.Forward,v.x=n*Math.abs((e.right-b.width-a)/b.width)):!h&&s<=e.left+b.width&&(y.x=Wn.Backward,v.x=n*Math.abs((e.left+b.width-s)/b.width)),{direction:y,speed:v}}function zJ(t){if(t===document.scrollingElement){const{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}const{top:e,left:r,right:n,bottom:o}=t.getBoundingClientRect();return{top:e,left:r,right:n,bottom:o,width:t.clientWidth,height:t.clientHeight}}function DI(t){return t.reduce((e,r)=>md(e,pw(r)),cs)}function $J(t){return t.reduce((e,r)=>e+OI(r),0)}function FJ(t){return t.reduce((e,r)=>e+PI(r),0)}function zI(t,e){if(e===void 0&&(e=Bh),!t)return;const{top:r,left:n,bottom:o,right:i}=e(t);II(t)&&(o<=0||i<=0||r>=window.innerHeight||n>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const BJ=[["x",["left","right"],$J],["y",["top","bottom"],FJ]];class nC{constructor(e,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=rC(r),o=DI(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,s,a]of BJ)for(const l of s)Object.defineProperty(this,l,{get:()=>{const p=a(n),f=o[i]-p;return this.rect[l]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Af{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=e}add(e,r,n){var o;(o=this.target)==null||o.addEventListener(e,r,n),this.listeners.push([e,r,n])}}function WJ(t){const{EventTarget:e}=Ro(t);return t instanceof e?t:sp(t)}function Cb(t,e){const r=Math.abs(t.x),n=Math.abs(t.y);return typeof e=="number"?Math.sqrt(r**2+n**2)>e:"x"in e&&"y"in e?r>e.x&&n>e.y:"x"in e?r>e.x:"y"in e?n>e.y:!1}var Ri;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Ri||(Ri={}));function tR(t){t.preventDefault()}function HJ(t){t.stopPropagation()}var Mr;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Mr||(Mr={}));const $I={start:[Mr.Space,Mr.Enter],cancel:[Mr.Esc],end:[Mr.Space,Mr.Enter,Mr.Tab]},UJ=(t,e)=>{let{currentCoordinates:r}=e;switch(t.code){case Mr.Right:return{...r,x:r.x+25};case Mr.Left:return{...r,x:r.x-25};case Mr.Down:return{...r,y:r.y+25};case Mr.Up:return{...r,y:r.y-25}}};class FI{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:r}}=e;this.props=e,this.listeners=new Af(sp(r)),this.windowListeners=new Af(Ro(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ri.Resize,this.handleCancel),this.windowListeners.add(Ri.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ri.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:r}=this.props,n=e.node.current;n&&zI(n),r(cs)}handleKeyDown(e){if(tC(e)){const{active:r,context:n,options:o}=this.props,{keyboardCodes:i=$I,coordinateGetter:s=UJ,scrollBehavior:a="smooth"}=o,{code:l}=e;if(i.end.includes(l)){this.handleEnd(e);return}if(i.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:p}=n.current,f=p?{x:p.left,y:p.top}:cs;this.referenceCoordinates||(this.referenceCoordinates=f);const h=s(e,{active:r,context:n.current,currentCoordinates:f});if(h){const m=hy(h,f),y={x:0,y:0},{scrollableAncestors:v}=n.current;for(const b of v){const x=e.code,{isTop:C,isRight:E,isLeft:j,isBottom:T,maxScroll:k,minScroll:A}=LI(b),_=zJ(b),I={x:Math.min(x===Mr.Right?_.right-_.width/2:_.right,Math.max(x===Mr.Right?_.left:_.left+_.width/2,h.x)),y:Math.min(x===Mr.Down?_.bottom-_.height/2:_.bottom,Math.max(x===Mr.Down?_.top:_.top+_.height/2,h.y))},P=x===Mr.Right&&!E||x===Mr.Left&&!j,N=x===Mr.Down&&!T||x===Mr.Up&&!C;if(P&&I.x!==h.x){const B=b.scrollLeft+m.x,O=x===Mr.Right&&B<=k.x||x===Mr.Left&&B>=A.x;if(O&&!m.y){b.scrollTo({left:B,behavior:a});return}O?y.x=b.scrollLeft-B:y.x=x===Mr.Right?b.scrollLeft-k.x:b.scrollLeft-A.x,y.x&&b.scrollBy({left:-y.x,behavior:a});break}else if(N&&I.y!==h.y){const B=b.scrollTop+m.y,O=x===Mr.Down&&B<=k.y||x===Mr.Up&&B>=A.y;if(O&&!m.x){b.scrollTo({top:B,behavior:a});return}O?y.y=b.scrollTop-B:y.y=x===Mr.Down?b.scrollTop-k.y:b.scrollTop-A.y,y.y&&b.scrollBy({top:-y.y,behavior:a});break}}this.handleMove(e,md(hy(h,this.referenceCoordinates),y))}}}handleMove(e,r){const{onMove:n}=this.props;e.preventDefault(),n(r)}handleEnd(e){const{onEnd:r}=this.props;e.preventDefault(),this.detach(),r()}handleCancel(e){const{onCancel:r}=this.props;e.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}FI.activators=[{eventName:"onKeyDown",handler:(t,e,r)=>{let{keyboardCodes:n=$I,onActivation:o}=e,{active:i}=r;const{code:s}=t.nativeEvent;if(n.start.includes(s)){const a=i.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),o==null||o({event:t.nativeEvent}),!0)}return!1}}];function rR(t){return!!(t&&"distance"in t)}function nR(t){return!!(t&&"delay"in t)}class oC{constructor(e,r,n){var o;n===void 0&&(n=WJ(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=r;const{event:i}=e,{target:s}=i;this.props=e,this.events=r,this.document=sp(s),this.documentListeners=new Af(this.document),this.listeners=new Af(n),this.windowListeners=new Af(Ro(s)),this.initialCoordinates=(o=my(i))!=null?o:cs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ri.Resize,this.handleCancel),this.windowListeners.add(Ri.DragStart,tR),this.windowListeners.add(Ri.VisibilityChange,this.handleCancel),this.windowListeners.add(Ri.ContextMenu,tR),this.documentListeners.add(Ri.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(nR(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(rR(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,r){const{active:n,onPending:o}=this.props;o(n,e,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:e}=this,{onStart:r}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ri.Click,HJ,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ri.SelectionChange,this.removeTextSelection),r(e))}handleMove(e){var r;const{activated:n,initialCoordinates:o,props:i}=this,{onMove:s,options:{activationConstraint:a}}=i;if(!o)return;const l=(r=my(e))!=null?r:cs,p=hy(o,l);if(!n&&a){if(rR(a)){if(a.tolerance!=null&&Cb(p,a.tolerance))return this.handleCancel();if(Cb(p,a.distance))return this.handleStart()}if(nR(a)&&Cb(p,a.tolerance))return this.handleCancel();this.handlePending(a,p);return}e.cancelable&&e.preventDefault(),s(l)}handleEnd(){const{onAbort:e,onEnd:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleCancel(){const{onAbort:e,onCancel:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleKeydown(e){e.code===Mr.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const VJ={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class iC extends oC{constructor(e){const{event:r}=e,n=sp(r.target);super(e,VJ,n)}}iC.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const qJ={move:{name:"mousemove"},end:{name:"mouseup"}};var fw;(function(t){t[t.RightClick=2]="RightClick"})(fw||(fw={}));class GJ extends oC{constructor(e){super(e,qJ,sp(e.event.target))}}GJ.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return r.button===fw.RightClick?!1:(n==null||n({event:r}),!0)}}];const kb={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class KJ extends oC{constructor(e){super(e,kb)}static setup(){return window.addEventListener(kb.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(kb.move.name,e)};function e(){}}}KJ.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;const{touches:o}=r;return o.length>1?!1:(n==null||n({event:r}),!0)}}];var _f;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(_f||(_f={}));var yy;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(yy||(yy={}));function YJ(t){let{acceleration:e,activator:r=_f.Pointer,canScroll:n,draggingRect:o,enabled:i,interval:s=5,order:a=yy.TreeOrder,pointerCoordinates:l,scrollableAncestors:p,scrollableAncestorRects:f,delta:h,threshold:m}=t;const y=XJ({delta:h,disabled:!i}),[v,b]=iJ(),x=S.useRef({x:0,y:0}),C=S.useRef({x:0,y:0}),E=S.useMemo(()=>{switch(r){case _f.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case _f.DraggableRect:return o}},[r,o,l]),j=S.useRef(null),T=S.useCallback(()=>{const A=j.current;if(!A)return;const _=x.current.x*C.current.x,I=x.current.y*C.current.y;A.scrollBy(_,I)},[]),k=S.useMemo(()=>a===yy.TreeOrder?[...p].reverse():p,[a,p]);S.useEffect(()=>{if(!i||!p.length||!E){b();return}for(const A of k){if((n==null?void 0:n(A))===!1)continue;const _=p.indexOf(A),I=f[_];if(!I)continue;const{direction:P,speed:N}=DJ(A,I,E,e,m);for(const B of["x","y"])y[B][P[B]]||(N[B]=0,P[B]=0);if(N.x>0||N.y>0){b(),j.current=A,v(T,s),x.current=N,C.current=P;return}}x.current={x:0,y:0},C.current={x:0,y:0},b()},[e,T,n,b,i,s,JSON.stringify(E),JSON.stringify(y),v,p,k,f,JSON.stringify(m)])}const JJ={x:{[Wn.Backward]:!1,[Wn.Forward]:!1},y:{[Wn.Backward]:!1,[Wn.Forward]:!1}};function XJ(t){let{delta:e,disabled:r}=t;const n=fy(e);return Fh(o=>{if(r||!n||!o)return JJ;const i={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[Wn.Backward]:o.x[Wn.Backward]||i.x===-1,[Wn.Forward]:o.x[Wn.Forward]||i.x===1},y:{[Wn.Backward]:o.y[Wn.Backward]||i.y===-1,[Wn.Forward]:o.y[Wn.Forward]||i.y===1}}},[r,e,n])}function QJ(t,e){const r=e!=null?t.get(e):void 0,n=r?r.node.current:null;return Fh(o=>{var i;return e==null?null:(i=n??o)!=null?i:null},[n,e])}function ZJ(t,e){return S.useMemo(()=>t.reduce((r,n)=>{const{sensor:o}=n,i=o.activators.map(s=>({eventName:s.eventName,handler:e(s.handler,n)}));return[...r,...i]},[]),[t,e])}var ch;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(ch||(ch={}));var hw;(function(t){t.Optimized="optimized"})(hw||(hw={}));const oR=new Map;function eX(t,e){let{dragging:r,dependencies:n,config:o}=e;const[i,s]=S.useState(null),{frequency:a,measure:l,strategy:p}=o,f=S.useRef(t),h=x(),m=lh(h),y=S.useCallback(function(C){C===void 0&&(C=[]),!m.current&&s(E=>E===null?C:E.concat(C.filter(j=>!E.includes(j))))},[m]),v=S.useRef(null),b=Fh(C=>{if(h&&!r)return oR;if(!C||C===oR||f.current!==t||i!=null){const E=new Map;for(let j of t){if(!j)continue;if(i&&i.length>0&&!i.includes(j.id)&&j.rect.current){E.set(j.id,j.rect.current);continue}const T=j.node.current,k=T?new nC(l(T),T):null;j.rect.current=k,k&&E.set(j.id,k)}return E}return C},[t,i,r,h,l]);return S.useEffect(()=>{f.current=t},[t]),S.useEffect(()=>{h||y()},[r,h]),S.useEffect(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),S.useEffect(()=>{h||typeof a!="number"||v.current!==null||(v.current=setTimeout(()=>{y(),v.current=null},a))},[a,h,y,...n]),{droppableRects:b,measureDroppableContainers:y,measuringScheduled:i!=null};function x(){switch(p){case ch.Always:return!1;case ch.BeforeDragging:return r;default:return!r}}}function sC(t,e){return Fh(r=>t?r||(typeof e=="function"?e(t):t):null,[e,t])}function tX(t,e){return sC(t,e)}function rX(t){let{callback:e,disabled:r}=t;const n=V0(e),o=S.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(n)},[n,r]);return S.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function G0(t){let{callback:e,disabled:r}=t;const n=V0(e),o=S.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(n)},[r]);return S.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function nX(t){return new nC(Bh(t),t)}function iR(t,e,r){e===void 0&&(e=nX);const[n,o]=S.useState(null);function i(){o(l=>{if(!t)return null;if(t.isConnected===!1){var p;return(p=l??r)!=null?p:null}const f=e(t);return JSON.stringify(l)===JSON.stringify(f)?l:f})}const s=rX({callback(l){if(t)for(const p of l){const{type:f,target:h}=p;if(f==="childList"&&h instanceof HTMLElement&&h.contains(t)){i();break}}}}),a=G0({callback:i});return xa(()=>{i(),t?(a==null||a.observe(t),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),s==null||s.disconnect())},[t]),n}function oX(t){const e=sC(t);return _I(t,e)}const sR=[];function iX(t){const e=S.useRef(t),r=Fh(n=>t?n&&n!==sR&&t&&e.current&&t.parentNode===e.current.parentNode?n:rC(t):sR,[t]);return S.useEffect(()=>{e.current=t},[t]),r}function sX(t){const[e,r]=S.useState(null),n=S.useRef(t),o=S.useCallback(i=>{const s=Sb(i.target);s&&r(a=>a?(a.set(s,pw(s)),new Map(a)):null)},[]);return S.useEffect(()=>{const i=n.current;if(t!==i){s(i);const a=t.map(l=>{const p=Sb(l);return p?(p.addEventListener("scroll",o,{passive:!0}),[p,pw(p)]):null}).filter(l=>l!=null);r(a.length?new Map(a):null),n.current=t}return()=>{s(t),s(i)};function s(a){a.forEach(l=>{const p=Sb(l);p==null||p.removeEventListener("scroll",o)})}},[o,t]),S.useMemo(()=>t.length?e?Array.from(e.values()).reduce((i,s)=>md(i,s),cs):DI(t):cs,[t,e])}function aR(t,e){e===void 0&&(e=[]);const r=S.useRef(null);return S.useEffect(()=>{r.current=null},e),S.useEffect(()=>{const n=t!==cs;n&&!r.current&&(r.current=t),!n&&r.current&&(r.current=null)},[t]),r.current?hy(t,r.current):cs}function aX(t){S.useEffect(()=>{if(!U0)return;const e=t.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of e)r==null||r()}},t.map(e=>{let{sensor:r}=e;return r}))}function lX(t,e){return S.useMemo(()=>t.reduce((r,n)=>{let{eventName:o,handler:i}=n;return r[o]=s=>{i(s,e)},r},{}),[t,e])}function BI(t){return S.useMemo(()=>t?OJ(t):null,[t])}const lR=[];function cX(t,e){e===void 0&&(e=Bh);const[r]=t,n=BI(r?Ro(r):null),[o,i]=S.useState(lR);function s(){i(()=>t.length?t.map(l=>NI(l)?n:new nC(e(l),l)):lR)}const a=G0({callback:s});return xa(()=>{a==null||a.disconnect(),s(),t.forEach(l=>a==null?void 0:a.observe(l))},[t]),o}function WI(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return $h(e)?e:t}function uX(t){let{measure:e}=t;const[r,n]=S.useState(null),o=S.useCallback(p=>{for(const{target:f}of p)if($h(f)){n(h=>{const m=e(f);return h?{...h,width:m.width,height:m.height}:m});break}},[e]),i=G0({callback:o}),s=S.useCallback(p=>{const f=WI(p);i==null||i.disconnect(),f&&(i==null||i.observe(f)),n(f?e(f):null)},[e,i]),[a,l]=py(s);return S.useMemo(()=>({nodeRef:a,rect:r,setRef:l}),[r,a,l])}const dX=[{sensor:iC,options:{}},{sensor:FI,options:{}}],pX={current:{}},Fg={draggable:{measure:eR},droppable:{measure:eR,strategy:ch.WhileDragging,frequency:hw.Optimized},dragOverlay:{measure:Bh}};class Mf extends Map{get(e){var r;return e!=null&&(r=super.get(e))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:r}=e;return!r})}getNodeFor(e){var r,n;return(r=(n=this.get(e))==null?void 0:n.node.current)!=null?r:void 0}}const fX={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Mf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:gy},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Fg,measureDroppableContainers:gy,windowRect:null,measuringScheduled:!1},HI={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:gy,draggableNodes:new Map,over:null,measureDroppableContainers:gy},Wh=S.createContext(HI),UI=S.createContext(fX);function hX(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Mf}}}function mX(t,e){switch(e.type){case Rn.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Rn.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Rn.DragEnd:case Rn.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Rn.RegisterDroppable:{const{element:r}=e,{id:n}=r,o=new Mf(t.droppable.containers);return o.set(n,r),{...t,droppable:{...t.droppable,containers:o}}}case Rn.SetDroppableDisabled:{const{id:r,key:n,disabled:o}=e,i=t.droppable.containers.get(r);if(!i||n!==i.key)return t;const s=new Mf(t.droppable.containers);return s.set(r,{...i,disabled:o}),{...t,droppable:{...t.droppable,containers:s}}}case Rn.UnregisterDroppable:{const{id:r,key:n}=e,o=t.droppable.containers.get(r);if(!o||n!==o.key)return t;const i=new Mf(t.droppable.containers);return i.delete(r),{...t,droppable:{...t.droppable,containers:i}}}default:return t}}function gX(t){let{disabled:e}=t;const{active:r,activatorEvent:n,draggableNodes:o}=S.useContext(Wh),i=fy(n),s=fy(r==null?void 0:r.id);return S.useEffect(()=>{if(!e&&!n&&i&&s!=null){if(!tC(i)||document.activeElement===i.target)return;const a=o.get(s);if(!a)return;const{activatorNode:l,node:p}=a;if(!l.current&&!p.current)return;requestAnimationFrame(()=>{for(const f of[l.current,p.current]){if(!f)continue;const h=lJ(f);if(h){h.focus();break}}})}},[n,e,o,s,i]),null}function VI(t,e){let{transform:r,...n}=e;return t!=null&&t.length?t.reduce((o,i)=>i({transform:o,...n}),r):r}function yX(t){return S.useMemo(()=>({draggable:{...Fg.draggable,...t==null?void 0:t.draggable},droppable:{...Fg.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Fg.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function vX(t){let{activeNode:e,measure:r,initialRect:n,config:o=!0}=t;const i=S.useRef(!1),{x:s,y:a}=typeof o=="boolean"?{x:o,y:o}:o;xa(()=>{if(!s&&!a||!e){i.current=!1;return}if(i.current||!n)return;const p=e==null?void 0:e.node.current;if(!p||p.isConnected===!1)return;const f=r(p),h=_I(f,n);if(s||(h.x=0),a||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const m=II(p);m&&m.scrollBy({top:h.y,left:h.x})}},[e,s,a,n,r])}const K0=S.createContext({...cs,scaleX:1,scaleY:1});var tl;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(tl||(tl={}));const xX=S.memo(function(e){var r,n,o,i;let{id:s,accessibility:a,autoScroll:l=!0,children:p,sensors:f=dX,collisionDetection:h=jJ,measuring:m,modifiers:y,...v}=e;const b=S.useReducer(mX,void 0,hX),[x,C]=b,[E,j]=hJ(),[T,k]=S.useState(tl.Uninitialized),A=T===tl.Initialized,{draggable:{active:_,nodes:I,translate:P},droppable:{containers:N}}=x,B=_!=null?I.get(_):null,O=S.useRef({initial:null,translated:null}),D=S.useMemo(()=>{var Je;return _!=null?{id:_,data:(Je=B==null?void 0:B.data)!=null?Je:pX,rect:O}:null},[_,B]),F=S.useRef(null),[U,V]=S.useState(null),[G,W]=S.useState(null),K=lh(v,Object.values(v)),H=q0("DndDescribedBy",s),J=S.useMemo(()=>N.getEnabled(),[N]),ne=yX(m),{droppableRects:me,measureDroppableContainers:ge,measuringScheduled:ce}=eX(J,{dragging:A,dependencies:[P.x,P.y],config:ne.droppable}),te=QJ(I,_),ve=S.useMemo(()=>G?my(G):null,[G]),Ie=Oe(),qe=tX(te,ne.draggable.measure);vX({activeNode:_!=null?I.get(_):null,config:Ie.layoutShiftCompensation,initialRect:qe,measure:ne.draggable.measure});const Ne=iR(te,ne.draggable.measure,qe),lt=iR(te?te.parentElement:null),Xe=S.useRef({activatorEvent:null,active:null,activeNode:te,collisionRect:null,collisions:null,droppableRects:me,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:N,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),He=N.getNodeFor((r=Xe.current.over)==null?void 0:r.id),Le=uX({measure:ne.dragOverlay.measure}),Re=(n=Le.nodeRef.current)!=null?n:te,ae=A?(o=Le.rect)!=null?o:Ne:null,ke=!!(Le.nodeRef.current&&Le.rect),fe=oX(ke?null:Ne),dt=BI(Re?Ro(Re):null),Be=iX(A?He??te:null),Te=cX(Be),ie=VI(y,{transform:{x:P.x-fe.x,y:P.y-fe.y,scaleX:1,scaleY:1},activatorEvent:G,active:D,activeNodeRect:Ne,containerNodeRect:lt,draggingNodeRect:ae,over:Xe.current.over,overlayNodeRect:Le.rect,scrollableAncestors:Be,scrollableAncestorRects:Te,windowRect:dt}),Ce=ve?md(ve,P):null,We=sX(Be),Qe=aR(We),mt=aR(We,[Ne]),je=md(ie,Qe),Ze=ae?_J(ae,ie):null,ot=D&&Ze?h({active:D,collisionRect:Ze,droppableRects:me,droppableContainers:J,pointerCoordinates:Ce}):null,ft=kJ(ot,"id"),[Ae,ct]=S.useState(null),at=ke?ie:md(ie,mt),ee=RJ(at,(i=Ae==null?void 0:Ae.rect)!=null?i:null,Ne),we=S.useRef(null),Me=S.useCallback((Je,Lt)=>{let{sensor:qt,options:vr}=Lt;if(F.current==null)return;const xr=I.get(F.current);if(!xr)return;const Ct=Je.nativeEvent,ir=new qt({active:F.current,activeNode:xr,event:Ct,options:vr,context:Xe,onAbort(Ge){if(!I.get(Ge))return;const{onDragAbort:jt}=K.current,Jt={id:Ge};jt==null||jt(Jt),E({type:"onDragAbort",event:Jt})},onPending(Ge,At,jt,Jt){if(!I.get(Ge))return;const{onDragPending:Wr}=K.current,Pr={id:Ge,constraint:At,initialCoordinates:jt,offset:Jt};Wr==null||Wr(Pr),E({type:"onDragPending",event:Pr})},onStart(Ge){const At=F.current;if(At==null)return;const jt=I.get(At);if(!jt)return;const{onDragStart:Jt}=K.current,jr={activatorEvent:Ct,active:{id:At,data:jt.data,rect:O}};ua.unstable_batchedUpdates(()=>{Jt==null||Jt(jr),k(tl.Initializing),C({type:Rn.DragStart,initialCoordinates:Ge,active:At}),E({type:"onDragStart",event:jr}),V(we.current),W(Ct)})},onMove(Ge){C({type:Rn.DragMove,coordinates:Ge})},onEnd:$e(Rn.DragEnd),onCancel:$e(Rn.DragCancel)});we.current=ir;function $e(Ge){return async function(){const{active:jt,collisions:Jt,over:jr,scrollAdjustedTranslate:Wr}=Xe.current;let Pr=null;if(jt&&Wr){const{cancelDrop:On}=K.current;Pr={activatorEvent:Ct,active:jt,collisions:Jt,delta:Wr,over:jr},Ge===Rn.DragEnd&&typeof On=="function"&&await Promise.resolve(On(Pr))&&(Ge=Rn.DragCancel)}F.current=null,ua.unstable_batchedUpdates(()=>{C({type:Ge}),k(tl.Uninitialized),ct(null),V(null),W(null),we.current=null;const On=Ge===Rn.DragEnd?"onDragEnd":"onDragCancel";if(Pr){const Pn=K.current[On];Pn==null||Pn(Pr),E({type:On,event:Pr})}})}}},[I]),_t=S.useCallback((Je,Lt)=>(qt,vr)=>{const xr=qt.nativeEvent,Ct=I.get(vr);if(F.current!==null||!Ct||xr.dndKit||xr.defaultPrevented)return;const ir={active:Ct};Je(qt,Lt.options,ir)===!0&&(xr.dndKit={capturedBy:Lt.sensor},F.current=vr,Me(qt,Lt))},[I,Me]),gt=ZJ(f,_t);aX(f),xa(()=>{Ne&&T===tl.Initializing&&k(tl.Initialized)},[Ne,T]),S.useEffect(()=>{const{onDragMove:Je}=K.current,{active:Lt,activatorEvent:qt,collisions:vr,over:xr}=Xe.current;if(!Lt||!qt)return;const Ct={active:Lt,activatorEvent:qt,collisions:vr,delta:{x:je.x,y:je.y},over:xr};ua.unstable_batchedUpdates(()=>{Je==null||Je(Ct),E({type:"onDragMove",event:Ct})})},[je.x,je.y]),S.useEffect(()=>{const{active:Je,activatorEvent:Lt,collisions:qt,droppableContainers:vr,scrollAdjustedTranslate:xr}=Xe.current;if(!Je||F.current==null||!Lt||!xr)return;const{onDragOver:Ct}=K.current,ir=vr.get(ft),$e=ir&&ir.rect.current?{id:ir.id,rect:ir.rect.current,data:ir.data,disabled:ir.disabled}:null,Ge={active:Je,activatorEvent:Lt,collisions:qt,delta:{x:xr.x,y:xr.y},over:$e};ua.unstable_batchedUpdates(()=>{ct($e),Ct==null||Ct(Ge),E({type:"onDragOver",event:Ge})})},[ft]),xa(()=>{Xe.current={activatorEvent:G,active:D,activeNode:te,collisionRect:Ze,collisions:ot,droppableRects:me,draggableNodes:I,draggingNode:Re,draggingNodeRect:ae,droppableContainers:N,over:Ae,scrollableAncestors:Be,scrollAdjustedTranslate:je},O.current={initial:ae,translated:Ze}},[D,te,ot,Ze,I,Re,ae,me,N,Ae,Be,je]),YJ({...Ie,delta:P,draggingRect:Ze,pointerCoordinates:Ce,scrollableAncestors:Be,scrollableAncestorRects:Te});const $t=S.useMemo(()=>({active:D,activeNode:te,activeNodeRect:Ne,activatorEvent:G,collisions:ot,containerNodeRect:lt,dragOverlay:Le,draggableNodes:I,droppableContainers:N,droppableRects:me,over:Ae,measureDroppableContainers:ge,scrollableAncestors:Be,scrollableAncestorRects:Te,measuringConfiguration:ne,measuringScheduled:ce,windowRect:dt}),[D,te,Ne,G,ot,lt,Le,I,N,me,Ae,ge,Be,Te,ne,ce,dt]),or=S.useMemo(()=>({activatorEvent:G,activators:gt,active:D,activeNodeRect:Ne,ariaDescribedById:{draggable:H},dispatch:C,draggableNodes:I,over:Ae,measureDroppableContainers:ge}),[G,gt,D,Ne,C,H,I,Ae,ge]);return Gt.createElement(AI.Provider,{value:j},Gt.createElement(Wh.Provider,{value:or},Gt.createElement(UI.Provider,{value:$t},Gt.createElement(K0.Provider,{value:ee},p)),Gt.createElement(gX,{disabled:(a==null?void 0:a.restoreFocus)===!1})),Gt.createElement(yJ,{...a,hiddenTextDescribedById:H}));function Oe(){const Je=(U==null?void 0:U.autoScrollEnabled)===!1,Lt=typeof l=="object"?l.enabled===!1:l===!1,qt=A&&!Je&&!Lt;return typeof l=="object"?{...l,enabled:qt}:{enabled:qt}}}),bX=S.createContext(null),cR="button",wX="Draggable";function SX(t){let{id:e,data:r,disabled:n=!1,attributes:o}=t;const i=q0(wX),{activators:s,activatorEvent:a,active:l,activeNodeRect:p,ariaDescribedById:f,draggableNodes:h,over:m}=S.useContext(Wh),{role:y=cR,roleDescription:v="draggable",tabIndex:b=0}=o??{},x=(l==null?void 0:l.id)===e,C=S.useContext(x?K0:bX),[E,j]=py(),[T,k]=py(),A=lX(s,e),_=lh(r);xa(()=>(h.set(e,{id:e,key:i,node:E,activatorNode:T,data:_}),()=>{const P=h.get(e);P&&P.key===i&&h.delete(e)}),[h,e]);const I=S.useMemo(()=>({role:y,tabIndex:b,"aria-disabled":n,"aria-pressed":x&&y===cR?!0:void 0,"aria-roledescription":v,"aria-describedby":f.draggable}),[n,y,b,x,v,f.draggable]);return{active:l,activatorEvent:a,activeNodeRect:p,attributes:I,isDragging:x,listeners:n?void 0:A,node:E,over:m,setNodeRef:j,setActivatorNodeRef:k,transform:C}}function CX(){return S.useContext(UI)}const kX="Droppable",EX={timeout:25};function TX(t){let{data:e,disabled:r=!1,id:n,resizeObserverConfig:o}=t;const i=q0(kX),{active:s,dispatch:a,over:l,measureDroppableContainers:p}=S.useContext(Wh),f=S.useRef({disabled:r}),h=S.useRef(!1),m=S.useRef(null),y=S.useRef(null),{disabled:v,updateMeasurementsFor:b,timeout:x}={...EX,...o},C=lh(b??n),E=S.useCallback(()=>{if(!h.current){h.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{p(Array.isArray(C.current)?C.current:[C.current]),y.current=null},x)},[x]),j=G0({callback:E,disabled:v||!s}),T=S.useCallback((I,P)=>{j&&(P&&(j.unobserve(P),h.current=!1),I&&j.observe(I))},[j]),[k,A]=py(T),_=lh(e);return S.useEffect(()=>{!j||!k.current||(j.disconnect(),h.current=!1,j.observe(k.current))},[k,j]),S.useEffect(()=>(a({type:Rn.RegisterDroppable,element:{id:n,key:i,disabled:r,node:k,rect:m,data:_}}),()=>a({type:Rn.UnregisterDroppable,key:i,id:n})),[n]),S.useEffect(()=>{r!==f.current.disabled&&(a({type:Rn.SetDroppableDisabled,id:n,key:i,disabled:r}),f.current.disabled=r)},[n,i,r,a]),{active:s,rect:m,isOver:(l==null?void 0:l.id)===n,node:k,over:l,setNodeRef:A}}function jX(t){let{animation:e,children:r}=t;const[n,o]=S.useState(null),[i,s]=S.useState(null),a=fy(r);return!r&&!n&&a&&o(a),xa(()=>{if(!i)return;const l=n==null?void 0:n.key,p=n==null?void 0:n.props.id;if(l==null||p==null){o(null);return}Promise.resolve(e(p,i)).then(()=>{o(null)})},[e,n,i]),Gt.createElement(Gt.Fragment,null,r,n?S.cloneElement(n,{ref:s}):null)}const RX={x:0,y:0,scaleX:1,scaleY:1};function AX(t){let{children:e}=t;return Gt.createElement(Wh.Provider,{value:HI},Gt.createElement(K0.Provider,{value:RX},e))}const _X={position:"fixed",touchAction:"none"},MX=t=>tC(t)?"transform 250ms ease":void 0,IX=S.forwardRef((t,e)=>{let{as:r,activatorEvent:n,adjustScale:o,children:i,className:s,rect:a,style:l,transform:p,transition:f=MX}=t;if(!a)return null;const h=o?p:{...p,scaleX:1,scaleY:1},m={..._X,width:a.width,height:a.height,top:a.top,left:a.left,transform:Fd.Transform.toString(h),transformOrigin:o&&n?wJ(n,a):void 0,transition:typeof f=="function"?f(n):f,...l};return Gt.createElement(r,{className:s,style:m,ref:e},i)}),OX=t=>e=>{let{active:r,dragOverlay:n}=e;const o={},{styles:i,className:s}=t;if(i!=null&&i.active)for(const[a,l]of Object.entries(i.active))l!==void 0&&(o[a]=r.node.style.getPropertyValue(a),r.node.style.setProperty(a,l));if(i!=null&&i.dragOverlay)for(const[a,l]of Object.entries(i.dragOverlay))l!==void 0&&n.node.style.setProperty(a,l);return s!=null&&s.active&&r.node.classList.add(s.active),s!=null&&s.dragOverlay&&n.node.classList.add(s.dragOverlay),function(){for(const[l,p]of Object.entries(o))r.node.style.setProperty(l,p);s!=null&&s.active&&r.node.classList.remove(s.active)}},PX=t=>{let{transform:{initial:e,final:r}}=t;return[{transform:Fd.Transform.toString(e)},{transform:Fd.Transform.toString(r)}]},NX={duration:250,easing:"ease",keyframes:PX,sideEffects:OX({styles:{active:{opacity:"0"}}})};function LX(t){let{config:e,draggableNodes:r,droppableContainers:n,measuringConfiguration:o}=t;return V0((i,s)=>{if(e===null)return;const a=r.get(i);if(!a)return;const l=a.node.current;if(!l)return;const p=WI(s);if(!p)return;const{transform:f}=Ro(s).getComputedStyle(s),h=MI(f);if(!h)return;const m=typeof e=="function"?e:DX(e);return zI(l,o.draggable.measure),m({active:{id:i,data:a.data,node:l,rect:o.draggable.measure(l)},draggableNodes:r,dragOverlay:{node:s,rect:o.dragOverlay.measure(p)},droppableContainers:n,measuringConfiguration:o,transform:h})})}function DX(t){const{duration:e,easing:r,sideEffects:n,keyframes:o}={...NX,...t};return i=>{let{active:s,dragOverlay:a,transform:l,...p}=i;if(!e)return;const f={x:a.rect.left-s.rect.left,y:a.rect.top-s.rect.top},h={scaleX:l.scaleX!==1?s.rect.width*l.scaleX/a.rect.width:1,scaleY:l.scaleY!==1?s.rect.height*l.scaleY/a.rect.height:1},m={x:l.x-f.x,y:l.y-f.y,...h},y=o({...p,active:s,dragOverlay:a,transform:{initial:l,final:m}}),[v]=y,b=y[y.length-1];if(JSON.stringify(v)===JSON.stringify(b))return;const x=n==null?void 0:n({active:s,dragOverlay:a,...p}),C=a.node.animate(y,{duration:e,easing:r,fill:"forwards"});return new Promise(E=>{C.onfinish=()=>{x==null||x(),E()}})}}let uR=0;function zX(t){return S.useMemo(()=>{if(t!=null)return uR++,uR},[t])}const $X=Gt.memo(t=>{let{adjustScale:e=!1,children:r,dropAnimation:n,style:o,transition:i,modifiers:s,wrapperElement:a="div",className:l,zIndex:p=999}=t;const{activatorEvent:f,active:h,activeNodeRect:m,containerNodeRect:y,draggableNodes:v,droppableContainers:b,dragOverlay:x,over:C,measuringConfiguration:E,scrollableAncestors:j,scrollableAncestorRects:T,windowRect:k}=CX(),A=S.useContext(K0),_=zX(h==null?void 0:h.id),I=VI(s,{activatorEvent:f,active:h,activeNodeRect:m,containerNodeRect:y,draggingNodeRect:x.rect,over:C,overlayNodeRect:x.rect,scrollableAncestors:j,scrollableAncestorRects:T,transform:A,windowRect:k}),P=sC(m),N=LX({config:n,draggableNodes:v,droppableContainers:b,measuringConfiguration:E}),B=P?x.setRef:void 0;return Gt.createElement(AX,null,Gt.createElement(jX,{animation:N},h&&_?Gt.createElement(IX,{key:_,id:h.id,ref:B,as:a,activatorEvent:f,adjustScale:e,className:l,transition:i,rect:P,style:{zIndex:p,...o},transform:I},r):null))}),FX=t=>{const e=t*1e3;return`${new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)} (${t.toFixed(0)} GP)`},dR=t=>{const e=t*1e3;return`${new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)} (${t.toFixed(2)} GP)`},Xc=t=>{const e=t*1e3,r=new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);return u.jsxs(L,{component:"span",sx:{display:"inline-flex",alignItems:"baseline",gap:.5},children:[r,u.jsxs(L,{component:"span",sx:{fontSize:"0.7em",opacity:.6,fontWeight:"normal",ml:.5},children:["(",t.toFixed(0)," GP)"]})]})},If=t=>{const e=t*1e3,r=new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);return u.jsxs(L,{component:"span",sx:{display:"inline-flex",alignItems:"baseline",gap:.5},children:[r,u.jsxs(L,{component:"span",sx:{fontSize:"0.7em",opacity:.6,fontWeight:"normal",ml:.5},children:["(",t.toFixed(2)," GP)"]})]})},pR=t=>{const e=t*1e3;return new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)},fR=(t,e=0)=>`(${t.toFixed(e)} GP)`,mw=({product:t,isWishlisted:e,isAdmin:r,isDragging:n=!1,isDropTarget:o=!1,isGroupingMode:i=!1,isUngroupingMode:s=!1,onProductClick:a,onToggleWishlist:l,onAddToCart:p,onDeleteProduct:f,onUngroup:h})=>{var b;const m=Yt(),y=t.set_name&&t.set_name!=="Sin set",v=t.subItems&&t.subItems.length>0;return u.jsxs(xl,{onClick:()=>!i&&!s&&a(t.id),sx:{height:"100%",display:"flex",flexDirection:"column",background:`linear-gradient(to bottom, ${m.palette.background.paper}, ${q(m.palette.background.default,.8)})`,border:o?3:1,borderStyle:o?"dashed":"solid",borderColor:o?m.palette.secondary.main:n?m.palette.primary.main:s&&y?m.palette.error.main:q(m.palette.secondary.main,.2),transition:"all 0.3s",cursor:i?"grab":s?"default":"pointer",boxShadow:n?`0 20px 40px ${q(m.palette.primary.main,.4)}`:`0 4px 20px ${q(m.palette.common.black,.4)}`,opacity:n?.6:1,transform:n?"scale(1.02) rotate(2deg)":"none",backgroundColor:o?q(m.palette.secondary.main,.05):void 0,"&:hover":!i&&!s?{borderColor:"secondary.main",transform:"translateY(-4px)",boxShadow:`0 8px 30px ${q(m.palette.common.black,.6)}, 0 0 20px ${q(m.palette.secondary.main,.2)}`}:{}},children:[u.jsxs(L,{sx:{position:"relative",pt:"100%",borderBottom:1,borderColor:"common.black"},children:[u.jsx(L,{sx:{position:"absolute",inset:0,backgroundImage:`url("${t.image}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundColor:"#000",transition:"transform 0.5s","&:hover":!i&&!s?{transform:"scale(1.05)"}:{}}}),u.jsx(pt,{onClick:x=>{x.stopPropagation(),l(t.id)},disabled:s,sx:{position:"absolute",top:8,right:8,bgcolor:e?"primary.main":q(m.palette.common.black,.6),color:e?"white":"secondary.main","&:hover":{bgcolor:"secondary.main",color:"background.default"},display:s?"none":"flex"},children:e?u.jsx(ih,{fontSize:"small"}):u.jsx(BS,{fontSize:"small"})}),r&&y&&s&&u.jsx(dr,{title:"Desagrupar (Quitar del set)",arrow:!0,children:u.jsx(pt,{onClick:x=>{x.stopPropagation(),window.confirm(`Quieres sacar a "${t.name}" del set "${t.set_name}"?`)&&(h==null||h(t.id))},sx:{position:"absolute",top:8,left:8,bgcolor:q(m.palette.error.main,.9),color:"white",width:40,height:40,zIndex:10,boxShadow:3,"&:hover":{bgcolor:"error.main",transform:"scale(1.1)"}},children:u.jsx(cy,{fontSize:"small"})})}),v&&u.jsx(Qr,{icon:u.jsx(MK,{sx:{fontSize:14}}),label:`${(((b=t.subItems)==null?void 0:b.length)||0)+1} items`,size:"small",sx:{position:"absolute",bottom:8,left:8,bgcolor:q(m.palette.background.paper,.95),backdropFilter:"blur(4px)",fontWeight:"bold",fontSize:"0.7rem","& .MuiChip-icon":{color:"secondary.main"}}})]}),u.jsxs(nh,{sx:{flexGrow:1,pb:1},children:[u.jsx($,{variant:"h6",gutterBottom:!0,noWrap:!0,sx:{fontWeight:"bold",fontFamily:"Cinzel",color:"common.white",mb:0},children:t.name.replace(/\s*Header\s*/gi,"").trim()}),u.jsx($,{variant:"caption",color:"primary.main",sx:{display:"block",mb:1,textTransform:"uppercase",fontWeight:"bold",fontSize:"0.7rem"},children:t.designer?`Diseado por ${t.designer}`:"Forja Original"}),u.jsxs($,{variant:"body2",color:"grey.500",sx:{fontStyle:"italic"},children:[t.size||"Sin tamao","  ",t.category,y&&`  ${t.set_name}`]})]}),u.jsxs(mM,{sx:{justifyContent:"space-between",px:2,pt:0,pb:2,borderTop:"1px dashed",borderColor:q(m.palette.common.white,.1),mt:2},children:[u.jsx($,{variant:"h6",color:"secondary.main",sx:{fontWeight:"bold"},children:Xc(t.price)}),u.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[r&&f&&!i&&u.jsx(dr,{title:"Eliminar del Archivo",arrow:!0,children:u.jsx(pt,{onClick:x=>{x.stopPropagation(),window.confirm(`Ests seguro de eliminar "${t.name}"? Esta accin es irreversible.`)&&f(t.id)},sx:{color:"error.main",bgcolor:q(m.palette.error.main,.1),"&:hover":{bgcolor:"error.main",color:"white"}},children:u.jsx(ko,{fontSize:"small"})})}),!i&&u.jsx(dr,{title:"Aadir al Tesoro",arrow:!0,children:u.jsx(pt,{onClick:x=>{x.stopPropagation(),p(t)},color:"primary",sx:{bgcolor:"primary.dark",color:"white",width:40,height:40,boxShadow:3,"&:hover":{bgcolor:"primary.main",transform:"scale(1.1)"}},children:u.jsx(tp,{})})})]})]})]})},BX=({id:t,product:e,isGroupingMode:r,...n})=>{const{attributes:o,listeners:i,setNodeRef:s,isDragging:a,transform:l}=SX({id:t,disabled:!r}),{setNodeRef:p,isOver:f}=TX({id:`drop-${t}`,disabled:!r||a}),h=S.useCallback(y=>{s(y),p(y)},[s,p]),m=l?{transform:Fd.Translate.toString(l),zIndex:a?1e3:"auto"}:void 0;return u.jsx(L,{ref:h,style:m,...r?{...i,...o}:{},sx:{height:"100%",touchAction:r?"none":"auto"},children:u.jsx(mw,{...n,product:e,isGroupingMode:r,isDragging:a,isDropTarget:f&&!a})})},WX=(t,e)=>{const[r,n]=S.useState(!1),[o,i]=S.useState(!1),[s,a]=S.useState(null),[l,p]=S.useState(null),[f,h]=S.useState(!1),m=S.useCallback(()=>{n(C=>{const E=!C;return E&&h(!1),E}),a(null),p(null)},[]),y=S.useCallback(()=>{h(C=>{const E=!C;return E&&n(!1),E}),a(null),p(null)},[]),v=S.useCallback(()=>{a(null),p(null)},[]),b=S.useCallback(async(C,E,j)=>{var I;const T=E.replace("drop-","");if(C===T)return;i(!0),a(null);const k=j.find(P=>P.id===C),A=j.find(P=>P.id===T);if(!k||!A){a("No se encontraron los productos"),i(!1);return}let _;A.set_name&&A.set_name!=="Sin set"?_=A.set_name:_=A.name.replace(/\s*Header\s*/gi,"").trim();try{console.log("[Grouping] Starting update:",{draggedId:C,draggedName:k.name,targetId:T,targetName:A.name,newSetName:_});const P=await Promise.all([Ee.from("products").update({set_name:_}).eq("id",C).select(),Ee.from("products").update({set_name:_}).eq("id",T).select()]);console.log("[Grouping] Supabase results:",P.map(O=>{var D;return{error:O.error,count:O.count,status:O.status,dataLength:(D=O.data)==null?void 0:D.length}}));const N=P.filter(O=>O.error);if(N.length>0)throw new Error(((I=N[0].error)==null?void 0:I.message)||"Error al actualizar productos");if(P.filter(O=>!O.data||O.data.length===0).length>0)throw new Error("No se pudieron guardar los cambios. Verifica tus permisos de administrador.");e?(console.log("[Grouping] Calling onRefreshProducts..."),await e(),console.log("[Grouping] Products refreshed")):(console.log("[Grouping] No refresh function, updating local state"),t({...k,set_name:_}),t({...A,set_name:_})),p(`"${k.name}" agregado al set "${_}"`)}catch(P){a(P instanceof Error?P.message:"Error desconocido al agrupar")}finally{i(!1)}},[t,e]),x=S.useCallback(async(C,E)=>{i(!0),a(null);const j=E.find(T=>T.id===C);if(!j){a("Producto no encontrado"),i(!1);return}try{const{error:T}=await Ee.from("products").update({set_name:"Sin set"}).eq("id",C);if(T)throw T;e?await e():t({...j,set_name:"Sin set"}),p(`"${j.name}" removido del set`)}catch(T){a(T instanceof Error?T.message:"Error al desagrupar")}finally{i(!1)}},[t,e]);return{isGroupingMode:r,toggleGroupingMode:m,isUngroupingMode:f,toggleUngroupingMode:y,handleDragEnd:b,handleUngroup:x,isProcessing:o,error:s,successMessage:l,clearMessages:v}},hR=({searchQuery:t,onSearchChange:e,categories:r,sizes:n,designers:o,creatureTypes:i,weapons:s,selectedCategories:a,selectedSizes:l,selectedDesigners:p,selectedCreatureTypes:f,selectedWeapons:h,onToggleFilter:m,onReset:y,isMobile:v,onCloseMobile:b})=>{Yt();const x=E=>[...E].sort((j,T)=>j.localeCompare(T)),C=[{id:"category",title:"Origen del Mundo",icon:u.jsx(FK,{fontSize:"small"}),options:x(r)},{id:"size",title:"Tamao",icon:u.jsx(dI,{fontSize:"small"}),options:x(n)},{id:"designer",title:"Gran Maestro (Diseador)",icon:u.jsx(El,{fontSize:"small"}),options:x(o)},{id:"creature_type",title:"Naturaleza de Criatura",icon:u.jsx(uI,{fontSize:"small"}),options:x(i)},{id:"weapon",title:"Arsenales (Armas)",icon:u.jsx(El,{fontSize:"small"}),options:x(s)}];return u.jsxs(L,{sx:{p:3,height:"100%",overflowY:"auto",background:E=>`linear-gradient(to bottom, ${q(E.palette.background.paper,.9)}, ${E.palette.background.default})`},children:[v&&u.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[u.jsx($,{variant:"h6",color:"secondary.main",children:"Filtros"}),u.jsx(pt,{onClick:b,children:u.jsx(Ii,{})})]}),u.jsxs(L,{sx:{position:"relative",mb:4},children:[u.jsx($,{variant:"subtitle2",sx:{color:"secondary.main",textTransform:"uppercase",letterSpacing:1,mb:1,pb:1,borderBottom:1,borderColor:E=>q(E.palette.secondary.main,.2)},children:"Bsqueda en el ndice"}),u.jsx(Ut,{fullWidth:!0,variant:"outlined",placeholder:"Buscar en los archivos...",value:t,onChange:e,slotProps:{input:{startAdornment:u.jsx(H1,{position:"start",children:u.jsx(El,{color:"secondary"})})}}})]}),u.jsx(wt,{spacing:4,children:C.map(E=>u.jsxs(L,{children:[u.jsxs($,{variant:"subtitle2",sx:{display:"flex",alignItems:"center",gap:1,color:"grey.300",mb:1,textTransform:"uppercase",letterSpacing:1},children:[u.jsx(L,{component:"span",sx:{color:"primary.main"},children:E.icon})," ",E.title]}),u.jsx(Ni,{dense:!0,disablePadding:!0,sx:{borderLeft:1,borderColor:j=>q(j.palette.secondary.main,.1),pl:1,display:"grid",gridTemplateColumns:"1fr 1fr",gap:.5},children:E.options.map(j=>{let T=!1;return E.id==="category"?T=a.includes(j):E.id==="size"?T=l.includes(j):E.id==="designer"?T=p.includes(j):E.id==="creature_type"?T=f.includes(j):E.id==="weapon"&&(T=h.includes(j)),u.jsxs(un,{component:"div",disablePadding:!0,onClick:()=>m(E.id,j),sx:{cursor:"pointer","&:hover":{bgcolor:"transparent"}},children:[u.jsx(Lo,{sx:{minWidth:32},children:u.jsx(_7,{edge:"start",checked:T,tabIndex:-1,disableRipple:!0,sx:{p:.5,color:"grey.700","&.Mui-checked":{color:"primary.main"}}})}),u.jsx(jn,{primary:j,primaryTypographyProps:{variant:"body2",color:T?"common.white":"grey.500",fontWeight:T?"bold":"normal"}})]},j)})})]},E.id))}),(a.length>0||l.length>0||p.length>0||f.length>0||h.length>0)&&u.jsxs(L,{sx:{mt:4,mb:2},children:[u.jsx($,{variant:"caption",color:"grey.500",sx:{mb:1,display:"block",textTransform:"uppercase",letterSpacing:1},children:"Filtros Activos"}),u.jsxs(L,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:[a.map(E=>u.jsx(Qr,{label:E,onDelete:()=>m("category",E),size:"small",color:"primary"},`cat-${E}`)),l.map(E=>u.jsx(Qr,{label:E,onDelete:()=>m("size",E),size:"small",color:"primary"},`size-${E}`)),p.map(E=>u.jsx(Qr,{label:E,onDelete:()=>m("designer",E),size:"small",color:"primary"},`des-${E}`)),f.map(E=>u.jsx(Qr,{label:E,onDelete:()=>m("creature_type",E),size:"small",color:"primary"},`type-${E}`)),h.map(E=>u.jsx(Qr,{label:E,onDelete:()=>m("weapon",E),size:"small",color:"primary"},`weap-${E}`)),u.jsx(Qr,{label:"Limpiar todo",onClick:y,size:"small",variant:"outlined",color:"secondary",sx:{borderColor:"secondary.main",color:"secondary.main"}})]})]}),u.jsx(Ye,{fullWidth:!0,variant:"outlined",color:"secondary",onClick:y,sx:{mt:2,letterSpacing:2},children:"Reiniciar ndice"})]})},HX=({count:t,sortOption:e,onSortChange:r})=>u.jsx(L,{sx:{mb:4,pb:2,borderBottom:1,borderColor:n=>q(n.palette.secondary.main,.2),display:"flex",justifyContent:"flex-end",alignItems:"center"},children:u.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap"},children:[u.jsxs($,{variant:"body2",sx:{color:"grey.500"},children:["Mostrando ",t," Artefactos"]}),u.jsx(rs,{size:"small",sx:{minWidth:180},children:u.jsxs(ns,{value:e,onChange:n=>r(n.target.value),variant:"outlined",sx:{color:"common.white",bgcolor:"rgba(0,0,0,0.2)",".MuiOutlinedInput-notchedOutline":{borderColor:n=>q(n.palette.secondary.main,.3)},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:n=>q(n.palette.secondary.main,.6)},".MuiSvgIcon-root":{color:"secondary.main"}},children:[u.jsx(Dr,{value:"newest",children:"Ordenar por: Ms reciente"}),u.jsx(Dr,{value:"price-asc",children:"Precio: Menor a Mayor"}),u.jsx(Dr,{value:"price-desc",children:"Precio: Mayor a Menor"})]})})]})}),Eb=9,UX=({categories:t,sizes:e,onProductClick:r,initialSearchQuery:n,wishlist:o,toggleWishlist:i,isAdmin:s,user:a,catalogState:l,onCatalogStateChange:p})=>{const{data:f=[]}=op(),h=S.useMemo(()=>Array.from(new Set(f.map(je=>je.designer).filter(Boolean))),[f]),m=S.useMemo(()=>Array.from(new Set(f.map(je=>je.creature_type).filter(Boolean))),[f]),y=S.useMemo(()=>Array.from(new Set(f.map(je=>je.weapon).filter(Boolean).flatMap(je=>je.split("/").map(Ze=>Ze.trim())))),[f]).sort(),{mutateAsync:v}=oJ(),{mutateAsync:b}=nJ(),x=ou(),C=async()=>x.invalidateQueries({queryKey:["products"]}),{addToCart:E}=Jd(),j=Yt();HM(j.breakpoints.down("lg"));const[T,k]=S.useState(l.searchQuery||n||"");S.useEffect(()=>(console.log("[Catalog] Mounted. State:",{page:l.page,searchQuery:l.searchQuery,initialSearchQuery:n}),()=>console.log("[Catalog] Unmounted")),[]);const[A,_]=S.useState(l.selectedCategories||[]),[I,P]=S.useState(l.selectedSizes||[]),[N,B]=S.useState(l.selectedDesigners||[]),[O,D]=S.useState(l.selectedCreatureTypes||[]),[F,U]=S.useState(l.selectedWeapons||[]),[V,G]=S.useState(l.sortOption||"newest"),[W,K]=S.useState(l.page),[H,J]=S.useState(!1),[ne,me]=S.useState(null),{isGroupingMode:ge,toggleGroupingMode:ce,isUngroupingMode:te,toggleUngroupingMode:ve,handleDragEnd:Ie,handleUngroup:qe,isProcessing:Ne,error:lt,successMessage:Xe,clearMessages:He}=WX(b,C),[Le,Re]=S.useState(!1);S.useEffect(()=>{const je=()=>{window.scrollY>300?Re(!0):Re(!1)};return window.addEventListener("scroll",je),()=>window.removeEventListener("scroll",je)},[]),S.useEffect(()=>{p({page:W,searchQuery:T,selectedCategories:A,selectedSizes:I,selectedDesigners:N,selectedCreatureTypes:O,selectedWeapons:F,sortOption:V})},[W,T,A,I,N,O,F,V,p]);const ae=()=>{window.scrollTo({top:0,behavior:"smooth"})},ke=xJ(vJ(iC,{activationConstraint:{distance:8}})),fe=ne?f.find(je=>je.id===ne):null,dt=je=>{me(je.active.id)},Be=async je=>{const{active:Ze,over:ot}=je;me(null),ot&&Ze.id!==ot.id&&await Ie(Ze.id,ot.id,f)};S.useEffect(()=>{p({page:W,searchQuery:T,selectedCategories:A,selectedSizes:I,selectedDesigners:N,selectedCreatureTypes:O,selectedWeapons:F,sortOption:V})},[W,T,A,I,N,O,F,V,p]),S.useEffect(()=>{n!==void 0&&n!==T&&(k(n),K(1))},[n]);const Te=(je,Ze)=>{K(1),je==="category"?_(ot=>ot.includes(Ze)?ot.filter(ft=>ft!==Ze):[...ot,Ze]):je==="size"?P(ot=>ot.includes(Ze)?ot.filter(ft=>ft!==Ze):[...ot,Ze]):je==="designer"?B(ot=>ot.includes(Ze)?ot.filter(ft=>ft!==Ze):[...ot,Ze]):je==="creature_type"?D(ot=>ot.includes(Ze)?ot.filter(ft=>ft!==Ze):[...ot,Ze]):je==="weapon"&&U(ot=>ot.includes(Ze)?ot.filter(ft=>ft!==Ze):[...ot,Ze])},ie=()=>{k(""),_([]),P([]),B([]),D([]),U([]),G("newest"),K(1)},Ce=S.useMemo(()=>{let je=f;if(T||A.length>0||I.length>0||N.length>0||O.length>0||F.length>0){const ct=T.toLowerCase();je=f.filter(at=>{if(A.length>0&&!A.includes(at.category)||I.length>0&&at.size&&!I.includes(at.size)||N.length>0&&at.designer&&!N.includes(at.designer)||O.length>0&&at.creature_type&&!O.includes(at.creature_type))return!1;if(F.length>0){if(!at.weapon)return!1;const ee=at.weapon.split("/").map(we=>we.trim());if(!F.some(we=>ee.includes(we)))return!1}return T?at.name.toLowerCase().includes(ct)||at.category.toLowerCase().includes(ct)||at.designer&&at.designer.toLowerCase().includes(ct)||at.creature_type&&at.creature_type.toLowerCase().includes(ct):!0})}if(I.length>0||O.length>0||F.length>0)return je.sort((ct,at)=>{switch(V){case"price-asc":return ct.price-at.price;case"price-desc":return at.price-ct.price;case"newest":default:const ee=Number(ct.id),we=Number(at.id);return!isNaN(ee)&&!isNaN(we)?we-ee:ct.id.localeCompare(at.id)}});if(s&&te)return je.sort((ct,at)=>{switch(V){case"price-asc":return ct.price-at.price;case"price-desc":return at.price-ct.price;case"newest":default:const ee=Number(ct.id),we=Number(at.id);return!isNaN(ee)&&!isNaN(we)?we-ee:ct.id.localeCompare(at.id)}});const ot=[],ft=new Map,Ae=new Set;return je.forEach(ct=>{var ee;const at=(ee=ct.set_name)==null?void 0:ee.trim();if(at&&at!=="Sin set"){const we=at.toLowerCase();ft.has(we)||ft.set(we,[]),ft.get(we).push(ct)}else ot.push(ct),Ae.add(ct.id)}),ft.forEach(ct=>{if(ct.length===0)return;const at=[...ct].sort((Me,_t)=>{const gt=Me.name.toLowerCase().includes("header"),$t=_t.name.toLowerCase().includes("header");return gt&&!$t?-1:!gt&&$t?1:Me.id.localeCompare(_t.id)}),[ee,...we]=at;ot.push({...ee,subItems:we.map(Me=>({id:Me.id,name:Me.name,image:Me.image,description:Me.description}))}),ct.forEach(Me=>Ae.add(Me.id))}),ot.sort((ct,at)=>{switch(V){case"price-asc":return ct.price-at.price;case"price-desc":return at.price-ct.price;case"newest":default:const ee=Number(ct.id),we=Number(at.id);return!isNaN(ee)&&!isNaN(we)?we-ee:ct.id.localeCompare(at.id)}})},[T,A,I,N,O,F,V,f,s,te]),We=Math.ceil(Ce.length/Eb),Qe=Ce.slice((W-1)*Eb,W*Eb),mt=S.useCallback(je=>{k(je.target.value),K(1)},[]);return u.jsxs(L,{sx:{bgcolor:"background.default",minHeight:"100vh",pb:10,position:"relative",backgroundImage:"radial-gradient(circle, rgba(255,255,255,0.03) 1px, transparent 1px)",backgroundSize:"30px 30px"},children:[u.jsx(L,{sx:{width:"100%",height:{xs:350,md:900},position:"relative",backgroundImage:"url(https://ydcbptnxlslljccwedwi.supabase.co/storage/v1/object/public/assets/banners/catalogo_banner.png)",backgroundSize:"cover",backgroundPosition:"center",display:"flex",alignItems:"center",justifyContent:"center",maskImage:"url(https://ydcbptnxlslljccwedwi.supabase.co/storage/v1/object/public/assets/masks/my-mask.png), linear-gradient(to bottom, black 50%, transparent 100%)",WebkitMaskImage:"url(https://ydcbptnxlslljccwedwi.supabase.co/storage/v1/object/public/assets/masks/my-mask.png), linear-gradient(to bottom, black 50%, transparent 100%)",maskSize:"100% 100%, 100% 100%",WebkitMaskSize:"100% 100%, 100% 100%",maskPosition:"center bottom, center",WebkitMaskPosition:"center bottom, center",maskRepeat:"no-repeat, no-repeat",WebkitMaskRepeat:"no-repeat, no-repeat",maskComposite:"source-over",WebkitMaskComposite:"source-over","&::after":{content:'""',position:"absolute",bottom:0,left:0,right:0,height:"50%",background:`linear-gradient(to top, ${j.palette.background.default}, transparent)`}},children:u.jsxs(L,{sx:{textAlign:"center",zIndex:1,mt:{xs:5,md:8},px:2,textShadow:"0 0 20px rgba(0,0,0,0.9)"},children:[u.jsx($,{variant:"h1",sx:{fontFamily:'"Cinzel", serif',fontSize:{xs:"2.5rem",md:"4.5rem"},color:"common.white",fontWeight:700,letterSpacing:4,textTransform:"uppercase",mb:2},children:"Los Archivos de Miniaturas"}),u.jsx($,{variant:"h6",sx:{fontFamily:'"Cinzel", serif',color:"secondary.main",letterSpacing:3,opacity:1,fontSize:{xs:"0.9rem",md:"1.2rem"},fontWeight:600},children:"Donde las leyendas se forjan en resina"})]})}),u.jsxs(fr,{maxWidth:"xl",sx:{py:4,px:{xs:2,lg:8}},id:"catalog-content",children:[u.jsx(HX,{count:Ce.length,sortOption:V,onSortChange:je=>{G(je),K(1)}}),u.jsxs(_e,{container:!0,spacing:4,children:[u.jsx(_e,{size:{xs:12,lg:3},sx:{display:{xs:"none",lg:"block"}},children:u.jsx(St,{sx:{border:1,borderColor:je=>q(je.palette.secondary.main,.3),bgcolor:"background.paper",position:"sticky",top:100,boxShadow:je=>`0 0 40px ${q(je.palette.common.black,.5)}, inset 0 0 30px ${q(je.palette.common.black,.3)}`},children:u.jsx(hR,{searchQuery:T,onSearchChange:mt,categories:t,sizes:e,designers:h,creatureTypes:m,weapons:y,selectedCategories:A,selectedSizes:I,selectedDesigners:N,selectedCreatureTypes:O,selectedWeapons:F,onToggleFilter:Te,onReset:ie})})}),u.jsxs(_e,{size:{xs:12},sx:{display:{lg:"none"}},children:[u.jsx(Ye,{fullWidth:!0,variant:"contained",color:"secondary",startIcon:u.jsx(WS,{}),onClick:()=>J(!0),children:"Index Search & Filtros"}),u.jsx(EM,{open:H,onClose:()=>J(!1),PaperProps:{sx:{width:300,bgcolor:"background.default"}},children:u.jsx(hR,{searchQuery:T,onSearchChange:mt,categories:t,sizes:e,designers:h,creatureTypes:m,weapons:y,selectedCategories:A,selectedSizes:I,selectedDesigners:N,selectedCreatureTypes:O,selectedWeapons:F,onToggleFilter:Te,onReset:ie,isMobile:!0,onCloseMobile:()=>J(!1)})})]}),u.jsx(_e,{size:{xs:12,lg:9},children:Ce.length===0?u.jsxs(L,{sx:{display:"flex",flexDirection:"column",alignItems:"center",py:10,bgcolor:je=>q(je.palette.common.white,.02),borderRadius:2,border:1,borderColor:je=>q(je.palette.secondary.main,.1)},children:[u.jsx(uI,{sx:{fontSize:60,color:"secondary.main",mb:2,opacity:.5}}),u.jsx($,{variant:"h5",color:"common.white",gutterBottom:!0,children:"No se encontraron artefactos"}),u.jsx($,{color:"grey.500",paragraph:!0,children:"Los archivos no contienen registros que coincidan con tu bsqueda."}),u.jsx(Ye,{onClick:ie,sx:{color:"secondary.main",textDecoration:"underline"},children:"Limpiar Filtros"})]}):u.jsxs(u.Fragment,{children:[u.jsx(L,{sx:{display:"flex",justifyContent:"center",mb:4},children:u.jsx(fj,{count:We,page:W,onChange:(je,Ze)=>{console.log("[Catalog] Page changed to",Ze,"- scrolling to content"),K(Ze);const ot=document.getElementById("catalog-content");ot?ot.scrollIntoView({behavior:"smooth"}):window.scrollTo({top:0,behavior:"smooth"})},color:"secondary",shape:"rounded",sx:{"& .MuiPaginationItem-root":{color:"grey.500",border:"1px solid transparent"},"& .MuiPaginationItem-root.Mui-selected":{color:"background.default",bgcolor:"secondary.main",fontWeight:"bold"},"& .MuiPaginationItem-root:hover":{borderColor:"secondary.main",color:"common.white"}}})}),s&&u.jsxs(St,{sx:{mb:3,p:2,bgcolor:ge?q(j.palette.primary.main,.1):"transparent",border:2,borderStyle:ge?"solid":"dashed",borderColor:ge?"primary.main":q(j.palette.secondary.main,.3),transition:"all 0.3s"},children:[u.jsxs(wt,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",children:[u.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2},children:[te?u.jsx(cy,{color:"error"}):u.jsx(KG,{color:ge?"primary":"secondary"}),u.jsxs(L,{children:[u.jsx($,{variant:"subtitle2",fontWeight:"bold",color:"common.white",children:te?"Modo Desagrupacin":"Modo Agrupacin"}),u.jsx($,{variant:"caption",color:"grey.500",children:te?"Haz clic en 'Desagrupar' en las cartas para romper el set":ge?"Arrastra una miniatura sobre otra para agruparlas en un set":"Gestin de Sets de Miniaturas"})]})]}),u.jsxs(wt,{direction:"row",spacing:1,children:[u.jsx(Ye,{variant:te?"contained":"outlined",color:te?"error":"secondary",onClick:ve,startIcon:te?u.jsx(Ii,{}):u.jsx(cy,{}),disabled:ge,children:te?"Salir":"Desagrupar"}),u.jsx(Ye,{variant:ge?"contained":"outlined",color:ge?"primary":"secondary",onClick:ce,startIcon:ge?u.jsx(Ii,{}):u.jsx(lK,{}),disabled:te,children:ge?"Salir":"Agrupar"})]})]}),Ne&&u.jsx(TM,{sx:{mt:2},color:"primary"}),lt&&u.jsx(ya,{severity:"error",sx:{mt:2},onClose:He,children:lt})]}),u.jsxs(xX,{sensors:ke,onDragStart:dt,onDragEnd:Be,collisionDetection:EJ,children:[u.jsx(_e,{container:!0,spacing:3,children:Qe.map(je=>{const Ze=o.includes(je.id);return u.jsx(_e,{size:{xs:12,md:6,lg:4},children:s&&ge?u.jsx(BX,{id:je.id,product:je,isGroupingMode:ge,isWishlisted:Ze,isAdmin:s,onProductClick:r,onToggleWishlist:i,onAddToCart:E,onDeleteProduct:v,onUngroup:ot=>qe(ot,f)}):u.jsx(mw,{product:je,isWishlisted:Ze,isAdmin:s,isUngroupingMode:te,onProductClick:r,onToggleWishlist:i,onAddToCart:E,onDeleteProduct:v,onUngroup:ot=>qe(ot,f)})},je.id)})}),u.jsx($X,{children:fe&&u.jsx(L,{sx:{width:300,opacity:.9},children:u.jsx(mw,{product:fe,isWishlisted:!1,isAdmin:!1,isDragging:!0,onProductClick:()=>{},onToggleWishlist:()=>{},onAddToCart:()=>{}})})})]}),u.jsx(z0,{open:!!Xe,autoHideDuration:3e3,onClose:He,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:u.jsx(ya,{severity:"success",onClose:He,sx:{width:"100%"},children:Xe})}),u.jsx(L,{sx:{display:"flex",justifyContent:"center",mt:4},children:u.jsx(fj,{count:We,page:W,onChange:(je,Ze)=>{K(Ze);const ot=document.getElementById("catalog-content");ot?ot.scrollIntoView({behavior:"smooth"}):window.scrollTo({top:0,behavior:"smooth"})},color:"secondary",shape:"rounded",sx:{"& .MuiPaginationItem-root":{color:"grey.500",border:"1px solid transparent"},"& .MuiPaginationItem-root.Mui-selected":{color:"background.default",bgcolor:"secondary.main",fontWeight:"bold"},"& .MuiPaginationItem-root:hover":{borderColor:"secondary.main",color:"common.white"}}})})]})})]}),u.jsx(NM,{in:Le,children:u.jsx(L,{onClick:ae,role:"presentation",sx:{position:"fixed",bottom:32,left:"50%",transform:"translateX(-50%)",zIndex:10},children:u.jsx(sy,{size:"medium","aria-label":"scroll back to top",sx:{bgcolor:"rgba(0, 0, 0, 0.6)",color:"secondary.main",border:"1px solid",borderColor:"secondary.main",backdropFilter:"blur(4px)","&:hover":{bgcolor:"rgba(0, 0, 0, 0.8)",color:"common.white",borderColor:"common.white"}},children:u.jsx(oI,{})})})})]})]})},VX=({setView:t})=>{const{items:e,updateQuantity:r,removeFromCart:n,totalPrice:o,discount:i,applyCoupon:s,removeCoupon:a,couponCode:l}=Jd(),p=Yt(),f=HM(p.breakpoints.down("sm")),[h,m]=S.useState(""),[y,v]=S.useState(""),[b,x]=S.useState(!1),C=async()=>{if(h.trim()){x(!0),v("");try{const{data:j,error:T}=await Ee.rpc("check_coupon",{input_code:h.trim()});if(T)throw T;j&&j>0?(s(h.trim(),j),m("")):v("Cdigo invlido o expirado.")}catch(j){console.error(j),v("Error al verificar el cdigo.")}finally{x(!1)}}},E=o*(1-i/100);return u.jsxs(fr,{maxWidth:"lg",sx:{py:6,px:{xs:2,lg:4}},children:[u.jsx(ah,{title:"Revisa tu Botn",description:"El tesoro ha sido reunido. Asegralo antes de que la mazmorra se colapse.",icon:u.jsx(_K,{})}),u.jsxs(_e,{container:!0,spacing:6,children:[u.jsxs(_e,{size:{xs:12,lg:8},sx:{position:"relative"},children:[u.jsx(L,{sx:{display:{xs:"none",sm:"block"},position:"absolute",inset:0,borderRadius:2,border:"8px solid",borderColor:"common.black",background:j=>`linear-gradient(to bottom, ${j.palette.background.paper}, ${j.palette.background.default})`,boxShadow:"inset 0 0 100px rgba(0,0,0,0.8)",zIndex:0}}),u.jsxs(L,{sx:{position:"relative",zIndex:1,p:{sm:4}},children:[u.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:1,borderColor:j=>q(j.palette.secondary.main,.2),pb:2,mb:4},children:[u.jsx($,{variant:"subtitle1",sx:{fontWeight:"bold",textTransform:"uppercase",letterSpacing:2,color:"secondary.main"},children:"El Botn"}),u.jsxs($,{variant:"caption",sx:{fontStyle:"italic",color:j=>q(j.palette.secondary.main,.4)},children:[e.length," objetos encontrados"]})]}),e.length===0?u.jsxs(L,{sx:{textAlign:"center",py:6,bgcolor:{xs:j=>q(j.palette.common.black,.2),sm:"transparent"},borderRadius:1},children:[u.jsx($,{color:"grey.500",fontStyle:"italic",children:"Tu tesoro est vaco."}),u.jsx(Ye,{onClick:()=>t(be.CATALOG),sx:{mt:2,textDecoration:"underline",color:"secondary.main","&:hover":{color:"common.white"}},children:"Volver a los Archivos"})]}):u.jsx(wt,{spacing:3,children:e.map(j=>u.jsxs(St,{elevation:0,sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},gap:3,p:{xs:2,sm:0},bgcolor:{xs:"rgba(0,0,0,0.2)",sm:"transparent"},border:{xs:1,sm:0},borderColor:T=>q(T.palette.secondary.main,.1)},children:[u.jsx(L,{sx:{width:{xs:80,sm:96},height:{xs:80,sm:96},borderRadius:1,border:1,borderColor:T=>q(T.palette.secondary.main,.3),bgcolor:"common.black",overflow:"hidden",flexShrink:0,boxShadow:T=>`0 0 10px ${q(T.palette.secondary.main,.3)}`},children:u.jsx(L,{component:"img",src:j.image,alt:j.name,sx:{width:"100%",height:"100%",objectFit:"cover",opacity:.8,transition:"opacity 0.3s","&:hover":{opacity:1}}})}),u.jsxs(L,{sx:{flex:1,width:"100%"},children:[u.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[u.jsxs(L,{sx:{pr:2},children:[u.jsx($,{variant:"h6",sx:{fontWeight:"bold",color:"common.white",fontStyle:"italic",lineHeight:1.2},children:j.name}),u.jsxs($,{variant:"caption",sx:{color:"grey.500",textTransform:"uppercase",letterSpacing:1,display:"block",mt:.5,mb:1},children:[j.size,"  ",j.category]})]}),f&&u.jsx($,{variant:"subtitle1",sx:{fontWeight:"bold",color:"secondary.main",whiteSpace:"nowrap"},children:Xc(j.price*j.quantity)})]}),u.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:{xs:"space-between",sm:"flex-start"},gap:3,mt:{xs:1,sm:0}},children:[u.jsxs(L,{sx:{display:"flex",alignItems:"center",border:1,borderColor:T=>q(T.palette.secondary.main,.2),borderRadius:1,bgcolor:T=>q(T.palette.common.black,.5)},children:[u.jsx(pt,{size:"small",onClick:()=>r(j.id,-1),sx:{color:"secondary.main","&:hover":{color:"common.white"}},children:u.jsx(UK,{fontSize:"small"})}),u.jsx($,{sx:{px:1,minWidth:24,textAlign:"center",fontWeight:"bold",color:"common.white",fontSize:"0.875rem"},children:j.quantity}),u.jsx(pt,{size:"small",onClick:()=>r(j.id,1),sx:{color:"secondary.main","&:hover":{color:"common.white"}},children:u.jsx(tp,{fontSize:"small"})})]}),u.jsx(Ye,{startIcon:u.jsx(cy,{}),onClick:()=>n(j.id),size:"small",sx:{color:"grey.500",textTransform:"uppercase",fontWeight:"bold",fontSize:"0.75rem","&:hover":{color:"primary.main"}},children:"Descartar"})]})]}),!f&&u.jsx(L,{sx:{textAlign:"right",flexShrink:0},children:u.jsx($,{variant:"h6",sx:{fontWeight:"bold",color:"secondary.main"},children:If(j.price*j.quantity)})})]},j.id))}),u.jsx(L,{sx:{mt:6,pt:4,borderTop:1,borderColor:j=>q(j.palette.secondary.main,.2),display:"flex",justifyContent:"center",color:j=>q(j.palette.secondary.main,.5),fontStyle:"italic"},children:u.jsx($,{variant:"caption",children:"Tu inventario est protegido por guardas mgicas."})})]})]}),u.jsx(_e,{size:{xs:12,lg:4},children:u.jsxs(wt,{spacing:3,children:[u.jsxs(St,{sx:{p:3,bgcolor:"background.paper",border:2,borderColor:"secondary.main",position:"relative",overflow:"hidden",boxShadow:6},children:[u.jsx(L,{sx:{position:"absolute",top:0,left:0,right:0,height:4,bgcolor:"secondary.main"}}),u.jsxs($,{variant:"h6",sx:{fontWeight:"bold",fontStyle:"italic",mb:3,display:"flex",alignItems:"center",gap:1,color:"common.white"},children:[u.jsx(DK,{sx:{color:"secondary.main"}}),"Resumen del Tesoro"]}),u.jsx(L,{sx:{mb:3},children:l?u.jsxs(St,{variant:"outlined",sx:{p:2,bgcolor:"rgba(76, 175, 80, 0.1)",borderColor:"success.main",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsxs(L,{children:[u.jsx($,{variant:"subtitle2",color:"success.main",fontWeight:"bold",children:"Cupn Aplicado"}),u.jsxs($,{variant:"caption",color:"text.secondary",children:[l," (-",i,"%)"]})]}),u.jsx(pt,{size:"small",onClick:a,color:"error",children:u.jsx($,{variant:"caption",sx:{fontWeight:"bold"},children:"X"})})]}):u.jsxs(L,{sx:{display:"flex",gap:1},children:[u.jsx(Ut,{placeholder:"Cdigo Rnico",size:"small",fullWidth:!0,value:h,onChange:j=>m(j.target.value),error:!!y,helperText:y,disabled:b,sx:{"& .MuiOutlinedInput-root":{bgcolor:"rgba(0,0,0,0.2)",fieldset:{borderColor:"rgba(197, 160, 89, 0.3)"}},"& .MuiFormHelperText-root":{color:"error.main"}}}),u.jsx(Ye,{variant:"outlined",color:"secondary",onClick:C,disabled:b||!h.trim(),children:b?u.jsx(Mn,{size:20,color:"secondary"}):"Aplicar"})]})}),u.jsxs(wt,{spacing:2,sx:{mb:4},children:[u.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[u.jsx($,{variant:"body2",sx:{color:"grey.500",textTransform:"uppercase",letterSpacing:1,fontWeight:"bold",minWidth:"120px"},children:"Subtotal"}),u.jsxs(L,{sx:{textAlign:"right"},children:[u.jsx($,{variant:"body2",sx:{color:"secondary.main",fontWeight:"bold"},children:pR(o)}),u.jsx($,{variant:"caption",sx:{color:j=>q(j.palette.secondary.main,.4),fontSize:"0.65rem"},children:fR(o,2)})]})]}),u.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pt:2,mt:1,borderTop:1,borderColor:j=>q(j.palette.secondary.main,.2)},children:[u.jsx($,{variant:"h5",sx:{fontWeight:"bold",fontStyle:"italic",color:"common.white",textTransform:"uppercase",letterSpacing:2},children:"Total"}),u.jsxs(L,{sx:{textAlign:"right"},children:[u.jsx($,{variant:"h4",sx:{fontWeight:900,color:"secondary.main",lineHeight:1},children:pR(E)}),u.jsx($,{variant:"caption",sx:{color:j=>q(j.palette.secondary.main,.5),fontWeight:"bold",display:"block",mt:.5},children:fR(E,2)}),u.jsx($,{variant:"caption",sx:{color:j=>q(j.palette.secondary.main,.3),textTransform:"uppercase",fontSize:"0.6rem",display:"block"},children:"Equivalente en Oro"})]})]})]}),u.jsx(Ye,{fullWidth:!0,onClick:()=>t(be.CHECKOUT),disabled:e.length===0,variant:"contained",color:"primary",size:"large",startIcon:u.jsx($d,{}),sx:{py:2,fontWeight:"bold",letterSpacing:2,border:1,borderColor:"secondary.main",boxShadow:"0 0 15px rgba(150,0,24,0.4), inset 0 0 10px rgba(255,255,255,0.1)"},children:"Proceder al Pago Seguro"}),u.jsxs(L,{sx:{mt:3,display:"flex",flexDirection:"column",alignItems:"center",gap:1.5},children:[u.jsx(Ir,{flexItem:!0,sx:{borderColor:j=>q(j.palette.secondary.main,.3),width:"100%"}}),u.jsx($,{variant:"caption",sx:{color:"grey.600",textTransform:"uppercase",letterSpacing:1},children:"Monedas Aceptadas"}),u.jsxs(L,{sx:{display:"flex",gap:2,opacity:.5,color:"common.white",alignItems:"center"},children:[u.jsx(iI,{sx:{fontSize:"1.2rem"}}),u.jsx($,{variant:"caption",sx:{fontSize:"0.7rem",fontStyle:"italic",color:"red.400"},children:"o"}),u.jsx(tY,{sx:{fontSize:"1rem",color:"red.600"}})]})]})]}),u.jsxs($,{variant:"body2",sx:{p:2,border:1,borderColor:j=>q(j.palette.secondary.main,.1),borderRadius:1,fontStyle:"italic",color:"grey.600",textAlign:"center",fontSize:"0.875rem"},children:['"Un aventurero sabio sabe cundo retirarse y cundo reclamar el premio."',u.jsx(L,{component:"span",sx:{display:"block",mt:.5,fontSize:"0.625rem",textTransform:"uppercase",letterSpacing:1},children:" El Dungeon Master"})]})]})})]})]})},qX=["Buenos Aires","Ciudad Autnoma de Buenos Aires","Catamarca","Chaco","Chubut","Crdoba","Corrientes","Entre Ros","Formosa","Jujuy","La Pampa","La Rioja","Mendoza","Misiones","Neuqun","Ro Negro","Salta","San Juan","San Luis","Santa Cruz","Santa Fe","Santiago del Estero","Tierra del Fuego","Tucumn"],GX=()=>{const{items:t,totalPrice:e,clearCart:r,discount:n,couponCode:o,removeCoupon:i}=Jd(),[s,a]=S.useState(!1),[l,p]=S.useState(null),[f,h]=S.useState({name:"",email:"",phone:"",dni:"",province:"",address:"",city:"",zip:""}),[m,y]=S.useState([]),[v,b]=S.useState(!1),[x,C]=S.useState(!1),[E,j]=S.useState("");S.useEffect(()=>{(async()=>{const{data:{session:B}}=await Ee.auth.getSession();if(p((B==null?void 0:B.user)??null),B!=null&&B.user){h(D=>({...D,name:B.user.user_metadata.full_name||""}));const{data:O}=await Ee.from("saved_addresses").select("*").eq("user_id",B.user.id).order("is_default",{ascending:!1});if(O&&O.length>0){y(O);const D=O.find(F=>F.is_default)||O[0];D&&h(F=>({...F,name:D.name,address:D.address,city:D.city,zip:D.zip,province:D.province}))}}})()},[]);const T=N=>{h(B=>({...B,name:N.name,address:N.address,city:N.city,zip:N.zip,province:N.province})),b(!1)},k=async N=>{await Ee.from("saved_addresses").delete().eq("id",N),y(B=>B.filter(O=>O.id!==N))},A=async()=>{if(!l||!E.trim())return;const N={user_id:l.id,name:f.name,address:f.address,city:f.city,zip:f.zip,province:f.province,is_default:m.length===0,label:E.trim()},{data:B,error:O}=await Ee.from("saved_addresses").insert(N).select().single();!O&&B&&(y(D=>[...D,B]),C(!1),j(""))},_=N=>{const{name:B,value:O}=N.target;h(D=>({...D,[B]:O}))},I=e*(1-n/100),P=async()=>{if(!f.name||!f.address||!f.province||!f.city){alert("Por favor completa los campos obligatorios para sellar el pacto.");return}a(!0);try{const{data:N,error:B}=await Ee.from("orders").insert({user_id:l==null?void 0:l.id,total_gp:I,total_ars:I*1e3,shipping_address:`${f.address}, ${f.city} (${f.zip}), ${f.province}, Argentina`,shipping_method:"A coordinar",status:"Recibido",customer_name:f.name,customer_email:f.email,customer_phone:f.phone,customer_dni:f.dni}).select().single();if(B)throw B;const O=t.map(W=>({order_id:N.id,product_id:W.id,name:W.name,quantity:W.quantity,price_gp:W.price,image:W.image})),{error:D}=await Ee.from("order_items").insert(O);if(D||D)throw D;if(o){const{error:W}=await Ee.rpc("use_coupon",{input_code:o});W&&console.error("Error using coupon",W)}const F="543815621699";let U=`* NUEVA REQUISICIN EN SOULFORGE*
`;U+=`CONTRATO: ${N.contract_number}

`,U+=`*I. DETALLES DEL AVENTURERO*
`,U+=` Nombre: ${f.name}
`,U+=` Provincia: ${f.province}, Argentina
`,U+=` Direccin: ${f.address}, ${f.city} (${f.zip})

`,U+=`*II. DETALLE DEL BOTN*
`,t.forEach(W=>{U+=`- ${W.quantity}x ${W.name} (${FX(W.price*W.quantity)})
`}),U+=`
*III. TRIBUTO FINAL*
`,n>0&&(U+=`Precio: ${dR(e)}
`,U+=`Descuento (Cdigo ${o}): -${n}%
`),U+=` *Total General: ${dR(I)}*

`,U+="_Este pacto ha sido sellado en los registros mgicos de Soulforge._";const V=encodeURIComponent(U),G=`https://wa.me/${F}?text=${V}`;sz(),i(),r(),window.open(G,"_blank")}catch(N){console.error("Error al sellar el pacto:",N),alert(`Error al guardar el pedido: ${N.message}`)}finally{a(!1)}};return u.jsx(fr,{maxWidth:"lg",sx:{py:6},children:u.jsxs(_e,{container:!0,spacing:6,children:[u.jsx(_e,{size:{xs:12,lg:8},children:u.jsxs(wt,{spacing:6,children:[u.jsx(Ye,{startIcon:u.jsx(rp,{}),onClick:()=>window.history.back(),sx:{alignSelf:"flex-start",color:"grey.500",textTransform:"none","&:hover":{color:"secondary.main"}},children:"Volver al catlogo"}),u.jsxs(L,{sx:{borderBottom:1,borderColor:N=>q(N.palette.secondary.main,.3),pb:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsx($,{variant:"h4",sx:{fontWeight:"bold",fontStyle:"italic",color:"secondary.main"},children:"El Pacto del Mercader"}),u.jsx($,{variant:"caption",sx:{color:N=>q(N.palette.common.white,.5),textTransform:"uppercase",letterSpacing:3},children:"Contrato asignado al sellar"})]}),u.jsxs(wt,{direction:"row",spacing:1,alignItems:"center",sx:{mt:-4},children:[u.jsx($d,{sx:{fontSize:16,color:"success.main"}}),u.jsx($,{variant:"body2",sx:{fontStyle:"italic",color:"success.main"},children:"Encriptacin Encantada Activa"})]}),u.jsxs(L,{component:"section",children:[u.jsxs(wt,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",sx:{mb:3},children:[u.jsxs(wt,{direction:"row",spacing:2,alignItems:"center",children:[u.jsx(zK,{sx:{fontSize:36,color:"secondary.main"}}),u.jsx($,{variant:"h5",sx:{fontWeight:600,textTransform:"uppercase",letterSpacing:2,color:"common.white"},children:"I. Sigilo de Envo"})]}),l&&m.length>0&&u.jsxs(Ye,{size:"small",startIcon:u.jsx(PK,{}),endIcon:v?u.jsx(uK,{}):u.jsx(dK,{}),onClick:()=>b(!v),sx:{color:"secondary.main",textTransform:"none"},children:["Fortalezas Guardadas (",m.length,")"]})]}),u.jsx(Ms,{in:v,children:u.jsxs(St,{sx:{p:2,mb:3,bgcolor:N=>q(N.palette.background.paper,.5),border:1,borderColor:N=>q(N.palette.secondary.main,.2)},children:[u.jsx($,{variant:"caption",color:"secondary.main",sx:{fontWeight:"bold",textTransform:"uppercase",letterSpacing:1,display:"block",mb:2},children:"Selecciona una fortaleza guardada"}),u.jsx(wt,{spacing:1,children:m.map(N=>u.jsxs(St,{onClick:()=>T(N),sx:{p:2,cursor:"pointer",bgcolor:B=>q(B.palette.common.black,.2),border:1,borderColor:"transparent","&:hover":{borderColor:"secondary.main",bgcolor:B=>q(B.palette.secondary.main,.1)},display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsxs(L,{children:[u.jsxs(wt,{direction:"row",spacing:1,alignItems:"center",children:[u.jsx($,{variant:"body2",sx:{fontWeight:"bold",color:"common.white"},children:N.name}),N.is_default&&u.jsx(Qr,{label:"Principal",size:"small",color:"secondary",sx:{height:20,fontSize:"0.6rem"}})]}),u.jsxs($,{variant:"caption",color:"grey.500",children:[N.address,", ",N.city]})]}),u.jsx(pt,{size:"small",onClick:B=>{B.stopPropagation(),k(N.id)},sx:{color:"grey.600","&:hover":{color:"error.main"}},children:u.jsx(ko,{fontSize:"small"})})]},N.id))})]})}),u.jsxs(_e,{container:!0,spacing:3,children:[u.jsx(_e,{size:{xs:12,md:6},children:u.jsx(Ut,{fullWidth:!0,name:"name",value:f.name,onChange:_,label:"Nombre del Destinatario",placeholder:"Galdor el Veloz",required:!0})}),u.jsx(_e,{size:{xs:12,md:6},children:u.jsx(Ut,{fullWidth:!0,name:"email",value:f.email,onChange:_,label:"Email",placeholder:"aventurero@email.com",required:!0})}),u.jsx(_e,{size:{xs:12,md:6},children:u.jsx(Ut,{fullWidth:!0,name:"phone",value:f.phone,onChange:_,label:"Telfono",placeholder:"+54 9 381 123 4567",required:!0})}),u.jsx(_e,{size:{xs:12,md:6},children:u.jsx(Ut,{fullWidth:!0,name:"dni",value:f.dni,onChange:_,label:"DNI / CUIL",placeholder:"12345678",required:!0})}),u.jsx(_e,{size:{xs:12,md:6},children:u.jsx(Ut,{fullWidth:!0,value:"Argentina",label:"Pas",disabled:!0})}),u.jsx(_e,{size:{xs:12,md:6},children:u.jsx(rs,{fullWidth:!0,children:u.jsx(Ut,{select:!0,name:"province",value:f.province,onChange:_,label:"Provincia",required:!0,children:qX.map(N=>u.jsx(Dr,{value:N,children:N},N))})})}),u.jsx(_e,{size:{xs:12,md:6},children:u.jsx(Ut,{fullWidth:!0,name:"city",value:f.city,onChange:_,label:"Ciudad / Localidad",placeholder:"Ej: San Miguel de Tucumn",required:!0})}),u.jsx(_e,{size:{xs:12},children:u.jsx(Ut,{fullWidth:!0,name:"address",value:f.address,onChange:_,label:"Direccin",placeholder:"Calle, nmero, piso, depto",required:!0})}),u.jsx(_e,{size:{xs:12,md:6},children:u.jsx(Ut,{fullWidth:!0,name:"zip",value:f.zip,onChange:_,label:"Cdigo Postal",placeholder:"4000",required:!0})}),l&&u.jsxs(_e,{size:{xs:12},children:[u.jsx(Ms,{in:!x,children:u.jsx(Ye,{size:"small",startIcon:u.jsx(tp,{}),onClick:()=>C(!0),sx:{color:"grey.500",textTransform:"none","&:hover":{color:"secondary.main"}},children:"Guardar esta fortaleza para futuras requisiciones"})}),u.jsx(Ms,{in:x,children:u.jsx(St,{sx:{p:2,bgcolor:N=>q(N.palette.secondary.main,.05),border:1,borderColor:N=>q(N.palette.secondary.main,.2)},children:u.jsxs(wt,{direction:"row",spacing:2,alignItems:"center",children:[u.jsx(Ut,{size:"small",fullWidth:!0,placeholder:"Nombre para esta fortaleza (ej: Casa, Trabajo)",value:E,onChange:N=>j(N.target.value)}),u.jsx(Ye,{variant:"contained",color:"secondary",size:"small",onClick:A,disabled:!E.trim(),sx:{whiteSpace:"nowrap"},children:"Guardar"}),u.jsx(pt,{size:"small",onClick:()=>C(!1),sx:{color:"grey.500"},children:u.jsx(ko,{fontSize:"small"})})]})})})]})]})]}),u.jsxs(L,{component:"section",sx:{opacity:.6},children:[u.jsxs(wt,{direction:"row",spacing:2,alignItems:"center",sx:{mb:3},children:[u.jsx(iI,{sx:{fontSize:36,color:"secondary.main"}}),u.jsx($,{variant:"h5",sx:{fontWeight:600,textTransform:"uppercase",letterSpacing:2,color:"common.white"},children:"II. Envo y Pago"})]}),u.jsx($,{variant:"body2",sx:{color:"grey.500",fontStyle:"italic"},children:"El mtodo de envo y los rituales de transferencia de oro se coordinan a travs de WhatsApp. Al sellar el pacto, sers contactado para definir estos detalles."})]})]})}),u.jsx(_e,{size:{xs:12,lg:4},children:u.jsx(L,{sx:{position:"sticky",top:100},children:u.jsxs(St,{sx:{p:4,border:2,borderColor:"secondary.main",bgcolor:"background.paper",position:"relative",boxShadow:6},children:[u.jsx($,{variant:"h6",sx:{fontWeight:"bold",textTransform:"uppercase",letterSpacing:3,textAlign:"center",borderBottom:1,borderColor:N=>q(N.palette.secondary.main,.3),pb:2,mb:4,color:"common.white"},children:"Libro de Inventario"}),u.jsx(wt,{spacing:3,sx:{maxHeight:400,overflowY:"auto",pr:1,mb:4},children:t.map(N=>u.jsxs(wt,{direction:"row",spacing:2,children:[u.jsx(L,{sx:{width:64,height:64,bgcolor:B=>q(B.palette.common.black,.4),border:1,borderColor:B=>q(B.palette.secondary.main,.2),borderRadius:1,overflow:"hidden",flexShrink:0},children:u.jsx(L,{component:"img",src:N.image,alt:N.name,sx:{width:"100%",height:"100%",objectFit:"cover"}})}),u.jsxs(L,{sx:{flex:1},children:[u.jsx($,{variant:"body2",sx:{fontWeight:"bold",color:"common.white",lineHeight:1.2},children:N.name}),u.jsxs(wt,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mt:.5},children:[u.jsxs($,{variant:"caption",sx:{color:B=>q(B.palette.common.white,.6)},children:["Cant: ",N.quantity]}),u.jsx($,{variant:"body2",sx:{color:"secondary.main"},children:Xc(N.price*N.quantity)})]})]})]},N.id))}),u.jsx(Ir,{sx:{borderColor:N=>q(N.palette.secondary.main,.3),my:3}}),u.jsxs(wt,{spacing:1.5,sx:{color:"common.white"},children:[u.jsxs(wt,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",children:[u.jsx($,{variant:"body2",sx:{opacity:.6,fontStyle:"italic",minWidth:"100px"},children:"Subtotal"}),u.jsx($,{variant:"body2",sx:{textAlign:"right"},children:If(e)})]}),u.jsxs(wt,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",children:[u.jsx($,{variant:"body2",sx:{opacity:.6,fontStyle:"italic",minWidth:"100px"},children:"Envo"}),u.jsx($,{variant:"body2",sx:{textAlign:"right",fontStyle:"italic",color:"grey.500"},children:"A coordinar"})]}),n>0&&u.jsxs(wt,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",sx:{color:"success.main"},children:[u.jsxs($,{variant:"body2",sx:{fontStyle:"italic",minWidth:"100px"},children:["Descuento (",n,"%)"]}),u.jsxs($,{variant:"body2",sx:{textAlign:"right"},children:["- ",If(e*(n/100))]})]}),u.jsx(Ir,{sx:{borderColor:N=>q(N.palette.secondary.main,.2),my:1}}),u.jsxs(wt,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{pt:1},children:[u.jsx($,{variant:"h5",sx:{fontWeight:"bold",color:"secondary.main",textTransform:"uppercase",letterSpacing:2},children:"Total"}),u.jsx($,{variant:"h4",sx:{fontWeight:900,color:"secondary.main",textAlign:"right"},children:If(I)})]})]}),u.jsx(Ye,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:P,disabled:s||t.length===0,startIcon:s?null:u.jsx($S,{sx:{fontSize:28}}),sx:{mt:5,py:2,fontWeight:"bold",letterSpacing:4,boxShadow:4,bgcolor:"#25D366","&:hover":{bgcolor:"#128C7E"}},children:s?"SELLANDO EL PACTO...":"ENVIAR PACTO VA WHATSAPP"}),u.jsx($,{variant:"caption",sx:{display:"block",mt:3,textAlign:"center",opacity:.4,textTransform:"uppercase",letterSpacing:2,lineHeight:1.6,color:"common.white"},children:"Al sellar este pacto, aceptas el pergamino de leyes del mercader y el arbitraje vinculante de sangre del Maestro de la Forja."})]})})})]})})},us="https://ydcbptnxlslljccwedwi.supabase.co/storage/v1/object/public/assets/avatars/default.png";var Tb={exports:{}},jb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mR;function KX(){if(mR)return jb;mR=1;var t=nu();function e(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,o=t.useEffect,i=t.useLayoutEffect,s=t.useDebugValue;function a(h,m){var y=m(),v=n({inst:{value:y,getSnapshot:m}}),b=v[0].inst,x=v[1];return i(function(){b.value=y,b.getSnapshot=m,l(b)&&x({inst:b})},[h,y,m]),o(function(){return l(b)&&x({inst:b}),h(function(){l(b)&&x({inst:b})})},[h]),s(y),y}function l(h){var m=h.getSnapshot;h=h.value;try{var y=m();return!r(h,y)}catch{return!0}}function p(h,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:a;return jb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,jb}var gR;function qI(){return gR||(gR=1,Tb.exports=KX()),Tb.exports}var GI=qI();function Xn(t){this.content=t}Xn.prototype={constructor:Xn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,o=n.find(t),i=n.content.slice();return o==-1?i.push(r||t,e):(i[o+1]=e,r&&(i[o]=r)),new Xn(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new Xn(r)},addToStart:function(t,e){return new Xn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new Xn(r)},addBefore:function(t,e,r){var n=this.remove(e),o=n.content.slice(),i=n.find(t);return o.splice(i==-1?o.length:i,0,e,r),new Xn(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Xn.from(t),t.size?new Xn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Xn.from(t),t.size?new Xn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Xn.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}};Xn.from=function(t){if(t instanceof Xn)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new Xn(e)};function KI(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let o=t.child(n),i=e.child(n);if(o==i){r+=o.nodeSize;continue}if(!o.sameMarkup(i))return r;if(o.isText&&o.text!=i.text){for(let s=0;o.text[s]==i.text[s];s++)r++;return r}if(o.content.size||i.content.size){let s=KI(o.content,i.content,r+1);if(s!=null)return s}r+=o.nodeSize}}function YI(t,e,r,n){for(let o=t.childCount,i=e.childCount;;){if(o==0||i==0)return o==i?null:{a:r,b:n};let s=t.child(--o),a=e.child(--i),l=s.nodeSize;if(s==a){r-=l,n-=l;continue}if(!s.sameMarkup(a))return{a:r,b:n};if(s.isText&&s.text!=a.text){let p=0,f=Math.min(s.text.length,a.text.length);for(;p<f&&s.text[s.text.length-p-1]==a.text[a.text.length-p-1];)p++,r--,n--;return{a:r,b:n}}if(s.content.size||a.content.size){let p=YI(s.content,a.content,r-1,n-1);if(p)return p}r-=l,n-=l}}class ze{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,o=0,i){for(let s=0,a=0;a<r;s++){let l=this.content[s],p=a+l.nodeSize;if(p>e&&n(l,o+a,i||null,s)!==!1&&l.content.size){let f=a+1;l.nodesBetween(Math.max(0,e-f),Math.min(l.content.size,r-f),n,o+f)}a=p}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,o){let i="",s=!0;return this.nodesBetween(e,r,(a,l)=>{let p=a.isText?a.text.slice(Math.max(e,l)-l,r-l):a.isLeaf?o?typeof o=="function"?o(a):o:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&p||a.isTextblock)&&n&&(s?s=!1:i+=n),i+=p},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,o=this.content.slice(),i=0;for(r.isText&&r.sameMarkup(n)&&(o[o.length-1]=r.withText(r.text+n.text),i=1);i<e.content.length;i++)o.push(e.content[i]);return new ze(o,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],o=0;if(r>e)for(let i=0,s=0;s<r;i++){let a=this.content[i],l=s+a.nodeSize;l>e&&((s<e||l>r)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,r-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,r-s-1))),n.push(a),o+=a.nodeSize),s=l}return new ze(n,o)}cutByIndex(e,r){return e==r?ze.empty:e==0&&r==this.content.length?this:new ze(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let o=this.content.slice(),i=this.size+r.nodeSize-n.nodeSize;return o[e]=r,new ze(o,i)}addToStart(e){return new ze([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ze(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let o=this.content[r];e(o,n,r),n+=o.nodeSize}}findDiffStart(e,r=0){return KI(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return YI(this,e,r,n)}findIndex(e){if(e==0)return pg(0,e);if(e==this.size)return pg(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,n=0;;r++){let o=this.child(r),i=n+o.nodeSize;if(i>=e)return i==e?pg(r+1,i):pg(r,n);n=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return ze.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new ze(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ze.empty;let r,n=0;for(let o=0;o<e.length;o++){let i=e[o];n+=i.nodeSize,o&&i.isText&&e[o-1].sameMarkup(i)?(r||(r=e.slice(0,o)),r[r.length-1]=i.withText(r[r.length-1].text+i.text)):r&&r.push(i)}return new ze(r||e,n)}static from(e){if(!e)return ze.empty;if(e instanceof ze)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ze([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ze.empty=new ze([],0);const Rb={index:0,offset:0};function pg(t,e){return Rb.index=t,Rb.offset=e,Rb}function vy(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!vy(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!vy(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}let Or=class gw{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let o=0;o<e.length;o++){let i=e[o];if(this.eq(i))return e;if(this.type.excludes(i.type))r||(r=e.slice(0,o));else{if(i.type.excludes(this.type))return e;!n&&i.type.rank>this.type.rank&&(r||(r=e.slice(0,o)),r.push(this),n=!0),r&&r.push(i)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&vy(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let o=n.create(r.attrs);return n.checkAttrs(o.attrs),o}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return gw.none;if(e instanceof gw)return[e];let r=e.slice();return r.sort((n,o)=>n.type.rank-o.type.rank),r}};Or.none=[];class xy extends Error{}class vt{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=XI(this.content,e+this.openStart,r);return n&&new vt(n,this.openStart,this.openEnd)}removeBetween(e,r){return new vt(JI(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return vt.empty;let n=r.openStart||0,o=r.openEnd||0;if(typeof n!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new vt(ze.fromJSON(e,r.content),n,o)}static maxOpen(e,r=!0){let n=0,o=0;for(let i=e.firstChild;i&&!i.isLeaf&&(r||!i.type.spec.isolating);i=i.firstChild)n++;for(let i=e.lastChild;i&&!i.isLeaf&&(r||!i.type.spec.isolating);i=i.lastChild)o++;return new vt(e,n,o)}}vt.empty=new vt(ze.empty,0,0);function JI(t,e,r){let{index:n,offset:o}=t.findIndex(e),i=t.maybeChild(n),{index:s,offset:a}=t.findIndex(r);if(o==e||i.isText){if(a!=r&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(n,i.copy(JI(i.content,e-o-1,r-o-1)))}function XI(t,e,r,n){let{index:o,offset:i}=t.findIndex(e),s=t.maybeChild(o);if(i==e||s.isText)return n&&!n.canReplace(o,o,r)?null:t.cut(0,e).append(r).append(t.cut(e));let a=XI(s.content,e-i-1,r,s);return a&&t.replaceChild(o,s.copy(a))}function YX(t,e,r){if(r.openStart>t.depth)throw new xy("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new xy("Inconsistent open depths");return QI(t,e,r,0)}function QI(t,e,r,n){let o=t.index(n),i=t.node(n);if(o==e.index(n)&&n<t.depth-r.openStart){let s=QI(t,e,r,n+1);return i.copy(i.content.replaceChild(o,s))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let s=t.parent,a=s.content;return Hc(s,a.cut(0,t.parentOffset).append(r.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=JX(r,t);return Hc(i,eO(t,s,a,e,n))}else return Hc(i,by(t,e,n))}function ZI(t,e){if(!e.type.compatibleContent(t.type))throw new xy("Cannot join "+e.type.name+" onto "+t.type.name)}function yw(t,e,r){let n=t.node(r);return ZI(n,e.node(r)),n}function Wc(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function Of(t,e,r,n){let o=(e||t).node(r),i=0,s=e?e.index(r):o.childCount;t&&(i=t.index(r),t.depth>r?i++:t.textOffset&&(Wc(t.nodeAfter,n),i++));for(let a=i;a<s;a++)Wc(o.child(a),n);e&&e.depth==r&&e.textOffset&&Wc(e.nodeBefore,n)}function Hc(t,e){return t.type.checkContent(e),t.copy(e)}function eO(t,e,r,n,o){let i=t.depth>o&&yw(t,e,o+1),s=n.depth>o&&yw(r,n,o+1),a=[];return Of(null,t,o,a),i&&s&&e.index(o)==r.index(o)?(ZI(i,s),Wc(Hc(i,eO(t,e,r,n,o+1)),a)):(i&&Wc(Hc(i,by(t,e,o+1)),a),Of(e,r,o,a),s&&Wc(Hc(s,by(r,n,o+1)),a)),Of(n,null,o,a),new ze(a)}function by(t,e,r){let n=[];if(Of(null,t,r,n),t.depth>r){let o=yw(t,e,r+1);Wc(Hc(o,by(t,e,r+1)),n)}return Of(e,null,r,n),new ze(n)}function JX(t,e){let r=e.depth-t.openStart,o=e.node(r).copy(t.content);for(let i=r-1;i>=0;i--)o=e.node(i).copy(ze.from(o));return{start:o.resolveNoCache(t.openStart+r),end:o.resolveNoCache(o.content.size-t.openEnd-r)}}class uh{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],o=e.child(r);return n?e.child(r).cut(n):o}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],o=r==0?0:this.path[r*3-1]+1;for(let i=0;i<e;i++)o+=n.child(i).nodeSize;return o}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return Or.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),o=e.maybeChild(r);if(!n){let a=n;n=o,o=a}let i=n.marks;for(var s=0;s<i.length;s++)i[s].type.spec.inclusive===!1&&(!o||!i[s].isInSet(o.marks))&&(i=i[s--].removeFromSet(i));return i}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,o=e.parent.maybeChild(e.index());for(var i=0;i<n.length;i++)n[i].type.spec.inclusive===!1&&(!o||!n[i].isInSet(o.marks))&&(n=n[i--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new wy(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],o=0,i=r;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(i),p=i-l;if(n.push(s,a,o+l),!p||(s=s.child(a),s.isText))break;i=p-1,o+=l+1}return new uh(r,n,i)}static resolveCached(e,r){let n=yR.get(e);if(n)for(let i=0;i<n.elts.length;i++){let s=n.elts[i];if(s.pos==r)return s}else yR.set(e,n=new XX);let o=n.elts[n.i]=uh.resolve(e,r);return n.i=(n.i+1)%QX,o}}class XX{constructor(){this.elts=[],this.i=0}}const QX=12,yR=new WeakMap;class wy{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const ZX=Object.create(null);class as{constructor(e,r,n,o=Or.none){this.type=e,this.attrs=r,this.marks=o,this.content=n||ze.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,o=0){this.content.nodesBetween(e,r,n,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,o){return this.content.textBetween(e,r,n,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&vy(this.attrs,r||e.defaultAttrs||ZX)&&Or.sameSet(this.marks,n||Or.none)}copy(e=null){return e==this.content?this:new as(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new as(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return vt.empty;let o=this.resolve(e),i=this.resolve(r),s=n?0:o.sharedDepth(r),a=o.start(s),p=o.node(s).content.cut(o.pos-a,i.pos-a);return new vt(p,o.depth-s,i.depth-s)}replace(e,r,n){return YX(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:o}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(o==e||r.isText)return r;e-=o+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let o=this.content.child(r-1);return{node:o,index:r-1,offset:n-o.nodeSize}}resolve(e){return uh.resolveCached(this,e)}resolveNoCache(e){return uh.resolve(this,e)}rangeHasMark(e,r,n){let o=!1;return r>e&&this.nodesBetween(e,r,i=>(n.isInSet(i.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),tO(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=ze.empty,o=0,i=n.childCount){let s=this.contentMatchAt(e).matchFragment(n,o,i),a=s&&s.matchFragment(this.content,r);if(!a||!a.validEnd)return!1;for(let l=o;l<i;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(e,r,n,o){if(o&&!this.type.allowsMarks(o))return!1;let i=this.contentMatchAt(e).matchType(n),s=i&&i.matchFragment(this.content,r);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Or.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!Or.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let o=ze.fromJSON(e,r.content),i=e.nodeType(r.type).create(r.attrs,o,n);return i.type.checkAttrs(i.attrs),i}}as.prototype.text=void 0;class Sy extends as{constructor(e,r,n,o){if(super(e,r,null,o),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):tO(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Sy(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Sy(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function tO(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class Qc{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new eQ(e,r);if(n.next==null)return Qc.empty;let o=rO(n);n.next&&n.err("Unexpected trailing text");let i=aQ(sQ(o));return lQ(i,n),i}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let o=this;for(let i=r;o&&i<n;i++)o=o.matchType(e.child(i).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let o=[this];function i(s,a){let l=s.matchFragment(e,n);if(l&&(!r||l.validEnd))return ze.from(a.map(p=>p.createAndFill()));for(let p=0;p<s.next.length;p++){let{type:f,next:h}=s.next[p];if(!(f.isText||f.hasRequiredAttrs())&&o.indexOf(h)==-1){o.push(h);let m=i(h,a.concat(f));if(m)return m}}return null}return i(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let o=n.shift(),i=o.match;if(i.matchType(e)){let s=[];for(let a=o;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<i.next.length;s++){let{type:a,next:l}=i.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in r)&&(!o.type||l.validEnd)&&(n.push({match:a.contentMatch,type:a,via:o}),r[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let o=0;o<n.next.length;o++)e.indexOf(n.next[o].next)==-1&&r(n.next[o].next)}return r(this),e.map((n,o)=>{let i=o+(n.validEnd?"*":" ")+" ";for(let s=0;s<n.next.length;s++)i+=(s?", ":"")+n.next[s].type.name+"->"+e.indexOf(n.next[s].next);return i}).join(`
`)}}Qc.empty=new Qc(!0);class eQ{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function rO(t){let e=[];do e.push(tQ(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function tQ(t){let e=[];do e.push(rQ(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function rQ(t){let e=iQ(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=nQ(t,e);else break;return e}function vR(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function nQ(t,e){let r=vR(t),n=r;return t.eat(",")&&(t.next!="}"?n=vR(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function oQ(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let o=[];for(let i in r){let s=r[i];s.isInGroup(e)&&o.push(s)}return o.length==0&&t.err("No node type or group '"+e+"' found"),o}function iQ(t){if(t.eat("(")){let e=rO(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=oQ(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function sQ(t){let e=[[]];return o(i(t,0),r()),e;function r(){return e.push([])-1}function n(s,a,l){let p={term:l,to:a};return e[s].push(p),p}function o(s,a){s.forEach(l=>l.to=a)}function i(s,a){if(s.type=="choice")return s.exprs.reduce((l,p)=>l.concat(i(p,a)),[]);if(s.type=="seq")for(let l=0;;l++){let p=i(s.exprs[l],a);if(l==s.exprs.length-1)return p;o(p,a=r())}else if(s.type=="star"){let l=r();return n(a,l),o(i(s.expr,l),l),[n(l)]}else if(s.type=="plus"){let l=r();return o(i(s.expr,a),l),o(i(s.expr,l),l),[n(l)]}else{if(s.type=="opt")return[n(a)].concat(i(s.expr,a));if(s.type=="range"){let l=a;for(let p=0;p<s.min;p++){let f=r();o(i(s.expr,l),f),l=f}if(s.max==-1)o(i(s.expr,l),l);else for(let p=s.min;p<s.max;p++){let f=r();n(l,f),o(i(s.expr,l),f),l=f}return[n(l)]}else{if(s.type=="name")return[n(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function nO(t,e){return e-t}function xR(t,e){let r=[];return n(e),r.sort(nO);function n(o){let i=t[o];if(i.length==1&&!i[0].term)return n(i[0].to);r.push(o);for(let s=0;s<i.length;s++){let{term:a,to:l}=i[s];!a&&r.indexOf(l)==-1&&n(l)}}}function aQ(t){let e=Object.create(null);return r(xR(t,0));function r(n){let o=[];n.forEach(s=>{t[s].forEach(({term:a,to:l})=>{if(!a)return;let p;for(let f=0;f<o.length;f++)o[f][0]==a&&(p=o[f][1]);xR(t,l).forEach(f=>{p||o.push([a,p=[]]),p.indexOf(f)==-1&&p.push(f)})})});let i=e[n.join(",")]=new Qc(n.indexOf(t.length-1)>-1);for(let s=0;s<o.length;s++){let a=o[s][1].sort(nO);i.next.push({type:o[s][0],next:e[a.join(",")]||r(a)})}return i}}function lQ(t,e){for(let r=0,n=[t];r<n.length;r++){let o=n[r],i=!o.validEnd,s=[];for(let a=0;a<o.next.length;a++){let{type:l,next:p}=o.next[a];s.push(l.name),i&&!(l.isText||l.hasRequiredAttrs())&&(i=!1),n.indexOf(p)==-1&&n.push(p)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function oO(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function iO(t,e){let r=Object.create(null);for(let n in t){let o=e&&e[n];if(o===void 0){let i=t[n];if(i.hasDefault)o=i.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=o}return r}function sO(t,e,r,n){for(let o in e)if(!(o in t))throw new RangeError(`Unsupported attribute ${o} for ${r} of type ${o}`);for(let o in t){let i=t[o];i.validate&&i.validate(e[o])}}function aO(t,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new uQ(t,n,e[n]);return r}let bR=class lO{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=aO(e,n.attrs),this.defaultAttrs=oO(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Qc.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:iO(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new as(this,this.computeAttrs(e),ze.from(r),Or.setFrom(n))}createChecked(e=null,r,n){return r=ze.from(r),this.checkContent(r),new as(this,this.computeAttrs(e),r,Or.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=ze.from(r),r.size){let s=this.contentMatch.fillBefore(r);if(!s)return null;r=s.append(r)}let o=this.contentMatch.matchFragment(r),i=o&&o.fillBefore(ze.empty,!0);return i?new as(this,e,r.append(i),Or.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){sO(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:Or.none:e}static compile(e,r){let n=Object.create(null);e.forEach((i,s)=>n[i]=new lO(i,r,s));let o=r.spec.topNode||"doc";if(!n[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let i in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function cQ(t,e,r){let n=r.split("|");return o=>{let i=o===null?"null":typeof o;if(n.indexOf(i)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${t}, got ${i}`)}}class uQ{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?cQ(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class Y0{constructor(e,r,n,o){this.name=e,this.rank=r,this.schema=n,this.spec=o,this.attrs=aO(e,o.attrs),this.excluded=null;let i=oO(this.attrs);this.instance=i?new Or(this,i):null}create(e=null){return!e&&this.instance?this.instance:new Or(this,iO(this.attrs,e))}static compile(e,r){let n=Object.create(null),o=0;return e.forEach((i,s)=>n[i]=new Y0(i,o++,r,s)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){sO(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class cO{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let o in e)r[o]=e[o];r.nodes=Xn.from(e.nodes),r.marks=Xn.from(e.marks||{}),this.nodes=bR.compile(this.spec.nodes,this),this.marks=Y0.compile(this.spec.marks,this);let n=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let i=this.nodes[o],s=i.spec.content||"",a=i.spec.marks;if(i.contentMatch=n[s]||(n[s]=Qc.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=a=="_"?null:a?wR(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(let o in this.marks){let i=this.marks[o],s=i.spec.excludes;i.excluded=s==null?[i]:s==""?[]:wR(this,s.split(" "))}this.nodeFromJSON=o=>as.fromJSON(this,o),this.markFromJSON=o=>Or.fromJSON(this,o),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof bR){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,o)}text(e,r){let n=this.nodes.text;return new Sy(n,n.defaultAttrs,e,Or.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}function wR(t,e){let r=[];for(let n=0;n<e.length;n++){let o=e[n],i=t.marks[o],s=i;if(i)r.push(i);else for(let a in t.marks){let l=t.marks[a];(o=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&r.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function dQ(t){return t.tag!=null}function pQ(t){return t.style!=null}class Rl{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(o=>{if(dQ(o))this.tags.push(o);else if(pQ(o)){let i=/[^=]*/.exec(o.style)[0];n.indexOf(i)<0&&n.push(i),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let i=e.nodes[o.node];return i.contentMatch.matchType(i)})}parse(e,r={}){let n=new CR(this,r,!1);return n.addAll(e,Or.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new CR(this,r,!0);return n.addAll(e,Or.none,r.from,r.to),vt.maxOpen(n.finish())}matchTag(e,r,n){for(let o=n?this.tags.indexOf(n)+1:0;o<this.tags.length;o++){let i=this.tags[o];if(mQ(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||r.matchesContext(i.context))){if(i.getAttrs){let s=i.getAttrs(e);if(s===!1)continue;i.attrs=s||void 0}return i}}}matchStyle(e,r,n,o){for(let i=o?this.styles.indexOf(o)+1:0;i<this.styles.length;i++){let s=this.styles[i],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!n.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=r))){if(s.getAttrs){let l=s.getAttrs(r);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let r=[];function n(o){let i=o.priority==null?50:o.priority,s=0;for(;s<r.length;s++){let a=r[s];if((a.priority==null?50:a.priority)<i)break}r.splice(s,0,o)}for(let o in e.marks){let i=e.marks[o].spec.parseDOM;i&&i.forEach(s=>{n(s=kR(s)),s.mark||s.ignore||s.clearMark||(s.mark=o)})}for(let o in e.nodes){let i=e.nodes[o].spec.parseDOM;i&&i.forEach(s=>{n(s=kR(s)),s.node||s.ignore||s.mark||(s.node=o)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Rl(e,Rl.schemaRules(e)))}}const uO={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},fQ={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},dO={ol:!0,ul:!0},dh=1,vw=2,Pf=4;function SR(t,e,r){return e!=null?(e?dh:0)|(e==="full"?vw:0):t&&t.whitespace=="pre"?dh|vw:r&~Pf}class fg{constructor(e,r,n,o,i,s){this.type=e,this.attrs=r,this.marks=n,this.solid=o,this.options=s,this.content=[],this.activeMarks=Or.none,this.match=i||(s&Pf?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(ze.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,o;return(o=n.findWrapping(e.type))?(this.match=n,o):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&dh)){let n=this.content[this.content.length-1],o;if(n&&n.isText&&(o=/[ \t\r\n\u000c]+$/.exec(n.text))){let i=n;n.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-o[0].length))}}let r=ze.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(ze.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!uO.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class CR{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let o=r.topNode,i,s=SR(null,r.preserveWhitespace,0)|(n?Pf:0);o?i=new fg(o.type,o.attrs,Or.none,!0,r.topMatch||o.type.contentMatch,s):n?i=new fg(null,null,Or.none,!0,null,s):i=new fg(e.schema.topNodeType,null,Or.none,!0,null,s),this.nodes=[i],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,o=this.top,i=o.options&vw?"full":this.localPreserveWS||(o.options&dh)>0,{schema:s}=this.parser;if(i==="full"||o.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(i)if(i==="full")n=n.replace(/\r\n?/g,`
`);else if(s.linebreakReplacement&&/[\r\n]/.test(n)&&this.top.findWrapping(s.linebreakReplacement.create())){let a=n.split(/\r?\n|\r/);for(let l=0;l<a.length;l++)l&&this.insertNode(s.linebreakReplacement.create(),r,!0),a[l]&&this.insertNode(s.text(a[l]),r,!/\S/.test(a[l]));n=""}else n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let a=o.content[o.content.length-1],l=e.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(n=n.slice(1))}n&&this.insertNode(s.text(n),r,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let o=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let s=e.nodeName.toLowerCase(),a;dO.hasOwnProperty(s)&&this.parser.normalizeLists&&hQ(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,n));e:if(l?l.ignore:fQ.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,r);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let p,f=this.needsBlock;if(uO.hasOwnProperty(s))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),p=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);break e}let h=l&&l.skip?r:this.readStyles(e,r);h&&this.addAll(e,h),p&&this.sync(i),this.needsBlock=f}else{let p=this.readStyles(e,r);p&&this.addElementByRule(e,l,p,l.consuming===!1?a:void 0)}this.localPreserveWS=o}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let i=this.parser.matchedStyles[o],s=n.getPropertyValue(i);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(i,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?r=r.filter(p=>!l.clearMark(p)):r=r.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return r}addElementByRule(e,r,n,o){let i,s;if(r.node)if(s=this.parser.schema.nodes[r.node],s.isLeaf)this.insertNode(s.create(r.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let l=this.enter(s,r.attrs||null,n,r.preserveWhitespace);l&&(i=!0,n=l)}else{let l=this.parser.schema.marks[r.mark];n=n.concat(l.create(r.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(e);else if(o)this.addElement(e,n,o);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,n,!1));else{let l=e;typeof r.contentElement=="string"?l=e.querySelector(r.contentElement):typeof r.contentElement=="function"?l=r.contentElement(e):r.contentElement&&(l=r.contentElement),this.findAround(e,l,!0),this.addAll(l,n),this.findAround(e,l,!1)}i&&this.sync(a)&&this.open--}addAll(e,r,n,o){let i=n||0;for(let s=n?e.childNodes[n]:e.firstChild,a=o==null?null:e.childNodes[o];s!=a;s=s.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(s,r);this.findAtPoint(e,i)}findPlace(e,r,n){let o,i;for(let s=this.open,a=0;s>=0;s--){let l=this.nodes[s],p=l.findWrapping(e);if(p&&(!o||o.length>p.length+a)&&(o=p,i=l,!p.length))break;if(l.solid){if(n)break;a+=2}}if(!o)return null;this.sync(i);for(let s=0;s<o.length;s++)r=this.enterInner(o[s],null,r,!1);return r}insertNode(e,r,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(r=this.enterInner(i,null,r))}let o=this.findPlace(e,r,n);if(o){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let s=Or.none;for(let a of o.concat(e.marks))(i.type?i.type.allowsMarkType(a.type):ER(a.type,e.type))&&(s=a.addToSet(s));return i.content.push(e.mark(s)),!0}return!1}enter(e,r,n,o){let i=this.findPlace(e.create(r),n,!1);return i&&(i=this.enterInner(e,r,n,!0,o)),i}enterInner(e,r,n,o=!1,i){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let a=SR(e,i,s.options);s.options&Pf&&s.content.length==0&&(a|=Pf);let l=Or.none;return n=n.filter(p=>(s.type?s.type.allowsMarkType(p.type):ER(p.type,e))?(l=p.addToSet(l),!1):!0),this.nodes.push(new fg(e,r,l,o,null,a)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let r=this.open;r>=0;r--){if(this.nodes[r]==e)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=dh)}return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let o=n.length-1;o>=0;o--)e+=n[o].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)&&r.compareDocumentPosition(this.find[o].node)&(n?2:4)&&(this.find[o].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,o=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),i=-(n?n.depth+1:0)+(o?0:1),s=(a,l)=>{for(;a>=0;a--){let p=r[a];if(p==""){if(a==r.length-1||a==0)continue;for(;l>=i;l--)if(s(a-1,l))return!0;return!1}else{let f=l>0||l==0&&o?this.nodes[l].type:n&&l>=i?n.node(l-i).type:null;if(!f||f.name!=p&&!f.isInGroup(p))return!1;l--}}return!0};return s(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function hQ(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&dO.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function mQ(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function kR(t){let e={};for(let r in t)e[r]=t[r];return e}function ER(t,e){let r=e.schema.nodes;for(let n in r){let o=r[n];if(!o.allowsMarkType(t))continue;let i=[],s=a=>{i.push(a);for(let l=0;l<a.edgeCount;l++){let{type:p,next:f}=a.edge(l);if(p==e||i.indexOf(f)<0&&s(f))return!0}};if(s(o.contentMatch))return!0}}class iu{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=Ab(r).createDocumentFragment());let o=n,i=[];return e.forEach(s=>{if(i.length||s.marks.length){let a=0,l=0;for(;a<i.length&&l<s.marks.length;){let p=s.marks[l];if(!this.marks[p.type.name]){l++;continue}if(!p.eq(i[a][0])||p.type.spec.spanning===!1)break;a++,l++}for(;a<i.length;)o=i.pop()[1];for(;l<s.marks.length;){let p=s.marks[l++],f=this.serializeMark(p,s.isInline,r);f&&(i.push([p,o]),o.appendChild(f.dom),o=f.contentDOM||f.dom)}}o.appendChild(this.serializeNodeInner(s,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:o}=Bg(Ab(r),this.nodes[e.type.name](e),null,e.attrs);if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,o)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let o=e.marks.length-1;o>=0;o--){let i=this.serializeMark(e.marks[o],e.isInline,r);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(e,r,n={}){let o=this.marks[e.type.name];return o&&Bg(Ab(n),o(e,r),null,e.attrs)}static renderSpec(e,r,n=null,o){return Bg(e,r,n,o)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new iu(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=TR(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return TR(e.marks)}}function TR(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function Ab(t){return t.document||window.document}const jR=new WeakMap;function gQ(t){let e=jR.get(t);return e===void 0&&jR.set(t,e=yQ(t)),e}function yQ(t){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let o=0;o<n.length;o++)r(n[o]);else for(let o in n)r(n[o])}return r(t),e}function Bg(t,e,r,n){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let o=e[0],i;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(i=gQ(n))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=o.indexOf(" ");s>0&&(r=o.slice(0,s),o=o.slice(s+1));let a,l=r?t.createElementNS(r,o):t.createElement(o),p=e[1],f=1;if(p&&typeof p=="object"&&p.nodeType==null&&!Array.isArray(p)){f=2;for(let h in p)if(p[h]!=null){let m=h.indexOf(" ");m>0?l.setAttributeNS(h.slice(0,m),h.slice(m+1),p[h]):h=="style"&&l.style?l.style.cssText=p[h]:l.setAttribute(h,p[h])}}for(let h=f;h<e.length;h++){let m=e[h];if(m===0){if(h<e.length-1||h>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:y,contentDOM:v}=Bg(t,m,r,n);if(l.appendChild(y),v){if(a)throw new RangeError("Multiple content holes");a=v}}}return{dom:l,contentDOM:a}}const pO=65535,fO=Math.pow(2,16);function vQ(t,e){return t+e*fO}function RR(t){return t&pO}function xQ(t){return(t-(t&pO))/fO}const hO=1,mO=2,Wg=4,gO=8;class xw{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&gO)>0}get deletedBefore(){return(this.delInfo&(hO|Wg))>0}get deletedAfter(){return(this.delInfo&(mO|Wg))>0}get deletedAcross(){return(this.delInfo&Wg)>0}}class ri{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&ri.empty)return ri.empty}recover(e){let r=0,n=RR(e);if(!this.inverted)for(let o=0;o<n;o++)r+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[n*3]+r+xQ(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let o=0,i=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?o:0);if(l>e)break;let p=this.ranges[a+i],f=this.ranges[a+s],h=l+p;if(e<=h){let m=p?e==l?-1:e==h?1:r:r,y=l+o+(m<0?0:f);if(n)return y;let v=e==(r<0?l:h)?null:vQ(a/3,e-l),b=e==l?mO:e==h?hO:Wg;return(r<0?e!=l:e!=h)&&(b|=gO),new xw(y,b,v)}o+=f-p}return n?e+o:new xw(e+o,0,null)}touches(e,r){let n=0,o=RR(r),i=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?n:0);if(l>e)break;let p=this.ranges[a+i],f=l+p;if(e<=f&&a==o*3)return!0;n+=this.ranges[a+s]-p}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let o=0,i=0;o<this.ranges.length;o+=3){let s=this.ranges[o],a=s-(this.inverted?i:0),l=s+(this.inverted?0:i),p=this.ranges[o+r],f=this.ranges[o+n];e(a,a+p,l,l+f),i+=f-p}}invert(){return new ri(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ri.empty:new ri(e<0?[0,-e,0]:[0,0,e])}}ri.empty=new ri([]);class ph{constructor(e,r,n=0,o=e?e.length:0){this.mirror=r,this.from=n,this.to=o,this._maps=e||[],this.ownData=!(e||r)}get maps(){return this._maps}slice(e=0,r=this.maps.length){return new ph(this._maps,this.mirror,e,r)}appendMap(e,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(e){for(let r=0,n=this._maps.length;r<e._maps.length;r++){let o=e.getMirror(r);this.appendMap(e._maps[r],o!=null&&o<r?n+o:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this._maps.length+e._maps.length;r>=0;r--){let o=e.getMirror(r);this.appendMap(e._maps[r].invert(),o!=null&&o>r?n-o-1:void 0)}}invert(){let e=new ph;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let o=0;for(let i=this.from;i<this.to;i++){let s=this._maps[i],a=s.mapResult(e,r);if(a.recover!=null){let l=this.getMirror(i);if(l!=null&&l>i&&l<this.to){i=l,e=this._maps[l].recover(a.recover);continue}}o|=a.delInfo,e=a.pos}return n?e:new xw(e,o,null)}}const _b=Object.create(null);class mo{getMap(){return ri.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=_b[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in _b)throw new RangeError("Duplicate use of step JSON ID "+e);return _b[e]=r,r.prototype.jsonID=e,r}}class wn{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new wn(e,null)}static fail(e){return new wn(null,e)}static fromReplace(e,r,n,o){try{return wn.ok(e.replace(r,n,o))}catch(i){if(i instanceof xy)return wn.fail(i.message);throw i}}}function aC(t,e,r){let n=[];for(let o=0;o<t.childCount;o++){let i=t.child(o);i.content.size&&(i=i.copy(aC(i.content,e,i))),i.isInline&&(i=e(i,r,o)),n.push(i)}return ze.fromArray(n)}class wl extends mo{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),o=n.node(n.sharedDepth(this.to)),i=new vt(aC(r.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),o),r.openStart,r.openEnd);return wn.fromReplace(e,this.from,this.to,i)}invert(){return new is(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new wl(r.pos,n.pos,this.mark)}merge(e){return e instanceof wl&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new wl(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new wl(r.from,r.to,e.markFromJSON(r.mark))}}mo.jsonID("addMark",wl);class is extends mo{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new vt(aC(r.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),r.openStart,r.openEnd);return wn.fromReplace(e,this.from,this.to,n)}invert(){return new wl(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new is(r.pos,n.pos,this.mark)}merge(e){return e instanceof is&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new is(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new is(r.from,r.to,e.markFromJSON(r.mark))}}mo.jsonID("removeMark",is);class Sl extends mo{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return wn.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return wn.fromReplace(e,this.pos,this.pos+1,new vt(ze.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let o=0;o<r.marks.length;o++)if(!r.marks[o].isInSet(n))return new Sl(this.pos,r.marks[o]);return new Sl(this.pos,this.mark)}}return new Zc(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Sl(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Sl(r.pos,e.markFromJSON(r.mark))}}mo.jsonID("addNodeMark",Sl);class Zc extends mo{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return wn.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return wn.fromReplace(e,this.pos,this.pos+1,new vt(ze.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new Sl(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Zc(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Zc(r.pos,e.markFromJSON(r.mark))}}mo.jsonID("removeNodeMark",Zc);class Hn extends mo{constructor(e,r,n,o=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=o}apply(e){return this.structure&&bw(e,this.from,this.to)?wn.fail("Structure replace would overwrite content"):wn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ri([this.from,this.to-this.from,this.slice.size])}invert(e){return new Hn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new Hn(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Hn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?vt.empty:new vt(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Hn(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?vt.empty:new vt(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Hn(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Hn(r.from,r.to,vt.fromJSON(e,r.slice),!!r.structure)}}mo.jsonID("replace",Hn);class Vn extends mo{constructor(e,r,n,o,i,s,a=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=o,this.slice=i,this.insert=s,this.structure=a}apply(e){if(this.structure&&(bw(e,this.from,this.gapFrom)||bw(e,this.gapTo,this.to)))return wn.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return wn.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?wn.fromReplace(e,this.from,this.to,n):wn.fail("Content does not fit in gap")}getMap(){return new ri([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new Vn(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),o=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||o<r.pos||i>n.pos?null:new Vn(r.pos,n.pos,o,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Vn(r.from,r.to,r.gapFrom,r.gapTo,vt.fromJSON(e,r.slice),r.insert,!!r.structure)}}mo.jsonID("replaceAround",Vn);function bw(t,e,r){let n=t.resolve(e),o=r-e,i=n.depth;for(;o>0&&i>0&&n.indexAfter(i)==n.node(i).childCount;)i--,o--;if(o>0){let s=n.node(i).maybeChild(n.indexAfter(i));for(;o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}}return!1}function bQ(t,e,r,n){let o=[],i=[],s,a;t.doc.nodesBetween(e,r,(l,p,f)=>{if(!l.isInline)return;let h=l.marks;if(!n.isInSet(h)&&f.type.allowsMarkType(n.type)){let m=Math.max(p,e),y=Math.min(p+l.nodeSize,r),v=n.addToSet(h);for(let b=0;b<h.length;b++)h[b].isInSet(v)||(s&&s.to==m&&s.mark.eq(h[b])?s.to=y:o.push(s=new is(m,y,h[b])));a&&a.to==m?a.to=y:i.push(a=new wl(m,y,n))}}),o.forEach(l=>t.step(l)),i.forEach(l=>t.step(l))}function wQ(t,e,r,n){let o=[],i=0;t.doc.nodesBetween(e,r,(s,a)=>{if(!s.isInline)return;i++;let l=null;if(n instanceof Y0){let p=s.marks,f;for(;f=n.isInSet(p);)(l||(l=[])).push(f),p=f.removeFromSet(p)}else n?n.isInSet(s.marks)&&(l=[n]):l=s.marks;if(l&&l.length){let p=Math.min(a+s.nodeSize,r);for(let f=0;f<l.length;f++){let h=l[f],m;for(let y=0;y<o.length;y++){let v=o[y];v.step==i-1&&h.eq(o[y].style)&&(m=v)}m?(m.to=p,m.step=i):o.push({style:h,from:Math.max(a,e),to:p,step:i})}}}),o.forEach(s=>t.step(new is(s.from,s.to,s.style)))}function lC(t,e,r,n=r.contentMatch,o=!0){let i=t.doc.nodeAt(e),s=[],a=e+1;for(let l=0;l<i.childCount;l++){let p=i.child(l),f=a+p.nodeSize,h=n.matchType(p.type);if(!h)s.push(new Hn(a,f,vt.empty));else{n=h;for(let m=0;m<p.marks.length;m++)r.allowsMarkType(p.marks[m].type)||t.step(new is(a,f,p.marks[m]));if(o&&p.isText&&r.whitespace!="pre"){let m,y=/\r?\n|\r/g,v;for(;m=y.exec(p.text);)v||(v=new vt(ze.from(r.schema.text(" ",r.allowedMarks(p.marks))),0,0)),s.push(new Hn(a+m.index,a+m.index+m[0].length,v))}}a=f}if(!n.validEnd){let l=n.fillBefore(ze.empty,!0);t.replace(a,a,new vt(l,0,0))}for(let l=s.length-1;l>=0;l--)t.step(s[l])}function SQ(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function ap(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth,o=0,i=0;;--n){let s=t.$from.node(n),a=t.$from.index(n)+o,l=t.$to.indexAfter(n)-i;if(n<t.depth&&s.canReplace(a,l,r))return n;if(n==0||s.type.spec.isolating||!SQ(s,a,l))break;a&&(o=1),l<s.childCount&&(i=1)}return null}function CQ(t,e,r){let{$from:n,$to:o,depth:i}=e,s=n.before(i+1),a=o.after(i+1),l=s,p=a,f=ze.empty,h=0;for(let v=i,b=!1;v>r;v--)b||n.index(v)>0?(b=!0,f=ze.from(n.node(v).copy(f)),h++):l--;let m=ze.empty,y=0;for(let v=i,b=!1;v>r;v--)b||o.after(v+1)<o.end(v)?(b=!0,m=ze.from(o.node(v).copy(m)),y++):p++;t.step(new Vn(l,p,s,a,new vt(f.append(m),h,y),f.size-h,!0))}function cC(t,e,r=null,n=t){let o=kQ(t,e),i=o&&EQ(n,e);return i?o.map(AR).concat({type:e,attrs:r}).concat(i.map(AR)):null}function AR(t){return{type:t,attrs:null}}function kQ(t,e){let{parent:r,startIndex:n,endIndex:o}=t,i=r.contentMatchAt(n).findWrapping(e);if(!i)return null;let s=i.length?i[0]:e;return r.canReplaceWith(n,o,s)?i:null}function EQ(t,e){let{parent:r,startIndex:n,endIndex:o}=t,i=r.child(n),s=e.contentMatch.findWrapping(i.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let p=n;l&&p<o;p++)l=l.matchType(r.child(p).type);return!l||!l.validEnd?null:s}function TQ(t,e,r){let n=ze.empty;for(let s=r.length-1;s>=0;s--){if(n.size){let a=r[s].type.contentMatch.matchFragment(n);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=ze.from(r[s].type.create(r[s].attrs,n))}let o=e.start,i=e.end;t.step(new Vn(o,i,o,i,new vt(n,0,0),r.length,!0))}function jQ(t,e,r,n,o){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,r,(s,a)=>{let l=typeof o=="function"?o(s):o;if(s.isTextblock&&!s.hasMarkup(n,l)&&RQ(t.doc,t.mapping.slice(i).map(a),n)){let p=null;if(n.schema.linebreakReplacement){let y=n.whitespace=="pre",v=!!n.contentMatch.matchType(n.schema.linebreakReplacement);y&&!v?p=!1:!y&&v&&(p=!0)}p===!1&&vO(t,s,a,i),lC(t,t.mapping.slice(i).map(a,1),n,void 0,p===null);let f=t.mapping.slice(i),h=f.map(a,1),m=f.map(a+s.nodeSize,1);return t.step(new Vn(h,m,h+1,m-1,new vt(ze.from(n.create(l,null,s.marks)),0,0),1,!0)),p===!0&&yO(t,s,a,i),!1}})}function yO(t,e,r,n){e.forEach((o,i)=>{if(o.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(o.text);){let l=t.mapping.slice(n).map(r+1+i+s.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function vO(t,e,r,n){e.forEach((o,i)=>{if(o.type==o.type.schema.linebreakReplacement){let s=t.mapping.slice(n).map(r+1+i);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function RQ(t,e,r){let n=t.resolve(e),o=n.index();return n.parent.canReplaceWith(o,o+1,r)}function AQ(t,e,r,n,o){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");r||(r=i.type);let s=r.create(n,null,o||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,s);if(!r.validContent(i.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new Vn(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new vt(ze.from(s),0,0),1,!0))}function fa(t,e,r=1,n){let o=t.resolve(e),i=o.depth-r,s=n&&n[n.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let p=o.depth-1,f=r-2;p>i;p--,f--){let h=o.node(p),m=o.index(p);if(h.type.spec.isolating)return!1;let y=h.content.cutByIndex(m,h.childCount),v=n&&n[f+1];v&&(y=y.replaceChild(0,v.type.create(v.attrs)));let b=n&&n[f]||h;if(!h.canReplace(m+1,h.childCount)||!b.type.validContent(y))return!1}let a=o.indexAfter(i),l=n&&n[0];return o.node(i).canReplaceWith(a,a,l?l.type:o.node(i+1).type)}function _Q(t,e,r=1,n){let o=t.doc.resolve(e),i=ze.empty,s=ze.empty;for(let a=o.depth,l=o.depth-r,p=r-1;a>l;a--,p--){i=ze.from(o.node(a).copy(i));let f=n&&n[p];s=ze.from(f?f.type.create(f.attrs,s):o.node(a).copy(s))}t.step(new Hn(e,e,new vt(i.append(s),r,r),!0))}function Fl(t,e){let r=t.resolve(e),n=r.index();return xO(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function MQ(t,e){e.content.size||t.type.compatibleContent(e.type);let r=t.contentMatchAt(t.childCount),{linebreakReplacement:n}=t.type.schema;for(let o=0;o<e.childCount;o++){let i=e.child(o),s=i.type==n?t.type.schema.nodes.text:i.type;if(r=r.matchType(s),!r||!t.type.allowsMarks(i.marks))return!1}return r.validEnd}function xO(t,e){return!!(t&&e&&!t.isLeaf&&MQ(t,e))}function J0(t,e,r=-1){let n=t.resolve(e);for(let o=n.depth;;o--){let i,s,a=n.index(o);if(o==n.depth?(i=n.nodeBefore,s=n.nodeAfter):r>0?(i=n.node(o+1),a++,s=n.node(o).maybeChild(a)):(i=n.node(o).maybeChild(a-1),s=n.node(o+1)),i&&!i.isTextblock&&xO(i,s)&&n.node(o).canReplace(a,a+1))return e;if(o==0)break;e=r<0?n.before(o):n.after(o)}}function IQ(t,e,r){let n=null,{linebreakReplacement:o}=t.doc.type.schema,i=t.doc.resolve(e-r),s=i.node().type;if(o&&s.inlineContent){let f=s.whitespace=="pre",h=!!s.contentMatch.matchType(o);f&&!h?n=!1:!f&&h&&(n=!0)}let a=t.steps.length;if(n===!1){let f=t.doc.resolve(e+r);vO(t,f.node(),f.before(),a)}s.inlineContent&&lC(t,e+r-1,s,i.node().contentMatchAt(i.index()),n==null);let l=t.mapping.slice(a),p=l.map(e-r);if(t.step(new Hn(p,l.map(e+r,-1),vt.empty,!0)),n===!0){let f=t.doc.resolve(p);yO(t,f.node(),f.before(),t.steps.length)}return t}function OQ(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let o=n.depth-1;o>=0;o--){let i=n.index(o);if(n.node(o).canReplaceWith(i,i,r))return n.before(o+1);if(i>0)return null}if(n.parentOffset==n.parent.content.size)for(let o=n.depth-1;o>=0;o--){let i=n.indexAfter(o);if(n.node(o).canReplaceWith(i,i,r))return n.after(o+1);if(i<n.node(o).childCount)return null}return null}function bO(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let o=r.content;for(let i=0;i<r.openStart;i++)o=o.firstChild.content;for(let i=1;i<=(r.openStart==0&&r.size?2:1);i++)for(let s=n.depth;s>=0;s--){let a=s==n.depth?0:n.pos<=(n.start(s+1)+n.end(s+1))/2?-1:1,l=n.index(s)+(a>0?1:0),p=n.node(s),f=!1;if(i==1)f=p.canReplace(l,l,o);else{let h=p.contentMatchAt(l).findWrapping(o.firstChild.type);f=h&&p.canReplaceWith(l,l,h[0])}if(f)return a==0?n.pos:a<0?n.before(s+1):n.after(s+1)}return null}function X0(t,e,r=e,n=vt.empty){if(e==r&&!n.size)return null;let o=t.resolve(e),i=t.resolve(r);return wO(o,i,n)?new Hn(e,r,n):new PQ(o,i,n).fit()}function wO(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}class PQ{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=ze.empty;for(let o=0;o<=e.depth;o++){let i=e.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=ze.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let p=this.findFittable();p?this.placeNodes(p):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,o=this.close(e<0?this.$to:n.doc.resolve(e));if(!o)return null;let i=this.placed,s=n.depth,a=o.depth;for(;s&&a&&i.childCount==1;)i=i.firstChild.content,s--,a--;let l=new vt(i,s,a);return e>-1?new Vn(n.pos,e,this.$to.pos,this.$to.end(),l,r):l.size||n.pos!=this.$to.pos?new Hn(n.pos,o.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,o=this.unplaced.openEnd;n<e;n++){let i=r.firstChild;if(r.childCount>1&&(o=0),i.type.spec.isolating&&o<=n){e=n;break}r=i.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let o,i=null;n?(i=Mb(this.unplaced.content,n-1).firstChild,o=i.content):o=this.unplaced.content;let s=o.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:p}=this.frontier[a],f,h=null;if(r==1&&(s?p.matchType(s.type)||(h=p.fillBefore(ze.from(s),!1)):i&&l.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:a,parent:i,inject:h};if(r==2&&s&&(f=p.findWrapping(s.type)))return{sliceDepth:n,frontierDepth:a,parent:i,wrap:f};if(i&&p.matchType(i.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,o=Mb(e,r);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new vt(e,r+1,Math.max(n,o.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,o=Mb(e,r);if(o.childCount<=1&&r>0){let i=e.size-r<=r+o.size;this.unplaced=new vt(hf(e,r-1,1),r-1,i?r-1:n)}else this.unplaced=new vt(hf(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:o,wrap:i}){for(;this.depth>r;)this.closeFrontierNode();if(i)for(let b=0;b<i.length;b++)this.openFrontierNode(i[b]);let s=this.unplaced,a=n?n.content:s.content,l=s.openStart-e,p=0,f=[],{match:h,type:m}=this.frontier[r];if(o){for(let b=0;b<o.childCount;b++)f.push(o.child(b));h=h.matchFragment(o)}let y=a.size+e-(s.content.size-s.openEnd);for(;p<a.childCount;){let b=a.child(p),x=h.matchType(b.type);if(!x)break;p++,(p>1||l==0||b.content.size)&&(h=x,f.push(SO(b.mark(m.allowedMarks(b.marks)),p==1?l:0,p==a.childCount?y:-1)))}let v=p==a.childCount;v||(y=-1),this.placed=mf(this.placed,r,ze.from(f)),this.frontier[r].match=h,v&&y<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let b=0,x=a;b<y;b++){let C=x.lastChild;this.frontier.push({type:C.type,match:C.contentMatchAt(C.childCount)}),x=C.content}this.unplaced=v?e==0?vt.empty:new vt(hf(s.content,e-1,1),e-1,y<0?s.openEnd:e-1):new vt(hf(s.content,e,p),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!Ib(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,o=this.$to.after(n);for(;n>1&&o==this.$to.end(--n);)++o;return o}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:o}=this.frontier[r],i=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),s=Ib(e,r,o,n,i);if(s){for(let a=r-1;a>=0;a--){let{match:l,type:p}=this.frontier[a],f=Ib(e,a,p,l,!0);if(!f||f.childCount)continue e}return{depth:r,fit:s,move:i?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=mf(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let o=e.node(n),i=o.type.contentMatch.fillBefore(o.content,!0,e.index(n));this.openFrontierNode(o.type,o.attrs,i)}return e}openFrontierNode(e,r=null,n){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=mf(this.placed,this.depth,ze.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(ze.empty,!0);r.childCount&&(this.placed=mf(this.placed,this.frontier.length,r))}}function hf(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(hf(t.firstChild.content,e-1,r)))}function mf(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(mf(t.lastChild.content,e-1,r)))}function Mb(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function SO(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,SO(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(ze.empty,!0)))),t.copy(n)}function Ib(t,e,r,n,o){let i=t.node(e),s=o?t.indexAfter(e):t.index(e);if(s==i.childCount&&!r.compatibleContent(i.type))return null;let a=n.fillBefore(i.content,!0,s);return a&&!NQ(r,i.content,s)?a:null}function NQ(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function LQ(t){return t.spec.defining||t.spec.definingForContent}function DQ(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let o=t.doc.resolve(e),i=t.doc.resolve(r);if(wO(o,i,n))return t.step(new Hn(e,r,n));let s=kO(o,i);s[s.length-1]==0&&s.pop();let a=-(o.depth+1);s.unshift(a);for(let m=o.depth,y=o.pos-1;m>0;m--,y--){let v=o.node(m).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;s.indexOf(m)>-1?a=m:o.before(m)==y&&s.splice(1,0,-m)}let l=s.indexOf(a),p=[],f=n.openStart;for(let m=n.content,y=0;;y++){let v=m.firstChild;if(p.push(v),y==n.openStart)break;m=v.content}for(let m=f-1;m>=0;m--){let y=p[m],v=LQ(y.type);if(v&&!y.sameMarkup(o.node(Math.abs(a)-1)))f=m;else if(v||!y.type.isTextblock)break}for(let m=n.openStart;m>=0;m--){let y=(m+f+1)%(n.openStart+1),v=p[y];if(v)for(let b=0;b<s.length;b++){let x=s[(b+l)%s.length],C=!0;x<0&&(C=!1,x=-x);let E=o.node(x-1),j=o.index(x-1);if(E.canReplaceWith(j,j,v.type,v.marks))return t.replace(o.before(x),C?i.after(x):r,new vt(CO(n.content,0,n.openStart,y),y,n.openEnd))}}let h=t.steps.length;for(let m=s.length-1;m>=0&&(t.replace(e,r,n),!(t.steps.length>h));m--){let y=s[m];y<0||(e=o.before(y),r=i.after(y))}}function CO(t,e,r,n,o){if(e<r){let i=t.firstChild;t=t.replaceChild(0,i.copy(CO(i.content,e+1,r,n,i)))}if(e>n){let i=o.contentMatchAt(0),s=i.fillBefore(t).append(t);t=s.append(i.matchFragment(s).fillBefore(ze.empty,!0))}return t}function zQ(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let o=OQ(t.doc,e,n.type);o!=null&&(e=r=o)}t.replaceRange(e,r,new vt(ze.from(n),0,0))}function $Q(t,e,r){let n=t.doc.resolve(e),o=t.doc.resolve(r),i=kO(n,o);for(let s=0;s<i.length;s++){let a=i[s],l=s==i.length-1;if(l&&a==0||n.node(a).type.contentMatch.validEnd)return t.delete(n.start(a),o.end(a));if(a>0&&(l||n.node(a-1).canReplace(n.index(a-1),o.indexAfter(a-1))))return t.delete(n.before(a),o.after(a))}for(let s=1;s<=n.depth&&s<=o.depth;s++)if(e-n.start(s)==n.depth-s&&r>n.end(s)&&o.end(s)-r!=o.depth-s&&n.start(s-1)==o.start(s-1)&&n.node(s-1).canReplace(n.index(s-1),o.index(s-1)))return t.delete(n.before(s),r);t.delete(e,r)}function kO(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let o=n;o>=0;o--){let i=t.start(o);if(i<t.pos-(t.depth-o)||e.end(o)>e.pos+(e.depth-o)||t.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(i==e.start(o)||o==t.depth&&o==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==i-1)&&r.push(o)}return r}class gd extends mo{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return wn.fail("No node at attribute step's position");let n=Object.create(null);for(let i in r.attrs)n[i]=r.attrs[i];n[this.attr]=this.value;let o=r.type.create(n,null,r.marks);return wn.fromReplace(e,this.pos,this.pos+1,new vt(ze.from(o),0,r.isLeaf?0:1))}getMap(){return ri.empty}invert(e){return new gd(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new gd(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new gd(r.pos,r.attr,r.value)}}mo.jsonID("attr",gd);class fh extends mo{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let o in e.attrs)r[o]=e.attrs[o];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return wn.ok(n)}getMap(){return ri.empty}invert(e){return new fh(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new fh(r.attr,r.value)}}mo.jsonID("docAttr",fh);let Bd=class extends Error{};Bd=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r};Bd.prototype=Object.create(Error.prototype);Bd.prototype.constructor=Bd;Bd.prototype.name="TransformError";class EO{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ph}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new Bd(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}changedRange(){let e=1e9,r=-1e9;for(let n=0;n<this.mapping.maps.length;n++){let o=this.mapping.maps[n];n&&(e=o.map(e,1),r=o.map(r,-1)),o.forEach((i,s,a,l)=>{e=Math.min(e,a),r=Math.max(r,l)})}return e==1e9?null:{from:e,to:r}}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=vt.empty){let o=X0(this.doc,e,r,n);return o&&this.step(o),this}replaceWith(e,r,n){return this.replace(e,r,new vt(ze.from(n),0,0))}delete(e,r){return this.replace(e,r,vt.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return DQ(this,e,r,n),this}replaceRangeWith(e,r,n){return zQ(this,e,r,n),this}deleteRange(e,r){return $Q(this,e,r),this}lift(e,r){return CQ(this,e,r),this}join(e,r=1){return IQ(this,e,r),this}wrap(e,r){return TQ(this,e,r),this}setBlockType(e,r=e,n,o=null){return jQ(this,e,r,n,o),this}setNodeMarkup(e,r,n=null,o){return AQ(this,e,r,n,o),this}setNodeAttribute(e,r,n){return this.step(new gd(e,r,n)),this}setDocAttribute(e,r){return this.step(new fh(e,r)),this}addNodeMark(e,r){return this.step(new Sl(e,r)),this}removeNodeMark(e,r){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r instanceof Or)r.isInSet(n.marks)&&this.step(new Zc(e,r));else{let o=n.marks,i,s=[];for(;i=r.isInSet(o);)s.push(new Zc(e,i)),o=i.removeFromSet(o);for(let a=s.length-1;a>=0;a--)this.step(s[a])}return this}split(e,r=1,n){return _Q(this,e,r,n),this}addMark(e,r,n){return bQ(this,e,r,n),this}removeMark(e,r,n){return wQ(this,e,r,n),this}clearIncompatible(e,r,n){return lC(this,e,r,n),this}}const Ob=Object.create(null);class nr{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new FQ(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=vt.empty){let n=r.content.lastChild,o=null;for(let a=0;a<r.openEnd;a++)o=n,n=n.lastChild;let i=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:p}=s[a],f=e.mapping.slice(i);e.replaceRange(f.map(l.pos),f.map(p.pos),a?vt.empty:r),a==0&&IR(e,i,(n?n.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,o=this.ranges;for(let i=0;i<o.length;i++){let{$from:s,$to:a}=o[i],l=e.mapping.slice(n),p=l.map(s.pos),f=l.map(a.pos);i?e.deleteRange(p,f):(e.replaceRangeWith(p,f,r),IR(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let o=e.parent.inlineContent?new Kt(e):rd(e.node(0),e.parent,e.pos,e.index(),r,n);if(o)return o;for(let i=e.depth-1;i>=0;i--){let s=r<0?rd(e.node(0),e.node(i),e.before(i+1),e.index(i),r,n):rd(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,r,n);if(s)return s}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new oi(e.node(0))}static atStart(e){return rd(e,e,0,0,1)||new oi(e)}static atEnd(e){return rd(e,e,e.content.size,e.childCount,-1)||new oi(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=Ob[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in Ob)throw new RangeError("Duplicate use of selection JSON ID "+e);return Ob[e]=r,r.prototype.jsonID=e,r}getBookmark(){return Kt.between(this.$anchor,this.$head).getBookmark()}}nr.prototype.visible=!0;class FQ{constructor(e,r){this.$from=e,this.$to=r}}let _R=!1;function MR(t){!_R&&!t.parent.inlineContent&&(_R=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Kt extends nr{constructor(e,r=e){MR(e),MR(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return nr.near(n);let o=e.resolve(r.map(this.anchor));return new Kt(o.parent.inlineContent?o:n,n)}replace(e,r=vt.empty){if(super.replace(e,r),r==vt.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof Kt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Q0(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Kt(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let o=e.resolve(r);return new this(o,n==r?o:e.resolve(n))}static between(e,r,n){let o=e.pos-r.pos;if((!n||o)&&(n=o>=0?1:-1),!r.parent.inlineContent){let i=nr.findFrom(r,n,!0)||nr.findFrom(r,-n,!0);if(i)r=i.$head;else return nr.near(r,n)}return e.parent.inlineContent||(o==0?e=r:(e=(nr.findFrom(e,-n,!0)||nr.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=o<0&&(e=r))),new Kt(e,r)}}nr.jsonID("text",Kt);class Q0{constructor(e,r){this.anchor=e,this.head=r}map(e){return new Q0(e.map(this.anchor),e.map(this.head))}resolve(e){return Kt.between(e.resolve(this.anchor),e.resolve(this.head))}}class Nt extends nr{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:o}=r.mapResult(this.anchor),i=e.resolve(o);return n?nr.near(i):new Nt(i)}content(){return new vt(ze.from(this.node),0,0)}eq(e){return e instanceof Nt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new uC(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Nt(e.resolve(r.anchor))}static create(e,r){return new Nt(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Nt.prototype.visible=!1;nr.jsonID("node",Nt);class uC{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new Q0(n,n):new uC(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&Nt.isSelectable(n)?new Nt(r):nr.near(r)}}class oi extends nr{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=vt.empty){if(r==vt.empty){e.delete(0,e.doc.content.size);let n=nr.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new oi(e)}map(e){return new oi(e)}eq(e){return e instanceof oi}getBookmark(){return BQ}}nr.jsonID("all",oi);const BQ={map(){return this},resolve(t){return new oi(t)}};function rd(t,e,r,n,o,i=!1){if(e.inlineContent)return Kt.create(t,r);for(let s=n-(o>0?0:1);o>0?s<e.childCount:s>=0;s+=o){let a=e.child(s);if(a.isAtom){if(!i&&Nt.isSelectable(a))return Nt.create(t,r-(o<0?a.nodeSize:0))}else{let l=rd(t,a,r+o,o<0?a.childCount:0,o,i);if(l)return l}r+=a.nodeSize*o}return null}function IR(t,e,r){let n=t.steps.length-1;if(n<e)return;let o=t.steps[n];if(!(o instanceof Hn||o instanceof Vn))return;let i=t.mapping.maps[n],s;i.forEach((a,l,p,f)=>{s==null&&(s=f)}),t.setSelection(nr.near(t.doc.resolve(s),r))}const OR=1,hg=2,PR=4;class WQ extends EO{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|OR)&~hg,this.storedMarks=null,this}get selectionSet(){return(this.updated&OR)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=hg,this}ensureMarks(e){return Or.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&hg)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~hg,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Or.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let o=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(o.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),!e)return this.deleteRange(r,n);let i=this.storedMarks;if(!i){let s=this.doc.resolve(r);i=n==r?s.marks():s.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,o.text(e,i)),!this.selection.empty&&this.selection.to==r+e.length&&this.setSelection(nr.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=PR,this}get scrolledIntoView(){return(this.updated&PR)>0}}function NR(t,e){return!e||!t?t:t.bind(e)}class gf{constructor(e,r,n){this.name=e,this.init=NR(r.init,n),this.apply=NR(r.apply,n)}}const HQ=[new gf("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new gf("selection",{init(t,e){return t.selection||nr.atStart(e.doc)},apply(t){return t.selection}}),new gf("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new gf("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Pb{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=HQ.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new gf(n.key,n.spec.state,n))})}}class cd{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let o=this.config.plugins[n];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),o=null;for(;;){let i=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=o?o[s].n:0,p=o?o[s].state:this,f=l<r.length&&a.spec.appendTransaction.call(a,l?r.slice(l):r,p,n);if(f&&n.filterTransaction(f,s)){if(f.setMeta("appendedTransaction",e),!o){o=[];for(let h=0;h<this.config.plugins.length;h++)o.push(h<s?{state:n,n:r.length}:{state:this,n:0})}r.push(f),n=n.applyInner(f),i=!0}o&&(o[s]={state:n,n:r.length})}}if(!i)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new cd(this.config),n=this.config.fields;for(let o=0;o<n.length;o++){let i=n[o];r[i.name]=i.apply(e,this[i.name],this,r)}return r}get tr(){return new WQ(this)}static create(e){let r=new Pb(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new cd(r);for(let o=0;o<r.fields.length;o++)n[r.fields[o].name]=r.fields[o].init(e,n);return n}reconfigure(e){let r=new Pb(this.schema,e.plugins),n=r.fields,o=new cd(r);for(let i=0;i<n.length;i++){let s=n[i].name;o[s]=this.hasOwnProperty(s)?this[s]:n[i].init(e,o)}return o}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=e[n],i=o.spec.state;i&&i.toJSON&&(r[n]=i.toJSON.call(o,this[o.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new Pb(e.schema,e.plugins),i=new cd(o);return o.fields.forEach(s=>{if(s.name=="doc")i.doc=as.fromJSON(e.schema,r.doc);else if(s.name=="selection")i.selection=nr.fromJSON(i.doc,r.selection);else if(s.name=="storedMarks")r.storedMarks&&(i.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let a in n){let l=n[a],p=l.spec.state;if(l.key==s.name&&p&&p.fromJSON&&Object.prototype.hasOwnProperty.call(r,a)){i[s.name]=p.fromJSON.call(l,e,r[a],i);return}}i[s.name]=s.init(e,i)}}),i}}function TO(t,e,r){for(let n in t){let o=t[n];o instanceof Function?o=o.bind(e):n=="handleDOMEvents"&&(o=TO(o,e,{})),r[n]=o}return r}class en{constructor(e){this.spec=e,this.props={},e.props&&TO(e.props,this,this.props),this.key=e.key?e.key.key:jO("plugin")}getState(e){return e[this.key]}}const Nb=Object.create(null);function jO(t){return t in Nb?t+"$"+ ++Nb[t]:(Nb[t]=0,t+"$")}class In{constructor(e="key"){this.key=jO(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const dC=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function RO(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}const AO=(t,e,r)=>{let n=RO(t,r);if(!n)return!1;let o=pC(n);if(!o){let s=n.blockRange(),a=s&&ap(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}let i=o.nodeBefore;if(zO(t,o,e,-1))return!0;if(n.parent.content.size==0&&(Wd(i,"end")||Nt.isSelectable(i)))for(let s=n.depth;;s--){let a=X0(t.doc,n.before(s),n.after(s),vt.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Wd(i,"end")?nr.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):Nt.create(l.doc,o.pos-i.nodeSize)),e(l.scrollIntoView())}return!0}if(s==1||n.node(s-1).childCount>1)break}return i.isAtom&&o.depth==n.depth-1?(e&&e(t.tr.delete(o.pos-i.nodeSize,o.pos).scrollIntoView()),!0):!1},UQ=(t,e,r)=>{let n=RO(t,r);if(!n)return!1;let o=pC(n);return o?_O(t,o,e):!1},VQ=(t,e,r)=>{let n=IO(t,r);if(!n)return!1;let o=fC(n);return o?_O(t,o,e):!1};function _O(t,e,r){let n=e.nodeBefore,o=n,i=e.pos-1;for(;!o.isTextblock;i--){if(o.type.spec.isolating)return!1;let f=o.lastChild;if(!f)return!1;o=f}let s=e.nodeAfter,a=s,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let f=a.firstChild;if(!f)return!1;a=f}let p=X0(t.doc,i,l,vt.empty);if(!p||p.from!=i||p instanceof Hn&&p.slice.size>=l-i)return!1;if(r){let f=t.tr.step(p);f.setSelection(Kt.create(f.doc,i)),r(f.scrollIntoView())}return!0}function Wd(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const MO=(t,e,r)=>{let{$head:n,empty:o}=t.selection,i=n;if(!o)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;i=pC(n)}let s=i&&i.nodeBefore;return!s||!Nt.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Nt.create(t.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)};function pC(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function IO(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}const OO=(t,e,r)=>{let n=IO(t,r);if(!n)return!1;let o=fC(n);if(!o)return!1;let i=o.nodeAfter;if(zO(t,o,e,1))return!0;if(n.parent.content.size==0&&(Wd(i,"start")||Nt.isSelectable(i))){let s=X0(t.doc,n.before(),n.after(),vt.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(Wd(i,"start")?nr.findFrom(a.doc.resolve(a.mapping.map(o.pos)),1):Nt.create(a.doc,a.mapping.map(o.pos))),e(a.scrollIntoView())}return!0}}return i.isAtom&&o.depth==n.depth-1?(e&&e(t.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0):!1},PO=(t,e,r)=>{let{$head:n,empty:o}=t.selection,i=n;if(!o)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;i=fC(n)}let s=i&&i.nodeAfter;return!s||!Nt.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Nt.create(t.doc,i.pos)).scrollIntoView()),!0)};function fC(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}const qQ=(t,e)=>{let r=t.selection,n=r instanceof Nt,o;if(n){if(r.node.isTextblock||!Fl(t.doc,r.from))return!1;o=r.from}else if(o=J0(t.doc,r.from,-1),o==null)return!1;if(e){let i=t.tr.join(o);n&&i.setSelection(Nt.create(i.doc,o-t.doc.resolve(o).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},GQ=(t,e)=>{let r=t.selection,n;if(r instanceof Nt){if(r.node.isTextblock||!Fl(t.doc,r.to))return!1;n=r.to}else if(n=J0(t.doc,r.to,1),n==null)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0},KQ=(t,e)=>{let{$from:r,$to:n}=t.selection,o=r.blockRange(n),i=o&&ap(o);return i==null?!1:(e&&e(t.tr.lift(o,i).scrollIntoView()),!0)},NO=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function hC(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const YQ=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let o=r.node(-1),i=r.indexAfter(-1),s=hC(o.contentMatchAt(i));if(!s||!o.canReplaceWith(i,i,s))return!1;if(e){let a=r.after(),l=t.tr.replaceWith(a,a,s.createAndFill());l.setSelection(nr.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},LO=(t,e)=>{let r=t.selection,{$from:n,$to:o}=r;if(r instanceof oi||n.parent.inlineContent||o.parent.inlineContent)return!1;let i=hC(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let s=(!n.parentOffset&&o.index()<o.parent.childCount?n:o).pos,a=t.tr.insert(s,i.createAndFill());a.setSelection(Kt.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},DO=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let i=r.before();if(fa(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let n=r.blockRange(),o=n&&ap(n);return o==null?!1:(e&&e(t.tr.lift(n,o).scrollIntoView()),!0)};function JQ(t){return(e,r)=>{let{$from:n,$to:o}=e.selection;if(e.selection instanceof Nt&&e.selection.node.isBlock)return!n.parentOffset||!fa(e.doc,n.pos)?!1:(r&&r(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let i=[],s,a,l=!1,p=!1;for(let y=n.depth;;y--)if(n.node(y).isBlock){l=n.end(y)==n.pos+(n.depth-y),p=n.start(y)==n.pos-(n.depth-y),a=hC(n.node(y-1).contentMatchAt(n.indexAfter(y-1))),i.unshift(l&&a?{type:a}:null),s=y;break}else{if(y==1)return!1;i.unshift(null)}let f=e.tr;(e.selection instanceof Kt||e.selection instanceof oi)&&f.deleteSelection();let h=f.mapping.map(n.pos),m=fa(f.doc,h,i.length,i);if(m||(i[0]=a?{type:a}:null,m=fa(f.doc,h,i.length,i)),!m)return!1;if(f.split(h,i.length,i),!l&&p&&n.node(s).type!=a){let y=f.mapping.map(n.before(s)),v=f.doc.resolve(y);a&&n.node(s-1).canReplaceWith(v.index(),v.index()+1,a)&&f.setNodeMarkup(f.mapping.map(n.before(s)),a)}return r&&r(f.scrollIntoView()),!0}}const XQ=JQ(),QQ=(t,e)=>{let{$from:r,to:n}=t.selection,o,i=r.sharedDepth(n);return i==0?!1:(o=r.before(i),e&&e(t.tr.setSelection(Nt.create(t.doc,o))),!0)};function ZQ(t,e,r){let n=e.nodeBefore,o=e.nodeAfter,i=e.index();return!n||!o||!n.type.compatibleContent(o.type)?!1:!n.content.size&&e.parent.canReplace(i-1,i)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(o.isTextblock||Fl(t.doc,e.pos))?!1:(r&&r(t.tr.join(e.pos).scrollIntoView()),!0)}function zO(t,e,r,n){let o=e.nodeBefore,i=e.nodeAfter,s,a,l=o.type.spec.isolating||i.type.spec.isolating;if(!l&&ZQ(t,e,r))return!0;let p=!l&&e.parent.canReplace(e.index(),e.index()+1);if(p&&(s=(a=o.contentMatchAt(o.childCount)).findWrapping(i.type))&&a.matchType(s[0]||i.type).validEnd){if(r){let y=e.pos+i.nodeSize,v=ze.empty;for(let C=s.length-1;C>=0;C--)v=ze.from(s[C].create(null,v));v=ze.from(o.copy(v));let b=t.tr.step(new Vn(e.pos-1,y,e.pos,y,new vt(v,1,0),s.length,!0)),x=b.doc.resolve(y+2*s.length);x.nodeAfter&&x.nodeAfter.type==o.type&&Fl(b.doc,x.pos)&&b.join(x.pos),r(b.scrollIntoView())}return!0}let f=i.type.spec.isolating||n>0&&l?null:nr.findFrom(e,1),h=f&&f.$from.blockRange(f.$to),m=h&&ap(h);if(m!=null&&m>=e.depth)return r&&r(t.tr.lift(h,m).scrollIntoView()),!0;if(p&&Wd(i,"start",!0)&&Wd(o,"end")){let y=o,v=[];for(;v.push(y),!y.isTextblock;)y=y.lastChild;let b=i,x=1;for(;!b.isTextblock;b=b.firstChild)x++;if(y.canReplace(y.childCount,y.childCount,b.content)){if(r){let C=ze.empty;for(let j=v.length-1;j>=0;j--)C=ze.from(v[j].copy(C));let E=t.tr.step(new Vn(e.pos-v.length,e.pos+i.nodeSize,e.pos+x,e.pos+i.nodeSize-x,new vt(C,v.length,0),0,!0));r(E.scrollIntoView())}return!0}}return!1}function $O(t){return function(e,r){let n=e.selection,o=t<0?n.$from:n.$to,i=o.depth;for(;o.node(i).isInline;){if(!i)return!1;i--}return o.node(i).isTextblock?(r&&r(e.tr.setSelection(Kt.create(e.doc,t<0?o.start(i):o.end(i)))),!0):!1}}const eZ=$O(-1),tZ=$O(1);function rZ(t,e=null){return function(r,n){let{$from:o,$to:i}=r.selection,s=o.blockRange(i),a=s&&cC(s,t,e);return a?(n&&n(r.tr.wrap(s,a).scrollIntoView()),!0):!1}}function LR(t,e=null){return function(r,n){let o=!1;for(let i=0;i<r.selection.ranges.length&&!o;i++){let{$from:{pos:s},$to:{pos:a}}=r.selection.ranges[i];r.doc.nodesBetween(s,a,(l,p)=>{if(o)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)o=!0;else{let f=r.doc.resolve(p),h=f.index();o=f.parent.canReplaceWith(h,h+1,t)}})}if(!o)return!1;if(n){let i=r.tr;for(let s=0;s<r.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=r.selection.ranges[s];i.setBlockType(a,l,t,e)}n(i.scrollIntoView())}return!0}}function mC(...t){return function(e,r,n){for(let o=0;o<t.length;o++)if(t[o](e,r,n))return!0;return!1}}mC(dC,AO,MO);mC(dC,OO,PO);mC(NO,LO,DO,XQ);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function nZ(t,e=null){return function(r,n){let{$from:o,$to:i}=r.selection,s=o.blockRange(i);if(!s)return!1;let a=n?r.tr:null;return oZ(a,s,t,e)?(n&&n(a.scrollIntoView()),!0):!1}}function oZ(t,e,r,n=null){let o=!1,i=e,s=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(r)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=s.resolve(e.start-2);i=new wy(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new wy(e.$from,s.resolve(e.$to.end(e.depth)),e.depth)),o=!0}let a=cC(i,r,n,e);return a?(t&&iZ(t,e,a,o,r),!0):!1}function iZ(t,e,r,n,o){let i=ze.empty;for(let f=r.length-1;f>=0;f--)i=ze.from(r[f].type.create(r[f].attrs,i));t.step(new Vn(e.start-(n?2:0),e.end,e.start,e.end,new vt(i,0,0),r.length,!0));let s=0;for(let f=0;f<r.length;f++)r[f].type==o&&(s=f+1);let a=r.length-s,l=e.start+r.length-(n?2:0),p=e.parent;for(let f=e.startIndex,h=e.endIndex,m=!0;f<h;f++,m=!1)!m&&fa(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=p.child(f).nodeSize;return t}function sZ(t){return function(e,r){let{$from:n,$to:o}=e.selection,i=n.blockRange(o,s=>s.childCount>0&&s.firstChild.type==t);return i?r?n.node(i.depth-1).type==t?aZ(e,r,t,i):lZ(e,r,i):!0:!1}}function aZ(t,e,r,n){let o=t.tr,i=n.end,s=n.$to.end(n.depth);i<s&&(o.step(new Vn(i-1,s,i,s,new vt(ze.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new wy(o.doc.resolve(n.$from.pos),o.doc.resolve(s),n.depth));const a=ap(n);if(a==null)return!1;o.lift(n,a);let l=o.doc.resolve(o.mapping.map(i,-1)-1);return Fl(o.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&o.join(l.pos),e(o.scrollIntoView()),!0}function lZ(t,e,r){let n=t.tr,o=r.parent;for(let y=r.end,v=r.endIndex-1,b=r.startIndex;v>b;v--)y-=o.child(v).nodeSize,n.delete(y-1,y+1);let i=n.doc.resolve(r.start),s=i.nodeAfter;if(n.mapping.map(r.end)!=r.start+i.nodeAfter.nodeSize)return!1;let a=r.startIndex==0,l=r.endIndex==o.childCount,p=i.node(-1),f=i.index(-1);if(!p.canReplace(f+(a?0:1),f+1,s.content.append(l?ze.empty:ze.from(o))))return!1;let h=i.pos,m=h+s.nodeSize;return n.step(new Vn(h-(a?1:0),m+(l?1:0),h+1,m-1,new vt((a?ze.empty:ze.from(o.copy(ze.empty))).append(l?ze.empty:ze.from(o.copy(ze.empty))),a?0:1,l?0:1),a?0:1)),e(n.scrollIntoView()),!0}function cZ(t){return function(e,r){let{$from:n,$to:o}=e.selection,i=n.blockRange(o,p=>p.childCount>0&&p.firstChild.type==t);if(!i)return!1;let s=i.startIndex;if(s==0)return!1;let a=i.parent,l=a.child(s-1);if(l.type!=t)return!1;if(r){let p=l.lastChild&&l.lastChild.type==a.type,f=ze.from(p?t.create():null),h=new vt(ze.from(t.create(null,ze.from(a.type.create(null,f)))),p?3:1,0),m=i.start,y=i.end;r(e.tr.step(new Vn(m-(p?3:1),y,m,y,h,1,!0)).scrollIntoView())}return!0}}const Zn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Hd=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let ww=null;const ia=function(t,e,r){let n=ww||(ww=document.createRange());return n.setEnd(t,r??t.nodeValue.length),n.setStart(t,e||0),n},uZ=function(){ww=null},eu=function(t,e,r,n){return r&&(DR(t,e,r,n,-1)||DR(t,e,r,n,1))},dZ=/^(img|br|input|textarea|hr)$/i;function DR(t,e,r,n,o){for(var i;;){if(t==r&&e==n)return!0;if(e==(o<0?0:Mi(t))){let s=t.parentNode;if(!s||s.nodeType!=1||Hh(t)||dZ.test(t.nodeName)||t.contentEditable=="false")return!1;e=Zn(t)+(o<0?0:1),t=s}else if(t.nodeType==1){let s=t.childNodes[e+(o<0?-1:0)];if(s.nodeType==1&&s.contentEditable=="false")if(!((i=s.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)e+=o;else return!1;else t=s,e=o<0?Mi(t):0}else return!1}}function Mi(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function pZ(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Mi(t)}else if(t.parentNode&&!Hh(t))e=Zn(t),t=t.parentNode;else return null}}function fZ(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Hh(t))e=Zn(t)+1,t=t.parentNode;else return null}}function hZ(t,e,r){for(let n=e==0,o=e==Mi(t);n||o;){if(t==r)return!0;let i=Zn(t);if(t=t.parentNode,!t)return!1;n=n&&i==0,o=o&&i==Mi(t)}}function Hh(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Z0=function(t){return t.focusNode&&eu(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function wc(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function mZ(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function gZ(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(Mi(n.offsetNode),n.offset)}}catch{}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(Mi(n.startContainer),n.startOffset)}}}const Ns=typeof navigator<"u"?navigator:null,zR=typeof document<"u"?document:null,Bl=Ns&&Ns.userAgent||"",Sw=/Edge\/(\d+)/.exec(Bl),FO=/MSIE \d/.exec(Bl),Cw=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Bl),Wo=!!(FO||Cw||Sw),Al=FO?document.documentMode:Cw?+Cw[1]:Sw?+Sw[1]:0,Li=!Wo&&/gecko\/(\d+)/i.test(Bl);Li&&+(/Firefox\/(\d+)/.exec(Bl)||[0,0])[1];const kw=!Wo&&/Chrome\/(\d+)/.exec(Bl),to=!!kw,BO=kw?+kw[1]:0,ho=!Wo&&!!Ns&&/Apple Computer/.test(Ns.vendor),Ud=ho&&(/Mobile\/\w+/.test(Bl)||!!Ns&&Ns.maxTouchPoints>2),Ai=Ud||(Ns?/Mac/.test(Ns.platform):!1),WO=Ns?/Win/.test(Ns.platform):!1,da=/Android \d/.test(Bl),Uh=!!zR&&"webkitFontSmoothing"in zR.documentElement.style,yZ=Uh?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function vZ(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Zs(t,e){return typeof t=="number"?t:t[e]}function xZ(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function $R(t,e,r){let n=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let s=r||t.dom;s;){if(s.nodeType!=1){s=Hd(s);continue}let a=s,l=a==i.body,p=l?vZ(i):xZ(a),f=0,h=0;if(e.top<p.top+Zs(n,"top")?h=-(p.top-e.top+Zs(o,"top")):e.bottom>p.bottom-Zs(n,"bottom")&&(h=e.bottom-e.top>p.bottom-p.top?e.top+Zs(o,"top")-p.top:e.bottom-p.bottom+Zs(o,"bottom")),e.left<p.left+Zs(n,"left")?f=-(p.left-e.left+Zs(o,"left")):e.right>p.right-Zs(n,"right")&&(f=e.right-p.right+Zs(o,"right")),f||h)if(l)i.defaultView.scrollBy(f,h);else{let y=a.scrollLeft,v=a.scrollTop;h&&(a.scrollTop+=h),f&&(a.scrollLeft+=f);let b=a.scrollLeft-y,x=a.scrollTop-v;e={left:e.left-b,top:e.top-x,right:e.right-b,bottom:e.bottom-x}}let m=l?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(m))break;s=m=="absolute"?s.offsetParent:Hd(s)}}function bZ(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,o;for(let i=(e.left+e.right)/2,s=r+1;s<Math.min(innerHeight,e.bottom);s+=5){let a=t.root.elementFromPoint(i,s);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=r-20){n=a,o=l.top;break}}return{refDOM:n,refTop:o,stack:HO(t.dom)}}function HO(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=Hd(n));return e}function wZ({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;UO(r,n==0?0:n-e)}function UO(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:o,left:i}=t[r];n.scrollTop!=o+e&&(n.scrollTop=o+e),n.scrollLeft!=i&&(n.scrollLeft=i)}}let Uu=null;function SZ(t){if(t.setActive)return t.setActive();if(Uu)return t.focus(Uu);let e=HO(t);t.focus(Uu==null?{get preventScroll(){return Uu={preventScroll:!0},!0}}:void 0),Uu||(Uu=!1,UO(e,0))}function VO(t,e){let r,n=2e8,o,i=0,s=e.top,a=e.top,l,p;for(let f=t.firstChild,h=0;f;f=f.nextSibling,h++){let m;if(f.nodeType==1)m=f.getClientRects();else if(f.nodeType==3)m=ia(f).getClientRects();else continue;for(let y=0;y<m.length;y++){let v=m[y];if(v.top<=s&&v.bottom>=a){s=Math.max(v.bottom,s),a=Math.min(v.top,a);let b=v.left>e.left?v.left-e.left:v.right<e.left?e.left-v.right:0;if(b<n){r=f,n=b,o=b&&r.nodeType==3?{left:v.right<e.left?v.right:v.left,top:e.top}:e,f.nodeType==1&&b&&(i=h+(e.left>=(v.left+v.right)/2?1:0));continue}}else v.top>e.top&&!l&&v.left<=e.left&&v.right>=e.left&&(l=f,p={left:Math.max(v.left,Math.min(v.right,e.left)),top:v.top});!r&&(e.left>=v.right&&e.top>=v.top||e.left>=v.left&&e.top>=v.bottom)&&(i=h+1)}}return!r&&l&&(r=l,o=p,n=0),r&&r.nodeType==3?CZ(r,o):!r||n&&r.nodeType==1?{node:t,offset:i}:VO(r,o)}function CZ(t,e){let r=t.nodeValue.length,n=document.createRange(),o;for(let i=0;i<r;i++){n.setEnd(t,i+1),n.setStart(t,i);let s=Za(n,1);if(s.top!=s.bottom&&gC(e,s)){o={node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)};break}}return n.detach(),o||{node:t,offset:0}}function gC(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function kZ(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function EZ(t,e,r){let{node:n,offset:o}=VO(e,r),i=-1;if(n.nodeType==1&&!n.firstChild){let s=n.getBoundingClientRect();i=s.left!=s.right&&r.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(n,o,i)}function TZ(t,e,r,n){let o=-1;for(let i=e,s=!1;i!=t.dom;){let a=t.docView.nearestDesc(i,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!s&&l.left>n.left||l.top>n.top?o=a.posBefore:(!s&&l.right<n.left||l.bottom<n.top)&&(o=a.posAfter),s=!0),!a.contentDOM&&o<0&&!a.node.isText))return(a.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;i=a.dom.parentNode}return o>-1?o:t.docView.posFromDOM(e,r,-1)}function qO(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let o=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),i=o;;){let s=t.childNodes[i];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let p=a[l];if(gC(e,p))return qO(s,e,p)}}if((i=(i+1)%n)==o)break}return t}function jZ(t,e){let r=t.dom.ownerDocument,n,o=0,i=gZ(r,e.left,e.top);i&&({node:n,offset:o}=i);let s=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),a;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let p=t.dom.getBoundingClientRect();if(!gC(e,p)||(s=qO(t.dom,e,p),!s))return null}if(ho)for(let p=s;n&&p;p=Hd(p))p.draggable&&(n=void 0);if(s=kZ(s,e),n){if(Li&&n.nodeType==1&&(o=Math.min(o,n.childNodes.length),o<n.childNodes.length)){let f=n.childNodes[o],h;f.nodeName=="IMG"&&(h=f.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&o++}let p;Uh&&o&&n.nodeType==1&&(p=n.childNodes[o-1]).nodeType==1&&p.contentEditable=="false"&&p.getBoundingClientRect().top>=e.top&&o--,n==t.dom&&o==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(o==0||n.nodeType!=1||n.childNodes[o-1].nodeName!="BR")&&(a=TZ(t,n,o,e))}a==null&&(a=EZ(t,s,e));let l=t.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function FR(t){return t.top<t.bottom||t.left<t.right}function Za(t,e){let r=t.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(FR(n))return n}return Array.prototype.find.call(r,FR)||t.getBoundingClientRect()}const RZ=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function GO(t,e,r){let{node:n,offset:o,atom:i}=t.docView.domFromPos(e,r<0?-1:1),s=Uh||Li;if(n.nodeType==3)if(s&&(RZ.test(n.nodeValue)||(r<0?!o:o==n.nodeValue.length))){let l=Za(ia(n,o,o),r);if(Li&&o&&/\s/.test(n.nodeValue[o-1])&&o<n.nodeValue.length){let p=Za(ia(n,o-1,o-1),-1);if(p.top==l.top){let f=Za(ia(n,o,o+1),-1);if(f.top!=l.top)return Xp(f,f.left<p.left)}}return l}else{let l=o,p=o,f=r<0?1:-1;return r<0&&!o?(p++,f=-1):r>=0&&o==n.nodeValue.length?(l--,f=1):r<0?l--:p++,Xp(Za(ia(n,l,p),f),f<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&o&&(r<0||o==Mi(n))){let l=n.childNodes[o-1];if(l.nodeType==1)return Lb(l.getBoundingClientRect(),!1)}if(i==null&&o<Mi(n)){let l=n.childNodes[o];if(l.nodeType==1)return Lb(l.getBoundingClientRect(),!0)}return Lb(n.getBoundingClientRect(),r>=0)}if(i==null&&o&&(r<0||o==Mi(n))){let l=n.childNodes[o-1],p=l.nodeType==3?ia(l,Mi(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(p)return Xp(Za(p,1),!1)}if(i==null&&o<Mi(n)){let l=n.childNodes[o];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let p=l?l.nodeType==3?ia(l,0,s?0:1):l.nodeType==1?l:null:null;if(p)return Xp(Za(p,-1),!0)}return Xp(Za(n.nodeType==3?ia(n):n,-r),r>=0)}function Xp(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function Lb(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function KO(t,e,r){let n=t.state,o=t.root.activeElement;n!=e&&t.updateState(e),o!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),o!=t.dom&&o&&o.focus()}}function AZ(t,e,r){let n=e.selection,o=r=="up"?n.$from:n.$to;return KO(t,e,()=>{let{node:i}=t.docView.domFromPos(o.pos,r=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(i,!0);if(!a)break;if(a.node.isBlock){i=a.contentDOM||a.dom;break}i=a.dom.parentNode}let s=GO(t,o.pos,1);for(let a=i.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=ia(a,0,a.nodeValue.length).getClientRects();else continue;for(let p=0;p<l.length;p++){let f=l[p];if(f.bottom>f.top+1&&(r=="up"?s.top-f.top>(f.bottom-s.top)*2:f.bottom-s.bottom>(s.bottom-f.top)*2))return!1}}return!0})}const _Z=/[\u0590-\u08ac]/;function MZ(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let o=n.parentOffset,i=!o,s=o==n.parent.content.size,a=t.domSelection();return a?!_Z.test(n.parent.textContent)||!a.modify?r=="left"||r=="backward"?i:s:KO(t,e,()=>{let{focusNode:l,focusOffset:p,anchorNode:f,anchorOffset:h}=t.domSelectionRange(),m=a.caretBidiLevel;a.modify("move",r,"character");let y=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:v,focusOffset:b}=t.domSelectionRange(),x=v&&!y.contains(v.nodeType==1?v:v.parentNode)||l==v&&p==b;try{a.collapse(f,h),l&&(l!=f||p!=h)&&a.extend&&a.extend(l,p)}catch{}return m!=null&&(a.caretBidiLevel=m),x}):n.pos==n.start()||n.pos==n.end()}let BR=null,WR=null,HR=!1;function IZ(t,e,r){return BR==e&&WR==r?HR:(BR=e,WR=r,HR=r=="up"||r=="down"?AZ(t,e,r):MZ(t,e,r))}const Di=0,UR=1,jc=2,Ls=3;class Vh{constructor(e,r,n,o){this.parent=e,this.children=r,this.dom=n,this.contentDOM=o,this.dirty=Di,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let o=this.children[r];if(o==e)return n;n+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let i,s;if(e==this.contentDOM)i=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(s)+s.size:this.posAtStart}else{let i,s;if(e==this.contentDOM)i=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(s):this.posAtEnd}let o;if(e==this.dom&&this.contentDOM)o=r>Zn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let i=e;;i=i.parentNode){if(i==this.dom){o=!1;break}if(i.previousSibling)break}if(o==null&&r==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){o=!0;break}if(i.nextSibling)break}}return o??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,o=e;o;o=o.parentNode){let i=this.getDesc(o),s;if(i&&(!r||i.node))if(n&&(s=i.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))n=!1;else return i}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let o=e;o;o=o.parentNode){let i=this.getDesc(o);if(i)return i.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let o=this.children[r],i=n+o.size;if(n==e&&i!=n){for(;!o.border&&o.children.length;)for(let s=0;s<o.children.length;s++){let a=o.children[s];if(a.size){o=a;break}}return o}if(e<i)return o.descAt(e-n-o.border);n=i}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,o=0;for(let i=0;n<this.children.length;n++){let s=this.children[n],a=i+s.size;if(a>e||s instanceof JO){o=e-i;break}i=a}if(o)return this.children[n].domFromPos(o-this.children[n].border,r);for(let i;n&&!(i=this.children[n-1]).size&&i instanceof YO&&i.side>=0;n--);if(r<=0){let i,s=!0;for(;i=n?this.children[n-1]:null,!(!i||i.dom.parentNode==this.contentDOM);n--,s=!1);return i&&r&&s&&!i.border&&!i.domAtom?i.domFromPos(i.size,r):{node:this.contentDOM,offset:i?Zn(i.dom)+1:0}}else{let i,s=!0;for(;i=n<this.children.length?this.children[n]:null,!(!i||i.dom.parentNode==this.contentDOM);n++,s=!1);return i&&s&&!i.border&&!i.domAtom?i.domFromPos(0,r):{node:this.contentDOM,offset:i?Zn(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,i=-1;for(let s=n,a=0;;a++){let l=this.children[a],p=s+l.size;if(o==-1&&e<=p){let f=s+l.border;if(e>=f&&r<=p-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,r,f);e=s;for(let h=a;h>0;h--){let m=this.children[h-1];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(1)){o=Zn(m.dom)+1;break}e-=m.size}o==-1&&(o=0)}if(o>-1&&(p>r||a==this.children.length-1)){r=p;for(let f=a+1;f<this.children.length;f++){let h=this.children[f];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){i=Zn(h.dom);break}r+=h.size}i==-1&&(i=this.contentDOM.childNodes.length);break}s=p}return{node:this.contentDOM,from:e,to:r,fromOffset:o,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,o=!1){let i=Math.min(e,r),s=Math.max(e,r);for(let y=0,v=0;y<this.children.length;y++){let b=this.children[y],x=v+b.size;if(i>v&&s<x)return b.setSelection(e-v-b.border,r-v-b.border,n,o);v=x}let a=this.domFromPos(e,e?-1:1),l=r==e?a:this.domFromPos(r,r?-1:1),p=n.root.getSelection(),f=n.domSelectionRange(),h=!1;if((Li||ho)&&e==r){let{node:y,offset:v}=a;if(y.nodeType==3){if(h=!!(v&&y.nodeValue[v-1]==`
`),h&&v==y.nodeValue.length)for(let b=y,x;b;b=b.parentNode){if(x=b.nextSibling){x.nodeName=="BR"&&(a=l={node:x.parentNode,offset:Zn(x)+1});break}let C=b.pmViewDesc;if(C&&C.node&&C.node.isBlock)break}}else{let b=y.childNodes[v-1];h=b&&(b.nodeName=="BR"||b.contentEditable=="false")}}if(Li&&f.focusNode&&f.focusNode!=l.node&&f.focusNode.nodeType==1){let y=f.focusNode.childNodes[f.focusOffset];y&&y.contentEditable=="false"&&(o=!0)}if(!(o||h&&ho)&&eu(a.node,a.offset,f.anchorNode,f.anchorOffset)&&eu(l.node,l.offset,f.focusNode,f.focusOffset))return;let m=!1;if((p.extend||e==r)&&!(h&&Li)){p.collapse(a.node,a.offset);try{e!=r&&p.extend(l.node,l.offset),m=!0}catch{}}if(!m){if(e>r){let v=a;a=l,l=v}let y=document.createRange();y.setEnd(l.node,l.offset),y.setStart(a.node,a.offset),p.removeAllRanges(),p.addRange(y)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,o=0;o<this.children.length;o++){let i=this.children[o],s=n+i.size;if(n==s?e<=s&&r>=n:e<s&&r>n){let a=n+i.border,l=s-i.border;if(e>=a&&r<=l){this.dirty=e==n||r==s?jc:UR,e==a&&r==l&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Ls:i.markDirty(e-a,r-a);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?jc:Ls}n=s}this.dirty=jc}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?jc:UR;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class YO extends Vh{constructor(e,r,n,o){let i,s=r.type.toDOM;if(typeof s=="function"&&(s=s(n,()=>{if(!i)return o;if(i.parent)return i.parent.posBeforeChild(i)})),!r.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=r,this.widget=r,i=this}matchesWidget(e){return this.dirty==Di&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class OZ extends Vh{constructor(e,r,n,o){super(e,[],r,null),this.textDOM=n,this.text=o}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class tu extends Vh{constructor(e,r,n,o,i){super(e,[],n,o),this.mark=r,this.spec=i}static create(e,r,n,o){let i=o.nodeViews[r.type.name],s=i&&i(r,o,n);return(!s||!s.dom)&&(s=iu.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new tu(e,r,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&Ls||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Ls&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=Di){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=Di}}slice(e,r,n){let o=tu.create(this.parent,this.mark,!0,n),i=this.children,s=this.size;r<s&&(i=Tw(i,r,s,n)),e>0&&(i=Tw(i,0,e,n));for(let a=0;a<i.length;a++)i[a].parent=o;return o.children=i,o}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class _l extends Vh{constructor(e,r,n,o,i,s,a,l,p){super(e,[],i,s),this.node=r,this.outerDeco=n,this.innerDeco=o,this.nodeDOM=a}static create(e,r,n,o,i,s){let a=i.nodeViews[r.type.name],l,p=a&&a(r,i,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},n,o),f=p&&p.dom,h=p&&p.contentDOM;if(r.isText){if(!f)f=document.createTextNode(r.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:h}=iu.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!h&&!r.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),r.type.spec.draggable&&(f.draggable=!0));let m=f;return f=ZO(f,n,r),p?l=new PZ(e,r,n,o,f,h||null,m,p,i,s+1):r.isText?new ev(e,r,n,o,f,m,i):new _l(e,r,n,o,f,h||null,m,i,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ze.empty)}return e}matchesNode(e,r,n){return this.dirty==Di&&e.eq(this.node)&&Cy(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,o=r,i=e.composing?this.localCompositionInfo(e,r):null,s=i&&i.pos>-1?i:null,a=i&&i.pos<0,l=new LZ(this,s&&s.node,e);$Z(this.node,this.innerDeco,(p,f,h)=>{p.spec.marks?l.syncToMarks(p.spec.marks,n,e,f):p.type.side>=0&&!h&&l.syncToMarks(f==this.node.childCount?Or.none:this.node.child(f).marks,n,e,f),l.placeWidget(p,e,o)},(p,f,h,m)=>{l.syncToMarks(p.marks,n,e,m);let y;l.findNodeMatch(p,f,h,m)||a&&e.state.selection.from>o&&e.state.selection.to<o+p.nodeSize&&(y=l.findIndexWithChild(i.node))>-1&&l.updateNodeAt(p,f,h,y,e)||l.updateNextNode(p,f,h,e,m,o)||l.addNode(p,f,h,e,o),o+=p.nodeSize}),l.syncToMarks([],n,e,0),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==jc)&&(s&&this.protectLocalComposition(e,s),XO(this.contentDOM,this.children,e),Ud&&FZ(this.dom))}localCompositionInfo(e,r){let{from:n,to:o}=e.state.selection;if(!(e.state.selection instanceof Kt)||n<r||o>r+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let s=i.nodeValue,a=BZ(this.node.content,s,n-r,o-r);return a<0?null:{node:i,pos:a,text:s}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:o}){if(this.getDesc(r))return;let i=r;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let s=new OZ(this,i,r,o);e.input.compositionNodes.push(s),this.children=Tw(this.children,n,n+o.length,e,s)}update(e,r,n,o){return this.dirty==Ls||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,o),!0)}updateInner(e,r,n,o){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=Di}updateOuterDeco(e){if(Cy(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=QO(this.dom,this.nodeDOM,Ew(this.outerDeco,this.node,r),Ew(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function VR(t,e,r,n,o){ZO(n,e,t);let i=new _l(void 0,t,e,r,n,n,n,o,0);return i.contentDOM&&i.updateChildren(o,0),i}class ev extends _l{constructor(e,r,n,o,i,s,a){super(e,r,n,o,i,null,s,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,o){return this.dirty==Ls||this.dirty!=Di&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=Di||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=Di,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let o=this.node.cut(e,r),i=document.createTextNode(o.text);return new ev(this.parent,o,this.outerDeco,this.innerDeco,i,i,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=Ls)}get domAtom(){return!1}isText(e){return this.node.text==e}}class JO extends Vh{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Di&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class PZ extends _l{constructor(e,r,n,o,i,s,a,l,p,f){super(e,r,n,o,i,s,a,p,f),this.spec=l}update(e,r,n,o){if(this.dirty==Ls)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,r,n);return i&&this.updateInner(e,r,n,o),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,o){this.spec.setSelection?this.spec.setSelection(e,r,n.root):super.setSelection(e,r,n,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function XO(t,e,r){let n=t.firstChild,o=!1;for(let i=0;i<e.length;i++){let s=e[i],a=s.dom;if(a.parentNode==t){for(;a!=n;)n=qR(n),o=!0;n=n.nextSibling}else o=!0,t.insertBefore(a,n);if(s instanceof tu){let l=n?n.previousSibling:t.lastChild;XO(s.contentDOM,s.children,r),n=l?l.nextSibling:t.firstChild}}for(;n;)n=qR(n),o=!0;o&&r.trackWrites==t&&(r.trackWrites=null)}const Nf=function(t){t&&(this.nodeName=t)};Nf.prototype=Object.create(null);const Rc=[new Nf];function Ew(t,e,r){if(t.length==0)return Rc;let n=r?Rc[0]:new Nf,o=[n];for(let i=0;i<t.length;i++){let s=t[i].type.attrs;if(s){s.nodeName&&o.push(n=new Nf(s.nodeName));for(let a in s){let l=s[a];l!=null&&(r&&o.length==1&&o.push(n=new Nf(e.isInline?"span":"div")),a=="class"?n.class=(n.class?n.class+" ":"")+l:a=="style"?n.style=(n.style?n.style+";":"")+l:a!="nodeName"&&(n[a]=l))}}}return o}function QO(t,e,r,n){if(r==Rc&&n==Rc)return e;let o=e;for(let i=0;i<n.length;i++){let s=n[i],a=r[i];if(i){let l;a&&a.nodeName==s.nodeName&&o!=t&&(l=o.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(o),a=Rc[0]),o=l}NZ(o,a||Rc[0],s)}return o}function NZ(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],o=r.class?r.class.split(" ").filter(Boolean):[];for(let i=0;i<n.length;i++)o.indexOf(n[i])==-1&&t.classList.remove(n[i]);for(let i=0;i<o.length;i++)n.indexOf(o[i])==-1&&t.classList.add(o[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=n.exec(e.style);)t.style.removeProperty(o[1])}r.style&&(t.style.cssText+=r.style)}}function ZO(t,e,r){return QO(t,t,Rc,Ew(e,r,t.nodeType!=1))}function Cy(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function qR(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class LZ{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=DZ(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n,o){let i=0,s=this.stack.length>>1,a=Math.min(s,e.length);for(;i<a&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Di,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let l=-1,p=this.top.children.length;o<this.preMatch.index&&(p=Math.min(this.index+3,p));for(let f=this.index;f<p;f++){let h=this.top.children[f];if(h.matchesMark(e[s])&&!this.isLocked(h.dom)){l=f;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let f=tu.create(this.top,e[s],r,n);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,s++}}findNodeMatch(e,r,n,o){let i=-1,s;if(o>=this.preMatch.index&&(s=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&s.matchesNode(e,r,n))i=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let p=this.top.children[a];if(p.matchesNode(e,r,n)&&!this.preMatch.matched.has(p)){i=a;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,r,n,o,i){let s=this.top.children[o];return s.dirty==Ls&&s.dom==s.contentDOM&&(s.dirty=jc),s.update(e,r,n,i)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==n)return o}return-1}e=r}}updateNextNode(e,r,n,o,i,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof _l){let p=this.preMatch.matched.get(l);if(p!=null&&p!=i)return!1;let f=l.dom,h,m=this.isLocked(f)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Ls&&Cy(r,l.outerDeco));if(!m&&l.update(e,r,n,o))return this.destroyBetween(this.index,a),l.dom!=f&&(this.changed=!0),this.index++,!0;if(!m&&(h=this.recreateWrapper(l,e,r,n,o,s)))return this.destroyBetween(this.index,a),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=jc,h.updateChildren(o,s+1),h.dirty=Di),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,o,i,s){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content)||!Cy(n,e.outerDeco)||!o.eq(e.innerDeco))return null;let a=_l.create(this.top,r,n,o,i,s);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,r,n,o,i){let s=_l.create(this.top,e,r,n,o,i);s.contentDOM&&s.updateChildren(o,i+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,r,n){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let i=new YO(this.top,e,r,n);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof tu;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof ev)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((ho||to)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let o=new JO(this.top,[],n,null);r!=this.top?r.children.push(o):r.children.splice(this.index++,0,o),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function DZ(t,e){let r=e,n=r.children.length,o=t.childCount,i=new Map,s=[];e:for(;o>0;){let a;for(;;)if(n){let p=r.children[n-1];if(p instanceof tu)r=p,n=p.children.length;else{a=p,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let l=a.node;if(l){if(l!=t.child(o-1))break;--o,i.set(a,o),s.push(a)}}return{index:o,matched:i,matches:s.reverse()}}function zZ(t,e){return t.type.side-e.type.side}function $Z(t,e,r,n){let o=e.locals(t),i=0;if(o.length==0){for(let p=0;p<t.childCount;p++){let f=t.child(p);n(f,o,e.forChild(i,f),p),i+=f.nodeSize}return}let s=0,a=[],l=null;for(let p=0;;){let f,h;for(;s<o.length&&o[s].to==i;){let x=o[s++];x.widget&&(f?(h||(h=[f])).push(x):f=x)}if(f)if(h){h.sort(zZ);for(let x=0;x<h.length;x++)r(h[x],p,!!l)}else r(f,p,!!l);let m,y;if(l)y=-1,m=l,l=null;else if(p<t.childCount)y=p,m=t.child(p++);else break;for(let x=0;x<a.length;x++)a[x].to<=i&&a.splice(x--,1);for(;s<o.length&&o[s].from<=i&&o[s].to>i;)a.push(o[s++]);let v=i+m.nodeSize;if(m.isText){let x=v;s<o.length&&o[s].from<x&&(x=o[s].from);for(let C=0;C<a.length;C++)a[C].to<x&&(x=a[C].to);x<v&&(l=m.cut(x-i),m=m.cut(0,x-i),v=x,y=-1)}else for(;s<o.length&&o[s].to<v;)s++;let b=m.isInline&&!m.isLeaf?a.filter(x=>!x.inline):a.slice();n(m,b,e.forChild(i,m),y),i=v}}function FZ(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function BZ(t,e,r,n){for(let o=0,i=0;o<t.childCount&&i<=n;){let s=t.child(o++),a=i;if(i+=s.nodeSize,!s.isText)continue;let l=s.text;for(;o<t.childCount;){let p=t.child(o++);if(i+=p.nodeSize,!p.isText)break;l+=p.text}if(i>=r){if(i>=n&&l.slice(n-e.length-a,n-a)==e)return n-e.length;let p=a<n?l.lastIndexOf(e,n-a-1):-1;if(p>=0&&p+e.length+a>=r)return a+p;if(r==n&&l.length>=n+e.length-a&&l.slice(n-a,n-a+e.length)==e)return n}}return-1}function Tw(t,e,r,n,o){let i=[];for(let s=0,a=0;s<t.length;s++){let l=t[s],p=a,f=a+=l.size;p>=r||f<=e?i.push(l):(p<e&&i.push(l.slice(0,e-p,n)),o&&(i.push(o),o=void 0),f>r&&i.push(l.slice(r-p,l.size,n)))}return i}function yC(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let o=t.docView.nearestDesc(r.focusNode),i=o&&o.size==0,s=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(s<0)return null;let a=n.resolve(s),l,p;if(Z0(r)){for(l=s;o&&!o.node;)o=o.parent;let h=o.node;if(o&&h.isAtom&&Nt.isSelectable(h)&&o.parent&&!(h.isInline&&hZ(r.focusNode,r.focusOffset,o.dom))){let m=o.posBefore;p=new Nt(s==m?a:n.resolve(m))}}else{if(r instanceof t.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let h=s,m=s;for(let y=0;y<r.rangeCount;y++){let v=r.getRangeAt(y);h=Math.min(h,t.docView.posFromDOM(v.startContainer,v.startOffset,1)),m=Math.max(m,t.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(h<0)return null;[l,s]=m==t.state.selection.anchor?[m,h]:[h,m],a=n.resolve(s)}else l=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(l<0)return null}let f=n.resolve(l);if(!p){let h=e=="pointer"||t.state.selection.head<a.pos&&!i?1:-1;p=vC(t,f,a,h)}return p}function eP(t){return t.editable?t.hasFocus():rP(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function ha(t,e=!1){let r=t.state.selection;if(tP(t,r),!!eP(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&to){let n=t.domSelectionRange(),o=t.domObserver.currentSelection;if(n.anchorNode&&o.anchorNode&&eu(n.anchorNode,n.anchorOffset,o.anchorNode,o.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)HZ(t);else{let{anchor:n,head:o}=r,i,s;GR&&!(r instanceof Kt)&&(r.$from.parent.inlineContent||(i=KR(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(s=KR(t,r.to))),t.docView.setSelection(n,o,t,e),GR&&(i&&YR(i),s&&YR(s)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&WZ(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const GR=ho||to&&BO<63;function KR(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),o=n<r.childNodes.length?r.childNodes[n]:null,i=n?r.childNodes[n-1]:null;if(ho&&o&&o.contentEditable=="false")return Db(o);if((!o||o.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(o)return Db(o);if(i)return Db(i)}}function Db(t){return t.contentEditable="true",ho&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function YR(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function WZ(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,o=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=o)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!eP(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function HZ(t){let e=t.domSelection();if(!e)return;let r=t.cursorWrapper.dom,n=r.nodeName=="IMG";n?e.collapse(r.parentNode,Zn(r)+1):e.collapse(r,0),!n&&!t.state.selection.visible&&Wo&&Al<=11&&(r.disabled=!0,r.disabled=!1)}function tP(t,e){if(e instanceof Nt){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(JR(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else JR(t)}function JR(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function vC(t,e,r,n){return t.someProp("createSelectionBetween",o=>o(t,e,r))||Kt.between(e,r,n)}function XR(t){return t.editable&&!t.hasFocus()?!1:rP(t)}function rP(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function UZ(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return eu(e.node,e.offset,r.anchorNode,r.anchorOffset)}function jw(t,e){let{$anchor:r,$head:n}=t.selection,o=e>0?r.max(n):r.min(n),i=o.parent.inlineContent?o.depth?t.doc.resolve(e>0?o.after():o.before()):null:o;return i&&nr.findFrom(i,e)}function rl(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function QR(t,e,r){let n=t.state.selection;if(n instanceof Kt)if(r.indexOf("s")>-1){let{$head:o}=n,i=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let s=t.state.doc.resolve(o.pos+i.nodeSize*(e<0?-1:1));return rl(t,new Kt(n.$anchor,s))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let o=jw(t.state,e);return o&&o instanceof Nt?rl(t,o):!1}else if(!(Ai&&r.indexOf("m")>-1)){let o=n.$head,i=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter,s;if(!i||i.isText)return!1;let a=e<0?o.pos-i.nodeSize:o.pos;return i.isAtom||(s=t.docView.descAt(a))&&!s.contentDOM?Nt.isSelectable(i)?rl(t,new Nt(e<0?t.state.doc.resolve(o.pos-i.nodeSize):o)):Uh?rl(t,new Kt(t.state.doc.resolve(e<0?a:a+i.nodeSize))):!1:!1}}else return!1;else{if(n instanceof Nt&&n.node.isInline)return rl(t,new Kt(e>0?n.$to:n.$from));{let o=jw(t.state,e);return o?rl(t,o):!1}}}function ky(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Lf(t,e){let r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Vu(t,e){return e<0?VZ(t):qZ(t)}function VZ(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let o,i,s=!1;for(Li&&r.nodeType==1&&n<ky(r)&&Lf(r.childNodes[n],-1)&&(s=!0);;)if(n>0){if(r.nodeType!=1)break;{let a=r.childNodes[n-1];if(Lf(a,-1))o=r,i=--n;else if(a.nodeType==3)r=a,n=r.nodeValue.length;else break}}else{if(nP(r))break;{let a=r.previousSibling;for(;a&&Lf(a,-1);)o=r.parentNode,i=Zn(a),a=a.previousSibling;if(a)r=a,n=ky(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}s?Rw(t,r,n):o&&Rw(t,o,i)}function qZ(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let o=ky(r),i,s;for(;;)if(n<o){if(r.nodeType!=1)break;let a=r.childNodes[n];if(Lf(a,1))i=r,s=++n;else break}else{if(nP(r))break;{let a=r.nextSibling;for(;a&&Lf(a,1);)i=a.parentNode,s=Zn(a)+1,a=a.nextSibling;if(a)r=a,n=0,o=ky(r);else{if(r=r.parentNode,r==t.dom)break;n=o=0}}}i&&Rw(t,i,s)}function nP(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function GZ(t,e){for(;t&&e==t.childNodes.length&&!Hh(t);)e=Zn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}function KZ(t,e){for(;t&&!e&&!Hh(t);)e=Zn(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}function Rw(t,e,r){if(e.nodeType!=3){let i,s;(s=GZ(e,r))?(e=s,r=0):(i=KZ(e,r))&&(e=i,r=i.nodeValue.length)}let n=t.domSelection();if(!n)return;if(Z0(n)){let i=document.createRange();i.setEnd(e,r),i.setStart(e,r),n.removeAllRanges(),n.addRange(i)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:o}=t;setTimeout(()=>{t.state==o&&ha(t)},50)}function ZR(t,e){let r=t.state.doc.resolve(e);if(!(to||WO)&&r.parent.inlineContent){let o=t.coordsAtPos(e);if(e>r.start()){let i=t.coordsAtPos(e-1),s=(i.top+i.bottom)/2;if(s>o.top&&s<o.bottom&&Math.abs(i.left-o.left)>1)return i.left<o.left?"ltr":"rtl"}if(e<r.end()){let i=t.coordsAtPos(e+1),s=(i.top+i.bottom)/2;if(s>o.top&&s<o.bottom&&Math.abs(i.left-o.left)>1)return i.left>o.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function eA(t,e,r){let n=t.state.selection;if(n instanceof Kt&&!n.empty||r.indexOf("s")>-1||Ai&&r.indexOf("m")>-1)return!1;let{$from:o,$to:i}=n;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=jw(t.state,e);if(s&&s instanceof Nt)return rl(t,s)}if(!o.parent.inlineContent){let s=e<0?o:i,a=n instanceof oi?nr.near(s,e):nr.findFrom(s,e);return a?rl(t,a):!1}return!1}function tA(t,e){if(!(t.state.selection instanceof Kt))return!0;let{$head:r,$anchor:n,empty:o}=t.state.selection;if(!r.sameParent(n))return!0;if(!o)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(i&&!i.isText){let s=t.state.tr;return e<0?s.delete(r.pos-i.nodeSize,r.pos):s.delete(r.pos,r.pos+i.nodeSize),t.dispatch(s),!0}return!1}function rA(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function YZ(t){if(!ho||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;rA(t,n,"true"),setTimeout(()=>rA(t,n,"false"),20)}return!1}function JZ(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function XZ(t,e){let r=e.keyCode,n=JZ(e);if(r==8||Ai&&r==72&&n=="c")return tA(t,-1)||Vu(t,-1);if(r==46&&!e.shiftKey||Ai&&r==68&&n=="c")return tA(t,1)||Vu(t,1);if(r==13||r==27)return!0;if(r==37||Ai&&r==66&&n=="c"){let o=r==37?ZR(t,t.state.selection.from)=="ltr"?-1:1:-1;return QR(t,o,n)||Vu(t,o)}else if(r==39||Ai&&r==70&&n=="c"){let o=r==39?ZR(t,t.state.selection.from)=="ltr"?1:-1:1;return QR(t,o,n)||Vu(t,o)}else{if(r==38||Ai&&r==80&&n=="c")return eA(t,-1,n)||Vu(t,-1);if(r==40||Ai&&r==78&&n=="c")return YZ(t)||eA(t,1,n)||Vu(t,1);if(n==(Ai?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function xC(t,e){t.someProp("transformCopied",y=>{e=y(e,t)});let r=[],{content:n,openStart:o,openEnd:i}=e;for(;o>1&&i>1&&n.childCount==1&&n.firstChild.childCount==1;){o--,i--;let y=n.firstChild;r.push(y.type.name,y.attrs!=y.type.defaultAttrs?y.attrs:null),n=y.content}let s=t.someProp("clipboardSerializer")||iu.fromSchema(t.state.schema),a=cP(),l=a.createElement("div");l.appendChild(s.serializeFragment(n,{document:a}));let p=l.firstChild,f,h=0;for(;p&&p.nodeType==1&&(f=lP[p.nodeName.toLowerCase()]);){for(let y=f.length-1;y>=0;y--){let v=a.createElement(f[y]);for(;l.firstChild;)v.appendChild(l.firstChild);l.appendChild(v),h++}p=l.firstChild}p&&p.nodeType==1&&p.setAttribute("data-pm-slice",`${o} ${i}${h?` -${h}`:""} ${JSON.stringify(r)}`);let m=t.someProp("clipboardTextSerializer",y=>y(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:m,slice:e}}function oP(t,e,r,n,o){let i=o.parent.type.spec.code,s,a;if(!r&&!e)return null;let l=!!e&&(n||i||!r);if(l){if(t.someProp("transformPastedText",m=>{e=m(e,i||n,t)}),i)return a=new vt(ze.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",m=>{a=m(a,t,!0)}),a;let h=t.someProp("clipboardTextParser",m=>m(e,o,n,t));if(h)a=h;else{let m=o.marks(),{schema:y}=t.state,v=iu.fromSchema(y);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(b=>{let x=s.appendChild(document.createElement("p"));b&&x.appendChild(v.serializeNode(y.text(b,m)))})}}else t.someProp("transformPastedHTML",h=>{r=h(r,t)}),s=tee(r),Uh&&ree(s);let p=s&&s.querySelector("[data-pm-slice]"),f=p&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(p.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let h=+f[3];h>0;h--){let m=s.firstChild;for(;m&&m.nodeType!=1;)m=m.nextSibling;if(!m)break;s=m}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Rl.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||f),context:o,ruleFromNode(m){return m.nodeName=="BR"&&!m.nextSibling&&m.parentNode&&!QZ.test(m.parentNode.nodeName)?{ignore:!0}:null}})),f)a=nee(nA(a,+f[1],+f[2]),f[4]);else if(a=vt.maxOpen(ZZ(a.content,o),!0),a.openStart||a.openEnd){let h=0,m=0;for(let y=a.content.firstChild;h<a.openStart&&!y.type.spec.isolating;h++,y=y.firstChild);for(let y=a.content.lastChild;m<a.openEnd&&!y.type.spec.isolating;m++,y=y.lastChild);a=nA(a,h,m)}return t.someProp("transformPasted",h=>{a=h(a,t,l)}),a}const QZ=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function ZZ(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let o=e.node(r).contentMatchAt(e.index(r)),i,s=[];if(t.forEach(a=>{if(!s)return;let l=o.findWrapping(a.type),p;if(!l)return s=null;if(p=s.length&&i.length&&sP(l,i,a,s[s.length-1],0))s[s.length-1]=p;else{s.length&&(s[s.length-1]=aP(s[s.length-1],i.length));let f=iP(a,l);s.push(f),o=o.matchType(f.type),i=l}}),s)return ze.from(s)}return t}function iP(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,ze.from(t));return t}function sP(t,e,r,n,o){if(o<t.length&&o<e.length&&t[o]==e[o]){let i=sP(t,e,r,n.lastChild,o+1);if(i)return n.copy(n.content.replaceChild(n.childCount-1,i));if(n.contentMatchAt(n.childCount).matchType(o==t.length-1?r.type:t[o+1]))return n.copy(n.content.append(ze.from(iP(r,t,o+1))))}}function aP(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,aP(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(ze.empty,!0);return t.copy(r.append(n))}function Aw(t,e,r,n,o,i){let s=e<0?t.firstChild:t.lastChild,a=s.content;return t.childCount>1&&(i=0),o<n-1&&(a=Aw(a,e,r,n,o+1,i)),o>=r&&(a=e<0?s.contentMatchAt(0).fillBefore(a,i<=o).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(ze.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function nA(t,e,r){return e<t.openStart&&(t=new vt(Aw(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new vt(Aw(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}const lP={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let oA=null;function cP(){return oA||(oA=document.implementation.createHTMLDocument("title"))}let zb=null;function eee(t){let e=window.trustedTypes;return e?(zb||(zb=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),zb.createHTML(t)):t}function tee(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=cP().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),o;if((o=n&&lP[n[1].toLowerCase()])&&(t=o.map(i=>"<"+i+">").join("")+t+o.map(i=>"</"+i+">").reverse().join("")),r.innerHTML=eee(t),o)for(let i=0;i<o.length;i++)r=r.querySelector(o[i])||r;return r}function ree(t){let e=t.querySelectorAll(to?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function nee(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}let{content:o,openStart:i,openEnd:s}=t;for(let a=n.length-2;a>=0;a-=2){let l=r.nodes[n[a]];if(!l||l.hasRequiredAttrs())break;o=ze.from(l.create(n[a+1],o)),i++,s++}return new vt(o,i,s)}const To={},jo={},oee={touchstart:!0,touchmove:!0};class iee{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function see(t){for(let e in To){let r=To[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{lee(t,n)&&!bC(t,n)&&(t.editable||!(n.type in jo))&&r(t,n)},oee[e]?{passive:!0}:void 0)}ho&&t.dom.addEventListener("input",()=>null),_w(t)}function Cl(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function aee(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function _w(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>bC(t,n))})}function bC(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function lee(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function cee(t,e){!bC(t,e)&&To[e.type]&&(t.editable||!(e.type in jo))&&To[e.type](t,e)}jo.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!dP(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(da&&to&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),Ud&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",o=>o(t,wc(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||XZ(t,r)?r.preventDefault():Cl(t,"key")};jo.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};jo.keypress=(t,e)=>{let r=e;if(dP(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||Ai&&r.metaKey)return;if(t.someProp("handleKeyPress",o=>o(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof Kt)||!n.$from.sameParent(n.$to)){let o=String.fromCharCode(r.charCode),i=()=>t.state.tr.insertText(o).scrollIntoView();!/[\r\n]/.test(o)&&!t.someProp("handleTextInput",s=>s(t,n.$from.pos,n.$to.pos,o,i))&&t.dispatch(i()),r.preventDefault()}};function tv(t){return{left:t.clientX,top:t.clientY}}function uee(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function wC(t,e,r,n,o){if(n==-1)return!1;let i=t.state.doc.resolve(n);for(let s=i.depth+1;s>0;s--)if(t.someProp(e,a=>s>i.depth?a(t,r,i.nodeAfter,i.before(s),o,!0):a(t,r,i.node(s),i.before(s),o,!1)))return!0;return!1}function yd(t,e,r){if(t.focused||t.focus(),t.state.selection.eq(e))return;let n=t.state.tr.setSelection(e);n.setMeta("pointer",!0),t.dispatch(n)}function dee(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&Nt.isSelectable(n)?(yd(t,new Nt(r)),!0):!1}function pee(t,e){if(e==-1)return!1;let r=t.state.selection,n,o;r instanceof Nt&&(n=r.node);let i=t.state.doc.resolve(e);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s);if(Nt.isSelectable(a)){n&&r.$from.depth>0&&s>=r.$from.depth&&i.before(r.$from.depth+1)==r.$from.pos?o=i.before(r.$from.depth):o=i.before(s);break}}return o!=null?(yd(t,Nt.create(t.state.doc,o)),!0):!1}function fee(t,e,r,n,o){return wC(t,"handleClickOn",e,r,n)||t.someProp("handleClick",i=>i(t,e,n))||(o?pee(t,r):dee(t,r))}function hee(t,e,r,n){return wC(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",o=>o(t,e,n))}function mee(t,e,r,n){return wC(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",o=>o(t,e,n))||gee(t,r,n)}function gee(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(yd(t,Kt.create(n,0,n.content.size)),!0):!1;let o=n.resolve(e);for(let i=o.depth+1;i>0;i--){let s=i>o.depth?o.nodeAfter:o.node(i),a=o.before(i);if(s.inlineContent)yd(t,Kt.create(n,a+1,a+1+s.content.size));else if(Nt.isSelectable(s))yd(t,Nt.create(n,a));else continue;return!0}}function SC(t){return Ey(t)}const uP=Ai?"metaKey":"ctrlKey";To.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=SC(t),o=Date.now(),i="singleClick";o-t.input.lastClick.time<500&&uee(r,t.input.lastClick)&&!r[uP]&&t.input.lastClick.button==r.button&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:o,x:r.clientX,y:r.clientY,type:i,button:r.button};let s=t.posAtCoords(tv(r));s&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new yee(t,s,r,!!n)):(i=="doubleClick"?hee:mee)(t,s.pos,s.inside,r)?r.preventDefault():Cl(t,"pointer"))};class yee{constructor(e,r,n,o){this.view=e,this.pos=r,this.event=n,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[uP],this.allowDefault=n.shiftKey;let i,s;if(r.inside>-1)i=e.state.doc.nodeAt(r.inside),s=r.inside;else{let f=e.state.doc.resolve(r.pos);i=f.parent,s=f.depth?f.before():0}const a=o?null:n.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:p}=e.state;(n.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||p instanceof Nt&&p.from<=s&&p.to>s)&&(this.mightDrag={node:i,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Li&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Cl(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ha(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(tv(e))),this.updateAllowDefault(e),this.allowDefault||!r?Cl(this.view,"pointer"):fee(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||ho&&this.mightDrag&&!this.mightDrag.node.isAtom||to&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(yd(this.view,nr.near(this.view.state.doc.resolve(r.pos))),e.preventDefault()):Cl(this.view,"pointer")}move(e){this.updateAllowDefault(e),Cl(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}To.touchstart=t=>{t.input.lastTouch=Date.now(),SC(t),Cl(t,"pointer")};To.touchmove=t=>{t.input.lastTouch=Date.now(),Cl(t,"pointer")};To.contextmenu=t=>SC(t);function dP(t,e){return t.composing?!0:ho&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const vee=da?5e3:-1;jo.compositionstart=jo.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$to;if(e.selection instanceof Kt&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)||to&&WO&&xee(t)))t.markCursor=t.state.storedMarks||r.marks(),Ey(t,!0),t.markCursor=null;else if(Ey(t,!e.selection.empty),Li&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let o=n.focusNode,i=n.focusOffset;o&&o.nodeType==1&&i!=0;){let s=i<0?o.lastChild:o.childNodes[i-1];if(!s)break;if(s.nodeType==3){let a=t.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else o=s,i=-1}}t.input.composing=!0}pP(t,vee)};function xee(t){let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(!e||e.nodeType!=1||r>=e.childNodes.length)return!1;let n=e.childNodes[r];return n.nodeType==1&&n.contentEditable=="false"}jo.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.badSafariComposition?t.domObserver.forceFlush():t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,pP(t,20))};function pP(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Ey(t),e))}function fP(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=wee());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function bee(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let r=pZ(e.focusNode,e.focusOffset),n=fZ(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let o=n.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(r==i||n==i)return i;if(!o||!o.isText(n.nodeValue))return n;if(t.input.compositionNode==n){let s=r.pmViewDesc;if(!(!s||!s.isText(r.nodeValue)))return n}}return r||n}function wee(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Ey(t,e=!1){if(!(da&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),fP(t),e||t.docView&&t.docView.dirty){let r=yC(t),n=t.state.selection;return r&&!r.eq(n)?t.dispatch(t.state.tr.setSelection(r)):(t.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function See(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),o=document.createRange();o.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(o),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}const hh=Wo&&Al<15||Ud&&yZ<604;To.copy=jo.cut=(t,e)=>{let r=e,n=t.state.selection,o=r.type=="cut";if(n.empty)return;let i=hh?null:r.clipboardData,s=n.content(),{dom:a,text:l}=xC(t,s);i?(r.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",l)):See(t,a),o&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Cee(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function kee(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let o=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?mh(t,n.value,null,o,e):mh(t,n.textContent,n.innerHTML,o,e)},50)}function mh(t,e,r,n,o){let i=oP(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,o,i||vt.empty)))return!0;if(!i)return!1;let s=Cee(i),a=s?t.state.tr.replaceSelectionWith(s,n):t.state.tr.replaceSelection(i);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function hP(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}jo.paste=(t,e)=>{let r=e;if(t.composing&&!da)return;let n=hh?null:r.clipboardData,o=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&mh(t,hP(n),n.getData("text/html"),o,r)?r.preventDefault():kee(t,r)};class mP{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}}const Eee=Ai?"altKey":"ctrlKey";function gP(t,e){let r=t.someProp("dragCopies",n=>!n(e));return r??!e[Eee]}To.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let o=t.state.selection,i=o.empty?null:t.posAtCoords(tv(r)),s;if(!(i&&i.pos>=o.from&&i.pos<=(o instanceof Nt?o.to-1:o.to))){if(n&&n.mightDrag)s=Nt.create(t.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let h=t.docView.nearestDesc(r.target,!0);h&&h.node.type.spec.draggable&&h!=t.docView&&(s=Nt.create(t.state.doc,h.posBefore))}}let a=(s||t.state.selection).content(),{dom:l,text:p,slice:f}=xC(t,a);(!r.dataTransfer.files.length||!to||BO>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(hh?"Text":"text/html",l.innerHTML),r.dataTransfer.effectAllowed="copyMove",hh||r.dataTransfer.setData("text/plain",p),t.dragging=new mP(f,gP(t,r),s)};To.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};jo.dragover=jo.dragenter=(t,e)=>e.preventDefault();jo.drop=(t,e)=>{try{Tee(t,e,t.dragging)}finally{t.dragging=null}};function Tee(t,e,r){if(!e.dataTransfer)return;let n=t.posAtCoords(tv(e));if(!n)return;let o=t.state.doc.resolve(n.pos),i=r&&r.slice;i?t.someProp("transformPasted",y=>{i=y(i,t,!1)}):i=oP(t,hP(e.dataTransfer),hh?null:e.dataTransfer.getData("text/html"),!1,o);let s=!!(r&&gP(t,e));if(t.someProp("handleDrop",y=>y(t,e,i||vt.empty,s))){e.preventDefault();return}if(!i)return;e.preventDefault();let a=i?bO(t.state.doc,o.pos,i):o.pos;a==null&&(a=o.pos);let l=t.state.tr;if(s){let{node:y}=r;y?y.replace(l):l.deleteSelection()}let p=l.mapping.map(a),f=i.openStart==0&&i.openEnd==0&&i.content.childCount==1,h=l.doc;if(f?l.replaceRangeWith(p,p,i.content.firstChild):l.replaceRange(p,p,i),l.doc.eq(h))return;let m=l.doc.resolve(p);if(f&&Nt.isSelectable(i.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(i.content.firstChild))l.setSelection(new Nt(m));else{let y=l.mapping.map(a);l.mapping.maps[l.mapping.maps.length-1].forEach((v,b,x,C)=>y=C),l.setSelection(vC(t,m,l.doc.resolve(y)))}t.focus(),t.dispatch(l.setMeta("uiEvent","drop"))}To.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&ha(t)},20))};To.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};To.beforeinput=(t,e)=>{if(to&&da&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,wc(8,"Backspace")))))return;let{$cursor:o}=t.state.selection;o&&o.pos>0&&t.dispatch(t.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let t in jo)To[t]=jo[t];function gh(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}class Ty{constructor(e,r){this.toDOM=e,this.spec=r||Uc,this.side=this.spec.side||0}map(e,r,n,o){let{pos:i,deleted:s}=e.mapResult(r.from+o,this.side<0?-1:1);return s?null:new Co(i-n,i-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Ty&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&gh(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Ml{constructor(e,r){this.attrs=e,this.spec=r||Uc}map(e,r,n,o){let i=e.map(r.from+o,this.spec.inclusiveStart?-1:1)-n,s=e.map(r.to+o,this.spec.inclusiveEnd?1:-1)-n;return i>=s?null:new Co(i,s,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof Ml&&gh(this.attrs,e.attrs)&&gh(this.spec,e.spec)}static is(e){return e.type instanceof Ml}destroy(){}}class CC{constructor(e,r){this.attrs=e,this.spec=r||Uc}map(e,r,n,o){let i=e.mapResult(r.from+o,1);if(i.deleted)return null;let s=e.mapResult(r.to+o,-1);return s.deleted||s.pos<=i.pos?null:new Co(i.pos-n,s.pos-n,this)}valid(e,r){let{index:n,offset:o}=e.content.findIndex(r.from),i;return o==r.from&&!(i=e.child(n)).isText&&o+i.nodeSize==r.to}eq(e){return this==e||e instanceof CC&&gh(this.attrs,e.attrs)&&gh(this.spec,e.spec)}destroy(){}}class Co{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new Co(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new Co(e,e,new Ty(r,n))}static inline(e,r,n,o){return new Co(e,r,new Ml(n,o))}static node(e,r,n,o){return new Co(e,r,new CC(n,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ml}get widget(){return this.type instanceof Ty}}const nd=[],Uc={};class Xr{constructor(e,r){this.local=e.length?e:nd,this.children=r.length?r:nd}static create(e,r){return r.length?jy(r,e,0,Uc):fo}find(e,r,n){let o=[];return this.findInner(e??0,r??1e9,o,0,n),o}findInner(e,r,n,o,i){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=r&&a.to>=e&&(!i||i(a.spec))&&n.push(a.copy(a.from+o,a.to+o))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<r&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,r-a,n,o+a,i)}}map(e,r,n){return this==fo||e.maps.length==0?this:this.mapInner(e,r,0,0,n||Uc)}mapInner(e,r,n,o,i){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,n,o);l&&l.type.valid(r,l)?(s||(s=[])).push(l):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?jee(this.children,s||[],e,r,n,o,i):s?new Xr(s.sort(Vc),nd):fo}add(e,r){return r.length?this==fo?Xr.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let o,i=0;e.forEach((a,l)=>{let p=l+n,f;if(f=vP(r,a,p)){for(o||(o=this.children.slice());i<o.length&&o[i]<l;)i+=3;o[i]==l?o[i+2]=o[i+2].addInner(a,f,p+1):o.splice(i,0,l,l+a.nodeSize,jy(f,a,p+1,Uc)),i+=3}});let s=yP(i?xP(r):r,-n);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new Xr(s.length?this.local.concat(s).sort(Vc):this.local,o||this.children)}remove(e){return e.length==0||this==fo?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,o=this.local;for(let i=0;i<n.length;i+=3){let s,a=n[i]+r,l=n[i+1]+r;for(let f=0,h;f<e.length;f++)(h=e[f])&&h.from>a&&h.to<l&&(e[f]=null,(s||(s=[])).push(h));if(!s)continue;n==this.children&&(n=this.children.slice());let p=n[i+2].removeInner(s,a+1);p!=fo?n[i+2]=p:(n.splice(i,3),i-=3)}if(o.length){for(let i=0,s;i<e.length;i++)if(s=e[i])for(let a=0;a<o.length;a++)o[a].eq(s,r)&&(o==this.local&&(o=this.local.slice()),o.splice(a--,1))}return n==this.children&&o==this.local?this:o.length||n.length?new Xr(o,n):fo}forChild(e,r){if(this==fo)return this;if(r.isLeaf)return Xr.empty;let n,o;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(n=this.children[a+2]);break}let i=e+1,s=i+r.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>i&&l.type instanceof Ml){let p=Math.max(i,l.from)-i,f=Math.min(s,l.to)-i;p<f&&(o||(o=[])).push(l.copy(p,f))}}if(o){let a=new Xr(o.sort(Vc),nd);return n?new al([a,n]):a}return n||fo}eq(e){if(this==e)return!0;if(!(e instanceof Xr)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return kC(this.localsInner(e))}localsInner(e){if(this==fo)return nd;if(e.inlineContent||!this.local.some(Ml.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Ml||r.push(this.local[n]);return r}forEachSet(e){e(this)}}Xr.empty=new Xr([],[]);Xr.removeOverlap=kC;const fo=Xr.empty;class al{constructor(e){this.members=e}map(e,r){const n=this.members.map(o=>o.map(e,r,Uc));return al.from(n)}forChild(e,r){if(r.isLeaf)return Xr.empty;let n=[];for(let o=0;o<this.members.length;o++){let i=this.members[o].forChild(e,r);i!=fo&&(i instanceof al?n=n.concat(i.members):n.push(i))}return al.from(n)}eq(e){if(!(e instanceof al)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let o=0;o<this.members.length;o++){let i=this.members[o].localsInner(e);if(i.length)if(!r)r=i;else{n&&(r=r.slice(),n=!1);for(let s=0;s<i.length;s++)r.push(i[s])}}return r?kC(n?r:r.sort(Vc)):nd}static from(e){switch(e.length){case 0:return fo;case 1:return e[0];default:return new al(e.every(r=>r instanceof Xr)?e:e.reduce((r,n)=>r.concat(n instanceof Xr?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}}function jee(t,e,r,n,o,i,s){let a=t.slice();for(let p=0,f=i;p<r.maps.length;p++){let h=0;r.maps[p].forEach((m,y,v,b)=>{let x=b-v-(y-m);for(let C=0;C<a.length;C+=3){let E=a[C+1];if(E<0||m>E+f-h)continue;let j=a[C]+f-h;y>=j?a[C+1]=m<=j?-2:-1:m>=f&&x&&(a[C]+=x,a[C+1]+=x)}h+=x}),f=r.maps[p].map(f,-1)}let l=!1;for(let p=0;p<a.length;p+=3)if(a[p+1]<0){if(a[p+1]==-2){l=!0,a[p+1]=-1;continue}let f=r.map(t[p]+i),h=f-o;if(h<0||h>=n.content.size){l=!0;continue}let m=r.map(t[p+1]+i,-1),y=m-o,{index:v,offset:b}=n.content.findIndex(h),x=n.maybeChild(v);if(x&&b==h&&b+x.nodeSize==y){let C=a[p+2].mapInner(r,x,f+1,t[p]+i+1,s);C!=fo?(a[p]=h,a[p+1]=y,a[p+2]=C):(a[p+1]=-2,l=!0)}else l=!0}if(l){let p=Ree(a,t,e,r,o,i,s),f=jy(p,n,0,s);e=f.local;for(let h=0;h<a.length;h+=3)a[h+1]<0&&(a.splice(h,3),h-=3);for(let h=0,m=0;h<f.children.length;h+=3){let y=f.children[h];for(;m<a.length&&a[m]<y;)m+=3;a.splice(m,0,f.children[h],f.children[h+1],f.children[h+2])}}return new Xr(e.sort(Vc),a)}function yP(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let o=t[n];r.push(new Co(o.from+e,o.to+e,o.type))}return r}function Ree(t,e,r,n,o,i,s){function a(l,p){for(let f=0;f<l.local.length;f++){let h=l.local[f].map(n,o,p);h?r.push(h):s.onRemove&&s.onRemove(l.local[f].spec)}for(let f=0;f<l.children.length;f+=3)a(l.children[f+2],l.children[f]+p+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+i+1);return r}function vP(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,o=null;for(let i=0,s;i<t.length;i++)(s=t[i])&&s.from>r&&s.to<n&&((o||(o=[])).push(s),t[i]=null);return o}function xP(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function jy(t,e,r,n){let o=[],i=!1;e.forEach((a,l)=>{let p=vP(t,a,l+r);if(p){i=!0;let f=jy(p,a,r+l+1,n);f!=fo&&o.push(l,l+a.nodeSize,f)}});let s=yP(i?xP(t):t,-r).sort(Vc);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(n.onRemove&&n.onRemove(s[a].spec),s.splice(a--,1));return s.length||o.length?new Xr(s,o):fo}function Vc(t,e){return t.from-e.from||t.to-e.to}function kC(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let o=r+1;o<e.length;o++){let i=e[o];if(i.from==n.from){i.to!=n.to&&(e==t&&(e=t.slice()),e[o]=i.copy(i.from,n.to),iA(e,o+1,i.copy(n.to,i.to)));continue}else{i.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,i.from),iA(e,o,n.copy(i.from,n.to)));break}}}return e}function iA(t,e,r){for(;e<t.length&&Vc(r,t[e])>0;)e++;t.splice(e,0,r)}function $b(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=fo&&e.push(n)}),t.cursorWrapper&&e.push(Xr.create(t.state.doc,[t.cursorWrapper.deco])),al.from(e)}const Aee={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},_ee=Wo&&Al<=11;class Mee{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Iee{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Mee,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let o=0;o<n.length;o++)this.queue.push(n[o]);Wo&&Al<=11&&n.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():ho&&e.composing&&n.some(o=>o.type=="childList"&&o.target.nodeName=="TR")?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),_ee&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Aee)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(XR(this.view)){if(this.suppressingSelectionUpdates)return ha(this.view);if(Wo&&Al<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&eu(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let i=e.focusNode;i;i=Hd(i))r.add(i);for(let i=e.anchorNode;i;i=Hd(i))if(r.has(i)){n=i;break}let o=n&&this.view.docView.nearestDesc(n);if(o&&o.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&XR(e)&&!this.ignoreSelectionChange(n),i=-1,s=-1,a=!1,l=[];if(e.editable)for(let f=0;f<r.length;f++){let h=this.registerMutation(r[f],l);h&&(i=i<0?h.from:Math.min(h.from,i),s=s<0?h.to:Math.max(h.to,s),h.typeOver&&(a=!0))}if(l.some(f=>f.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let f of l)if(f.nodeName=="BR"&&f.parentNode){let h=f.nextSibling;h&&h.nodeType==1&&h.contentEditable=="false"&&f.parentNode.removeChild(f)}}else if(Li&&l.length){let f=l.filter(h=>h.nodeName=="BR");if(f.length==2){let[h,m]=f;h.parentNode&&h.parentNode.parentNode==m.parentNode?m.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let m of f){let y=m.parentNode;y&&y.nodeName=="LI"&&(!h||Nee(e,h)!=y)&&m.remove()}}}let p=null;i<0&&o&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Z0(n)&&(p=yC(e))&&p.eq(nr.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ha(e),this.currentSelection.set(n),e.scrollToSelection()):(i>-1||o)&&(i>-1&&(e.docView.markDirty(i,s),Oee(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,Lee(e,l)),this.handleDOMChange(i,s,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||ha(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let h=e.addedNodes[f];r.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let o=e.previousSibling,i=e.nextSibling;if(Wo&&Al<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:h,nextSibling:m}=e.addedNodes[f];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(o=h),(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(i=m)}let s=o&&o.parentNode==e.target?Zn(o)+1:0,a=n.localPosFromDOM(e.target,s,-1),l=i&&i.parentNode==e.target?Zn(i):e.target.childNodes.length,p=n.localPosFromDOM(e.target,l,1);return{from:a,to:p}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let sA=new WeakMap,aA=!1;function Oee(t){if(!sA.has(t)&&(sA.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Li,aA)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),aA=!0}}function lA(t,e){let r=e.startContainer,n=e.startOffset,o=e.endContainer,i=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return eu(s.node,s.offset,o,i)&&([r,n,o,i]=[o,i,r,n]),{anchorNode:r,anchorOffset:n,focusNode:o,focusOffset:i}}function Pee(t,e){if(e.getComposedRanges){let o=e.getComposedRanges(t.root)[0];if(o)return lA(t,o)}let r;function n(o){o.preventDefault(),o.stopImmediatePropagation(),r=o.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0),r?lA(t,r):null}function Nee(t,e){for(let r=e.parentNode;r&&r!=t.dom;r=r.parentNode){let n=t.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function Lee(t,e){var r;let{focusNode:n,focusOffset:o}=t.domSelectionRange();for(let i of e)if(((r=i.parentNode)===null||r===void 0?void 0:r.nodeName)=="TR"){let s=i.nextSibling;for(;s&&s.nodeName!="TD"&&s.nodeName!="TH";)s=s.nextSibling;if(s){let a=s;for(;;){let l=a.firstChild;if(!l||l.nodeType!=1||l.contentEditable=="false"||/^(BR|IMG)$/.test(l.nodeName))break;a=l}a.insertBefore(i,a.firstChild),n==i&&t.domSelection().collapse(i,o)}else i.parentNode.removeChild(i)}}function Dee(t,e,r){let{node:n,fromOffset:o,toOffset:i,from:s,to:a}=t.docView.parseRange(e,r),l=t.domSelectionRange(),p,f=l.anchorNode;if(f&&t.dom.contains(f.nodeType==1?f:f.parentNode)&&(p=[{node:f,offset:l.anchorOffset}],Z0(l)||p.push({node:l.focusNode,offset:l.focusOffset})),to&&t.input.lastKeyCode===8)for(let x=i;x>o;x--){let C=n.childNodes[x-1],E=C.pmViewDesc;if(C.nodeName=="BR"&&!E){i=x;break}if(!E||E.size)break}let h=t.state.doc,m=t.someProp("domParser")||Rl.fromSchema(t.state.schema),y=h.resolve(s),v=null,b=m.parse(n,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:o,to:i,preserveWhitespace:y.parent.type.whitespace=="pre"?"full":!0,findPositions:p,ruleFromNode:zee,context:y});if(p&&p[0].pos!=null){let x=p[0].pos,C=p[1]&&p[1].pos;C==null&&(C=x),v={anchor:x+s,head:C+s}}return{doc:b,sel:v,from:s,to:a}}function zee(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(ho&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||ho&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const $ee=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Fee(t,e,r,n,o){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let _=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,I=yC(t,_);if(I&&!t.state.selection.eq(I)){if(to&&da&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",N=>N(t,wc(13,"Enter"))))return;let P=t.state.tr.setSelection(I);_=="pointer"?P.setMeta("pointer",!0):_=="key"&&P.scrollIntoView(),i&&P.setMeta("composition",i),t.dispatch(P)}return}let s=t.state.doc.resolve(e),a=s.sharedDepth(r);e=s.before(a+1),r=t.state.doc.resolve(r).after(a+1);let l=t.state.selection,p=Dee(t,e,r),f=t.state.doc,h=f.slice(p.from,p.to),m,y;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(m=t.state.selection.to,y="end"):(m=t.state.selection.from,y="start"),t.input.lastKeyCode=null;let v=Hee(h.content,p.doc.content,p.from,m,y);if(v&&t.input.domChangeCount++,(Ud&&t.input.lastIOSEnter>Date.now()-225||da)&&o.some(_=>_.nodeType==1&&!$ee.test(_.nodeName))&&(!v||v.endA>=v.endB)&&t.someProp("handleKeyDown",_=>_(t,wc(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!v)if(n&&l instanceof Kt&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(p.sel&&p.sel.anchor!=p.sel.head))v={start:l.from,endA:l.to,endB:l.to};else{if(p.sel){let _=cA(t,t.state.doc,p.sel);if(_&&!_.eq(t.state.selection)){let I=t.state.tr.setSelection(_);i&&I.setMeta("composition",i),t.dispatch(I)}}return}t.state.selection.from<t.state.selection.to&&v.start==v.endB&&t.state.selection instanceof Kt&&(v.start>t.state.selection.from&&v.start<=t.state.selection.from+2&&t.state.selection.from>=p.from?v.start=t.state.selection.from:v.endA<t.state.selection.to&&v.endA>=t.state.selection.to-2&&t.state.selection.to<=p.to&&(v.endB+=t.state.selection.to-v.endA,v.endA=t.state.selection.to)),Wo&&Al<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>p.from&&p.doc.textBetween(v.start-p.from-1,v.start-p.from+1)==" "&&(v.start--,v.endA--,v.endB--);let b=p.doc.resolveNoCache(v.start-p.from),x=p.doc.resolveNoCache(v.endB-p.from),C=f.resolve(v.start),E=b.sameParent(x)&&b.parent.inlineContent&&C.end()>=v.endA;if((Ud&&t.input.lastIOSEnter>Date.now()-225&&(!E||o.some(_=>_.nodeName=="DIV"||_.nodeName=="P"))||!E&&b.pos<p.doc.content.size&&(!b.sameParent(x)||!b.parent.inlineContent)&&b.pos<x.pos&&!/\S/.test(p.doc.textBetween(b.pos,x.pos,"","")))&&t.someProp("handleKeyDown",_=>_(t,wc(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>v.start&&Wee(f,v.start,v.endA,b,x)&&t.someProp("handleKeyDown",_=>_(t,wc(8,"Backspace")))){da&&to&&t.domObserver.suppressSelectionUpdates();return}to&&v.endB==v.start&&(t.input.lastChromeDelete=Date.now()),da&&!E&&b.start()!=x.start()&&x.parentOffset==0&&b.depth==x.depth&&p.sel&&p.sel.anchor==p.sel.head&&p.sel.head==v.endA&&(v.endB-=2,x=p.doc.resolveNoCache(v.endB-p.from),setTimeout(()=>{t.someProp("handleKeyDown",function(_){return _(t,wc(13,"Enter"))})},20));let j=v.start,T=v.endA,k=_=>{let I=_||t.state.tr.replace(j,T,p.doc.slice(v.start-p.from,v.endB-p.from));if(p.sel){let P=cA(t,I.doc,p.sel);P&&!(to&&t.composing&&P.empty&&(v.start!=v.endB||t.input.lastChromeDelete<Date.now()-100)&&(P.head==j||P.head==I.mapping.map(T)-1)||Wo&&P.empty&&P.head==j)&&I.setSelection(P)}return i&&I.setMeta("composition",i),I.scrollIntoView()},A;if(E)if(b.pos==x.pos){Wo&&Al<=11&&b.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>ha(t),20));let _=k(t.state.tr.delete(j,T)),I=f.resolve(v.start).marksAcross(f.resolve(v.endA));I&&_.ensureMarks(I),t.dispatch(_)}else if(v.endA==v.endB&&(A=Bee(b.parent.content.cut(b.parentOffset,x.parentOffset),C.parent.content.cut(C.parentOffset,v.endA-C.start())))){let _=k(t.state.tr);A.type=="add"?_.addMark(j,T,A.mark):_.removeMark(j,T,A.mark),t.dispatch(_)}else if(b.parent.child(b.index()).isText&&b.index()==x.index()-(x.textOffset?0:1)){let _=b.parent.textBetween(b.parentOffset,x.parentOffset),I=()=>k(t.state.tr.insertText(_,j,T));t.someProp("handleTextInput",P=>P(t,j,T,_,I))||t.dispatch(I())}else t.dispatch(k());else t.dispatch(k())}function cA(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:vC(t,e.resolve(r.anchor),e.resolve(r.head))}function Bee(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,o=r,i=n,s,a,l;for(let f=0;f<n.length;f++)o=n[f].removeFromSet(o);for(let f=0;f<r.length;f++)i=r[f].removeFromSet(i);if(o.length==1&&i.length==0)a=o[0],s="add",l=f=>f.mark(a.addToSet(f.marks));else if(o.length==0&&i.length==1)a=i[0],s="remove",l=f=>f.mark(a.removeFromSet(f.marks));else return null;let p=[];for(let f=0;f<e.childCount;f++)p.push(l(e.child(f)));if(ze.from(p).eq(t))return{mark:a,type:s}}function Wee(t,e,r,n,o){if(r-e<=o.pos-n.pos||Fb(n,!0,!1)<o.pos)return!1;let i=t.resolve(e);if(!n.parent.isTextblock){let a=i.nodeAfter;return a!=null&&r==e+a.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let s=t.resolve(Fb(i,!0,!0));return!s.parent.isTextblock||s.pos>r||Fb(s,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(s.parent.content)}function Fb(t,e,r){let n=t.depth,o=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,o++,e=!1;if(r){let i=t.node(n).maybeChild(t.indexAfter(n));for(;i&&!i.isLeaf;)i=i.firstChild,o++}return o}function Hee(t,e,r,n,o){let i=t.findDiffStart(e,r);if(i==null)return null;let{a:s,b:a}=t.findDiffEnd(e,r+t.size,r+e.size);if(o=="end"){let l=Math.max(0,i-Math.min(s,a));n-=s+l-i}if(s<i&&t.size<e.size){let l=n<=i&&n>=s?i-n:0;i-=l,i&&i<e.size&&uA(e.textBetween(i-1,i+1))&&(i+=l?1:-1),a=i+(a-s),s=i}else if(a<i){let l=n<=i&&n>=a?i-n:0;i-=l,i&&i<t.size&&uA(t.textBetween(i-1,i+1))&&(i+=l?1:-1),s=i+(s-a),a=i}return{start:i,endA:s,endB:a}}function uA(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class bP{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new iee,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(mA),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=fA(this),pA(this),this.nodeViews=hA(this),this.docView=VR(this.state.doc,dA(this),$b(this),this.dom,this),this.domObserver=new Iee(this,(n,o,i,s)=>Fee(this,n,o,i,s)),this.domObserver.start(),see(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&_w(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(mA),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let o=this.state,i=!1,s=!1;e.storedMarks&&this.composing&&(fP(this),s=!0),this.state=e;let a=o.plugins!=e.plugins||this._props.plugins!=r.plugins;if(a||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let y=hA(this);Vee(y,this.nodeViews)&&(this.nodeViews=y,i=!0)}(a||r.handleDOMEvents!=this._props.handleDOMEvents)&&_w(this),this.editable=fA(this),pA(this);let l=$b(this),p=dA(this),f=o.plugins!=e.plugins&&!o.doc.eq(e.doc)?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",h=i||!this.docView.matchesNode(e.doc,p,l);(h||!e.selection.eq(o.selection))&&(s=!0);let m=f=="preserve"&&s&&this.dom.style.overflowAnchor==null&&bZ(this);if(s){this.domObserver.stop();let y=h&&(Wo||to)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&Uee(o.selection,e.selection);if(h){let v=to?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=bee(this)),(i||!this.docView.update(e.doc,p,l,this))&&(this.docView.updateOuterDeco(p),this.docView.destroy(),this.docView=VR(e.doc,p,l,this.dom,this)),v&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(y=!0)}y||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&UZ(this))?ha(this,y):(tP(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((n=this.dragging)===null||n===void 0)&&n.node&&!o.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,o),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():m&&wZ(m)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof Nt){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&$R(this,r.getBoundingClientRect(),e)}else $R(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,o=-1;if(this.state.doc.nodeAt(n.from)==n.node)o=n.from;else{let i=n.from+(this.state.doc.content.size-r.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==n.node&&(o=i)}this.dragging=new mP(e.slice,e.move,o<0?void 0:Nt.create(this.state.doc,o))}someProp(e,r){let n=this._props&&this._props[e],o;if(n!=null&&(o=r?r(n):n))return o;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[e];if(a!=null&&(o=r?r(a):a))return o}let i=this.state.plugins;if(i)for(let s=0;s<i.length;s++){let a=i[s].props[e];if(a!=null&&(o=r?r(a):a))return o}}hasFocus(){if(Wo){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&SZ(this.dom),ha(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return jZ(this,e)}coordsAtPos(e,r=1){return GO(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let o=this.docView.posFromDOM(e,r,n);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(e,r){return IZ(this,r||this.state,e)}pasteHTML(e,r){return mh(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return mh(this,e,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(e){return xC(this,e)}destroy(){this.docView&&(aee(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],$b(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,uZ())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return cee(this,e)}domSelectionRange(){let e=this.domSelection();return e?ho&&this.root.nodeType===11&&mZ(this.dom.ownerDocument)==this.dom&&Pee(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}bP.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function dA(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[Co.node(0,t.state.doc.content.size,e)]}function pA(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Co.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function fA(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Uee(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function hA(t){let e=Object.create(null);function r(n){for(let o in n)Object.prototype.hasOwnProperty.call(e,o)||(e[o]=n[o])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function Vee(t,e){let r=0,n=0;for(let o in t){if(t[o]!=e[o])return!0;r++}for(let o in e)n++;return r!=n}function mA(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Pl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ry={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},qee=typeof navigator<"u"&&/Mac/.test(navigator.platform),Gee=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var eo=0;eo<10;eo++)Pl[48+eo]=Pl[96+eo]=String(eo);for(var eo=1;eo<=24;eo++)Pl[eo+111]="F"+eo;for(var eo=65;eo<=90;eo++)Pl[eo]=String.fromCharCode(eo+32),Ry[eo]=String.fromCharCode(eo);for(var Bb in Pl)Ry.hasOwnProperty(Bb)||(Ry[Bb]=Pl[Bb]);function Kee(t){var e=qee&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Gee&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?Ry:Pl)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const Yee=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Jee=typeof navigator<"u"&&/Win/.test(navigator.platform);function Xee(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,o,i,s;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))Yee?s=!0:o=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(r="Alt-"+r),o&&(r="Ctrl-"+r),s&&(r="Meta-"+r),i&&(r="Shift-"+r),r}function Qee(t){let e=Object.create(null);for(let r in t)e[Xee(r)]=t[r];return e}function Wb(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function Zee(t){return new en({props:{handleKeyDown:wP(t)}})}function wP(t){let e=Qee(t);return function(r,n){let o=Kee(n),i,s=e[Wb(o,n)];if(s&&s(r.state,r.dispatch,r))return!0;if(o.length==1&&o!=" "){if(n.shiftKey){let a=e[Wb(o,n,!1)];if(a&&a(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(Jee&&n.ctrlKey&&n.altKey)&&(i=Pl[n.keyCode])&&i!=o){let a=e[Wb(i,n)];if(a&&a(r.state,r.dispatch,r))return!0}}return!1}}var ete=Object.defineProperty,EC=(t,e)=>{for(var r in e)ete(t,r,{get:e[r],enumerable:!0})};function rv(t){const{state:e,transaction:r}=t;let{selection:n}=r,{doc:o}=r,{storedMarks:i}=r;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return n},get doc(){return o},get tr(){return n=r.selection,o=r.doc,i=r.storedMarks,r}}}var nv=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:r}=this,{view:n}=e,{tr:o}=r,i=this.buildProps(o);return Object.fromEntries(Object.entries(t).map(([s,a])=>[s,(...p)=>{const f=a(...p)(i);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(o),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:r,editor:n,state:o}=this,{view:i}=n,s=[],a=!!t,l=t||o.tr,p=()=>(!a&&e&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(l),s.every(h=>h===!0)),f={...Object.fromEntries(Object.entries(r).map(([h,m])=>[h,(...v)=>{const b=this.buildProps(l,e),x=m(...v)(b);return s.push(x),f}])),run:p};return f}createCan(t){const{rawCommands:e,state:r}=this,n=!1,o=t||r.tr,i=this.buildProps(o,n);return{...Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...p)=>l(...p)({...i,dispatch:void 0})])),chain:()=>this.createChain(o,n)}}buildProps(t,e=!0){const{rawCommands:r,editor:n,state:o}=this,{view:i}=n,s={tr:t,editor:n,view:i,state:rv({state:o,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([a,l])=>[a,(...p)=>l(...p)(s)]))}};return s}},SP={};EC(SP,{blur:()=>tte,clearContent:()=>rte,clearNodes:()=>nte,command:()=>ote,createParagraphNear:()=>ite,cut:()=>ste,deleteCurrentNode:()=>ate,deleteNode:()=>lte,deleteRange:()=>cte,deleteSelection:()=>ute,enter:()=>dte,exitCode:()=>pte,extendMarkRange:()=>fte,first:()=>hte,focus:()=>gte,forEach:()=>yte,insertContent:()=>vte,insertContentAt:()=>wte,joinBackward:()=>kte,joinDown:()=>Cte,joinForward:()=>Ete,joinItemBackward:()=>Tte,joinItemForward:()=>jte,joinTextblockBackward:()=>Rte,joinTextblockForward:()=>Ate,joinUp:()=>Ste,keyboardShortcut:()=>Mte,lift:()=>Ite,liftEmptyBlock:()=>Ote,liftListItem:()=>Pte,newlineInCode:()=>Nte,resetAttributes:()=>Lte,scrollIntoView:()=>Dte,selectAll:()=>zte,selectNodeBackward:()=>$te,selectNodeForward:()=>Fte,selectParentNode:()=>Bte,selectTextblockEnd:()=>Wte,selectTextblockStart:()=>Hte,setContent:()=>Ute,setMark:()=>ure,setMeta:()=>dre,setNode:()=>pre,setNodeSelection:()=>fre,setTextDirection:()=>hre,setTextSelection:()=>mre,sinkListItem:()=>gre,splitBlock:()=>yre,splitListItem:()=>vre,toggleList:()=>xre,toggleMark:()=>bre,toggleNode:()=>wre,toggleWrap:()=>Sre,undoInputRule:()=>Cre,unsetAllMarks:()=>kre,unsetMark:()=>Ere,unsetTextDirection:()=>Tre,updateAttributes:()=>jre,wrapIn:()=>Rre,wrapInList:()=>Are});var tte=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(e.dom.blur(),(r=window==null?void 0:window.getSelection())==null||r.removeAllRanges())}),!0),rte=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),nte=()=>({state:t,tr:e,dispatch:r})=>{const{selection:n}=e,{ranges:o}=n;return r&&o.forEach(({$from:i,$to:s})=>{t.doc.nodesBetween(i.pos,s.pos,(a,l)=>{if(a.type.isText)return;const{doc:p,mapping:f}=e,h=p.resolve(f.map(l)),m=p.resolve(f.map(l+a.nodeSize)),y=h.blockRange(m);if(!y)return;const v=ap(y);if(a.type.isTextblock){const{defaultType:b}=h.parent.contentMatchAt(h.index());e.setNodeMarkup(y.start,b)}(v||v===0)&&e.lift(y,v)})}),!0},ote=t=>e=>t(e),ite=()=>({state:t,dispatch:e})=>LO(t,e),ste=(t,e)=>({editor:r,tr:n})=>{const{state:o}=r,i=o.doc.slice(t.from,t.to);n.deleteRange(t.from,t.to);const s=n.mapping.map(e);return n.insert(s,i.content),n.setSelection(new Kt(n.doc.resolve(Math.max(s-1,0)))),!0},ate=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,n=r.$anchor.node();if(n.content.size>0)return!1;const o=t.selection.$anchor;for(let i=o.depth;i>0;i-=1)if(o.node(i).type===n.type){if(e){const a=o.before(i),l=o.after(i);t.delete(a,l).scrollIntoView()}return!0}return!1};function Sn(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var lte=t=>({tr:e,state:r,dispatch:n})=>{const o=Sn(t,r.schema),i=e.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===o){if(n){const l=i.before(s),p=i.after(s);e.delete(l,p).scrollIntoView()}return!0}return!1},cte=t=>({tr:e,dispatch:r})=>{const{from:n,to:o}=t;return r&&e.delete(n,o),!0},ute=()=>({state:t,dispatch:e})=>dC(t,e),dte=()=>({commands:t})=>t.keyboardShortcut("Enter"),pte=()=>({state:t,dispatch:e})=>YQ(t,e);function TC(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Ay(t,e,r={strict:!0}){const n=Object.keys(e);return n.length?n.every(o=>r.strict?e[o]===t[o]:TC(e[o])?e[o].test(t[o]):e[o]===t[o]):!0}function CP(t,e,r={}){return t.find(n=>n.type===e&&Ay(Object.fromEntries(Object.keys(r).map(o=>[o,n.attrs[o]])),r))}function gA(t,e,r={}){return!!CP(t,e,r)}function jC(t,e,r){var n;if(!t||!e)return;let o=t.parent.childAfter(t.parentOffset);if((!o.node||!o.node.marks.some(f=>f.type===e))&&(o=t.parent.childBefore(t.parentOffset)),!o.node||!o.node.marks.some(f=>f.type===e)||(r=r||((n=o.node.marks[0])==null?void 0:n.attrs),!CP([...o.node.marks],e,r)))return;let s=o.index,a=t.start()+o.offset,l=s+1,p=a+o.node.nodeSize;for(;s>0&&gA([...t.parent.child(s-1).marks],e,r);)s-=1,a-=t.parent.child(s).nodeSize;for(;l<t.parent.childCount&&gA([...t.parent.child(l).marks],e,r);)p+=t.parent.child(l).nodeSize,l+=1;return{from:a,to:p}}function Ca(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var fte=(t,e={})=>({tr:r,state:n,dispatch:o})=>{const i=Ca(t,n.schema),{doc:s,selection:a}=r,{$from:l,from:p,to:f}=a;if(o){const h=jC(l,i,e);if(h&&h.from<=p&&h.to>=f){const m=Kt.create(s,h.from,h.to);r.setSelection(m)}}return!0},hte=t=>e=>{const r=typeof t=="function"?t(e):t;for(let n=0;n<r.length;n+=1)if(r[n](e))return!0;return!1};function kP(t){return t instanceof Kt}function Ac(t=0,e=0,r=0){return Math.min(Math.max(t,e),r)}function EP(t,e=null){if(!e)return null;const r=nr.atStart(t),n=nr.atEnd(t);if(e==="start"||e===!0)return r;if(e==="end")return n;const o=r.from,i=n.to;return e==="all"?Kt.create(t,Ac(0,o,i),Ac(t.content.size,o,i)):Kt.create(t,Ac(e,o,i),Ac(e,o,i))}function Mw(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function yh(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function mte(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var gte=(t=null,e={})=>({editor:r,view:n,tr:o,dispatch:i})=>{e={scrollIntoView:!0,...e};const s=()=>{(yh()||Mw())&&n.dom.focus(),mte()&&!yh()&&!Mw()&&n.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&r.commands.scrollIntoView())})};try{if(n.hasFocus()&&t===null||t===!1)return!0}catch{return!1}if(i&&t===null&&!kP(r.state.selection))return s(),!0;const a=EP(o.doc,t)||r.state.selection,l=r.state.selection.eq(a);return i&&(l||o.setSelection(a),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),s()),!0},yte=(t,e)=>r=>t.every((n,o)=>e(n,{...r,index:o})),vte=(t,e)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},t,e),TP=t=>{const e=t.childNodes;for(let r=e.length-1;r>=0;r-=1){const n=e[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?t.removeChild(n):n.nodeType===1&&TP(n)}return t};function mg(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,r=new window.DOMParser().parseFromString(e,"text/html").body;return TP(r)}function vh(t,e,r){if(t instanceof as||t instanceof ze)return t;r={slice:!0,parseOptions:{},...r};const n=typeof t=="object"&&t!==null,o=typeof t=="string";if(n)try{if(Array.isArray(t)&&t.length>0)return ze.fromArray(t.map(a=>e.nodeFromJSON(a)));const s=e.nodeFromJSON(t);return r.errorOnInvalidContent&&s.check(),s}catch(i){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),vh("",e,r)}if(o){if(r.errorOnInvalidContent){let s=!1,a="";const l=new cO({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:p=>(s=!0,a=typeof p=="string"?p:p.outerHTML,null)}]}})});if(r.slice?Rl.fromSchema(l).parseSlice(mg(t),r.parseOptions):Rl.fromSchema(l).parse(mg(t),r.parseOptions),r.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const i=Rl.fromSchema(e);return r.slice?i.parseSlice(mg(t),r.parseOptions).content:i.parse(mg(t),r.parseOptions)}return vh("",e,r)}function xte(t,e,r){const n=t.steps.length-1;if(n<e)return;const o=t.steps[n];if(!(o instanceof Hn||o instanceof Vn))return;const i=t.mapping.maps[n];let s=0;i.forEach((a,l,p,f)=>{s===0&&(s=f)}),t.setSelection(nr.near(t.doc.resolve(s),r))}var bte=t=>!("type"in t),wte=(t,e,r)=>({tr:n,dispatch:o,editor:i})=>{var s;if(o){r={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let a;const l=x=>{i.emit("contentError",{editor:i,error:x,disableCollaboration:()=>{"collaboration"in i.storage&&typeof i.storage.collaboration=="object"&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},p={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{vh(e,i.schema,{parseOptions:p,errorOnInvalidContent:!0})}catch(x){l(x)}try{a=vh(e,i.schema,{parseOptions:p,errorOnInvalidContent:(s=r.errorOnInvalidContent)!=null?s:i.options.enableContentCheck})}catch(x){return l(x),!1}let{from:f,to:h}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},m=!0,y=!0;if((bte(a)?a:[a]).forEach(x=>{x.check(),m=m?x.isText&&x.marks.length===0:!1,y=y?x.isBlock:!1}),f===h&&y){const{parent:x}=n.doc.resolve(f);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(f-=1,h+=1)}let b;if(m){if(Array.isArray(e))b=e.map(x=>x.text||"").join("");else if(e instanceof ze){let x="";e.forEach(C=>{C.text&&(x+=C.text)}),b=x}else typeof e=="object"&&e&&e.text?b=e.text:b=e;n.insertText(b,f,h)}else{b=a;const x=n.doc.resolve(f),C=x.node(),E=x.parentOffset===0,j=C.isText||C.isTextblock,T=C.content.size>0;E&&j&&T&&(f=Math.max(0,f-1)),n.replaceWith(f,h,b)}r.updateSelection&&xte(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:f,text:b}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:f,text:b})}return!0},Ste=()=>({state:t,dispatch:e})=>qQ(t,e),Cte=()=>({state:t,dispatch:e})=>GQ(t,e),kte=()=>({state:t,dispatch:e})=>AO(t,e),Ete=()=>({state:t,dispatch:e})=>OO(t,e),Tte=()=>({state:t,dispatch:e,tr:r})=>{try{const n=J0(t.doc,t.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},jte=()=>({state:t,dispatch:e,tr:r})=>{try{const n=J0(t.doc,t.selection.$from.pos,1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},Rte=()=>({state:t,dispatch:e})=>UQ(t,e),Ate=()=>({state:t,dispatch:e})=>VQ(t,e);function jP(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function _te(t){const e=t.split(/-(?!$)/);let r=e[e.length-1];r==="Space"&&(r=" ");let n,o,i,s;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))yh()||jP()?s=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return n&&(r=`Alt-${r}`),o&&(r=`Ctrl-${r}`),s&&(r=`Meta-${r}`),i&&(r=`Shift-${r}`),r}var Mte=t=>({editor:e,view:r,tr:n,dispatch:o})=>{const i=_te(t).split(/-(?!$)/),s=i.find(p=>!["Alt","Ctrl","Meta","Shift"].includes(p)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{r.someProp("handleKeyDown",p=>p(r,a))});return l==null||l.steps.forEach(p=>{const f=p.map(n.mapping);f&&o&&n.maybeStep(f)}),!0};function Nl(t,e,r={}){const{from:n,to:o,empty:i}=t.selection,s=e?Sn(e,t.schema):null,a=[];t.doc.nodesBetween(n,o,(h,m)=>{if(h.isText)return;const y=Math.max(n,m),v=Math.min(o,m+h.nodeSize);a.push({node:h,from:y,to:v})});const l=o-n,p=a.filter(h=>s?s.name===h.node.type.name:!0).filter(h=>Ay(h.node.attrs,r,{strict:!1}));return i?!!p.length:p.reduce((h,m)=>h+m.to-m.from,0)>=l}var Ite=(t,e={})=>({state:r,dispatch:n})=>{const o=Sn(t,r.schema);return Nl(r,o,e)?KQ(r,n):!1},Ote=()=>({state:t,dispatch:e})=>DO(t,e),Pte=t=>({state:e,dispatch:r})=>{const n=Sn(t,e.schema);return sZ(n)(e,r)},Nte=()=>({state:t,dispatch:e})=>NO(t,e);function ov(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function yA(t,e){const r=typeof e=="string"?[e]:e;return Object.keys(t).reduce((n,o)=>(r.includes(o)||(n[o]=t[o]),n),{})}var Lte=(t,e)=>({tr:r,state:n,dispatch:o})=>{let i=null,s=null;const a=ov(typeof t=="string"?t:t.name,n.schema);if(!a)return!1;a==="node"&&(i=Sn(t,n.schema)),a==="mark"&&(s=Ca(t,n.schema));let l=!1;return r.selection.ranges.forEach(p=>{n.doc.nodesBetween(p.$from.pos,p.$to.pos,(f,h)=>{i&&i===f.type&&(l=!0,o&&r.setNodeMarkup(h,void 0,yA(f.attrs,e))),s&&f.marks.length&&f.marks.forEach(m=>{s===m.type&&(l=!0,o&&r.addMark(h,h+f.nodeSize,s.create(yA(m.attrs,e))))})})}),l},Dte=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),zte=()=>({tr:t,dispatch:e})=>{if(e){const r=new oi(t.doc);t.setSelection(r)}return!0},$te=()=>({state:t,dispatch:e})=>MO(t,e),Fte=()=>({state:t,dispatch:e})=>PO(t,e),Bte=()=>({state:t,dispatch:e})=>QQ(t,e),Wte=()=>({state:t,dispatch:e})=>tZ(t,e),Hte=()=>({state:t,dispatch:e})=>eZ(t,e);function Iw(t,e,r={},n={}){return vh(t,e,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}var Ute=(t,{errorOnInvalidContent:e,emitUpdate:r=!0,parseOptions:n={}}={})=>({editor:o,tr:i,dispatch:s,commands:a})=>{const{doc:l}=i;if(n.preserveWhitespace!=="full"){const p=Iw(t,o.schema,n,{errorOnInvalidContent:e??o.options.enableContentCheck});return s&&i.replaceWith(0,l.content.size,p).setMeta("preventUpdate",!r),!0}return s&&i.setMeta("preventUpdate",!r),a.insertContentAt({from:0,to:l.content.size},t,{parseOptions:n,errorOnInvalidContent:e??o.options.enableContentCheck})};function RP(t,e){const r=Ca(e,t.schema),{from:n,to:o,empty:i}=t.selection,s=[];i?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(n,o,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===r.name);return a?{...a.attrs}:{}}function AP(t,e){const r=new EO(t);return e.forEach(n=>{n.steps.forEach(o=>{r.step(o)})}),r}function Vte(t){for(let e=0;e<t.edgeCount;e+=1){const{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function qte(t,e,r){const n=[];return t.nodesBetween(e.from,e.to,(o,i)=>{r(o)&&n.push({node:o,pos:i})}),n}function Gte(t,e){for(let r=t.depth;r>0;r-=1){const n=t.node(r);if(e(n))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:n}}}function iv(t){return e=>Gte(e.$from,t)}function Pt(t,e,r){return t.config[e]===void 0&&t.parent?Pt(t.parent,e,r):typeof t.config[e]=="function"?t.config[e].bind({...r,parent:t.parent?Pt(t.parent,e,r):null}):t.config[e]}function RC(t){return t.map(e=>{const r={name:e.name,options:e.options,storage:e.storage},n=Pt(e,"addExtensions",r);return n?[e,...RC(n())]:e}).flat(10)}function AC(t,e){const r=iu.fromSchema(e).serializeFragment(t),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(r),o.innerHTML}function _P(t){return typeof t=="function"}function Tr(t,e=void 0,...r){return _P(t)?e?t.bind(e)(...r):t(...r):t}function Kte(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Vd(t){const e=t.filter(o=>o.type==="extension"),r=t.filter(o=>o.type==="node"),n=t.filter(o=>o.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:n}}function MP(t){const e=[],{nodeExtensions:r,markExtensions:n}=Vd(t),o=[...r,...n],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage,extensions:o},l=Pt(s,"addGlobalAttributes",a);if(!l)return;l().forEach(f=>{f.types.forEach(h=>{Object.entries(f.attributes).forEach(([m,y])=>{e.push({type:h,name:m,attribute:{...i,...y}})})})})}),o.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=Pt(s,"addAttributes",a);if(!l)return;const p=l();Object.entries(p).forEach(([f,h])=>{const m={...i,...h};typeof(m==null?void 0:m.default)=="function"&&(m.default=m.default()),m!=null&&m.isRequired&&(m==null?void 0:m.default)===void 0&&delete m.default,e.push({type:s.name,name:f,attribute:m})})}),e}function fn(...t){return t.filter(e=>!!e).reduce((e,r)=>{const n={...e};return Object.entries(r).forEach(([o,i])=>{if(!n[o]){n[o]=i;return}if(o==="class"){const a=i?String(i).split(" "):[],l=n[o]?n[o].split(" "):[],p=a.filter(f=>!l.includes(f));n[o]=[...l,...p].join(" ")}else if(o==="style"){const a=i?i.split(";").map(f=>f.trim()).filter(Boolean):[],l=n[o]?n[o].split(";").map(f=>f.trim()).filter(Boolean):[],p=new Map;l.forEach(f=>{const[h,m]=f.split(":").map(y=>y.trim());p.set(h,m)}),a.forEach(f=>{const[h,m]=f.split(":").map(y=>y.trim());p.set(h,m)}),n[o]=Array.from(p.entries()).map(([f,h])=>`${f}: ${h}`).join("; ")}else n[o]=i}),n},{})}function qd(t,e){return e.filter(r=>r.type===t.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(t.attrs)||{}:{[r.name]:t.attrs[r.name]}).reduce((r,n)=>fn(r,n),{})}function Yte(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function vA(t,e){return"style"in t?t:{...t,getAttrs:r=>{const n=t.getAttrs?t.getAttrs(r):t.attrs;if(n===!1)return!1;const o=e.reduce((i,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(r):Yte(r.getAttribute(s.name));return a==null?i:{...i,[s.name]:a}},{});return{...n,...o}}}}function xA(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>e==="attrs"&&Kte(r)?!1:r!=null))}function bA(t){var e,r;const n={};return!((e=t==null?void 0:t.attribute)!=null&&e.isRequired)&&"default"in((t==null?void 0:t.attribute)||{})&&(n.default=t.attribute.default),((r=t==null?void 0:t.attribute)==null?void 0:r.validate)!==void 0&&(n.validate=t.attribute.validate),[t.name,n]}function Jte(t,e){var r;const n=MP(t),{nodeExtensions:o,markExtensions:i}=Vd(t),s=(r=o.find(p=>Pt(p,"topNode")))==null?void 0:r.name,a=Object.fromEntries(o.map(p=>{const f=n.filter(C=>C.type===p.name),h={name:p.name,options:p.options,storage:p.storage,editor:e},m=t.reduce((C,E)=>{const j=Pt(E,"extendNodeSchema",h);return{...C,...j?j(p):{}}},{}),y=xA({...m,content:Tr(Pt(p,"content",h)),marks:Tr(Pt(p,"marks",h)),group:Tr(Pt(p,"group",h)),inline:Tr(Pt(p,"inline",h)),atom:Tr(Pt(p,"atom",h)),selectable:Tr(Pt(p,"selectable",h)),draggable:Tr(Pt(p,"draggable",h)),code:Tr(Pt(p,"code",h)),whitespace:Tr(Pt(p,"whitespace",h)),linebreakReplacement:Tr(Pt(p,"linebreakReplacement",h)),defining:Tr(Pt(p,"defining",h)),isolating:Tr(Pt(p,"isolating",h)),attrs:Object.fromEntries(f.map(bA))}),v=Tr(Pt(p,"parseHTML",h));v&&(y.parseDOM=v.map(C=>vA(C,f)));const b=Pt(p,"renderHTML",h);b&&(y.toDOM=C=>b({node:C,HTMLAttributes:qd(C,f)}));const x=Pt(p,"renderText",h);return x&&(y.toText=x),[p.name,y]})),l=Object.fromEntries(i.map(p=>{const f=n.filter(x=>x.type===p.name),h={name:p.name,options:p.options,storage:p.storage,editor:e},m=t.reduce((x,C)=>{const E=Pt(C,"extendMarkSchema",h);return{...x,...E?E(p):{}}},{}),y=xA({...m,inclusive:Tr(Pt(p,"inclusive",h)),excludes:Tr(Pt(p,"excludes",h)),group:Tr(Pt(p,"group",h)),spanning:Tr(Pt(p,"spanning",h)),code:Tr(Pt(p,"code",h)),attrs:Object.fromEntries(f.map(bA))}),v=Tr(Pt(p,"parseHTML",h));v&&(y.parseDOM=v.map(x=>vA(x,f)));const b=Pt(p,"renderHTML",h);return b&&(y.toDOM=x=>b({mark:x,HTMLAttributes:qd(x,f)})),[p.name,y]}));return new cO({topNode:s,nodes:a,marks:l})}function Xte(t){const e=t.filter((r,n)=>t.indexOf(r)!==n);return Array.from(new Set(e))}function _y(t){return t.sort((r,n)=>{const o=Pt(r,"priority")||100,i=Pt(n,"priority")||100;return o>i?-1:o<i?1:0})}function IP(t){const e=_y(RC(t)),r=Xte(e.map(n=>n.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(n=>`'${n}'`).join(", ")}]. This can lead to issues.`),e}function OP(t,e,r){const{from:n,to:o}=e,{blockSeparator:i=`

`,textSerializers:s={}}=r||{};let a="";return t.nodesBetween(n,o,(l,p,f,h)=>{var m;l.isBlock&&p>n&&(a+=i);const y=s==null?void 0:s[l.type.name];if(y)return f&&(a+=y({node:l,pos:p,parent:f,index:h,range:e})),!1;l.isText&&(a+=(m=l==null?void 0:l.text)==null?void 0:m.slice(Math.max(n,p)-p,o-p))}),a}function Qte(t,e){const r={from:0,to:t.content.size};return OP(t,r,e)}function PP(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}function Zte(t,e){const r=Sn(e,t.schema),{from:n,to:o}=t.selection,i=[];t.doc.nodesBetween(n,o,a=>{i.push(a)});const s=i.reverse().find(a=>a.type.name===r.name);return s?{...s.attrs}:{}}function NP(t,e){const r=ov(typeof e=="string"?e:e.name,t.schema);return r==="node"?Zte(t,e):r==="mark"?RP(t,e):{}}function ere(t,e=JSON.stringify){const r={};return t.filter(n=>{const o=e(n);return Object.prototype.hasOwnProperty.call(r,o)?!1:r[o]=!0})}function tre(t){const e=ere(t);return e.length===1?e:e.filter((r,n)=>!e.filter((i,s)=>s!==n).some(i=>r.oldRange.from>=i.oldRange.from&&r.oldRange.to<=i.oldRange.to&&r.newRange.from>=i.newRange.from&&r.newRange.to<=i.newRange.to))}function LP(t){const{mapping:e,steps:r}=t,n=[];return e.maps.forEach((o,i)=>{const s=[];if(o.ranges.length)o.forEach((a,l)=>{s.push({from:a,to:l})});else{const{from:a,to:l}=r[i];if(a===void 0||l===void 0)return;s.push({from:a,to:l})}s.forEach(({from:a,to:l})=>{const p=e.slice(i).map(a,-1),f=e.slice(i).map(l),h=e.invert().map(p,-1),m=e.invert().map(f);n.push({oldRange:{from:h,to:m},newRange:{from:p,to:f}})})}),tre(n)}function _C(t,e,r){const n=[];return t===e?r.resolve(t).marks().forEach(o=>{const i=r.resolve(t),s=jC(i,o.type);s&&n.push({mark:o,...s})}):r.nodesBetween(t,e,(o,i)=>{!o||(o==null?void 0:o.nodeSize)===void 0||n.push(...o.marks.map(s=>({from:i,to:i+o.nodeSize,mark:s})))}),n}var rre=(t,e,r,n=20)=>{const o=t.doc.resolve(r);let i=n,s=null;for(;i>0&&s===null;){const a=o.node(i);(a==null?void 0:a.type.name)===e?s=a:i-=1}return[s,i]};function gg(t,e){return e.nodes[t]||e.marks[t]||null}function Hg(t,e,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const o=t.find(i=>i.type===e&&i.name===n);return o?o.attribute.keepOnSplit:!1}))}var nre=(t,e=500)=>{let r="";const n=t.parentOffset;return t.parent.nodesBetween(Math.max(0,n-e),n,(o,i,s,a)=>{var l,p;const f=((p=(l=o.type.spec).toText)==null?void 0:p.call(l,{node:o,pos:i,parent:s,index:a}))||o.textContent||"%leaf%";r+=o.isAtom&&!o.isText?f:f.slice(0,Math.max(0,n-i))}),r};function Ow(t,e,r={}){const{empty:n,ranges:o}=t.selection,i=e?Ca(e,t.schema):null;if(n)return!!(t.storedMarks||t.selection.$from.marks()).filter(h=>i?i.name===h.type.name:!0).find(h=>Ay(h.attrs,r,{strict:!1}));let s=0;const a=[];if(o.forEach(({$from:h,$to:m})=>{const y=h.pos,v=m.pos;t.doc.nodesBetween(y,v,(b,x)=>{if(!b.isText&&!b.marks.length)return;const C=Math.max(y,x),E=Math.min(v,x+b.nodeSize),j=E-C;s+=j,a.push(...b.marks.map(T=>({mark:T,from:C,to:E})))})}),s===0)return!1;const l=a.filter(h=>i?i.name===h.mark.type.name:!0).filter(h=>Ay(h.mark.attrs,r,{strict:!1})).reduce((h,m)=>h+m.to-m.from,0),p=a.filter(h=>i?h.mark.type!==i&&h.mark.type.excludes(i):!0).reduce((h,m)=>h+m.to-m.from,0);return(l>0?l+p:l)>=s}function ore(t,e,r={}){if(!e)return Nl(t,null,r)||Ow(t,null,r);const n=ov(e,t.schema);return n==="node"?Nl(t,e,r):n==="mark"?Ow(t,e,r):!1}var ire=(t,e)=>{const{$from:r,$to:n,$anchor:o}=t.selection;if(e){const i=iv(a=>a.type.name===e)(t.selection);if(!i)return!1;const s=t.doc.resolve(i.pos+1);return o.pos+1===s.end()}return!(n.parentOffset<n.parent.nodeSize-2||r.pos!==n.pos)},sre=t=>{const{$from:e,$to:r}=t.selection;return!(e.parentOffset>0||e.pos!==r.pos)};function wA(t,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===t.name):e}function SA(t,e){const{nodeExtensions:r}=Vd(e),n=r.find(s=>s.name===t);if(!n)return!1;const o={name:n.name,options:n.options,storage:n.storage},i=Tr(Pt(n,"group",o));return typeof i!="string"?!1:i.split(" ").includes("list")}function sv(t,{checkChildren:e=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((n=t.text)!=null?n:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let o=!0;return t.content.forEach(i=>{o!==!1&&(sv(i,{ignoreWhitespace:r,checkChildren:e})||(o=!1))}),o}return!1}function DP(t){return t instanceof Nt}var zP=class $P{constructor(e){this.position=e}static fromJSON(e){return new $P(e.position)}toJSON(){return{position:this.position}}};function are(t,e){const r=e.mapping.mapResult(t.position);return{position:new zP(r.pos),mapResult:r}}function lre(t){return new zP(t)}function cre(t,e,r){var n;const{selection:o}=e;let i=null;if(kP(o)&&(i=o.$cursor),i){const a=(n=t.storedMarks)!=null?n:i.marks();return i.parent.type.allowsMarkType(r)&&(!!r.isInSet(a)||!a.some(p=>p.type.excludes(r)))}const{ranges:s}=o;return s.some(({$from:a,$to:l})=>{let p=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(r):!1;return t.doc.nodesBetween(a.pos,l.pos,(f,h,m)=>{if(p)return!1;if(f.isInline){const y=!m||m.type.allowsMarkType(r),v=!!r.isInSet(f.marks)||!f.marks.some(b=>b.type.excludes(r));p=y&&v}return!p}),p})}var ure=(t,e={})=>({tr:r,state:n,dispatch:o})=>{const{selection:i}=r,{empty:s,ranges:a}=i,l=Ca(t,n.schema);if(o)if(s){const p=RP(n,l);r.addStoredMark(l.create({...p,...e}))}else a.forEach(p=>{const f=p.$from.pos,h=p.$to.pos;n.doc.nodesBetween(f,h,(m,y)=>{const v=Math.max(y,f),b=Math.min(y+m.nodeSize,h);m.marks.find(C=>C.type===l)?m.marks.forEach(C=>{l===C.type&&r.addMark(v,b,l.create({...C.attrs,...e}))}):r.addMark(v,b,l.create(e))})});return cre(n,r,l)},dre=(t,e)=>({tr:r})=>(r.setMeta(t,e),!0),pre=(t,e={})=>({state:r,dispatch:n,chain:o})=>{const i=Sn(t,r.schema);let s;return r.selection.$anchor.sameParent(r.selection.$head)&&(s=r.selection.$anchor.parent.attrs),i.isTextblock?o().command(({commands:a})=>LR(i,{...s,...e})(r)?!0:a.clearNodes()).command(({state:a})=>LR(i,{...s,...e})(a,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},fre=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,o=Ac(t,0,n.content.size),i=Nt.create(n,o);e.setSelection(i)}return!0},hre=(t,e)=>({tr:r,state:n,dispatch:o})=>{const{selection:i}=n;let s,a;return typeof e=="number"?(s=e,a=e):e&&"from"in e&&"to"in e?(s=e.from,a=e.to):(s=i.from,a=i.to),o&&r.doc.nodesBetween(s,a,(l,p)=>{l.isText||r.setNodeMarkup(p,void 0,{...l.attrs,dir:t})}),!0},mre=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,{from:o,to:i}=typeof t=="number"?{from:t,to:t}:t,s=Kt.atStart(n).from,a=Kt.atEnd(n).to,l=Ac(o,s,a),p=Ac(i,s,a),f=Kt.create(n,l,p);e.setSelection(f)}return!0},gre=t=>({state:e,dispatch:r})=>{const n=Sn(t,e.schema);return cZ(n)(e,r)};function CA(t,e){const r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){const n=r.filter(o=>e==null?void 0:e.includes(o.type.name));t.tr.ensureMarks(n)}}var yre=({keepMarks:t=!0}={})=>({tr:e,state:r,dispatch:n,editor:o})=>{const{selection:i,doc:s}=e,{$from:a,$to:l}=i,p=o.extensionManager.attributes,f=Hg(p,a.node().type.name,a.node().attrs);if(i instanceof Nt&&i.node.isBlock)return!a.parentOffset||!fa(s,a.pos)?!1:(n&&(t&&CA(r,o.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const h=l.parentOffset===l.parent.content.size,m=a.depth===0?void 0:Vte(a.node(-1).contentMatchAt(a.indexAfter(-1)));let y=h&&m?[{type:m,attrs:f}]:void 0,v=fa(e.doc,e.mapping.map(a.pos),1,y);if(!y&&!v&&fa(e.doc,e.mapping.map(a.pos),1,m?[{type:m}]:void 0)&&(v=!0,y=m?[{type:m,attrs:f}]:void 0),n){if(v&&(i instanceof Kt&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,y),m&&!h&&!a.parentOffset&&a.parent.type!==m)){const b=e.mapping.map(a.before()),x=e.doc.resolve(b);a.node(-1).canReplaceWith(x.index(),x.index()+1,m)&&e.setNodeMarkup(e.mapping.map(a.before()),m)}t&&CA(r,o.extensionManager.splittableMarks),e.scrollIntoView()}return v},vre=(t,e={})=>({tr:r,state:n,dispatch:o,editor:i})=>{var s;const a=Sn(t,n.schema),{$from:l,$to:p}=n.selection,f=n.selection.node;if(f&&f.isBlock||l.depth<2||!l.sameParent(p))return!1;const h=l.node(-1);if(h.type!==a)return!1;const m=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let C=ze.empty;const E=l.index(-1)?1:l.index(-2)?2:3;for(let I=l.depth-E;I>=l.depth-3;I-=1)C=ze.from(l.node(I).copy(C));const j=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,T={...Hg(m,l.node().type.name,l.node().attrs),...e},k=((s=a.contentMatch.defaultType)==null?void 0:s.createAndFill(T))||void 0;C=C.append(ze.from(a.createAndFill(null,k)||void 0));const A=l.before(l.depth-(E-1));r.replace(A,l.after(-j),new vt(C,4-E,0));let _=-1;r.doc.nodesBetween(A,r.doc.content.size,(I,P)=>{if(_>-1)return!1;I.isTextblock&&I.content.size===0&&(_=P+1)}),_>-1&&r.setSelection(Kt.near(r.doc.resolve(_))),r.scrollIntoView()}return!0}const y=p.pos===l.end()?h.contentMatchAt(0).defaultType:null,v={...Hg(m,h.type.name,h.attrs),...e},b={...Hg(m,l.node().type.name,l.node().attrs),...e};r.delete(l.pos,p.pos);const x=y?[{type:a,attrs:v},{type:y,attrs:b}]:[{type:a,attrs:v}];if(!fa(r.doc,l.pos,2))return!1;if(o){const{selection:C,storedMarks:E}=n,{splittableMarks:j}=i.extensionManager,T=E||C.$to.parentOffset&&C.$from.marks();if(r.split(l.pos,2,x).scrollIntoView(),!T||!o)return!0;const k=T.filter(A=>j.includes(A.type.name));r.ensureMarks(k)}return!0},Hb=(t,e)=>{const r=iv(s=>s.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const o=t.doc.nodeAt(n);return r.node.type===(o==null?void 0:o.type)&&Fl(t.doc,r.pos)&&t.join(r.pos),!0},Ub=(t,e)=>{const r=iv(s=>s.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const o=t.doc.nodeAt(n);return r.node.type===(o==null?void 0:o.type)&&Fl(t.doc,n)&&t.join(n),!0},xre=(t,e,r,n={})=>({editor:o,tr:i,state:s,dispatch:a,chain:l,commands:p,can:f})=>{const{extensions:h,splittableMarks:m}=o.extensionManager,y=Sn(t,s.schema),v=Sn(e,s.schema),{selection:b,storedMarks:x}=s,{$from:C,$to:E}=b,j=C.blockRange(E),T=x||b.$to.parentOffset&&b.$from.marks();if(!j)return!1;const k=iv(A=>SA(A.type.name,h))(b);if(j.depth>=1&&k&&j.depth-k.depth<=1){if(k.node.type===y)return p.liftListItem(v);if(SA(k.node.type.name,h)&&y.validContent(k.node.content)&&a)return l().command(()=>(i.setNodeMarkup(k.pos,y),!0)).command(()=>Hb(i,y)).command(()=>Ub(i,y)).run()}return!r||!T||!a?l().command(()=>f().wrapInList(y,n)?!0:p.clearNodes()).wrapInList(y,n).command(()=>Hb(i,y)).command(()=>Ub(i,y)).run():l().command(()=>{const A=f().wrapInList(y,n),_=T.filter(I=>m.includes(I.type.name));return i.ensureMarks(_),A?!0:p.clearNodes()}).wrapInList(y,n).command(()=>Hb(i,y)).command(()=>Ub(i,y)).run()},bre=(t,e={},r={})=>({state:n,commands:o})=>{const{extendEmptyMarkRange:i=!1}=r,s=Ca(t,n.schema);return Ow(n,s,e)?o.unsetMark(s,{extendEmptyMarkRange:i}):o.setMark(s,e)},wre=(t,e,r={})=>({state:n,commands:o})=>{const i=Sn(t,n.schema),s=Sn(e,n.schema),a=Nl(n,i,r);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),a?o.setNode(s,l):o.setNode(i,{...l,...r})},Sre=(t,e={})=>({state:r,commands:n})=>{const o=Sn(t,r.schema);return Nl(r,o,e)?n.lift(o):n.wrapIn(o,e)},Cre=()=>({state:t,dispatch:e})=>{const r=t.plugins;for(let n=0;n<r.length;n+=1){const o=r[n];let i;if(o.spec.isInputRules&&(i=o.getState(t))){if(e){const s=t.tr,a=i.transform;for(let l=a.steps.length-1;l>=0;l-=1)s.step(a.steps[l].invert(a.docs[l]));if(i.text){const l=s.doc.resolve(i.from).marks();s.replaceWith(i.from,i.to,t.schema.text(i.text,l))}else s.delete(i.from,i.to)}return!0}}return!1},kre=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,{empty:n,ranges:o}=r;return n||e&&o.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},Ere=(t,e={})=>({tr:r,state:n,dispatch:o})=>{var i;const{extendEmptyMarkRange:s=!1}=e,{selection:a}=r,l=Ca(t,n.schema),{$from:p,empty:f,ranges:h}=a;if(!o)return!0;if(f&&s){let{from:m,to:y}=a;const v=(i=p.marks().find(x=>x.type===l))==null?void 0:i.attrs,b=jC(p,l,v);b&&(m=b.from,y=b.to),r.removeMark(m,y,l)}else h.forEach(m=>{r.removeMark(m.$from.pos,m.$to.pos,l)});return r.removeStoredMark(l),!0},Tre=t=>({tr:e,state:r,dispatch:n})=>{const{selection:o}=r;let i,s;return typeof t=="number"?(i=t,s=t):t&&"from"in t&&"to"in t?(i=t.from,s=t.to):(i=o.from,s=o.to),n&&e.doc.nodesBetween(i,s,(a,l)=>{if(a.isText)return;const p={...a.attrs};delete p.dir,e.setNodeMarkup(l,void 0,p)}),!0},jre=(t,e={})=>({tr:r,state:n,dispatch:o})=>{let i=null,s=null;const a=ov(typeof t=="string"?t:t.name,n.schema);if(!a)return!1;a==="node"&&(i=Sn(t,n.schema)),a==="mark"&&(s=Ca(t,n.schema));let l=!1;return r.selection.ranges.forEach(p=>{const f=p.$from.pos,h=p.$to.pos;let m,y,v,b;r.selection.empty?n.doc.nodesBetween(f,h,(x,C)=>{i&&i===x.type&&(l=!0,v=Math.max(C,f),b=Math.min(C+x.nodeSize,h),m=C,y=x)}):n.doc.nodesBetween(f,h,(x,C)=>{C<f&&i&&i===x.type&&(l=!0,v=Math.max(C,f),b=Math.min(C+x.nodeSize,h),m=C,y=x),C>=f&&C<=h&&(i&&i===x.type&&(l=!0,o&&r.setNodeMarkup(C,void 0,{...x.attrs,...e})),s&&x.marks.length&&x.marks.forEach(E=>{if(s===E.type&&(l=!0,o)){const j=Math.max(C,f),T=Math.min(C+x.nodeSize,h);r.addMark(j,T,s.create({...E.attrs,...e}))}}))}),y&&(m!==void 0&&o&&r.setNodeMarkup(m,void 0,{...y.attrs,...e}),s&&y.marks.length&&y.marks.forEach(x=>{s===x.type&&o&&r.addMark(v,b,s.create({...x.attrs,...e}))}))}),l},Rre=(t,e={})=>({state:r,dispatch:n})=>{const o=Sn(t,r.schema);return rZ(o,e)(r,n)},Are=(t,e={})=>({state:r,dispatch:n})=>{const o=Sn(t,r.schema);return nZ(o,e)(r,n)},_re=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const r=this.callbacks[t];return r&&r.forEach(n=>n.apply(this,e)),this}off(t,e){const r=this.callbacks[t];return r&&(e?this.callbacks[t]=r.filter(n=>n!==e):delete this.callbacks[t]),this}once(t,e){const r=(...n)=>{this.off(t,r),e.apply(this,n)};return this.on(t,r)}removeAllListeners(){this.callbacks={}}},av=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},Mre=(t,e)=>{if(TC(e))return e.exec(t);const r=e(t);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=t,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function yg(t){var e;const{editor:r,from:n,to:o,text:i,rules:s,plugin:a}=t,{view:l}=r;if(l.composing)return!1;const p=l.state.doc.resolve(n);if(p.parent.type.spec.code||(e=p.nodeBefore||p.nodeAfter)!=null&&e.marks.find(m=>m.type.spec.code))return!1;let f=!1;const h=nre(p)+i;return s.forEach(m=>{if(f)return;const y=Mre(h,m.find);if(!y)return;const v=l.state.tr,b=rv({state:l.state,transaction:v}),x={from:n-(y[0].length-i.length),to:o},{commands:C,chain:E,can:j}=new nv({editor:r,state:b});m.handler({state:b,range:x,match:y,commands:C,chain:E,can:j})===null||!v.steps.length||(m.undoable&&v.setMeta(a,{transform:v,from:n,to:o,text:i}),l.dispatch(v),f=!0)}),f}function Ire(t){const{editor:e,rules:r}=t,n=new en({state:{init(){return null},apply(o,i,s){const a=o.getMeta(n);if(a)return a;const l=o.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:f}=l;typeof f=="string"?f=f:f=AC(ze.from(f),s.schema);const{from:h}=l,m=h+f.length;yg({editor:e,from:h,to:m,text:f,rules:r,plugin:n})}),o.selectionSet||o.docChanged?null:i}},props:{handleTextInput(o,i,s,a){return yg({editor:e,from:i,to:s,text:a,rules:r,plugin:n})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:i}=o.state.selection;i&&yg({editor:e,from:i.pos,to:i.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(o,i){if(i.key!=="Enter")return!1;const{$cursor:s}=o.state.selection;return s?yg({editor:e,from:s.pos,to:s.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function Ore(t){return Object.prototype.toString.call(t).slice(8,-1)}function vg(t){return Ore(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function FP(t,e){const r={...t};return vg(t)&&vg(e)&&Object.keys(e).forEach(n=>{vg(e[n])&&vg(t[n])?r[n]=FP(t[n],e[n]):r[n]=e[n]}),r}var MC=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Tr(Pt(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Tr(Pt(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>FP(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Wl=class BP extends MC{constructor(){super(...arguments),this.type="mark"}static create(e={}){const r=typeof e=="function"?e():e;return new BP(r)}static handleExit({editor:e,mark:r}){const{tr:n}=e.state,o=e.state.selection.$from;if(o.pos===o.end()){const s=o.marks();if(!!!s.find(p=>(p==null?void 0:p.type.name)===r.name))return!1;const l=s.find(p=>(p==null?void 0:p.type.name)===r.name);return l&&n.removeStoredMark(l),n.insertText(" ",o.pos),e.view.dispatch(n),!0}return!1}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function Pre(t){return typeof t=="number"}var Nre=class{constructor(t){this.find=t.find,this.handler=t.handler}},Lre=(t,e,r)=>{if(TC(e))return[...t.matchAll(e)];const n=e(t,r);return n?n.map(o=>{const i=[o.text];return i.index=o.index,i.input=t,i.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(o.replaceWith)),i}):[]};function Dre(t){const{editor:e,state:r,from:n,to:o,rule:i,pasteEvent:s,dropEvent:a}=t,{commands:l,chain:p,can:f}=new nv({editor:e,state:r}),h=[];return r.doc.nodesBetween(n,o,(y,v)=>{var b,x,C,E,j;if((x=(b=y.type)==null?void 0:b.spec)!=null&&x.code||!(y.isText||y.isTextblock||y.isInline))return;const T=(j=(E=(C=y.content)==null?void 0:C.size)!=null?E:y.nodeSize)!=null?j:0,k=Math.max(n,v),A=Math.min(o,v+T);if(k>=A)return;const _=y.isText?y.text||"":y.textBetween(k-v,A-v,void 0,"");Lre(_,i.find,s).forEach(P=>{if(P.index===void 0)return;const N=k+P.index+1,B=N+P[0].length,O={from:r.tr.mapping.map(N),to:r.tr.mapping.map(B)},D=i.handler({state:r,range:O,match:P,commands:l,chain:p,can:f,pasteEvent:s,dropEvent:a});h.push(D)})}),h.every(y=>y!==null)}var xg=null,zre=t=>{var e;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=r.clipboardData)==null||e.setData("text/html",t),r};function $re(t){const{editor:e,rules:r}=t;let n=null,o=!1,i=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:f,from:h,to:m,rule:y,pasteEvt:v})=>{const b=f.tr,x=rv({state:f,transaction:b});if(!(!Dre({editor:e,state:x,from:Math.max(h-1,0),to:m.b-1,rule:y,pasteEvent:v,dropEvent:a})||!b.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,b}};return r.map(f=>new en({view(h){const m=v=>{var b;n=(b=h.dom.parentElement)!=null&&b.contains(v.target)?h.dom.parentElement:null,n&&(xg=e)},y=()=>{xg&&(xg=null)};return window.addEventListener("dragstart",m),window.addEventListener("dragend",y),{destroy(){window.removeEventListener("dragstart",m),window.removeEventListener("dragend",y)}}},props:{handleDOMEvents:{drop:(h,m)=>{if(i=n===h.dom.parentElement,a=m,!i){const y=xg;y!=null&&y.isEditable&&setTimeout(()=>{const v=y.state.selection;v&&y.commands.deleteRange({from:v.from,to:v.to})},10)}return!1},paste:(h,m)=>{var y;const v=(y=m.clipboardData)==null?void 0:y.getData("text/html");return s=m,o=!!(v!=null&&v.includes("data-pm-slice")),!1}}},appendTransaction:(h,m,y)=>{const v=h[0],b=v.getMeta("uiEvent")==="paste"&&!o,x=v.getMeta("uiEvent")==="drop"&&!i,C=v.getMeta("applyPasteRules"),E=!!C;if(!b&&!x&&!E)return;if(E){let{text:k}=C;typeof k=="string"?k=k:k=AC(ze.from(k),y.schema);const{from:A}=C,_=A+k.length,I=zre(k);return l({rule:f,state:y,from:A,to:{b:_},pasteEvt:I})}const j=m.doc.content.findDiffStart(y.doc.content),T=m.doc.content.findDiffEnd(y.doc.content);if(!(!Pre(j)||!T||j===T.b))return l({rule:f,state:y,from:j,to:T,pasteEvt:s})}}))}var lv=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=IP(t),this.schema=Jte(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:gg(e.name,this.schema)},n=Pt(e,"addCommands",r);return n?{...t,...n()}:t},{})}get plugins(){const{editor:t}=this;return _y([...this.extensions].reverse()).flatMap(n=>{const o={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:gg(n.name,this.schema)},i=[],s=Pt(n,"addKeyboardShortcuts",o);let a={};if(n.type==="mark"&&Pt(n,"exitable",o)&&(a.ArrowRight=()=>Wl.handleExit({editor:t,mark:n})),s){const m=Object.fromEntries(Object.entries(s()).map(([y,v])=>[y,()=>v({editor:t})]));a={...a,...m}}const l=Zee(a);i.push(l);const p=Pt(n,"addInputRules",o);if(wA(n,t.options.enableInputRules)&&p){const m=p();if(m&&m.length){const y=Ire({editor:t,rules:m}),v=Array.isArray(y)?y:[y];i.push(...v)}}const f=Pt(n,"addPasteRules",o);if(wA(n,t.options.enablePasteRules)&&f){const m=f();if(m&&m.length){const y=$re({editor:t,rules:m});i.push(...y)}}const h=Pt(n,"addProseMirrorPlugins",o);if(h){const m=h();i.push(...m)}return i})}get attributes(){return MP(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Vd(this.extensions);return Object.fromEntries(e.filter(r=>!!Pt(r,"addNodeView")).map(r=>{const n=this.attributes.filter(l=>l.type===r.name),o={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:Sn(r.name,this.schema)},i=Pt(r,"addNodeView",o);if(!i)return[];const s=i();if(!s)return[];const a=(l,p,f,h,m)=>{const y=qd(l,n);return s({node:l,view:p,getPos:f,decorations:h,innerDecorations:m,editor:t,extension:r,HTMLAttributes:y})};return[r.name,a]}))}dispatchTransaction(t){const{editor:e}=this;return _y([...this.extensions].reverse()).reduceRight((n,o)=>{const i={name:o.name,options:o.options,storage:this.editor.extensionStorage[o.name],editor:e,type:gg(o.name,this.schema)},s=Pt(o,"dispatchTransaction",i);return s?a=>{s.call(i,{transaction:a,next:n})}:n},t)}get markViews(){const{editor:t}=this,{markExtensions:e}=Vd(this.extensions);return Object.fromEntries(e.filter(r=>!!Pt(r,"addMarkView")).map(r=>{const n=this.attributes.filter(a=>a.type===r.name),o={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:Ca(r.name,this.schema)},i=Pt(r,"addMarkView",o);if(!i)return[];const s=(a,l,p)=>{const f=qd(a,n);return i()({mark:a,view:l,inline:p,editor:t,extension:r,HTMLAttributes:f,updateAttributes:h=>{ene(a,t,h)}})};return[r.name,s]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var r;const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:gg(e.name,this.schema)};e.type==="mark"&&((r=Tr(Pt(e,"keepOnSplit",n)))==null||r)&&this.splittableMarks.push(e.name);const o=Pt(e,"onBeforeCreate",n),i=Pt(e,"onCreate",n),s=Pt(e,"onUpdate",n),a=Pt(e,"onSelectionUpdate",n),l=Pt(e,"onTransaction",n),p=Pt(e,"onFocus",n),f=Pt(e,"onBlur",n),h=Pt(e,"onDestroy",n);o&&this.editor.on("beforeCreate",o),i&&this.editor.on("create",i),s&&this.editor.on("update",s),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),p&&this.editor.on("focus",p),f&&this.editor.on("blur",f),h&&this.editor.on("destroy",h)})}};lv.resolve=IP;lv.sort=_y;lv.flatten=RC;var Fre={};EC(Fre,{ClipboardTextSerializer:()=>HP,Commands:()=>UP,Delete:()=>VP,Drop:()=>qP,Editable:()=>GP,FocusEvents:()=>YP,Keymap:()=>JP,Paste:()=>XP,Tabindex:()=>QP,TextDirection:()=>ZP,focusEventsPluginKey:()=>KP});var hn=class WP extends MC{constructor(){super(...arguments),this.type="extension"}static create(e={}){const r=typeof e=="function"?e():e;return new WP(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}},HP=hn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new en({key:new In("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:r}=t,{doc:n,selection:o}=e,{ranges:i}=o,s=Math.min(...i.map(f=>f.$from.pos)),a=Math.max(...i.map(f=>f.$to.pos)),l=PP(r);return OP(n,{from:s,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),UP=hn.create({name:"commands",addCommands(){return{...SP}}}),VP=hn.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var r,n,o;const i=()=>{var s,a,l,p;if((p=(l=(a=(s=this.editor.options.coreExtensionOptions)==null?void 0:s.delete)==null?void 0:a.filterTransaction)==null?void 0:l.call(a,t))!=null?p:t.getMeta("y-sync$"))return;const f=AP(t.before,[t,...e]);LP(f).forEach(y=>{f.mapping.mapResult(y.oldRange.from).deletedAfter&&f.mapping.mapResult(y.oldRange.to).deletedBefore&&f.before.nodesBetween(y.oldRange.from,y.oldRange.to,(v,b)=>{const x=b+v.nodeSize-2,C=y.oldRange.from<=b&&x<=y.oldRange.to;this.editor.emit("delete",{type:"node",node:v,from:b,to:x,newFrom:f.mapping.map(b),newTo:f.mapping.map(x),deletedRange:y.oldRange,newRange:y.newRange,partial:!C,editor:this.editor,transaction:t,combinedTransform:f})})});const m=f.mapping;f.steps.forEach((y,v)=>{var b,x;if(y instanceof is){const C=m.slice(v).map(y.from,-1),E=m.slice(v).map(y.to),j=m.invert().map(C,-1),T=m.invert().map(E),k=(b=f.doc.nodeAt(C-1))==null?void 0:b.marks.some(_=>_.eq(y.mark)),A=(x=f.doc.nodeAt(E))==null?void 0:x.marks.some(_=>_.eq(y.mark));this.editor.emit("delete",{type:"mark",mark:y.mark,from:y.from,to:y.to,deletedRange:{from:j,to:T},newRange:{from:C,to:E},partial:!!(A||k),editor:this.editor,transaction:t,combinedTransform:f})}})};(o=(n=(r=this.editor.options.coreExtensionOptions)==null?void 0:r.delete)==null?void 0:n.async)==null||o?setTimeout(i,0):i()}}),qP=hn.create({name:"drop",addProseMirrorPlugins(){return[new en({key:new In("tiptapDrop"),props:{handleDrop:(t,e,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:r,moved:n})}}})]}}),GP=hn.create({name:"editable",addProseMirrorPlugins(){return[new en({key:new In("editable"),props:{editable:()=>this.editor.options.editable}})]}}),KP=new In("focusEvents"),YP=hn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new en({key:KP,props:{handleDOMEvents:{focus:(e,r)=>{t.isFocused=!0;const n=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,r)=>{t.isFocused=!1;const n=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),JP=hn.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{const{selection:l,doc:p}=a,{empty:f,$anchor:h}=l,{pos:m,parent:y}=h,v=h.parent.isTextblock&&m>0?a.doc.resolve(m-1):h,b=v.parent.type.spec.isolating,x=h.pos-h.parentOffset,C=b&&v.parent.childCount===1?x===h.pos:nr.atStart(p).from===m;return!f||!y.type.isTextblock||y.textContent.length||!C||C&&h.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},o={...n},i={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return yh()||jP()?i:o},addProseMirrorPlugins(){return[new en({key:new In("clearDocument"),appendTransaction:(t,e,r)=>{if(t.some(b=>b.getMeta("composition")))return;const n=t.some(b=>b.docChanged)&&!e.doc.eq(r.doc),o=t.some(b=>b.getMeta("preventClearDocument"));if(!n||o)return;const{empty:i,from:s,to:a}=e.selection,l=nr.atStart(e.doc).from,p=nr.atEnd(e.doc).to;if(i||!(s===l&&a===p)||!sv(r.doc))return;const m=r.tr,y=rv({state:r,transaction:m}),{commands:v}=new nv({editor:this.editor,state:y});if(v.clearNodes(),!!m.steps.length)return m}})]}}),XP=hn.create({name:"paste",addProseMirrorPlugins(){return[new en({key:new In("tiptapPaste"),props:{handlePaste:(t,e,r)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:r})}}})]}}),QP=hn.create({name:"tabindex",addProseMirrorPlugins(){return[new en({key:new In("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),ZP=hn.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=Vd(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const r=e.getAttribute("dir");return r&&(r==="ltr"||r==="rtl"||r==="auto")?r:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new en({key:new In("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),Bre=class yf{constructor(e,r,n=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=r,this.currentNode=o}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(e);return new yf(r,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new yf(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new yf(e,this.editor)}get children(){const e=[];return this.node.content.forEach((r,n)=>{const o=r.isBlock&&!r.isTextblock,i=r.isAtom&&!r.isText,s=r.isInline,a=this.pos+n+(i?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(a);if(!o&&!s&&l.depth<=this.depth)return;const p=new yf(l,this.editor,o,o||s?r:null);o&&(p.actualDepth=this.depth+1),e.push(p)}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,r={}){let n=null,o=this.parent;for(;o&&!n;){if(o.node.type.name===e)if(Object.keys(r).length>0){const i=o.node.attrs,s=Object.keys(r);for(let a=0;a<s.length;a+=1){const l=s[a];if(i[l]!==r[l])break}}else n=o;o=o.parent}return n}querySelector(e,r={}){return this.querySelectorAll(e,r,!0)[0]||null}querySelectorAll(e,r={},n=!1){let o=[];if(!this.children||this.children.length===0)return o;const i=Object.keys(r);return this.children.forEach(s=>{n&&o.length>0||(s.node.type.name===e&&i.every(l=>r[l]===s.node.attrs[l])&&o.push(s),!(n&&o.length>0)&&(o=o.concat(s.querySelectorAll(e,r,n))))}),o}setAttribute(e){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(r)}},Wre=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function Hre(t,e,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const o=document.createElement("style");return e&&o.setAttribute("nonce",e),o.setAttribute("data-tiptap-style",""),o.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(o),o}var Ure=class extends _re{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:are,createMappablePosition:lre},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:o,moved:i})=>this.options.onDrop(n,o,i)),this.on("paste",({event:n,slice:o})=>this.options.onPaste(n,o)),this.on("delete",this.options.onDelete);const e=this.createDoc(),r=EP(e,this.options.autofocus);this.editorState=cd.create({doc:e,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=Hre(Wre,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const r=_P(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let r=e;if([].concat(t).forEach(o=>{const i=typeof o=="string"?`${o}$`:o.key;r=r.filter(s=>!s.key.startsWith(i))}),e.length===r.length)return;const n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}createExtensionManager(){var t,e;const n=[...this.options.enableCoreExtensions?[GP,HP.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),UP,YP,JP,QP,qP,XP,VP,ZP.configure({direction:this.options.textDirection})].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o==null?void 0:o.type));this.extensionManager=new lv(n,this)}createCommandManager(){this.commandManager=new nv({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=Iw(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),t=Iw(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){const{editorProps:e,enableExtensionDispatchTransaction:r}=this.options,n=e.dispatchTransaction||this.dispatchTransaction.bind(this),o=r?this.extensionManager.dispatchTransaction(n):n;this.editorView=new bP(t,{...e,attributes:{role:"textbox",...e==null?void 0:e.attributes},dispatchTransaction:o,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.prependClass(),this.injectCSS();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(p=>{var f;return(f=this.capturedTransaction)==null?void 0:f.step(p)});return}const{state:e,transactions:r}=this.state.applyTransaction(t),n=!this.state.selection.eq(e.selection),o=r.includes(t),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!o)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:r.slice(1)}),n&&this.emit("selectionUpdate",{editor:this,transaction:t});const s=r.findLast(p=>p.getMeta("focus")||p.getMeta("blur")),a=s==null?void 0:s.getMeta("focus"),l=s==null?void 0:s.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:s}),l&&this.emit("blur",{editor:this,event:l.event,transaction:s}),!(t.getMeta("preventUpdate")||!r.some(p=>p.docChanged)||i.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:r.slice(1)})}getAttributes(t){return NP(this.state,t)}isActive(t,e){const r=typeof t=="string"?t:null,n=typeof t=="string"?e:t;return ore(this.state,r,n)}getJSON(){return this.state.doc.toJSON()}getHTML(){return AC(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:r={}}=t||{};return Qte(this.state.doc,{blockSeparator:e,textSerializers:{...PP(this.schema),...r}})}get isEmpty(){return sv(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var r;return((r=this.$doc)==null?void 0:r.querySelector(t,e))||null}$nodes(t,e){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new Bre(e,this)}get $doc(){return this.$pos(0)}};function Gd(t){return new av({find:t.find,handler:({state:e,range:r,match:n})=>{const o=Tr(t.getAttributes,void 0,n);if(o===!1||o===null)return null;const{tr:i}=e,s=n[n.length-1],a=n[0];if(s){const l=a.search(/\S/),p=r.from+a.indexOf(s),f=p+s.length;if(_C(r.from,r.to,e.doc).filter(y=>y.mark.type.excluded.find(b=>b===t.type&&b!==y.mark.type)).filter(y=>y.to>p).length)return null;f<r.to&&i.delete(f,r.to),p>r.from&&i.delete(r.from+l,p);const m=r.from+l+s.length;i.addMark(r.from+l,m,t.type.create(o||{})),i.removeStoredMark(t.type)}},undoable:t.undoable})}function eN(t){return new av({find:t.find,handler:({state:e,range:r,match:n})=>{const o=Tr(t.getAttributes,void 0,n)||{},{tr:i}=e,s=r.from;let a=r.to;const l=t.type.create(o);if(n[1]){const p=n[0].lastIndexOf(n[1]);let f=s+p;f>a?f=a:a=f+n[1].length;const h=n[0][n[0].length-1];i.insertText(h,s+n[0].length-1),i.replaceWith(f,a,l)}else if(n[0]){const p=t.type.isInline?s:s-1;i.insert(p,t.type.create(o)).delete(i.mapping.map(s),i.mapping.map(a))}i.scrollIntoView()},undoable:t.undoable})}function Pw(t){return new av({find:t.find,handler:({state:e,range:r,match:n})=>{const o=e.doc.resolve(r.from),i=Tr(t.getAttributes,void 0,n)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),t.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,i)},undoable:t.undoable})}function Kd(t){return new av({find:t.find,handler:({state:e,range:r,match:n,chain:o})=>{const i=Tr(t.getAttributes,void 0,n)||{},s=e.tr.delete(r.from,r.to),l=s.doc.resolve(r.from).blockRange(),p=l&&cC(l,t.type,i);if(!p)return null;if(s.wrap(l,p),t.keepMarks&&t.editor){const{selection:h,storedMarks:m}=e,{splittableMarks:y}=t.editor.extensionManager,v=m||h.$to.parentOffset&&h.$from.marks();if(v){const b=v.filter(x=>y.includes(x.type.name));s.ensureMarks(b)}}if(t.keepAttributes){const h=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(h,i).run()}const f=s.doc.resolve(r.from-1).nodeBefore;f&&f.type===t.type&&Fl(s.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(n,f))&&s.join(r.from-1)},undoable:t.undoable})}var Vre=t=>"touches"in t,qre=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=a=>{if(!this.isResizing||!this.activeHandle)return;const l=a.clientX-this.startX,p=a.clientY-this.startY;this.handleResize(l,p)},this.handleTouchMove=a=>{if(!this.isResizing||!this.activeHandle)return;const l=a.touches[0];if(!l)return;const p=l.clientX-this.startX,f=l.clientY-this.startY;this.handleResize(p,f)},this.handleMouseUp=()=>{if(!this.isResizing)return;const a=this.element.offsetWidth,l=this.element.offsetHeight;this.onCommit(a,l),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=a=>{a.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=a=>{a.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,r,n,o,i,s;this.node=t.node,this.editor=t.editor,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(e=t.options)!=null&&e.min&&(this.minSize={...this.minSize,...t.options.min}),(r=t.options)!=null&&r.max&&(this.maxSize=t.options.max),(n=t==null?void 0:t.options)!=null&&n.directions&&(this.directions=t.options.directions),(o=t.options)!=null&&o.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(i=t.options)!=null&&i.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),(s=t.options)!=null&&s.createCustomHandle&&(this.createCustomHandle=t.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){var t;return(t=this.contentElement)!=null?t:null}handleEditorUpdate(){const t=this.editor.isEditable;t!==this.lastEditableState&&(this.lastEditableState=t,t?t&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(t,e,r){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,e,r):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){const t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){const e=document.createElement("div");return e.dataset.resizeHandle=t,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(t,e){const r=e.includes("top"),n=e.includes("bottom"),o=e.includes("left"),i=e.includes("right");r&&(t.style.top="0"),n&&(t.style.bottom="0"),o&&(t.style.left="0"),i&&(t.style.right="0"),(e==="top"||e==="bottom")&&(t.style.left="0",t.style.right="0"),(e==="left"||e==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{let e;this.createCustomHandle?e=this.createCustomHandle(t):e=this.createHandle(t),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${t}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(t)),this.createCustomHandle||this.positionHandle(e,t),e.addEventListener("mousedown",r=>this.handleResizeStart(r,t)),e.addEventListener("touchstart",r=>this.handleResizeStart(r,t)),this.handleMap.set(t,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(t=>t.remove()),this.handleMap.clear()}applyInitialSize(){const t=this.node.attrs.width,e=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=e,Vre(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,e){if(!this.activeHandle)return;const r=this.preserveAspectRatio||this.isShiftKeyPressed,{width:n,height:o}=this.calculateNewDimensions(this.activeHandle,t,e),i=this.applyConstraints(n,o,r);this.element.style.width=`${i.width}px`,this.element.style.height=`${i.height}px`,this.onResize&&this.onResize(i.width,i.height)}calculateNewDimensions(t,e,r){let n=this.startWidth,o=this.startHeight;const i=t.includes("right"),s=t.includes("left"),a=t.includes("bottom"),l=t.includes("top");return i?n=this.startWidth+e:s&&(n=this.startWidth-e),a?o=this.startHeight+r:l&&(o=this.startHeight-r),(t==="right"||t==="left")&&(n=this.startWidth+(i?e:-e)),(t==="top"||t==="bottom")&&(o=this.startHeight+(a?r:-r)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(n,o,t):{width:n,height:o}}applyConstraints(t,e,r){var n,o,i,s;if(!r){let p=Math.max(this.minSize.width,t),f=Math.max(this.minSize.height,e);return(n=this.maxSize)!=null&&n.width&&(p=Math.min(this.maxSize.width,p)),(o=this.maxSize)!=null&&o.height&&(f=Math.min(this.maxSize.height,f)),{width:p,height:f}}let a=t,l=e;return a<this.minSize.width&&(a=this.minSize.width,l=a/this.aspectRatio),l<this.minSize.height&&(l=this.minSize.height,a=l*this.aspectRatio),(i=this.maxSize)!=null&&i.width&&a>this.maxSize.width&&(a=this.maxSize.width,l=a/this.aspectRatio),(s=this.maxSize)!=null&&s.height&&l>this.maxSize.height&&(l=this.maxSize.height,a=l*this.aspectRatio),{width:a,height:l}}applyAspectRatio(t,e,r){const n=r==="left"||r==="right",o=r==="top"||r==="bottom";return n?{width:t,height:t/this.aspectRatio}:o?{width:e*this.aspectRatio,height:e}:{width:t,height:t/this.aspectRatio}}};function Gre(t,e){const{selection:r}=t,{$from:n}=r;if(r instanceof Nt){const i=n.index();return n.parent.canReplaceWith(i,i+1,e)}let o=n.depth;for(;o>=0;){const i=n.index(o);if(n.node(o).contentMatchAt(i).matchType(e))return!0;o-=1}return!1}var Kre={};EC(Kre,{createAtomBlockMarkdownSpec:()=>Yre,createBlockMarkdownSpec:()=>Jre,createInlineMarkdownSpec:()=>Zre,parseAttributes:()=>IC,parseIndentedBlocks:()=>Nw,renderNestedMarkdownContent:()=>PC,serializeAttributes:()=>OC});function IC(t){if(!(t!=null&&t.trim()))return{};const e={},r=[],n=t.replace(/["']([^"']*)["']/g,p=>(r.push(p),`__QUOTED_${r.length-1}__`)),o=n.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(o){const p=o.map(f=>f.trim().slice(1));e.class=p.join(" ")}const i=n.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);i&&(e.id=i[1]);const s=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(n.matchAll(s)).forEach(([,p,f])=>{var h;const m=parseInt(((h=f.match(/__QUOTED_(\d+)__/))==null?void 0:h[1])||"0",10),y=r[m];y&&(e[p]=y.slice(1,-1))});const l=n.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(f=>{f.match(/^[a-zA-Z][\w-]*$/)&&(e[f]=!0)}),e}function OC(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(n=>e.push(`.${n}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([r,n])=>{r==="class"||r==="id"||(n===!0?e.push(r):n!==!1&&n!=null&&e.push(`${r}="${String(n)}"`))}),e.join(" ")}function Yre(t){const{nodeName:e,name:r,parseAttributes:n=IC,serializeAttributes:o=OC,defaultAttributes:i={},requiredAttributes:s=[],allowedAttributes:a}=t,l=r||e,p=f=>{if(!a)return f;const h={};return a.forEach(m=>{m in f&&(h[m]=f[m])}),h};return{parseMarkdown:(f,h)=>{const m={...i,...f.attributes};return h.createNode(e,m,[])},markdownTokenizer:{name:e,level:"block",start(f){var h;const m=new RegExp(`^:::${l}(?:\\s|$)`,"m"),y=(h=f.match(m))==null?void 0:h.index;return y!==void 0?y:-1},tokenize(f,h,m){const y=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),v=f.match(y);if(!v)return;const b=v[1]||"",x=n(b);if(!s.find(E=>!(E in x)))return{type:e,raw:v[0],attributes:x}}},renderMarkdown:f=>{const h=p(f.attrs||{}),m=o(h),y=m?` {${m}}`:"";return`:::${l}${y} :::`}}}function Jre(t){const{nodeName:e,name:r,getContent:n,parseAttributes:o=IC,serializeAttributes:i=OC,defaultAttributes:s={},content:a="block",allowedAttributes:l}=t,p=r||e,f=h=>{if(!l)return h;const m={};return l.forEach(y=>{y in h&&(m[y]=h[y])}),m};return{parseMarkdown:(h,m)=>{let y;if(n){const b=n(h);y=typeof b=="string"?[{type:"text",text:b}]:b}else a==="block"?y=m.parseChildren(h.tokens||[]):y=m.parseInline(h.tokens||[]);const v={...s,...h.attributes};return m.createNode(e,v,y)},markdownTokenizer:{name:e,level:"block",start(h){var m;const y=new RegExp(`^:::${p}`,"m"),v=(m=h.match(y))==null?void 0:m.index;return v!==void 0?v:-1},tokenize(h,m,y){var v;const b=new RegExp(`^:::${p}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),x=h.match(b);if(!x)return;const[C,E=""]=x,j=o(E);let T=1;const k=C.length;let A="";const _=/^:::([\w-]*)(\s.*)?/gm,I=h.slice(k);for(_.lastIndex=0;;){const P=_.exec(I);if(P===null)break;const N=P.index,B=P[1];if(!((v=P[2])!=null&&v.endsWith(":::"))){if(B)T+=1;else if(T-=1,T===0){const O=I.slice(0,N);A=O.trim();const D=h.slice(0,k+N+P[0].length);let F=[];if(A)if(a==="block")for(F=y.blockTokens(O),F.forEach(U=>{U.text&&(!U.tokens||U.tokens.length===0)&&(U.tokens=y.inlineTokens(U.text))});F.length>0;){const U=F[F.length-1];if(U.type==="paragraph"&&(!U.text||U.text.trim()===""))F.pop();else break}else F=y.inlineTokens(A);return{type:e,raw:D,attributes:j,content:A,tokens:F}}}}}},renderMarkdown:(h,m)=>{const y=f(h.attrs||{}),v=i(y),b=v?` {${v}}`:"",x=m.renderChildren(h.content||[],`

`);return`:::${p}${b}

${x}

:::`}}}function Xre(t){if(!t.trim())return{};const e={},r=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let n=r.exec(t);for(;n!==null;){const[,o,i,s]=n;e[o]=i||s,n=r.exec(t)}return e}function Qre(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,r])=>`${e}="${r}"`).join(" ")}function Zre(t){const{nodeName:e,name:r,getContent:n,parseAttributes:o=Xre,serializeAttributes:i=Qre,defaultAttributes:s={},selfClosing:a=!1,allowedAttributes:l}=t,p=r||e,f=m=>{if(!l)return m;const y={};return l.forEach(v=>{const b=typeof v=="string"?v:v.name,x=typeof v=="string"?void 0:v.skipIfDefault;if(b in m){const C=m[b];if(x!==void 0&&C===x)return;y[b]=C}}),y},h=p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(m,y)=>{const v={...s,...m.attributes};if(a)return y.createNode(e,v);const b=n?n(m):m.content||"";return b?y.createNode(e,v,[y.createTextNode(b)]):y.createNode(e,v,[])},markdownTokenizer:{name:e,level:"inline",start(m){const y=a?new RegExp(`\\[${h}\\s*[^\\]]*\\]`):new RegExp(`\\[${h}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${h}\\]`),v=m.match(y),b=v==null?void 0:v.index;return b!==void 0?b:-1},tokenize(m,y,v){const b=a?new RegExp(`^\\[${h}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${h}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${h}\\]`),x=m.match(b);if(!x)return;let C="",E="";if(a){const[,T]=x;E=T}else{const[,T,k]=x;E=T,C=k||""}const j=o(E.trim());return{type:e,raw:x[0],content:C.trim(),attributes:j}}},renderMarkdown:m=>{let y="";n?y=n(m):m.content&&m.content.length>0&&(y=m.content.filter(C=>C.type==="text").map(C=>C.text).join(""));const v=f(m.attrs||{}),b=i(v),x=b?` ${b}`:"";return a?`[${p}${x}]`:`[${p}${x}]${y}[/${p}]`}}}function Nw(t,e,r){var n,o,i,s;const a=t.split(`
`),l=[];let p="",f=0;const h=e.baseIndentSize||2;for(;f<a.length;){const m=a[f],y=m.match(e.itemPattern);if(!y){if(l.length>0)break;if(m.trim()===""){f+=1,p=`${p}${m}
`;continue}else return}const v=e.extractItemData(y),{indentLevel:b,mainContent:x}=v;p=`${p}${m}
`;const C=[x];for(f+=1;f<a.length;){const k=a[f];if(k.trim()===""){const _=a.slice(f+1).findIndex(N=>N.trim()!=="");if(_===-1)break;if((((o=(n=a[f+1+_].match(/^(\s*)/))==null?void 0:n[1])==null?void 0:o.length)||0)>b){C.push(k),p=`${p}${k}
`,f+=1;continue}else break}if((((s=(i=k.match(/^(\s*)/))==null?void 0:i[1])==null?void 0:s.length)||0)>b)C.push(k),p=`${p}${k}
`,f+=1;else break}let E;const j=C.slice(1);if(j.length>0){const k=j.map(A=>A.slice(b+h)).join(`
`);k.trim()&&(e.customNestedParser?E=e.customNestedParser(k):E=r.blockTokens(k))}const T=e.createToken(v,E);l.push(T)}if(l.length!==0)return{items:l,raw:p}}function PC(t,e,r,n){if(!t||!Array.isArray(t.content))return"";const o=typeof r=="function"?r(n):r,[i,...s]=t.content,a=e.renderChildren([i]),l=[`${o}${a}`];return s&&s.length>0&&s.forEach(p=>{const f=e.renderChildren([p]);if(f){const h=f.split(`
`).map(m=>m?e.indent(m):"").join(`
`);l.push(h)}}),l.join(`
`)}function ene(t,e,r={}){const{state:n}=e,{doc:o,tr:i}=n,s=t;o.descendants((a,l)=>{const p=i.mapping.map(l),f=i.mapping.map(l)+a.nodeSize;let h=null;if(a.marks.forEach(y=>{if(y!==s)return!1;h=y}),!h)return;let m=!1;if(Object.keys(r).forEach(y=>{r[y]!==h.attrs[y]&&(m=!0)}),m){const y=t.type.create({...t.attrs,...r});i.removeMark(p,f,t.type),i.addMark(p,f,y)}}),i.docChanged&&e.view.dispatch(i)}var Uo=class tN extends MC{constructor(){super(...arguments),this.type="node"}static create(e={}){const r=typeof e=="function"?e():e;return new tN(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}},tne=class{constructor(t,e,r){this.isDragging=!1,this.component=t,this.editor=e.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=e.extension,this.node=e.node,this.decorations=e.decorations,this.innerDecorations=e.innerDecorations,this.view=e.view,this.HTMLAttributes=e.HTMLAttributes,this.getPos=e.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(t){var e,r,n,o,i,s,a;const{view:l}=this.editor,p=t.target,f=p.nodeType===3?(e=p.parentElement)==null?void 0:e.closest("[data-drag-handle]"):p.closest("[data-drag-handle]");if(!this.dom||(r=this.contentDOM)!=null&&r.contains(p)||!f)return;let h=0,m=0;if(this.dom!==f){const E=this.dom.getBoundingClientRect(),j=f.getBoundingClientRect(),T=(o=t.offsetX)!=null?o:(n=t.nativeEvent)==null?void 0:n.offsetX,k=(s=t.offsetY)!=null?s:(i=t.nativeEvent)==null?void 0:i.offsetY;h=j.x-E.x+T,m=j.y-E.y+k}const y=this.dom.cloneNode(!0);try{const E=this.dom.getBoundingClientRect();y.style.width=`${Math.round(E.width)}px`,y.style.height=`${Math.round(E.height)}px`,y.style.boxSizing="border-box",y.style.pointerEvents="none"}catch{}let v=null;try{v=document.createElement("div"),v.style.position="absolute",v.style.top="-9999px",v.style.left="-9999px",v.style.pointerEvents="none",v.appendChild(y),document.body.appendChild(v),(a=t.dataTransfer)==null||a.setDragImage(y,h,m)}finally{v&&setTimeout(()=>{try{v==null||v.remove()}catch{}},0)}const b=this.getPos();if(typeof b!="number")return;const x=Nt.create(l.state.doc,b),C=l.state.tr.setSelection(x);l.dispatch(C)}stopEvent(t){var e;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:t});const r=t.target;if(!(this.dom.contains(r)&&!((e=this.contentDOM)!=null&&e.contains(r))))return!1;const o=t.type.startsWith("drag"),i=t.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!i&&!o)return!0;const{isEditable:a}=this.editor,{isDragging:l}=this,p=!!this.node.type.spec.draggable,f=Nt.isSelectable(this.node),h=t.type==="copy",m=t.type==="paste",y=t.type==="cut",v=t.type==="mousedown";if(!p&&f&&o&&t.target===this.dom&&t.preventDefault(),p&&o&&!l&&t.target===this.dom)return t.preventDefault(),!1;if(p&&a&&!l&&v){const b=r.closest("[data-drag-handle]");b&&(this.dom===b||this.dom.contains(b))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(l||i||h||m||y||v&&f)}ignoreMutation(t){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:t}):this.node.isLeaf||this.node.isAtom?!0:t.type==="selection"||this.dom.contains(t.target)&&t.type==="childList"&&(yh()||Mw())&&this.editor.isFocused&&[...Array.from(t.addedNodes),...Array.from(t.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===t.target&&t.type==="attributes"?!0:!this.contentDOM.contains(t.target)}updateAttributes(t){this.editor.commands.command(({tr:e})=>{const r=this.getPos();return typeof r!="number"?!1:(e.setNodeMarkup(r,void 0,{...this.node.attrs,...t}),!0)})}deleteNode(){const t=this.getPos();if(typeof t!="number")return;const e=t+this.node.nodeSize;this.editor.commands.deleteRange({from:t,to:e})}};function ru(t){return new Nre({find:t.find,handler:({state:e,range:r,match:n,pasteEvent:o})=>{const i=Tr(t.getAttributes,void 0,n,o);if(i===!1||i===null)return null;const{tr:s}=e,a=n[n.length-1],l=n[0];let p=r.to;if(a){const f=l.search(/\S/),h=r.from+l.indexOf(a),m=h+a.length;if(_C(r.from,r.to,e.doc).filter(v=>v.mark.type.excluded.find(x=>x===t.type&&x!==v.mark.type)).filter(v=>v.to>h).length)return null;m<r.to&&s.delete(m,r.to),h>r.from&&s.delete(r.from+f,h),p=r.from+f+a.length,s.addMark(r.from+f,p,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}const{getOwnPropertyNames:rne,getOwnPropertySymbols:nne}=Object,{hasOwnProperty:one}=Object.prototype;function Vb(t,e){return function(n,o,i){return t(n,o,i)&&e(n,o,i)}}function bg(t){return function(r,n,o){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,o);const{cache:i}=o,s=i.get(r),a=i.get(n);if(s&&a)return s===n&&a===r;i.set(r,n),i.set(n,r);const l=t(r,n,o);return i.delete(r),i.delete(n),l}}function ine(t){return t!=null?t[Symbol.toStringTag]:void 0}function kA(t){return rne(t).concat(nne(t))}const sne=Object.hasOwn||((t,e)=>one.call(t,e));function su(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const ane="__v",lne="__o",cne="_owner",{getOwnPropertyDescriptor:EA,keys:TA}=Object;function une(t,e){return t.byteLength===e.byteLength&&My(new Uint8Array(t),new Uint8Array(e))}function dne(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function pne(t,e){return t.byteLength===e.byteLength&&My(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function fne(t,e){return su(t.getTime(),e.getTime())}function hne(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function mne(t,e){return t===e}function jA(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const o=new Array(n),i=t.entries();let s,a,l=0;for(;(s=i.next())&&!s.done;){const p=e.entries();let f=!1,h=0;for(;(a=p.next())&&!a.done;){if(o[h]){h++;continue}const m=s.value,y=a.value;if(r.equals(m[0],y[0],l,h,t,e,r)&&r.equals(m[1],y[1],m[0],y[0],t,e,r)){f=o[h]=!0;break}h++}if(!f)return!1;l++}return!0}const gne=su;function yne(t,e,r){const n=TA(t);let o=n.length;if(TA(e).length!==o)return!1;for(;o-- >0;)if(!rN(t,e,r,n[o]))return!1;return!0}function Qp(t,e,r){const n=kA(t);let o=n.length;if(kA(e).length!==o)return!1;let i,s,a;for(;o-- >0;)if(i=n[o],!rN(t,e,r,i)||(s=EA(t,i),a=EA(e,i),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function vne(t,e){return su(t.valueOf(),e.valueOf())}function xne(t,e){return t.source===e.source&&t.flags===e.flags}function RA(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const o=new Array(n),i=t.values();let s,a;for(;(s=i.next())&&!s.done;){const l=e.values();let p=!1,f=0;for(;(a=l.next())&&!a.done;){if(!o[f]&&r.equals(s.value,a.value,s.value,a.value,t,e,r)){p=o[f]=!0;break}f++}if(!p)return!1}return!0}function My(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function bne(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function rN(t,e,r,n){return(n===cne||n===lne||n===ane)&&(t.$$typeof||e.$$typeof)?!0:sne(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const wne="[object ArrayBuffer]",Sne="[object Arguments]",Cne="[object Boolean]",kne="[object DataView]",Ene="[object Date]",Tne="[object Error]",jne="[object Map]",Rne="[object Number]",Ane="[object Object]",_ne="[object RegExp]",Mne="[object Set]",Ine="[object String]",One={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Pne="[object URL]",Nne=Object.prototype.toString;function Lne({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:o,areFunctionsEqual:i,areMapsEqual:s,areNumbersEqual:a,areObjectsEqual:l,arePrimitiveWrappersEqual:p,areRegExpsEqual:f,areSetsEqual:h,areTypedArraysEqual:m,areUrlsEqual:y,unknownTagComparators:v}){return function(x,C,E){if(x===C)return!0;if(x==null||C==null)return!1;const j=typeof x;if(j!==typeof C)return!1;if(j!=="object")return j==="number"?a(x,C,E):j==="function"?i(x,C,E):!1;const T=x.constructor;if(T!==C.constructor)return!1;if(T===Object)return l(x,C,E);if(Array.isArray(x))return e(x,C,E);if(T===Date)return n(x,C,E);if(T===RegExp)return f(x,C,E);if(T===Map)return s(x,C,E);if(T===Set)return h(x,C,E);const k=Nne.call(x);if(k===Ene)return n(x,C,E);if(k===_ne)return f(x,C,E);if(k===jne)return s(x,C,E);if(k===Mne)return h(x,C,E);if(k===Ane)return typeof x.then!="function"&&typeof C.then!="function"&&l(x,C,E);if(k===Pne)return y(x,C,E);if(k===Tne)return o(x,C,E);if(k===Sne)return l(x,C,E);if(One[k])return m(x,C,E);if(k===wne)return t(x,C,E);if(k===kne)return r(x,C,E);if(k===Cne||k===Rne||k===Ine)return p(x,C,E);if(v){let A=v[k];if(!A){const _=ine(x);_&&(A=v[_])}if(A)return A(x,C,E)}return!1}}function Dne({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:une,areArraysEqual:r?Qp:dne,areDataViewsEqual:pne,areDatesEqual:fne,areErrorsEqual:hne,areFunctionsEqual:mne,areMapsEqual:r?Vb(jA,Qp):jA,areNumbersEqual:gne,areObjectsEqual:r?Qp:yne,arePrimitiveWrappersEqual:vne,areRegExpsEqual:xne,areSetsEqual:r?Vb(RA,Qp):RA,areTypedArraysEqual:r?Vb(My,Qp):My,areUrlsEqual:bne,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const o=bg(n.areArraysEqual),i=bg(n.areMapsEqual),s=bg(n.areObjectsEqual),a=bg(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:o,areMapsEqual:i,areObjectsEqual:s,areSetsEqual:a})}return n}function zne(t){return function(e,r,n,o,i,s,a){return t(e,r,a)}}function $ne({circular:t,comparator:e,createState:r,equals:n,strict:o}){if(r)return function(a,l){const{cache:p=t?new WeakMap:void 0,meta:f}=r();return e(a,l,{cache:p,equals:n,meta:f,strict:o})};if(t)return function(a,l){return e(a,l,{cache:new WeakMap,equals:n,meta:void 0,strict:o})};const i={cache:void 0,equals:n,meta:void 0,strict:o};return function(a,l){return e(a,l,i)}}const Fne=Hl();Hl({strict:!0});Hl({circular:!0});Hl({circular:!0,strict:!0});Hl({createInternalComparator:()=>su});Hl({strict:!0,createInternalComparator:()=>su});Hl({circular:!0,createInternalComparator:()=>su});Hl({circular:!0,createInternalComparator:()=>su,strict:!0});function Hl(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:o=!1}=t,i=Dne(t),s=Lne(i),a=r?r(s):zne(s);return $ne({circular:e,comparator:s,createState:n,equals:a,strict:o})}var qb={exports:{}},Gb={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AA;function Bne(){if(AA)return Gb;AA=1;var t=nu(),e=qI();function r(p,f){return p===f&&(p!==0||1/p===1/f)||p!==p&&f!==f}var n=typeof Object.is=="function"?Object.is:r,o=e.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,l=t.useDebugValue;return Gb.useSyncExternalStoreWithSelector=function(p,f,h,m,y){var v=i(null);if(v.current===null){var b={hasValue:!1,value:null};v.current=b}else b=v.current;v=a(function(){function C(A){if(!E){if(E=!0,j=A,A=m(A),y!==void 0&&b.hasValue){var _=b.value;if(y(_,A))return T=_}return T=A}if(_=T,n(j,A))return _;var I=m(A);return y!==void 0&&y(_,I)?(j=A,_):(j=A,T=I)}var E=!1,j,T,k=h===void 0?null:h;return[function(){return C(f())},k===null?void 0:function(){return C(k())}]},[f,h,m,y]);var x=o(p,v[0],v[1]);return s(function(){b.hasValue=!0,b.value=x},[x]),l(x),x},Gb}var _A;function Wne(){return _A||(_A=1,qb.exports=Bne()),qb.exports}var Hne=Wne(),Une=(...t)=>e=>{t.forEach(r=>{typeof r=="function"?r(e):r&&(r.current=e)})},Vne=({contentComponent:t})=>{const e=GI.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return u.jsx(u.Fragment,{children:Object.values(e)})};function qne(){const t=new Set;let e={};return{subscribe(r){return t.add(r),()=>{t.delete(r)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(r,n){e={...e,[r]:uf.createPortal(n.reactElement,n.element,r)},t.forEach(o=>o())},removeRenderer(r){const n={...e};delete n[r],e=n,t.forEach(o=>o())}}}var Gne=class extends Gt.Component{constructor(t){var e;super(t),this.editorContentRef=Gt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const r=this.editorContentRef.current;r.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:r}),e.contentComponent=qne(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const r=document.createElement("div");r.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:r})}catch{}}}render(){const{editor:t,innerRef:e,...r}=this.props;return u.jsxs(u.Fragment,{children:[u.jsx("div",{ref:Une(e,this.editorContentRef),...r}),(t==null?void 0:t.contentComponent)&&u.jsx(Vne,{contentComponent:t.contentComponent})]})}},Kne=S.forwardRef((t,e)=>{const r=Gt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Gt.createElement(Gne,{key:r,innerRef:e,...t})}),nN=Gt.memo(Kne),Yne=typeof window<"u"?S.useLayoutEffect:S.useEffect,Jne=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(n=>n())},r=this.editor;return r.on("transaction",e),()=>{r.off("transaction",e)}}}};function Xne(t){var e;const[r]=S.useState(()=>new Jne(t.editor)),n=Hne.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:Fne);return Yne(()=>r.watch(t.editor),[t.editor,r]),S.useDebugValue(n),n}var Qne=!1,Lw=typeof window>"u",Zne=Lw||!!(typeof window<"u"&&window.next),eoe=class oN{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Lw||Zne?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...n)=>{var o,i;return(i=(o=this.options.current).onBeforeCreate)==null?void 0:i.call(o,...n)},onBlur:(...n)=>{var o,i;return(i=(o=this.options.current).onBlur)==null?void 0:i.call(o,...n)},onCreate:(...n)=>{var o,i;return(i=(o=this.options.current).onCreate)==null?void 0:i.call(o,...n)},onDestroy:(...n)=>{var o,i;return(i=(o=this.options.current).onDestroy)==null?void 0:i.call(o,...n)},onFocus:(...n)=>{var o,i;return(i=(o=this.options.current).onFocus)==null?void 0:i.call(o,...n)},onSelectionUpdate:(...n)=>{var o,i;return(i=(o=this.options.current).onSelectionUpdate)==null?void 0:i.call(o,...n)},onTransaction:(...n)=>{var o,i;return(i=(o=this.options.current).onTransaction)==null?void 0:i.call(o,...n)},onUpdate:(...n)=>{var o,i;return(i=(o=this.options.current).onUpdate)==null?void 0:i.call(o,...n)},onContentError:(...n)=>{var o,i;return(i=(o=this.options.current).onContentError)==null?void 0:i.call(o,...n)},onDrop:(...n)=>{var o,i;return(i=(o=this.options.current).onDrop)==null?void 0:i.call(o,...n)},onPaste:(...n)=>{var o,i;return(i=(o=this.options.current).onPaste)==null?void 0:i.call(o,...n)},onDelete:(...n)=>{var o,i;return(i=(o=this.options.current).onDelete)==null?void 0:i.call(o,...n)}};return new Ure(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,r){return Object.keys(e).every(n=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)?!0:n==="extensions"&&e.extensions&&r.extensions?e.extensions.length!==r.extensions.length?!1:e.extensions.every((o,i)=>{var s;return o===((s=r.extensions)==null?void 0:s[i])}):e[n]===r[n])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?oN.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((n,o)=>n===e[o]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function toe(t={},e=[]){const r=S.useRef(t);r.current=t;const[n]=S.useState(()=>new eoe(r)),o=GI.useSyncExternalStore(n.subscribe,n.getEditor,n.getServerSnapshot);return S.useDebugValue(o),S.useEffect(n.onRender(e)),Xne({editor:o,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&i===0?0:i+1}),o}var iN=S.createContext({editor:null});iN.Consumer;var sN=S.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),roe=()=>S.useContext(sN),noe=Gt.forwardRef((t,e)=>{const{onDragStart:r}=roe(),n=t.as||"div";return u.jsx(n,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...t.style}})});function MA(t){return!!(typeof t=="function"&&t.prototype&&t.prototype.isReactComponent)}function IA(t){return!!(typeof t=="object"&&t.$$typeof&&(t.$$typeof.toString()==="Symbol(react.forward_ref)"||t.$$typeof.description==="react.forward_ref"))}function ooe(t){return!!(typeof t=="object"&&t.$$typeof&&(t.$$typeof.toString()==="Symbol(react.memo)"||t.$$typeof.description==="react.memo"))}function ioe(t){if(MA(t)||IA(t))return!0;if(ooe(t)){const e=t.type;if(e)return MA(e)||IA(e)}return!1}function soe(){try{if(S.version)return parseInt(S.version.split(".")[0],10)>=19}catch{}return!1}var aoe=class{constructor(t,{editor:e,props:r={},as:n="div",className:o=""}){this.ref=null,this.destroyed=!1,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=t,this.editor=e,this.props=r,this.element=document.createElement(n),this.element.classList.add("react-renderer"),o&&this.element.classList.add(...o.split(" ")),this.editor.isInitialized?ua.flushSync(()=>{this.render()}):queueMicrotask(()=>{this.destroyed||this.render()})}render(){var t;if(this.destroyed)return;const e=this.component,r=this.props,n=this.editor,o=soe(),i=ioe(e),s={...r};s.ref&&!(o||i)&&delete s.ref,!s.ref&&(o||i)&&(s.ref=a=>{this.ref=a}),this.reactElement=u.jsx(e,{...s}),(t=n==null?void 0:n.contentComponent)==null||t.setRenderer(this.id,this)}updateProps(t={}){this.destroyed||(this.props={...this.props,...t},this.render())}destroy(){var t;this.destroyed=!0;const e=this.editor;(t=e==null?void 0:e.contentComponent)==null||t.removeRenderer(this.id);try{this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}catch{}}updateAttributes(t){Object.keys(t).forEach(e=>{this.element.setAttribute(e,t[e])})}};Gt.createContext({markViewContentRef:()=>{}});var loe=class extends tne{constructor(t,e,r){if(super(t,e,r),this.selectionRafId=null,this.cachedExtensionWithSyncedStorage=null,!this.node.isLeaf){this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.dataset.nodeViewWrapper="",this.contentDOMElement.style.whiteSpace="inherit";const n=this.dom.querySelector("[data-node-view-content]");if(!n)return;n.appendChild(this.contentDOMElement)}}get extensionWithSyncedStorage(){if(!this.cachedExtensionWithSyncedStorage){const t=this.editor,e=this.extension;this.cachedExtensionWithSyncedStorage=new Proxy(e,{get(r,n,o){var i;return n==="storage"?(i=t.storage[e.name])!=null?i:{}:Reflect.get(r,n,o)}})}return this.cachedExtensionWithSyncedStorage}mount(){const t={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extensionWithSyncedStorage,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(l={})=>this.updateAttributes(l),deleteNode:()=>this.deleteNode(),ref:S.createRef()};if(!this.component.displayName){const l=p=>p.charAt(0).toUpperCase()+p.substring(1);this.component.displayName=l(this.extension.name)}const n={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:l=>{l&&this.contentDOMElement&&l.firstChild!==this.contentDOMElement&&(l.hasAttribute("data-node-view-wrapper")&&l.removeAttribute("data-node-view-wrapper"),l.appendChild(this.contentDOMElement))}},o=this.component,i=S.memo(l=>u.jsx(sN.Provider,{value:n,children:S.createElement(o,l)}));i.displayName="ReactNodeView";let s=this.node.isInline?"span":"div";this.options.as&&(s=this.options.as);const{className:a=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new aoe(i,{editor:this.editor,props:t,as:s,className:`node-${this.node.type.name} ${a}`.trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var t;if(this.renderer.element.firstElementChild&&!((t=this.renderer.element.firstElementChild)!=null&&t.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){this.selectionRafId&&(cancelAnimationFrame(this.selectionRafId),this.selectionRafId=null),this.selectionRafId=requestAnimationFrame(()=>{this.selectionRafId=null;const{from:t,to:e}=this.editor.state.selection,r=this.getPos();if(typeof r=="number")if(t<=r&&e>=r+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}})}update(t,e,r){const n=o=>{this.renderer.updateProps(o),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(t.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const o=this.node,i=this.decorations,s=this.innerDecorations;return this.node=t,this.decorations=e,this.innerDecorations=r,this.options.update({oldNode:o,oldDecorations:i,newNode:t,newDecorations:e,oldInnerDecorations:s,innerDecorations:r,updateProps:()=>n({node:t,decorations:e,innerDecorations:r,extension:this.extensionWithSyncedStorage})})}return t===this.node&&this.decorations===e&&this.innerDecorations===r||(this.node=t,this.decorations=e,this.innerDecorations=r,n({node:t,decorations:e,innerDecorations:r,extension:this.extensionWithSyncedStorage})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null,this.selectionRafId&&(cancelAnimationFrame(this.selectionRafId),this.selectionRafId=null)}updateElementAttributes(){if(this.options.attrs){let t={};if(typeof this.options.attrs=="function"){const e=this.editor.extensionManager.attributes,r=qd(this.node,e);t=this.options.attrs({node:this.node,HTMLAttributes:r})}else t=this.options.attrs;this.renderer.updateAttributes(t)}}};function coe(t,e){return r=>r.editor.contentComponent?new loe(t,r,e):{}}var NC=S.createContext({get editor(){throw new Error("useTiptap must be used within a <Tiptap> provider")}});NC.displayName="TiptapContext";var uoe=()=>S.useContext(NC);function aN({editor:t,instance:e,children:r}){const n=t??e;if(!n)throw new Error("Tiptap: An editor instance is required. Pass a non-null `editor` prop.");const o=S.useMemo(()=>({editor:n}),[n]),i=S.useMemo(()=>({editor:n}),[n]);return u.jsx(iN.Provider,{value:i,children:u.jsx(NC.Provider,{value:o,children:r})})}aN.displayName="Tiptap";function lN({...t}){const{editor:e}=uoe();return u.jsx(nN,{editor:e,...t})}lN.displayName="Tiptap.Content";Object.assign(aN,{Content:lN});var Iy=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:r,...n}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,n,r]},doe=/^\s*>\s$/,poe=Uo.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Iy("blockquote",{...fn(this.options.HTMLAttributes,t),children:Iy("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const r=">",n=[];return t.content.forEach(o=>{const a=e.renderChildren([o]).split(`
`).map(l=>l.trim()===""?r:`${r} ${l}`);n.push(a.join(`
`))}),n.join(`
${r}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Kd({find:doe,type:this.type})]}}),foe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,hoe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,moe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,goe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,yoe=Wl.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Iy("strong",{...fn(this.options.HTMLAttributes,t),children:Iy("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Gd({find:foe,type:this.type}),Gd({find:moe,type:this.type})]},addPasteRules(){return[ru({find:hoe,type:this.type}),ru({find:goe,type:this.type})]}}),voe=/(^|[^`])`([^`]+)`(?!`)$/,xoe=/(^|[^`])`([^`]+)`(?!`)/g,boe=Wl.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",fn(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Gd({find:voe,type:this.type})]},addPasteRules(){return[ru({find:xoe,type:this.type})]}}),Kb=4,woe=/^```([a-z]+)?[\s\n]$/,Soe=/^~~~([a-z]+)?[\s\n]$/,Coe=Uo.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Kb,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:r}=this.options;if(!r)return null;const i=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(s=>s.startsWith(r)).map(s=>s.replace(r,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",fn(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var r;return((r=t.raw)==null?void 0:r.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var r;let n="";const o=((r=t.attrs)==null?void 0:r.language)||"";return t.content?n=[`\`\`\`${o}`,e.renderChildren(t.content),"```"].join(`
`):n=`\`\`\`${o}

\`\`\``,n},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!t||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:Kb,{state:n}=t,{selection:o}=n,{$from:i,empty:s}=o;if(i.parent.type!==this.type)return!1;const a=" ".repeat(r);return s?t.commands.insertContent(a):t.commands.command(({tr:l})=>{const{from:p,to:f}=o,y=n.doc.textBetween(p,f,`
`,`
`).split(`
`).map(v=>a+v).join(`
`);return l.replaceWith(p,f,n.schema.text(y)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:Kb,{state:n}=t,{selection:o}=n,{$from:i,empty:s}=o;return i.parent.type!==this.type?!1:s?t.commands.command(({tr:a})=>{var l;const{pos:p}=i,f=i.start(),h=i.end(),y=n.doc.textBetween(f,h,`
`,`
`).split(`
`);let v=0,b=0;const x=p-f;for(let A=0;A<y.length;A+=1){if(b+y[A].length>=x){v=A;break}b+=y[A].length+1}const E=((l=y[v].match(/^ */))==null?void 0:l[0])||"",j=Math.min(E.length,r);if(j===0)return!0;let T=f;for(let A=0;A<v;A+=1)T+=y[A].length+1;return a.delete(T,T+j),p-T<=j&&a.setSelection(Kt.create(a.doc,T)),!0}):t.commands.command(({tr:a})=>{const{from:l,to:p}=o,m=n.doc.textBetween(l,p,`
`,`
`).split(`
`).map(y=>{var v;const b=((v=y.match(/^ */))==null?void 0:v[0])||"",x=Math.min(b.length,r);return y.slice(x)}).join(`
`);return a.replaceWith(l,p,n.schema.text(m)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:r}=e,{$from:n,empty:o}=r;if(!o||n.parent.type!==this.type)return!1;const i=n.parentOffset===n.parent.nodeSize-2,s=n.parent.textContent.endsWith(`

`);return!i||!s?!1:t.chain().command(({tr:a})=>(a.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:r,doc:n}=e,{$from:o,empty:i}=r;if(!i||o.parent.type!==this.type||!(o.parentOffset===o.parent.nodeSize-2))return!1;const a=o.after();return a===void 0?!1:n.nodeAt(a)?t.commands.command(({tr:p})=>(p.setSelection(nr.near(n.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[Pw({find:woe,type:this.type,getAttributes:t=>({language:t[1]})}),Pw({find:Soe,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new en({key:new In("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const r=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),o=n?JSON.parse(n):void 0,i=o==null?void 0:o.mode;if(!r||!i)return!1;const{tr:s,schema:a}=t.state,l=a.text(r.replace(/\r\n?/g,`
`));return s.replaceSelectionWith(this.type.create({language:i},l)),s.selection.$from.parent.type!==this.type&&s.setSelection(Kt.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}}),koe=Uo.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),Eoe=Uo.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",fn(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:r,editor:n})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:o,storedMarks:i}=r;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:a}=n.extensionManager,l=i||o.$to.parentOffset&&o.$from.marks();return e().insertContent({type:this.name}).command(({tr:p,dispatch:f})=>{if(f&&l&&s){const h=l.filter(m=>a.includes(m.type.name));p.ensureMarks(h)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Toe=Uo.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,fn(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var r;const n=(r=t.attrs)!=null&&r.level?parseInt(t.attrs.level,10):1,o="#".repeat(n);return t.content?`${o} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Pw({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),joe=Uo.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",fn(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!Gre(e,e.schema.nodes[this.name]))return!1;const{selection:r}=e,{$to:n}=r,o=t();return DP(r)?o.insertContentAt(n.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({state:i,tr:s,dispatch:a})=>{if(a){const{$to:l}=s.selection,p=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?s.setSelection(Kt.create(s.doc,l.pos+1)):l.nodeAfter.isBlock?s.setSelection(Nt.create(s.doc,l.pos)):s.setSelection(Kt.create(s.doc,l.pos));else{const f=i.schema.nodes[this.options.nextNodeType]||l.parent.type.contentMatch.defaultType,h=f==null?void 0:f.create();h&&(s.insert(p,h),s.setSelection(Kt.create(s.doc,p+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[eN({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Roe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Aoe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,_oe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Moe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Ioe=Wl.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",fn(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Gd({find:Roe,type:this.type}),Gd({find:_oe,type:this.type})]},addPasteRules(){return[ru({find:Aoe,type:this.type}),ru({find:Moe,type:this.type})]}});const Ooe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Poe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Dw="numeric",zw="ascii",$w="alpha",Df="asciinumeric",vf="alphanumeric",Fw="domain",cN="emoji",Noe="scheme",Loe="slashscheme",Yb="whitespace";function Doe(t,e){return t in e||(e[t]=[]),e[t]}function _c(t,e,r){e[Dw]&&(e[Df]=!0,e[vf]=!0),e[zw]&&(e[Df]=!0,e[$w]=!0),e[Df]&&(e[vf]=!0),e[$w]&&(e[vf]=!0),e[vf]&&(e[Fw]=!0),e[cN]&&(e[Fw]=!0);for(const n in e){const o=Doe(n,r);o.indexOf(t)<0&&o.push(t)}}function zoe(t,e){const r={};for(const n in e)e[n].indexOf(t)>=0&&(r[n]=!0);return r}function $o(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}$o.groups={};$o.prototype={accepts(){return!!this.t},go(t){const e=this,r=e.j[t];if(r)return r;for(let n=0;n<e.jr.length;n++){const o=e.jr[n][0],i=e.jr[n][1];if(i&&o.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,r,n){for(let o=0;o<t.length;o++)this.tt(t[o],e,r,n)},tr(t,e,r,n){n=n||$o.groups;let o;return e&&e.j?o=e:(o=new $o(e),r&&n&&_c(e,r,n)),this.jr.push([t,o]),o},ts(t,e,r,n){let o=this;const i=t.length;if(!i)return o;for(let s=0;s<i-1;s++)o=o.tt(t[s]);return o.tt(t[i-1],e,r,n)},tt(t,e,r,n){n=n||$o.groups;const o=this;if(e&&e.j)return o.j[t]=e,e;const i=e;let s,a=o.go(t);if(a?(s=new $o,Object.assign(s.j,a.j),s.jr.push.apply(s.jr,a.jr),s.jd=a.jd,s.t=a.t):s=new $o,i){if(n)if(s.t&&typeof s.t=="string"){const l=Object.assign(zoe(s.t,n),r);_c(i,l,n)}else r&&_c(i,r,n);s.t=i}return o.j[t]=s,s}};const tr=(t,e,r,n,o)=>t.ta(e,r,n,o),on=(t,e,r,n,o)=>t.tr(e,r,n,o),OA=(t,e,r,n,o)=>t.ts(e,r,n,o),Ve=(t,e,r,n,o)=>t.tt(e,r,n,o),na="WORD",Bw="UWORD",uN="ASCIINUMERICAL",dN="ALPHANUMERICAL",xh="LOCALHOST",Ww="TLD",Hw="UTLD",Ug="SCHEME",od="SLASH_SCHEME",LC="NUM",Uw="WS",DC="NL",zf="OPENBRACE",$f="CLOSEBRACE",Oy="OPENBRACKET",Py="CLOSEBRACKET",Ny="OPENPAREN",Ly="CLOSEPAREN",Dy="OPENANGLEBRACKET",zy="CLOSEANGLEBRACKET",$y="FULLWIDTHLEFTPAREN",Fy="FULLWIDTHRIGHTPAREN",By="LEFTCORNERBRACKET",Wy="RIGHTCORNERBRACKET",Hy="LEFTWHITECORNERBRACKET",Uy="RIGHTWHITECORNERBRACKET",Vy="FULLWIDTHLESSTHAN",qy="FULLWIDTHGREATERTHAN",Gy="AMPERSAND",Ky="APOSTROPHE",Yy="ASTERISK",nl="AT",Jy="BACKSLASH",Xy="BACKTICK",Qy="CARET",ll="COLON",zC="COMMA",Zy="DOLLAR",bs="DOT",e0="EQUALS",$C="EXCLAMATION",ki="HYPHEN",Ff="PERCENT",t0="PIPE",r0="PLUS",n0="POUND",Bf="QUERY",FC="QUOTE",pN="FULLWIDTHMIDDLEDOT",BC="SEMI",ws="SLASH",Wf="TILDE",o0="UNDERSCORE",fN="EMOJI",i0="SYM";var hN=Object.freeze({__proto__:null,ALPHANUMERICAL:dN,AMPERSAND:Gy,APOSTROPHE:Ky,ASCIINUMERICAL:uN,ASTERISK:Yy,AT:nl,BACKSLASH:Jy,BACKTICK:Xy,CARET:Qy,CLOSEANGLEBRACKET:zy,CLOSEBRACE:$f,CLOSEBRACKET:Py,CLOSEPAREN:Ly,COLON:ll,COMMA:zC,DOLLAR:Zy,DOT:bs,EMOJI:fN,EQUALS:e0,EXCLAMATION:$C,FULLWIDTHGREATERTHAN:qy,FULLWIDTHLEFTPAREN:$y,FULLWIDTHLESSTHAN:Vy,FULLWIDTHMIDDLEDOT:pN,FULLWIDTHRIGHTPAREN:Fy,HYPHEN:ki,LEFTCORNERBRACKET:By,LEFTWHITECORNERBRACKET:Hy,LOCALHOST:xh,NL:DC,NUM:LC,OPENANGLEBRACKET:Dy,OPENBRACE:zf,OPENBRACKET:Oy,OPENPAREN:Ny,PERCENT:Ff,PIPE:t0,PLUS:r0,POUND:n0,QUERY:Bf,QUOTE:FC,RIGHTCORNERBRACKET:Wy,RIGHTWHITECORNERBRACKET:Uy,SCHEME:Ug,SEMI:BC,SLASH:ws,SLASH_SCHEME:od,SYM:i0,TILDE:Wf,TLD:Ww,UNDERSCORE:o0,UTLD:Hw,UWORD:Bw,WORD:na,WS:Uw});const ea=/[a-z]/,Zp=new RegExp("\\p{L}","u"),Jb=new RegExp("\\p{Emoji}","u"),ta=/\d/,Xb=/\s/,PA="\r",Qb=`
`,$oe="",Foe="",Zb="";let wg=null,Sg=null;function Boe(t=[]){const e={};$o.groups=e;const r=new $o;wg==null&&(wg=NA(Ooe)),Sg==null&&(Sg=NA(Poe)),Ve(r,"'",Ky),Ve(r,"{",zf),Ve(r,"}",$f),Ve(r,"[",Oy),Ve(r,"]",Py),Ve(r,"(",Ny),Ve(r,")",Ly),Ve(r,"<",Dy),Ve(r,">",zy),Ve(r,"",$y),Ve(r,"",Fy),Ve(r,"",By),Ve(r,"",Wy),Ve(r,"",Hy),Ve(r,"",Uy),Ve(r,"",Vy),Ve(r,"",qy),Ve(r,"&",Gy),Ve(r,"*",Yy),Ve(r,"@",nl),Ve(r,"`",Xy),Ve(r,"^",Qy),Ve(r,":",ll),Ve(r,",",zC),Ve(r,"$",Zy),Ve(r,".",bs),Ve(r,"=",e0),Ve(r,"!",$C),Ve(r,"-",ki),Ve(r,"%",Ff),Ve(r,"|",t0),Ve(r,"+",r0),Ve(r,"#",n0),Ve(r,"?",Bf),Ve(r,'"',FC),Ve(r,"/",ws),Ve(r,";",BC),Ve(r,"~",Wf),Ve(r,"_",o0),Ve(r,"\\",Jy),Ve(r,"",pN);const n=on(r,ta,LC,{[Dw]:!0});on(n,ta,n);const o=on(n,ea,uN,{[Df]:!0}),i=on(n,Zp,dN,{[vf]:!0}),s=on(r,ea,na,{[zw]:!0});on(s,ta,o),on(s,ea,s),on(o,ta,o),on(o,ea,o);const a=on(r,Zp,Bw,{[$w]:!0});on(a,ea),on(a,ta,i),on(a,Zp,a),on(i,ta,i),on(i,ea),on(i,Zp,i);const l=Ve(r,Qb,DC,{[Yb]:!0}),p=Ve(r,PA,Uw,{[Yb]:!0}),f=on(r,Xb,Uw,{[Yb]:!0});Ve(r,Zb,f),Ve(p,Qb,l),Ve(p,Zb,f),on(p,Xb,f),Ve(f,PA),Ve(f,Qb),on(f,Xb,f),Ve(f,Zb,f);const h=on(r,Jb,fN,{[cN]:!0});Ve(h,"#"),on(h,Jb,h),Ve(h,$oe,h);const m=Ve(h,Foe);Ve(m,"#"),on(m,Jb,h);const y=[[ea,s],[ta,o]],v=[[ea,null],[Zp,a],[ta,i]];for(let b=0;b<wg.length;b++)Ja(r,wg[b],Ww,na,y);for(let b=0;b<Sg.length;b++)Ja(r,Sg[b],Hw,Bw,v);_c(Ww,{tld:!0,ascii:!0},e),_c(Hw,{utld:!0,alpha:!0},e),Ja(r,"file",Ug,na,y),Ja(r,"mailto",Ug,na,y),Ja(r,"http",od,na,y),Ja(r,"https",od,na,y),Ja(r,"ftp",od,na,y),Ja(r,"ftps",od,na,y),_c(Ug,{scheme:!0,ascii:!0},e),_c(od,{slashscheme:!0,ascii:!0},e),t=t.sort((b,x)=>b[0]>x[0]?1:-1);for(let b=0;b<t.length;b++){const x=t[b][0],E=t[b][1]?{[Noe]:!0}:{[Loe]:!0};x.indexOf("-")>=0?E[Fw]=!0:ea.test(x)?ta.test(x)?E[Df]=!0:E[zw]=!0:E[Dw]=!0,OA(r,x,x,E)}return OA(r,"localhost",xh,{ascii:!0}),r.jd=new $o(i0),{start:r,tokens:Object.assign({groups:e},hN)}}function mN(t,e){const r=Woe(e.replace(/[A-Z]/g,a=>a.toLowerCase())),n=r.length,o=[];let i=0,s=0;for(;s<n;){let a=t,l=null,p=0,f=null,h=-1,m=-1;for(;s<n&&(l=a.go(r[s]));)a=l,a.accepts()?(h=0,m=0,f=a):h>=0&&(h+=r[s].length,m++),p+=r[s].length,i+=r[s].length,s++;i-=h,s-=m,p-=h,o.push({t:f.t,v:e.slice(i-p,i),s:i-p,e:i})}return o}function Woe(t){const e=[],r=t.length;let n=0;for(;n<r;){let o=t.charCodeAt(n),i,s=o<55296||o>56319||n+1===r||(i=t.charCodeAt(n+1))<56320||i>57343?t[n]:t.slice(n,n+2);e.push(s),n+=s.length}return e}function Ja(t,e,r,n,o){let i;const s=e.length;for(let a=0;a<s-1;a++){const l=e[a];t.j[l]?i=t.j[l]:(i=new $o(n),i.jr=o.slice(),t.j[l]=i),t=i}return i=new $o(r),i.jr=o.slice(),t.j[e[s-1]]=i,i}function NA(t){const e=[],r=[];let n=0,o="0123456789";for(;n<t.length;){let i=0;for(;o.indexOf(t[n+i])>=0;)i++;if(i>0){e.push(r.join(""));for(let s=parseInt(t.substring(n,n+i),10);s>0;s--)r.pop();n+=i}else r.push(t[n]),n++}return e}const bh={defaultProtocol:"http",events:null,format:LA,formatHref:LA,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function WC(t,e=null){let r=Object.assign({},bh);t&&(r=Object.assign(r,t instanceof WC?t.o:t));const n=r.ignoreTags,o=[];for(let i=0;i<n.length;i++)o.push(n[i].toUpperCase());this.o=r,e&&(this.defaultRender=e),this.ignoreTags=o}WC.prototype={o:bh,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,r){const n=e!=null;let o=this.o[t];return o&&(typeof o=="object"?(o=r.t in o?o[r.t]:bh[t],typeof o=="function"&&n&&(o=o(e,r))):typeof o=="function"&&n&&(o=o(e,r.t,r)),o)},getObj(t,e,r){let n=this.o[t];return typeof n=="function"&&e!=null&&(n=n(e,r.t,r)),n},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function LA(t){return t}function gN(t,e){this.t="token",this.v=t,this.tk=e}gN.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),r=t.get("truncate",e,this),n=t.get("format",e,this);return r&&n.length>r?n.substring(0,r)+"":n},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=bh.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,r=this.toHref(t.get("defaultProtocol")),n=t.get("formatHref",r,this),o=t.get("tagName",r,e),i=this.toFormattedString(t),s={},a=t.get("className",r,e),l=t.get("target",r,e),p=t.get("rel",r,e),f=t.getObj("attributes",r,e),h=t.getObj("events",r,e);return s.href=n,a&&(s.class=a),l&&(s.target=l),p&&(s.rel=p),f&&Object.assign(s,f),{tagName:o,attributes:s,content:i,eventListeners:h}}};function cv(t,e){class r extends gN{constructor(o,i){super(o,i),this.t=t}}for(const n in e)r.prototype[n]=e[n];return r.t=t,r}const DA=cv("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),zA=cv("text"),Hoe=cv("nl"),Cg=cv("url",{isLink:!0,toHref(t=bh.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==xh&&t[1].t===ll}}),wi=t=>new $o(t);function Uoe({groups:t}){const e=t.domain.concat([Gy,Yy,nl,Jy,Xy,Qy,Zy,e0,ki,LC,Ff,t0,r0,n0,ws,i0,Wf,o0]),r=[Ky,ll,zC,bs,$C,Ff,Bf,FC,BC,Dy,zy,zf,$f,Py,Oy,Ny,Ly,$y,Fy,By,Wy,Hy,Uy,Vy,qy],n=[Gy,Ky,Yy,Jy,Xy,Qy,Zy,e0,ki,zf,$f,Ff,t0,r0,n0,Bf,ws,i0,Wf,o0],o=wi(),i=Ve(o,Wf);tr(i,n,i),tr(i,t.domain,i);const s=wi(),a=wi(),l=wi();tr(o,t.domain,s),tr(o,t.scheme,a),tr(o,t.slashscheme,l),tr(s,n,i),tr(s,t.domain,s);const p=Ve(s,nl);Ve(i,nl,p),Ve(a,nl,p),Ve(l,nl,p);const f=Ve(i,bs);tr(f,n,i),tr(f,t.domain,i);const h=wi();tr(p,t.domain,h),tr(h,t.domain,h);const m=Ve(h,bs);tr(m,t.domain,h);const y=wi(DA);tr(m,t.tld,y),tr(m,t.utld,y),Ve(p,xh,y);const v=Ve(h,ki);Ve(v,ki,v),tr(v,t.domain,h),tr(y,t.domain,h),Ve(y,bs,m),Ve(y,ki,v);const b=Ve(y,ll);tr(b,t.numeric,DA);const x=Ve(s,ki),C=Ve(s,bs);Ve(x,ki,x),tr(x,t.domain,s),tr(C,n,i),tr(C,t.domain,s);const E=wi(Cg);tr(C,t.tld,E),tr(C,t.utld,E),tr(E,t.domain,s),tr(E,n,i),Ve(E,bs,C),Ve(E,ki,x),Ve(E,nl,p);const j=Ve(E,ll),T=wi(Cg);tr(j,t.numeric,T);const k=wi(Cg),A=wi();tr(k,e,k),tr(k,r,A),tr(A,e,k),tr(A,r,A),Ve(E,ws,k),Ve(T,ws,k);const _=Ve(a,ll),I=Ve(l,ll),P=Ve(I,ws),N=Ve(P,ws);tr(a,t.domain,s),Ve(a,bs,C),Ve(a,ki,x),tr(l,t.domain,s),Ve(l,bs,C),Ve(l,ki,x),tr(_,t.domain,k),Ve(_,ws,k),Ve(_,Bf,k),tr(N,t.domain,k),tr(N,e,k),Ve(N,ws,k);const B=[[zf,$f],[Oy,Py],[Ny,Ly],[Dy,zy],[$y,Fy],[By,Wy],[Hy,Uy],[Vy,qy]];for(let O=0;O<B.length;O++){const[D,F]=B[O],U=Ve(k,D);Ve(A,D,U),Ve(U,F,k);const V=wi(Cg);tr(U,e,V);const G=wi();tr(U,r),tr(V,e,V),tr(V,r,G),tr(G,e,V),tr(G,r,G),Ve(V,F,k),Ve(G,F,k)}return Ve(o,xh,E),Ve(o,DC,Hoe),{start:o,tokens:hN}}function Voe(t,e,r){let n=r.length,o=0,i=[],s=[];for(;o<n;){let a=t,l=null,p=null,f=0,h=null,m=-1;for(;o<n&&!(l=a.go(r[o].t));)s.push(r[o++]);for(;o<n&&(p=l||a.go(r[o].t));)l=null,a=p,a.accepts()?(m=0,h=a):m>=0&&m++,o++,f++;if(m<0)o-=f,o<n&&(s.push(r[o]),o++);else{s.length>0&&(i.push(e1(zA,e,s)),s=[]),o-=m,f-=m;const y=h.t,v=r.slice(o-f,o);i.push(e1(y,e,v))}}return s.length>0&&i.push(e1(zA,e,s)),i}function e1(t,e,r){const n=r[0].s,o=r[r.length-1].e,i=e.slice(n,o);return new t(i,r)}const qoe=typeof console<"u"&&console&&console.warn||(()=>{}),Goe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Br={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Koe(){return $o.groups={},Br.scanner=null,Br.parser=null,Br.tokenQueue=[],Br.pluginQueue=[],Br.customSchemes=[],Br.initialized=!1,Br}function $A(t,e=!1){if(Br.initialized&&qoe(`linkifyjs: already initialized - will not register custom scheme "${t}" ${Goe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Br.customSchemes.push([t,e])}function Yoe(){Br.scanner=Boe(Br.customSchemes);for(let t=0;t<Br.tokenQueue.length;t++)Br.tokenQueue[t][1]({scanner:Br.scanner});Br.parser=Uoe(Br.scanner.tokens);for(let t=0;t<Br.pluginQueue.length;t++)Br.pluginQueue[t][1]({scanner:Br.scanner,parser:Br.parser});return Br.initialized=!0,Br}function HC(t){return Br.initialized||Yoe(),Voe(Br.parser.start,t,mN(Br.scanner.start,t))}HC.scan=mN;function yN(t,e=null,r=null){if(e&&typeof e=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);r=e,e=null}const n=new WC(r),o=HC(t),i=[];for(let s=0;s<o.length;s++){const a=o[s];a.isLink&&(!e||a.t===e)&&n.check(a)&&i.push(a.toFormattedObject(n))}return i}var UC="[\0- -\u2029]",Joe=new RegExp(UC),Xoe=new RegExp(`${UC}$`),Qoe=new RegExp(UC,"g");function Zoe(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function eie(t){return new en({key:new In("autolink"),appendTransaction:(e,r,n)=>{const o=e.some(p=>p.docChanged)&&!r.doc.eq(n.doc),i=e.some(p=>p.getMeta("preventAutolink"));if(!o||i)return;const{tr:s}=n,a=AP(r.doc,[...e]);if(LP(a).forEach(({newRange:p})=>{const f=qte(n.doc,p,y=>y.isTextblock);let h,m;if(f.length>1)h=f[0],m=n.doc.textBetween(h.pos,h.pos+h.node.nodeSize,void 0," ");else if(f.length){const y=n.doc.textBetween(p.from,p.to," "," ");if(!Xoe.test(y))return;h=f[0],m=n.doc.textBetween(h.pos,p.to,void 0," ")}if(h&&m){const y=m.split(Joe).filter(Boolean);if(y.length<=0)return!1;const v=y[y.length-1],b=h.pos+m.lastIndexOf(v);if(!v)return!1;const x=HC(v).map(C=>C.toObject(t.defaultProtocol));if(!Zoe(x))return!1;x.filter(C=>C.isLink).map(C=>({...C,from:b+C.start+1,to:b+C.end+1})).filter(C=>n.schema.marks.code?!n.doc.rangeHasMark(C.from,C.to,n.schema.marks.code):!0).filter(C=>t.validate(C.value)).filter(C=>t.shouldAutoLink(C.value)).forEach(C=>{_C(C.from,C.to,n.doc).some(E=>E.mark.type===t.type)||s.addMark(C.from,C.to,t.type.create({href:C.href}))})}}),!!s.steps.length)return s}})}function tie(t){return new en({key:new In("handleClickLink"),props:{handleClick:(e,r,n)=>{var o,i;if(n.button!==0||!e.editable)return!1;let s=null;if(n.target instanceof HTMLAnchorElement)s=n.target;else{const l=n.target;if(!l)return!1;const p=t.editor.view.dom;s=l.closest("a"),s&&!p.contains(s)&&(s=null)}if(!s)return!1;let a=!1;if(t.enableClickSelection&&(a=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){const l=NP(e.state,t.type.name),p=(o=s.href)!=null?o:l.href,f=(i=s.target)!=null?i:l.target;p&&(window.open(p,f),a=!0)}return a}}})}function rie(t){return new en({key:new In("handlePasteLink"),props:{handlePaste:(e,r,n)=>{const{shouldAutoLink:o}=t,{state:i}=e,{selection:s}=i,{empty:a}=s;if(a)return!1;let l="";n.content.forEach(f=>{l+=f.textContent});const p=yN(l,{defaultProtocol:t.defaultProtocol}).find(f=>f.isLink&&f.value===l);return!l||!p||o!==void 0&&!o(p.value)?!1:t.editor.commands.setMark(t.type,{href:p.href})}}})}function hc(t,e){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(n=>{const o=typeof n=="string"?n:n.scheme;o&&r.push(o)}),!t||t.replace(Qoe,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var nie=Wl.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){$A(t);return}$A(t.scheme,t.optionalSlashes)})},onDestroy(){Koe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!hc(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>{const e=/^[a-z][a-z0-9+.-]*:\/\//i.test(t),r=/^[a-z][a-z0-9+.-]*:/i.test(t);if(e||r&&!t.includes("@"))return!0;const o=(t.includes("@")?t.split("@").pop():t).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(o)||!/\./.test(o))}}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class},title:{default:null}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:r=>!!hc(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!hc(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",fn(this.options.HTMLAttributes,t),0]:["a",fn(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var r,n,o,i;const s=(n=(r=t.attrs)==null?void 0:r.href)!=null?n:"",a=(i=(o=t.attrs)==null?void 0:o.title)!=null?i:"",l=e.renderChildren(t);return a?`[${l}](${s} "${a}")`:`[${l}](${s})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:r}=t;return this.options.isAllowedUri(r,{defaultValidate:n=>!!hc(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:r}=t||{};return r&&!this.options.isAllowedUri(r,{defaultValidate:n=>!!hc(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ru({find:t=>{const e=[];if(t){const{protocols:r,defaultProtocol:n}=this.options,o=yN(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:s=>!!hc(s,r),protocols:r,defaultProtocol:n}));o.length&&o.forEach(i=>{this.options.shouldAutoLink(i.value)&&e.push({text:i.value,data:{href:i.href},index:i.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:r}=this.options;return this.options.autolink&&t.push(eie({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:o=>!!hc(o,e),protocols:e,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),t.push(tie({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(rie({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),oie=Object.defineProperty,iie=(t,e)=>{for(var r in e)oie(t,r,{get:e[r],enumerable:!0})},sie="listItem",FA="textStyle",BA=/^\s*([-+*])\s$/,vN=Uo.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",fn(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(sie,this.editor.getAttributes(FA)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Kd({find:BA,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Kd({find:BA,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(FA),editor:this.editor})),[t]}}),xN=Uo.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",fn(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let r=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(o=>o.type==="paragraph"))r=e.parseChildren(t.tokens);else{const o=t.tokens[0];if(o&&o.type==="text"&&o.tokens&&o.tokens.length>0){if(r=[{type:"paragraph",content:e.parseInline(o.tokens)}],t.tokens.length>1){const s=t.tokens.slice(1),a=e.parseChildren(s);r.push(...a)}}else r=e.parseChildren(t.tokens)}return r.length===0&&(r=[{type:"paragraph",content:[]}]),{type:"listItem",content:r}},renderMarkdown:(t,e,r)=>PC(t,e,n=>{var o,i;return n.parentType==="bulletList"?"- ":n.parentType==="orderedList"?`${(((i=(o=n.meta)==null?void 0:o.parentAttrs)==null?void 0:i.start)||1)+n.index}. `:"- "},r),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),aie={};iie(aie,{findListItemPos:()=>qh,getNextListDepth:()=>VC,handleBackspace:()=>Vw,handleDelete:()=>qw,hasListBefore:()=>bN,hasListItemAfter:()=>lie,hasListItemBefore:()=>wN,listItemHasSubList:()=>SN,nextListIsDeeper:()=>CN,nextListIsHigher:()=>kN});var qh=(t,e)=>{const{$from:r}=e.selection,n=Sn(t,e.schema);let o=null,i=r.depth,s=r.pos,a=null;for(;i>0&&a===null;)o=r.node(i),o.type===n?a=i:(i-=1,s-=1);return a===null?null:{$pos:e.doc.resolve(s),depth:a}},VC=(t,e)=>{const r=qh(t,e);if(!r)return!1;const[,n]=rre(e,t,r.$pos.pos+4);return n},bN=(t,e,r)=>{const{$anchor:n}=t.selection,o=Math.max(0,n.pos-2),i=t.doc.resolve(o).node();return!(!i||!r.includes(i.type.name))},wN=(t,e)=>{var r;const{$anchor:n}=e.selection,o=e.doc.resolve(n.pos-2);return!(o.index()===0||((r=o.nodeBefore)==null?void 0:r.type.name)!==t)},SN=(t,e,r)=>{if(!r)return!1;const n=Sn(t,e.schema);let o=!1;return r.descendants(i=>{i.type===n&&(o=!0)}),o},Vw=(t,e,r)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Nl(t.state,e)&&bN(t.state,e,r)){const{$anchor:a}=t.state.selection,l=t.state.doc.resolve(a.before()-1),p=[];l.node().descendants((m,y)=>{m.type.name===e&&p.push({node:m,pos:y})});const f=p.at(-1);if(!f)return!1;const h=t.state.doc.resolve(l.start()+f.pos+1);return t.chain().cut({from:a.start()-1,to:a.end()+1},h.end()).joinForward().run()}if(!Nl(t.state,e)||!sre(t.state))return!1;const n=qh(e,t.state);if(!n)return!1;const i=t.state.doc.resolve(n.$pos.pos-2).node(n.depth),s=SN(e,t.state,i);return wN(e,t.state)&&!s?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},CN=(t,e)=>{const r=VC(t,e),n=qh(t,e);return!n||!r?!1:r>n.depth},kN=(t,e)=>{const r=VC(t,e),n=qh(t,e);return!n||!r?!1:r<n.depth},qw=(t,e)=>{if(!Nl(t.state,e)||!ire(t.state,e))return!1;const{selection:r}=t.state,{$from:n,$to:o}=r;return!r.empty&&n.sameParent(o)?!1:CN(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():kN(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},lie=(t,e)=>{var r;const{$anchor:n}=e.selection,o=e.doc.resolve(n.pos-n.parentOffset-2);return!(o.index()===o.parent.childCount-1||((r=o.nodeAfter)==null?void 0:r.type.name)!==t)},EN=hn.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&qw(t,r)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&qw(t,r)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{t.state.schema.nodes[r]!==void 0&&Vw(t,r,n)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{t.state.schema.nodes[r]!==void 0&&Vw(t,r,n)&&(e=!0)}),e}}}}),WA=/^(\s*)(\d+)\.\s+(.*)$/,cie=/^\s/;function uie(t){const e=[];let r=0,n=0;for(;r<t.length;){const o=t[r],i=o.match(WA);if(!i)break;const[,s,a,l]=i,p=s.length;let f=l,h=r+1;const m=[o];for(;h<t.length;){const y=t[h];if(y.match(WA))break;if(y.trim()==="")m.push(y),f+=`
`,h+=1;else if(y.match(cie))m.push(y),f+=`
${y.slice(p+2)}`,h+=1;else break}e.push({indent:p,number:parseInt(a,10),content:f.trim(),raw:m.join(`
`)}),n=h,r=h}return[e,n]}function TN(t,e,r){var n;const o=[];let i=0;for(;i<t.length;){const s=t[i];if(s.indent===e){const a=s.content.split(`
`),l=((n=a[0])==null?void 0:n.trim())||"",p=[];l&&p.push({type:"paragraph",raw:l,tokens:r.inlineTokens(l)});const f=a.slice(1).join(`
`).trim();if(f){const y=r.blockTokens(f);p.push(...y)}let h=i+1;const m=[];for(;h<t.length&&t[h].indent>e;)m.push(t[h]),h+=1;if(m.length>0){const y=Math.min(...m.map(b=>b.indent)),v=TN(m,y,r);p.push({type:"list",ordered:!0,start:m[0].number,items:v,raw:m.map(b=>b.raw).join(`
`)})}o.push({type:"list_item",raw:s.raw,tokens:p}),i=h}else i+=1}return o}function die(t,e){return t.map(r=>{if(r.type!=="list_item")return e.parseChildren([r])[0];const n=[];return r.tokens&&r.tokens.length>0&&r.tokens.forEach(o=>{if(o.type==="paragraph"||o.type==="list"||o.type==="blockquote"||o.type==="code")n.push(...e.parseChildren([o]));else if(o.type==="text"&&o.tokens){const i=e.parseChildren([o]);n.push({type:"paragraph",content:i})}else{const i=e.parseChildren([o]);i.length>0&&n.push(...i)}}),{type:"listItem",content:n}})}var pie="listItem",HA="textStyle",UA=/^(\d+)\.\s$/,jN=Uo.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...r}=t;return e===1?["ol",fn(this.options.HTMLAttributes,r),0]:["ol",fn(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const r=t.start||1,n=t.items?die(t.items,e):[];return r!==1?{type:"orderedList",attrs:{start:r},content:n}:{type:"orderedList",content:n}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),r=e==null?void 0:e.index;return r!==void 0?r:-1},tokenize:(t,e,r)=>{var n;const o=t.split(`
`),[i,s]=uie(o);if(i.length===0)return;const a=TN(i,0,r);return a.length===0?void 0:{type:"list",ordered:!0,start:((n=i[0])==null?void 0:n.number)||1,items:a,raw:o.slice(0,s).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(pie,this.editor.getAttributes(HA)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Kd({find:UA,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Kd({find:UA,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(HA)}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1],editor:this.editor})),[t]}}),fie=/^\s*(\[([( |x])?\])\s$/,hie=Uo.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",fn(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const r=[];if(t.tokens&&t.tokens.length>0?r.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?r.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):r.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const n=e.parseChildren(t.nestedTokens);r.push(...n)}return e.createNode("taskItem",{checked:t.checked||!1},r)},renderMarkdown:(t,e)=>{var r;const o=`- [${(r=t.attrs)!=null&&r.checked?"x":" "}] `;return PC(t,e,o)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:r,editor:n})=>{const o=document.createElement("li"),i=document.createElement("label"),s=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div"),p=h=>{var m,y;a.ariaLabel=((y=(m=this.options.a11y)==null?void 0:m.checkboxLabel)==null?void 0:y.call(m,h,a.checked))||`Task item checkbox for ${h.textContent||"empty task item"}`};p(t),i.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",h=>h.preventDefault()),a.addEventListener("change",h=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:m}=h.target;n.isEditable&&typeof r=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:y})=>{const v=r();if(typeof v!="number")return!1;const b=y.doc.nodeAt(v);return y.setNodeMarkup(v,void 0,{...b==null?void 0:b.attrs,checked:m}),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,m)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([h,m])=>{o.setAttribute(h,m)}),o.dataset.checked=t.attrs.checked,a.checked=t.attrs.checked,i.append(a,s),o.append(i,l),Object.entries(e).forEach(([h,m])=>{o.setAttribute(h,m)});let f=new Set(Object.keys(e));return{dom:o,contentDOM:l,update:h=>{if(h.type!==this.type)return!1;o.dataset.checked=h.attrs.checked,a.checked=h.attrs.checked,p(h);const m=n.extensionManager.attributes,y=qd(h,m),v=new Set(Object.keys(y)),b=this.options.HTMLAttributes;return f.forEach(x=>{v.has(x)||(x in b?o.setAttribute(x,b[x]):o.removeAttribute(x))}),Object.entries(y).forEach(([x,C])=>{C==null?x in b?o.setAttribute(x,b[x]):o.removeAttribute(x):o.setAttribute(x,C)}),f=v,!0}}}},addInputRules(){return[Kd({find:fie,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),mie=Uo.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",fn(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const r=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return r!==void 0?r:-1},tokenize(t,e,r){const n=i=>{const s=Nw(i,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:a[3].toLowerCase()==="x"}),createToken:(a,l)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:r.inlineTokens(a.mainContent),nestedTokens:l}),customNestedParser:n},r);return s?[{type:"taskList",raw:s.raw,items:s.items}]:r.blockTokens(i)},o=Nw(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:i=>({indentLevel:i[1].length,mainContent:i[4],checked:i[3].toLowerCase()==="x"}),createToken:(i,s)=>({type:"taskItem",raw:"",mainContent:i.mainContent,indentLevel:i.indentLevel,checked:i.checked,text:i.mainContent,tokens:r.inlineTokens(i.mainContent),nestedTokens:s}),customNestedParser:n},r);if(o)return{type:"taskList",raw:o.raw,items:o.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});hn.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(vN.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(xN.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(EN.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(jN.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(hie.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(mie.configure(this.options.taskList)),t}});var VA="&nbsp;",gie="",yie=Uo.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",fn(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const r=t.tokens||[];if(r.length===1&&r[0].type==="image")return e.parseChildren([r[0]]);const n=e.parseInline(r);return n.length===1&&n[0].type==="text"&&(n[0].text===VA||n[0].text===gie)?e.createNode("paragraph",void 0,[]):e.createNode("paragraph",void 0,n)},renderMarkdown:(t,e)=>{if(!t)return"";const r=Array.isArray(t.content)?t.content:[];return r.length===0?VA:e.renderChildren(r)},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),vie=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,xie=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,bie=Wl.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",fn(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Gd({find:vie,type:this.type})]},addPasteRules(){return[ru({find:xie,type:this.type})]}}),wie=Uo.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),Sie=Wl.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",fn(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,r){const o=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!o)return;const i=o[2].trim();return{type:"underline",raw:o[0],text:i,tokens:r.inlineTokens(i)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function Cie(t={}){return new en({view(e){return new kie(e,t)}})}class kie{constructor(e,r){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let i=s=>{this[o](s)};return e.dom.addEventListener(o,i),{name:o,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:r})=>this.editorView.dom.removeEventListener(e,r))}update(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),r=!e.parent.inlineContent,n,o=this.editorView.dom,i=o.getBoundingClientRect(),s=i.width/o.offsetWidth,a=i.height/o.offsetHeight;if(r){let h=e.nodeBefore,m=e.nodeAfter;if(h||m){let y=this.editorView.nodeDOM(this.cursorPos-(h?h.nodeSize:0));if(y){let v=y.getBoundingClientRect(),b=h?v.bottom:v.top;h&&m&&(b=(b+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let x=this.width/2*a;n={left:v.left,right:v.right,top:b-x,bottom:b+x}}}}if(!n){let h=this.editorView.coordsAtPos(this.cursorPos),m=this.width/2*s;n={left:h.left-m,right:h.left+m,top:h.top,bottom:h.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let p,f;if(!l||l==document.body&&getComputedStyle(l).position=="static")p=-pageXOffset,f=-pageYOffset;else{let h=l.getBoundingClientRect(),m=h.width/l.offsetWidth,y=h.height/l.offsetHeight;p=h.left-l.scrollLeft*m,f=h.top-l.scrollTop*y}this.element.style.left=(n.left-p)/s+"px",this.element.style.top=(n.top-f)/a+"px",this.element.style.width=(n.right-n.left)/s+"px",this.element.style.height=(n.bottom-n.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),o=n&&n.type.spec.disableDropCursor,i=typeof o=="function"?o(this.editorView,r,e):o;if(r&&!i){let s=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=bO(this.editorView.state.doc,s,this.editorView.dragging.slice);a!=null&&(s=a)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class pn extends nr{constructor(e){super(e,e)}map(e,r){let n=e.resolve(r.map(this.head));return pn.valid(n)?new pn(n):nr.near(n)}content(){return vt.empty}eq(e){return e instanceof pn&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new pn(e.resolve(r.pos))}getBookmark(){return new qC(this.anchor)}static valid(e){let r=e.parent;if(r.isTextblock||!Eie(e)||!Tie(e))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let o=r.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(e,r,n=!1){e:for(;;){if(!n&&pn.valid(e))return e;let o=e.pos,i=null;for(let s=e.depth;;s--){let a=e.node(s);if(r>0?e.indexAfter(s)<a.childCount:e.index(s)>0){i=a.child(r>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;o+=r;let l=e.doc.resolve(o);if(pn.valid(l))return l}for(;;){let s=r>0?i.firstChild:i.lastChild;if(!s){if(i.isAtom&&!i.isText&&!Nt.isSelectable(i)){e=e.doc.resolve(o+i.nodeSize*r),n=!1;continue e}break}i=s,o+=r;let a=e.doc.resolve(o);if(pn.valid(a))return a}return null}}}pn.prototype.visible=!1;pn.findFrom=pn.findGapCursorFrom;nr.jsonID("gapcursor",pn);class qC{constructor(e){this.pos=e}map(e){return new qC(e.map(this.pos))}resolve(e){let r=e.resolve(this.pos);return pn.valid(r)?new pn(r):nr.near(r)}}function RN(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function Eie(t){for(let e=t.depth;e>=0;e--){let r=t.index(e),n=t.node(e);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let o=n.child(r-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||RN(o.type))return!0;if(o.inlineContent)return!1}}return!0}function Tie(t){for(let e=t.depth;e>=0;e--){let r=t.indexAfter(e),n=t.node(e);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let o=n.child(r);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||RN(o.type))return!0;if(o.inlineContent)return!1}}return!0}function jie(){return new en({props:{decorations:Mie,createSelectionBetween(t,e,r){return e.pos==r.pos&&pn.valid(r)?new pn(r):null},handleClick:Aie,handleKeyDown:Rie,handleDOMEvents:{beforeinput:_ie}}})}const Rie=wP({ArrowLeft:kg("horiz",-1),ArrowRight:kg("horiz",1),ArrowUp:kg("vert",-1),ArrowDown:kg("vert",1)});function kg(t,e){const r=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,o,i){let s=n.selection,a=e>0?s.$to:s.$from,l=s.empty;if(s instanceof Kt){if(!i.endOfTextblock(r)||a.depth==0)return!1;l=!1,a=n.doc.resolve(e>0?a.after():a.before())}let p=pn.findGapCursorFrom(a,e,l);return p?(o&&o(n.tr.setSelection(new pn(p))),!0):!1}}function Aie(t,e,r){if(!t||!t.editable)return!1;let n=t.state.doc.resolve(e);if(!pn.valid(n))return!1;let o=t.posAtCoords({left:r.clientX,top:r.clientY});return o&&o.inside>-1&&Nt.isSelectable(t.state.doc.nodeAt(o.inside))?!1:(t.dispatch(t.state.tr.setSelection(new pn(n))),!0)}function _ie(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof pn))return!1;let{$from:r}=t.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(t.state.schema.nodes.text);if(!n)return!1;let o=ze.empty;for(let s=n.length-1;s>=0;s--)o=ze.from(n[s].createAndFill(null,o));let i=t.state.tr.replace(r.pos,r.pos,new vt(o,0,0));return i.setSelection(Kt.near(i.doc.resolve(r.pos+1))),t.dispatch(i),!1}function Mie(t){if(!(t.selection instanceof pn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Xr.create(t.doc,[Co.widget(t.selection.head,e,{key:"gapcursor"})])}var s0=200,qn=function(){};qn.prototype.append=function(e){return e.length?(e=qn.from(e),!this.length&&e||e.length<s0&&this.leafAppend(e)||this.length<s0&&e.leafPrepend(this)||this.appendInner(e)):this};qn.prototype.prepend=function(e){return e.length?qn.from(e).append(this):this};qn.prototype.appendInner=function(e){return new Iie(this,e)};qn.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?qn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};qn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};qn.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};qn.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var o=[];return this.forEach(function(i,s){return o.push(e(i,s))},r,n),o};qn.from=function(e){return e instanceof qn?e:e&&e.length?new AN(e):qn.empty};var AN=(function(t){function e(n){t.call(this),this.values=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(o,i){return o==0&&i==this.length?this:new e(this.values.slice(o,i))},e.prototype.getInner=function(o){return this.values[o]},e.prototype.forEachInner=function(o,i,s,a){for(var l=i;l<s;l++)if(o(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(o,i,s,a){for(var l=i-1;l>=s;l--)if(o(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(o){if(this.length+o.length<=s0)return new e(this.values.concat(o.flatten()))},e.prototype.leafPrepend=function(o){if(this.length+o.length<=s0)return new e(o.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e})(qn);qn.empty=new AN([]);var Iie=(function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,o,i,s){var a=this.left.length;if(o<a&&this.left.forEachInner(n,o,Math.min(i,a),s)===!1||i>a&&this.right.forEachInner(n,Math.max(o-a,0),Math.min(this.length,i)-a,s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(n,o,i,s){var a=this.left.length;if(o>a&&this.right.forEachInvertedInner(n,o-a,Math.max(i,a)-a,s+a)===!1||i<a&&this.left.forEachInvertedInner(n,Math.min(o,a),i,s)===!1)return!1},e.prototype.sliceInner=function(n,o){if(n==0&&o==this.length)return this;var i=this.left.length;return o<=i?this.left.slice(n,o):n>=i?this.right.slice(n-i,o-i):this.left.slice(n,i).append(this.right.slice(0,o-i))},e.prototype.leafAppend=function(n){var o=this.right.leafAppend(n);if(o)return new e(this.left,o)},e.prototype.leafPrepend=function(n){var o=this.left.leafPrepend(n);if(o)return new e(o,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e})(qn);const Oie=500;class ts{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let o,i;r&&(o=this.remapping(n,this.items.length),i=o.maps.length);let s=e.tr,a,l,p=[],f=[];return this.items.forEach((h,m)=>{if(!h.step){o||(o=this.remapping(n,m+1),i=o.maps.length),i--,f.push(h);return}if(o){f.push(new Ss(h.map));let y=h.step.map(o.slice(i)),v;y&&s.maybeStep(y).doc&&(v=s.mapping.maps[s.mapping.maps.length-1],p.push(new Ss(v,void 0,void 0,p.length+f.length))),i--,v&&o.appendMap(v,i)}else s.maybeStep(h.step);if(h.selection)return a=o?h.selection.map(o.slice(i)):h.selection,l=new ts(this.items.slice(0,n).append(f.reverse().concat(p)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(e,r,n,o){let i=[],s=this.eventCount,a=this.items,l=!o&&a.length?a.get(a.length-1):null;for(let f=0;f<e.steps.length;f++){let h=e.steps[f].invert(e.docs[f]),m=new Ss(e.mapping.maps[f],h,r),y;(y=l&&l.merge(m))&&(m=y,f?i.pop():a=a.slice(0,a.length-1)),i.push(m),r&&(s++,r=void 0),o||(l=m)}let p=s-n.depth;return p>Nie&&(a=Pie(a,p),s-=p),new ts(a.append(i),s)}remapping(e,r){let n=new ph;return this.items.forEach((o,i)=>{let s=o.mirrorOffset!=null&&i-o.mirrorOffset>=e?n.maps.length-o.mirrorOffset:void 0;n.appendMap(o.map,s)},e,r),n}addMaps(e){return this.eventCount==0?this:new ts(this.items.append(e.map(r=>new Ss(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],o=Math.max(0,this.items.length-r),i=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(m=>{m.selection&&a--},o);let l=r;this.items.forEach(m=>{let y=i.getMirror(--l);if(y==null)return;s=Math.min(s,y);let v=i.maps[y];if(m.step){let b=e.steps[y].invert(e.docs[y]),x=m.selection&&m.selection.map(i.slice(l+1,y));x&&a++,n.push(new Ss(v,b,x))}else n.push(new Ss(v))},o);let p=[];for(let m=r;m<s;m++)p.push(new Ss(i.maps[m]));let f=this.items.slice(0,o).append(p).append(n),h=new ts(f,a);return h.emptyItemCount()>Oie&&(h=h.compress(this.items.length-n.length)),h}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,o=[],i=0;return this.items.forEach((s,a)=>{if(a>=e)o.push(s),s.selection&&i++;else if(s.step){let l=s.step.map(r.slice(n)),p=l&&l.getMap();if(n--,p&&r.appendMap(p,n),l){let f=s.selection&&s.selection.map(r.slice(n));f&&i++;let h=new Ss(p.invert(),l,f),m,y=o.length-1;(m=o.length&&o[y].merge(h))?o[y]=m:o.push(h)}}else s.map&&n--},this.items.length,0),new ts(qn.from(o.reverse()),i)}}ts.empty=new ts(qn.empty,0);function Pie(t,e){let r;return t.forEach((n,o)=>{if(n.selection&&e--==0)return r=o,!1}),t.slice(r)}class Ss{constructor(e,r,n,o){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=o}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new Ss(r.getMap().invert(),r,this.selection)}}}class ol{constructor(e,r,n,o,i){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=o,this.prevComposition=i}}const Nie=20;function Lie(t,e,r,n){let o=r.getMeta(qc),i;if(o)return o.historyState;r.getMeta($ie)&&(t=new ol(t.done,t.undone,null,0,-1));let s=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(s&&s.getMeta(qc))return s.getMeta(qc).redo?new ol(t.done.addTransform(r,void 0,n,Vg(e)),t.undone,qA(r.mapping.maps),t.prevTime,t.prevComposition):new ol(t.done,t.undone.addTransform(r,void 0,n,Vg(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=r.getMeta("composition"),l=t.prevTime==0||!s&&t.prevComposition!=a&&(t.prevTime<(r.time||0)-n.newGroupDelay||!Die(r,t.prevRanges)),p=s?t1(t.prevRanges,r.mapping):qA(r.mapping.maps);return new ol(t.done.addTransform(r,l?e.selection.getBookmark():void 0,n,Vg(e)),ts.empty,p,r.time,a??t.prevComposition)}else return(i=r.getMeta("rebased"))?new ol(t.done.rebased(r,i),t.undone.rebased(r,i),t1(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new ol(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),t1(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function Die(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,o)=>{for(let i=0;i<e.length;i+=2)n<=e[i+1]&&o>=e[i]&&(r=!0)}),r}function qA(t){let e=[];for(let r=t.length-1;r>=0&&e.length==0;r--)t[r].forEach((n,o,i,s)=>e.push(i,s));return e}function t1(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let o=e.map(t[n],1),i=e.map(t[n+1],-1);o<=i&&r.push(o,i)}return r}function zie(t,e,r){let n=Vg(e),o=qc.get(e).spec.config,i=(r?t.undone:t.done).popEvent(e,n);if(!i)return null;let s=i.selection.resolve(i.transform.doc),a=(r?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),o,n),l=new ol(r?a:i.remaining,r?i.remaining:a,null,0,-1);return i.transform.setSelection(s).setMeta(qc,{redo:r,historyState:l})}let r1=!1,GA=null;function Vg(t){let e=t.plugins;if(GA!=e){r1=!1,GA=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){r1=!0;break}}return r1}const qc=new In("history"),$ie=new In("closeHistory");function Fie(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new en({key:qc,state:{init(){return new ol(ts.empty,ts.empty,null,0,-1)},apply(e,r,n){return Lie(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,o=n=="historyUndo"?MN:n=="historyRedo"?IN:null;return!o||!e.editable?!1:(r.preventDefault(),o(e.state,e.dispatch))}}}})}function _N(t,e){return(r,n)=>{let o=qc.getState(r);if(!o||(t?o.undone:o.done).eventCount==0)return!1;if(n){let i=zie(o,r,t);i&&n(e?i.scrollIntoView():i)}return!0}}const MN=_N(!1,!0),IN=_N(!0,!0);hn.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const n=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(n)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,r=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(r)}},addProseMirrorPlugins(){let t=!1;return[new en({key:new In("characterCount"),appendTransaction:(e,r,n)=>{if(t)return;const o=this.options.limit;if(o==null||o===0){t=!0;return}const i=this.storage.characters({node:n.doc});if(i>o){const s=i-o,a=0,l=s;console.warn(`[CharacterCount] Initial content exceeded limit of ${o} characters. Content was automatically trimmed.`);const p=n.tr.deleteRange(a,l);return t=!0,p}t=!0},filterTransaction:(e,r)=>{const n=this.options.limit;if(!e.docChanged||n===0||n===null||n===void 0)return!0;const o=this.storage.characters({node:r.doc}),i=this.storage.characters({node:e.doc});if(i<=n||o>n&&i>n&&i<=o)return!0;if(o>n&&i>n&&i>o||!e.getMeta("paste"))return!1;const a=e.selection.$head.pos,l=i-n,p=a-l,f=a;return e.deleteRange(p,f),!(this.storage.characters({node:e.doc})>n)}})]}});var Bie=hn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Cie(this.options)]}});hn.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new en({key:new In("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:r,isFocused:n}=this.editor,{anchor:o}=e,i=[];if(!r||!n)return Xr.create(t,[]);let s=0;this.options.mode==="deepest"&&t.descendants((l,p)=>{if(l.isText)return;if(!(o>=p&&o<=p+l.nodeSize-1))return!1;s+=1});let a=0;return t.descendants((l,p)=>{if(l.isText||!(o>=p&&o<=p+l.nodeSize-1))return!1;if(a+=1,this.options.mode==="deepest"&&s-a>0||this.options.mode==="shallowest"&&a>1)return this.options.mode==="deepest";i.push(Co.node(p,p+l.nodeSize,{class:this.options.className}))}),Xr.create(t,i)}}})]}});var Wie=hn.create({name:"gapCursor",addProseMirrorPlugins(){return[jie()]},extendNodeSchema(t){var e;const r={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Tr(Pt(t,"allowGapCursor",r)))!=null?e:null}}}),KA="placeholder";function Hie(t){return t.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-]/g,"").replace(/^[0-9-]+/,"").replace(/^-+/,"").toLowerCase()}var Uie=hn.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",dataAttribute:KA,placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){const t=this.options.dataAttribute?`data-${Hie(this.options.dataAttribute)}`:`data-${KA}`;return[new en({key:new In("placeholder"),props:{decorations:({doc:e,selection:r})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:o}=r,i=[];if(!n)return null;const s=this.editor.isEmpty;return e.descendants((a,l)=>{const p=o>=l&&o<=l+a.nodeSize,f=!a.isLeaf&&sv(a);if((p||!this.options.showOnlyCurrent)&&f){const h=[this.options.emptyNodeClass];s&&h.push(this.options.emptyEditorClass);const m=Co.node(l,l+a.nodeSize,{class:h.join(" "),[t]:typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:l,hasAnchor:p}):this.options.placeholder});i.push(m)}return this.options.includeChildren}),Xr.create(e,i)}}})]}});hn.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new en({key:new In("selection"),props:{decorations(r){return r.selection.empty||t.isFocused||!t.isEditable||DP(r.selection)||t.view.dragging?null:Xr.create(r.doc,[Co.inline(r.selection.from,r.selection.to,{class:e.className})])}}})]}});function YA({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var Vie=hn.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new In(this.name),r=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",n=Object.entries(this.editor.schema.nodes).map(([,o])=>o).filter(o=>(this.options.notAfter||[]).concat(r).includes(o.name));return[new en({key:e,appendTransaction:(o,i,s)=>{const{doc:a,tr:l,schema:p}=s,f=e.getState(s),h=a.content.size,m=p.nodes[r];if(f)return l.insert(h,m.create())},state:{init:(o,i)=>{const s=i.tr.doc.lastChild;return!YA({node:s,types:n})},apply:(o,i)=>{if(!o.docChanged||o.getMeta("__uniqueIDTransaction"))return i;const s=o.doc.lastChild;return!YA({node:s,types:n})}}})]}}),qie=hn.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>MN(t,e),redo:()=>({state:t,dispatch:e})=>IN(t,e)}},addProseMirrorPlugins(){return[Fie(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Gie=hn.create({name:"starterKit",addExtensions(){var t,e,r,n;const o=[];return this.options.bold!==!1&&o.push(yoe.configure(this.options.bold)),this.options.blockquote!==!1&&o.push(poe.configure(this.options.blockquote)),this.options.bulletList!==!1&&o.push(vN.configure(this.options.bulletList)),this.options.code!==!1&&o.push(boe.configure(this.options.code)),this.options.codeBlock!==!1&&o.push(Coe.configure(this.options.codeBlock)),this.options.document!==!1&&o.push(koe.configure(this.options.document)),this.options.dropcursor!==!1&&o.push(Bie.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&o.push(Wie.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&o.push(Eoe.configure(this.options.hardBreak)),this.options.heading!==!1&&o.push(Toe.configure(this.options.heading)),this.options.undoRedo!==!1&&o.push(qie.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&o.push(joe.configure(this.options.horizontalRule)),this.options.italic!==!1&&o.push(Ioe.configure(this.options.italic)),this.options.listItem!==!1&&o.push(xN.configure(this.options.listItem)),this.options.listKeymap!==!1&&o.push(EN.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&o.push(nie.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&o.push(jN.configure(this.options.orderedList)),this.options.paragraph!==!1&&o.push(yie.configure(this.options.paragraph)),this.options.strike!==!1&&o.push(bie.configure(this.options.strike)),this.options.text!==!1&&o.push(wie.configure(this.options.text)),this.options.underline!==!1&&o.push(Sie.configure((r=this.options)==null?void 0:r.underline)),this.options.trailingNode!==!1&&o.push(Vie.configure((n=this.options)==null?void 0:n.trailingNode)),o}}),Kie=Gie,Yie=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Jie=Uo.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",fn(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,r,n,o,i,s;const a=(r=(e=t.attrs)==null?void 0:e.src)!=null?r:"",l=(o=(n=t.attrs)==null?void 0:n.alt)!=null?o:"",p=(s=(i=t.attrs)==null?void 0:i.title)!=null?s:"";return p?`![${l}](${a} "${p}")`:`![${l}](${a})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:t,minWidth:e,minHeight:r,alwaysPreserveAspectRatio:n}=this.options.resize;return({node:o,getPos:i,HTMLAttributes:s,editor:a})=>{const l=document.createElement("img");Object.entries(s).forEach(([h,m])=>{if(m!=null)switch(h){case"width":case"height":break;default:l.setAttribute(h,m);break}}),l.src=s.src;const p=new qre({element:l,editor:a,node:o,getPos:i,onResize:(h,m)=>{l.style.width=`${h}px`,l.style.height=`${m}px`},onCommit:(h,m)=>{const y=i();y!==void 0&&this.editor.chain().setNodeSelection(y).updateAttributes(this.name,{width:h,height:m}).run()},onUpdate:(h,m,y)=>h.type===o.type,options:{directions:t,min:{width:e,height:r},preserveAspectRatio:n===!0}}),f=p.dom;return f.style.visibility="hidden",f.style.pointerEvents="none",l.onload=()=>{f.style.visibility="",f.style.pointerEvents=""},p}},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[eN({find:Yie,type:this.type,getAttributes:t=>{const[,,e,r,n]=t;return{src:r,alt:e,title:n}}})]}}),Xie=Jie,vn=function(){return vn=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},vn.apply(this,arguments)},JA={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},XA={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},Eg={width:"20px",height:"20px",position:"absolute",zIndex:1},Qie={top:vn(vn({},JA),{top:"-5px"}),right:vn(vn({},XA),{left:void 0,right:"-5px"}),bottom:vn(vn({},JA),{top:void 0,bottom:"-5px"}),left:vn(vn({},XA),{left:"-5px"}),topRight:vn(vn({},Eg),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:vn(vn({},Eg),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:vn(vn({},Eg),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:vn(vn({},Eg),{left:"-10px",top:"-10px",cursor:"nw-resize"})},Zie=S.memo(function(t){var e=t.onResizeStart,r=t.direction,n=t.children,o=t.replaceStyles,i=t.className,s=S.useCallback(function(p){e(p,r)},[e,r]),a=S.useCallback(function(p){e(p,r)},[e,r]),l=S.useMemo(function(){return vn(vn({position:"absolute",userSelect:"none"},Qie[r]),o??{})},[o,r]);return u.jsx("div",{className:i||void 0,style:l,onMouseDown:s,onTouchStart:a,children:n})}),ese=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Cs=function(){return Cs=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Cs.apply(this,arguments)},tse={width:"auto",height:"auto"},Tg=function(t,e,r){return Math.max(Math.min(t,r),e)},QA=function(t,e,r){var n=Math.round(t/e);return n*e+r*(n-1)},qu=function(t,e){return new RegExp(t,"i").test(e)},jg=function(t){return!!(t.touches&&t.touches.length)},rse=function(t){return!!((t.clientX||t.clientX===0)&&(t.clientY||t.clientY===0))},ZA=function(t,e,r){r===void 0&&(r=0);var n=e.reduce(function(i,s,a){return Math.abs(s-t)<Math.abs(e[i]-t)?a:i},0),o=Math.abs(e[n]-t);return r===0||o<r?e[n]:t},n1=function(t){return t=t.toString(),t==="auto"||t.endsWith("px")||t.endsWith("%")||t.endsWith("vh")||t.endsWith("vw")||t.endsWith("vmax")||t.endsWith("vmin")?t:"".concat(t,"px")},Rg=function(t,e,r,n){if(t&&typeof t=="string"){if(t.endsWith("px"))return Number(t.replace("px",""));if(t.endsWith("%")){var o=Number(t.replace("%",""))/100;return e*o}if(t.endsWith("vw")){var o=Number(t.replace("vw",""))/100;return r*o}if(t.endsWith("vh")){var o=Number(t.replace("vh",""))/100;return n*o}}return t},nse=function(t,e,r,n,o,i,s){return n=Rg(n,t.width,e,r),o=Rg(o,t.height,e,r),i=Rg(i,t.width,e,r),s=Rg(s,t.height,e,r),{maxWidth:typeof n>"u"?void 0:Number(n),maxHeight:typeof o>"u"?void 0:Number(o),minWidth:typeof i>"u"?void 0:Number(i),minHeight:typeof s>"u"?void 0:Number(s)}},ose=function(t){return Array.isArray(t)?t:[t,t]},ise=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],e5="__resizable_base__",sse=(function(t){ese(e,t);function e(r){var n,o,i,s,a=t.call(this,r)||this;return a.ratio=1,a.resizable=null,a.parentLeft=0,a.parentTop=0,a.resizableLeft=0,a.resizableRight=0,a.resizableTop=0,a.resizableBottom=0,a.targetLeft=0,a.targetTop=0,a.delta={width:0,height:0},a.appendBase=function(){if(!a.resizable||!a.window)return null;var l=a.parentNode;if(!l)return null;var p=a.window.document.createElement("div");return p.style.width="100%",p.style.height="100%",p.style.position="absolute",p.style.transform="scale(0, 0)",p.style.left="0",p.style.flex="0 0 100%",p.classList?p.classList.add(e5):p.className+=e5,l.appendChild(p),p},a.removeBase=function(l){var p=a.parentNode;p&&p.removeChild(l)},a.state={isResizing:!1,width:(o=(n=a.propsSize)===null||n===void 0?void 0:n.width)!==null&&o!==void 0?o:"auto",height:(s=(i=a.propsSize)===null||i===void 0?void 0:i.height)!==null&&s!==void 0?s:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},a.onResizeStart=a.onResizeStart.bind(a),a.onMouseMove=a.onMouseMove.bind(a),a.onMouseUp=a.onMouseUp.bind(a),a}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||tse},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){var r=0,n=0;if(this.resizable&&this.window){var o=this.resizable.offsetWidth,i=this.resizable.offsetHeight,s=this.resizable.style.position;s!=="relative"&&(this.resizable.style.position="relative"),r=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:o,n=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:i,this.resizable.style.position=s}return{width:r,height:n}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeStyle",{get:function(){var r=this,n=this.props.size,o=function(a){var l;if(typeof r.state[a]>"u"||r.state[a]==="auto")return"auto";if(r.propsSize&&r.propsSize[a]&&(!((l=r.propsSize[a])===null||l===void 0)&&l.toString().endsWith("%"))){if(r.state[a].toString().endsWith("%"))return r.state[a].toString();var p=r.getParentSize(),f=Number(r.state[a].toString().replace("px","")),h=f/p[a]*100;return"".concat(h,"%")}return n1(r.state[a])},i=n&&typeof n.width<"u"&&!this.state.isResizing?n1(n.width):o("width"),s=n&&typeof n.height<"u"&&!this.state.isResizing?n1(n.height):o("height");return{width:i,height:s}},enumerable:!1,configurable:!0}),e.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var r=this.appendBase();if(!r)return{width:0,height:0};var n=!1,o=this.parentNode.style.flexWrap;o!=="wrap"&&(n=!0,this.parentNode.style.flexWrap="wrap"),r.style.position="relative",r.style.minWidth="100%",r.style.minHeight="100%";var i={width:r.offsetWidth,height:r.offsetHeight};return n&&(this.parentNode.style.flexWrap=o),this.removeBase(r),i},e.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},e.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},e.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var r=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:r.flexBasis!=="auto"?r.flexBasis:void 0})}},e.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},e.prototype.createSizeForCssProperty=function(r,n){var o=this.propsSize&&this.propsSize[n];return this.state[n]==="auto"&&this.state.original[n]===r&&(typeof o>"u"||o==="auto")?"auto":r},e.prototype.calculateNewMaxFromBoundary=function(r,n){var o=this.props.boundsByDirection,i=this.state.direction,s=o&&qu("left",i),a=o&&qu("top",i),l,p;if(this.props.bounds==="parent"){var f=this.parentNode;f&&(l=s?this.resizableRight-this.parentLeft:f.offsetWidth+(this.parentLeft-this.resizableLeft),p=a?this.resizableBottom-this.parentTop:f.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(l=s?this.resizableRight:this.window.innerWidth-this.resizableLeft,p=a?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(l=s?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),p=a?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return l&&Number.isFinite(l)&&(r=r&&r<l?r:l),p&&Number.isFinite(p)&&(n=n&&n<p?n:p),{maxWidth:r,maxHeight:n}},e.prototype.calculateNewSizeFromDirection=function(r,n){var o=this.props.scale||1,i=ose(this.props.resizeRatio||1),s=i[0],a=i[1],l=this.state,p=l.direction,f=l.original,h=this.props,m=h.lockAspectRatio,y=h.lockAspectRatioExtraHeight,v=h.lockAspectRatioExtraWidth,b=f.width,x=f.height,C=y||0,E=v||0;return qu("right",p)&&(b=f.width+(r-f.x)*s/o,m&&(x=(b-E)/this.ratio+C)),qu("left",p)&&(b=f.width-(r-f.x)*s/o,m&&(x=(b-E)/this.ratio+C)),qu("bottom",p)&&(x=f.height+(n-f.y)*a/o,m&&(b=(x-C)*this.ratio+E)),qu("top",p)&&(x=f.height-(n-f.y)*a/o,m&&(b=(x-C)*this.ratio+E)),{newWidth:b,newHeight:x}},e.prototype.calculateNewSizeFromAspectRatio=function(r,n,o,i){var s=this.props,a=s.lockAspectRatio,l=s.lockAspectRatioExtraHeight,p=s.lockAspectRatioExtraWidth,f=typeof i.width>"u"?10:i.width,h=typeof o.width>"u"||o.width<0?r:o.width,m=typeof i.height>"u"?10:i.height,y=typeof o.height>"u"||o.height<0?n:o.height,v=l||0,b=p||0;if(a){var x=(m-v)*this.ratio+b,C=(y-v)*this.ratio+b,E=(f-b)/this.ratio+v,j=(h-b)/this.ratio+v,T=Math.max(f,x),k=Math.min(h,C),A=Math.max(m,E),_=Math.min(y,j);r=Tg(r,T,k),n=Tg(n,A,_)}else r=Tg(r,f,h),n=Tg(n,m,y);return{newWidth:r,newHeight:n}},e.prototype.setBoundingClientRect=function(){var r=1/(this.props.scale||1);if(this.props.bounds==="parent"){var n=this.parentNode;if(n){var o=n.getBoundingClientRect();this.parentLeft=o.left*r,this.parentTop=o.top*r}}if(this.props.bounds&&typeof this.props.bounds!="string"){var i=this.props.bounds.getBoundingClientRect();this.targetLeft=i.left*r,this.targetTop=i.top*r}if(this.resizable){var s=this.resizable.getBoundingClientRect(),a=s.left,l=s.top,p=s.right,f=s.bottom;this.resizableLeft=a*r,this.resizableRight=p*r,this.resizableTop=l*r,this.resizableBottom=f*r}},e.prototype.onResizeStart=function(r,n){if(!(!this.resizable||!this.window)){var o=0,i=0;if(r.nativeEvent&&rse(r.nativeEvent)?(o=r.nativeEvent.clientX,i=r.nativeEvent.clientY):r.nativeEvent&&jg(r.nativeEvent)&&(o=r.nativeEvent.touches[0].clientX,i=r.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var s=this.props.onResizeStart(r,n,this.resizable);if(s===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var a,l=this.window.getComputedStyle(this.resizable);if(l.flexBasis!=="auto"){var p=this.parentNode;if(p){var f=this.window.getComputedStyle(p).flexDirection;this.flexDir=f.startsWith("row")?"row":"column",a=l.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var h={original:{x:o,y:i,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Cs(Cs({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(r.target).cursor||"auto"}),direction:n,flexBasis:a};this.setState(h)}},e.prototype.onMouseMove=function(r){var n=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&jg(r))try{r.preventDefault(),r.stopPropagation()}catch{}var o=this.props,i=o.maxWidth,s=o.maxHeight,a=o.minWidth,l=o.minHeight,p=jg(r)?r.touches[0].clientX:r.clientX,f=jg(r)?r.touches[0].clientY:r.clientY,h=this.state,m=h.direction,y=h.original,v=h.width,b=h.height,x=this.getParentSize(),C=nse(x,this.window.innerWidth,this.window.innerHeight,i,s,a,l);i=C.maxWidth,s=C.maxHeight,a=C.minWidth,l=C.minHeight;var E=this.calculateNewSizeFromDirection(p,f),j=E.newHeight,T=E.newWidth,k=this.calculateNewMaxFromBoundary(i,s);this.props.snap&&this.props.snap.x&&(T=ZA(T,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(j=ZA(j,this.props.snap.y,this.props.snapGap));var A=this.calculateNewSizeFromAspectRatio(T,j,{width:k.maxWidth,height:k.maxHeight},{width:a,height:l});if(T=A.newWidth,j=A.newHeight,this.props.grid){var _=QA(T,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),I=QA(j,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),P=this.props.snapGap||0,N=P===0||Math.abs(_-T)<=P?_:T,B=P===0||Math.abs(I-j)<=P?I:j;T=N,j=B}var O={width:T-y.width,height:j-y.height};if(this.delta=O,v&&typeof v=="string"){if(v.endsWith("%")){var D=T/x.width*100;T="".concat(D,"%")}else if(v.endsWith("vw")){var F=T/this.window.innerWidth*100;T="".concat(F,"vw")}else if(v.endsWith("vh")){var U=T/this.window.innerHeight*100;T="".concat(U,"vh")}}if(b&&typeof b=="string"){if(b.endsWith("%")){var D=j/x.height*100;j="".concat(D,"%")}else if(b.endsWith("vw")){var F=j/this.window.innerWidth*100;j="".concat(F,"vw")}else if(b.endsWith("vh")){var U=j/this.window.innerHeight*100;j="".concat(U,"vh")}}var V={width:this.createSizeForCssProperty(T,"width"),height:this.createSizeForCssProperty(j,"height")};this.flexDir==="row"?V.flexBasis=V.width:this.flexDir==="column"&&(V.flexBasis=V.height);var G=this.state.width!==V.width,W=this.state.height!==V.height,K=this.state.flexBasis!==V.flexBasis,H=G||W||K;H&&ua.flushSync(function(){n.setState(V)}),this.props.onResize&&H&&this.props.onResize(r,m,this.resizable,O)}},e.prototype.onMouseUp=function(r){var n,o,i=this.state,s=i.isResizing,a=i.direction;i.original,!(!s||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(r,a,this.resizable,this.delta),this.props.size&&this.setState({width:(n=this.props.size.width)!==null&&n!==void 0?n:"auto",height:(o=this.props.size.height)!==null&&o!==void 0?o:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Cs(Cs({},this.state.backgroundStyle),{cursor:"auto"})}))},e.prototype.updateSize=function(r){var n,o;this.setState({width:(n=r.width)!==null&&n!==void 0?n:"auto",height:(o=r.height)!==null&&o!==void 0?o:"auto"})},e.prototype.renderResizer=function(){var r=this,n=this.props,o=n.enable,i=n.handleStyles,s=n.handleClasses,a=n.handleWrapperStyle,l=n.handleWrapperClass,p=n.handleComponent;if(!o)return null;var f=Object.keys(o).map(function(h){return o[h]!==!1?u.jsx(Zie,{direction:h,onResizeStart:r.onResizeStart,replaceStyles:i&&i[h],className:s&&s[h],children:p&&p[h]?p[h]:null},h):null});return u.jsx("div",{className:l,style:a,children:f})},e.prototype.render=function(){var r=this,n=Object.keys(this.props).reduce(function(s,a){return ise.indexOf(a)!==-1||(s[a]=r.props[a]),s},{}),o=Cs(Cs(Cs({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(o.flexBasis=this.state.flexBasis);var i=this.props.as||"div";return u.jsxs(i,Cs({style:o,className:this.props.className},n,{ref:function(s){s&&(r.resizable=s)},children:[this.state.isResizing&&u.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},e.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},e})(S.PureComponent);const ase=t=>{const{src:e,alt:r,title:n,width:o,height:i,align:s}=t.node.attrs,[a,l]=S.useState({width:o||"100%",height:i||"auto"}),[p,f]=S.useState(void 0);S.useEffect(()=>{l({width:o||"100%",height:i||"auto"})},[o,i]);const h=y=>{const v=y.currentTarget,b=v.naturalWidth/v.naturalHeight;if(f(b),!o||o==="100%"){const x=v.naturalWidth,C=v.naturalHeight;l({width:x,height:C}),o||t.updateAttributes({width:x,height:C})}},m=()=>{const y={maxWidth:"100%",position:"relative",display:"inline-block"};return s==="left"?(y.float="left",y.marginRight="1rem",y.marginBottom="0.5rem"):s==="right"?(y.float="right",y.marginLeft="1rem",y.marginBottom="0.5rem"):(y.display="flex",y.justifyContent="center",y.margin="0 auto"),y};return u.jsx(noe,{style:m(),children:u.jsxs(sse,{size:{width:a.width,height:a.height},lockAspectRatio:p||!0,minWidth:50,minHeight:50,onResizeStop:(y,v,b,x)=>{const C=b.style.width,E=b.style.height;l({width:C,height:E}),t.updateAttributes({width:C,height:E})},enable:{top:!1,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},handleStyles:{bottomRight:{bottom:0,right:0}},style:{border:t.selected?"2px solid #d4af37":"2px solid transparent",transition:"border-color 0.2s",position:"relative",margin:s==="center"?"0 auto":void 0,display:"inline-block",verticalAlign:"top"},maxWidth:"100%",children:[u.jsx("img",{src:e,alt:r,title:n,onLoad:h,style:{width:"100%",height:"100%",objectFit:"fill",display:"block"}}),t.selected&&u.jsxs(St,{elevation:3,sx:{position:"absolute",top:10,right:10,zIndex:20,display:"flex",gap:.5,p:.5,bgcolor:"rgba(0,0,0,0.8)",borderRadius:1,whiteSpace:"nowrap"},children:[u.jsx(pt,{size:"small",onClick:()=>t.updateAttributes({align:"left"}),sx:{color:s==="left"?"#d4af37":"#fff"},children:u.jsx(ZM,{fontSize:"small"})}),u.jsx(pt,{size:"small",onClick:()=>t.updateAttributes({align:"center"}),sx:{color:!s||s==="center"?"#d4af37":"#fff"},children:u.jsx(QM,{fontSize:"small"})}),u.jsx(pt,{size:"small",onClick:()=>t.updateAttributes({align:"right"}),sx:{color:s==="right"?"#d4af37":"#fff"},children:u.jsx(eI,{fontSize:"small"})})]})]})})},lse=Xie.extend({addAttributes(){var t;return{...(t=this.parent)==null?void 0:t.call(this),width:{default:null,renderHTML:e=>e.width?{width:e.width}:{}},height:{default:null,renderHTML:e=>e.height?{height:e.height}:{}},align:{default:"center",renderHTML:e=>e.align?{"data-align":e.align}:{}}}},addNodeView(){return coe(ase)}});var cse=Uie,use=hn.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(r=>e.updateAttributes(r,{textAlign:t})).some(r=>r):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).some(e=>e),toggleTextAlign:t=>({editor:e,commands:r})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?r.unsetTextAlign():r.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),dse=use;const pse=Wl.create({name:"spoiler",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t instanceof HTMLElement&&t.classList.contains("spoiler")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",fn(this.options.HTMLAttributes,t,{class:"spoiler"}),0]},addCommands(){return{toggleSpoiler:()=>({commands:t})=>t.toggleMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleSpoiler()}}}),fse=({editor:t,addImage:e})=>{if(!t)return null;const r={color:"#d4af37","&.is-active":{backgroundColor:"rgba(212, 175, 55, 0.2)",color:"#fff"},"&:hover":{backgroundColor:"rgba(212, 175, 55, 0.1)"}};return u.jsxs(L,{sx:{display:"flex",flexWrap:"wrap",gap:.5,padding:"0.5rem",borderBottom:"1px solid rgba(212, 175, 55, 0.3)",backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:"8px 8px 0 0"},children:[u.jsx(dr,{title:"Negrita",children:u.jsx("span",{children:u.jsx(pt,{onClick:()=>t.chain().focus().toggleBold().run(),disabled:!t.can().chain().focus().toggleBold().run(),className:t.isActive("bold")?"is-active":"",sx:r,size:"small",children:u.jsx(mK,{fontSize:"small"})})})}),u.jsx(dr,{title:"Cursiva",children:u.jsx("span",{children:u.jsx(pt,{onClick:()=>t.chain().focus().toggleItalic().run(),disabled:!t.can().chain().focus().toggleItalic().run(),className:t.isActive("italic")?"is-active":"",sx:r,size:"small",children:u.jsx(yK,{fontSize:"small"})})})}),u.jsx(dr,{title:"Subrayado",children:u.jsx(pt,{onClick:()=>t.chain().focus().toggleUnderline().run(),className:t.isActive("underline")?"is-active":"",sx:r,size:"small",children:u.jsx(bK,{fontSize:"small"})})}),u.jsx(dr,{title:"Tachado",children:u.jsx("span",{children:u.jsx(pt,{onClick:()=>t.chain().focus().toggleStrike().run(),disabled:!t.can().chain().focus().toggleStrike().run(),className:t.isActive("strike")?"is-active":"",sx:r,size:"small",children:u.jsx(XK,{fontSize:"small"})})})}),u.jsx(dr,{title:"Cdigo",children:u.jsx("span",{children:u.jsx(pt,{onClick:()=>t.chain().focus().toggleCode().run(),disabled:!t.can().chain().focus().toggleCode().run(),className:t.isActive("code")?"is-active":"",sx:r,size:"small",children:u.jsx(rK,{fontSize:"small"})})})}),u.jsx(Ir,{orientation:"vertical",flexItem:!0,sx:{borderColor:"rgba(212, 175, 55, 0.3)",mx:.5}}),u.jsx(dr,{title:"Ttulo 1",children:u.jsx(pt,{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:t.isActive("heading",{level:1})?"is-active":"",sx:r,size:"small",children:u.jsx(Oj,{fontSize:"small"})})}),u.jsx(dr,{title:"Ttulo 2",children:u.jsx(pt,{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:t.isActive("heading",{level:2})?"is-active":"",sx:r,size:"small",children:u.jsx(Oj,{fontSize:"small",sx:{transform:"scale(0.8)"}})})}),u.jsx(Ir,{orientation:"vertical",flexItem:!0,sx:{borderColor:"rgba(212, 175, 55, 0.3)",mx:.5}}),u.jsx(dr,{title:"Alinear a la Izquierda",children:u.jsx(pt,{onClick:()=>t.chain().focus().setTextAlign("left").run(),className:t.isActive({textAlign:"left"})?"is-active":"",sx:r,size:"small",children:u.jsx(ZM,{fontSize:"small"})})}),u.jsx(dr,{title:"Centrar",children:u.jsx(pt,{onClick:()=>t.chain().focus().setTextAlign("center").run(),className:t.isActive({textAlign:"center"})?"is-active":"",sx:r,size:"small",children:u.jsx(QM,{fontSize:"small"})})}),u.jsx(dr,{title:"Alinear a la Derecha",children:u.jsx(pt,{onClick:()=>t.chain().focus().setTextAlign("right").run(),className:t.isActive({textAlign:"right"})?"is-active":"",sx:r,size:"small",children:u.jsx(eI,{fontSize:"small"})})}),u.jsx(dr,{title:"Justificar",children:u.jsx(pt,{onClick:()=>t.chain().focus().setTextAlign("justify").run(),className:t.isActive({textAlign:"justify"})?"is-active":"",sx:r,size:"small",children:u.jsx(hK,{fontSize:"small"})})}),u.jsx(Ir,{orientation:"vertical",flexItem:!0,sx:{borderColor:"rgba(212, 175, 55, 0.3)",mx:.5}}),u.jsx(dr,{title:"Lista con vietas",children:u.jsx(pt,{onClick:()=>t.chain().focus().toggleBulletList().run(),className:t.isActive("bulletList")?"is-active":"",sx:r,size:"small",children:u.jsx(vK,{fontSize:"small"})})}),u.jsx(dr,{title:"Lista Numerada",children:u.jsx(pt,{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:t.isActive("orderedList")?"is-active":"",sx:r,size:"small",children:u.jsx(xK,{fontSize:"small"})})}),u.jsx(Ir,{orientation:"vertical",flexItem:!0,sx:{borderColor:"rgba(212, 175, 55, 0.3)",mx:.5}}),u.jsx(dr,{title:"Cita",children:u.jsx(pt,{onClick:()=>t.chain().focus().toggleBlockquote().run(),className:t.isActive("blockquote")?"is-active":"",sx:r,size:"small",children:u.jsx(tI,{fontSize:"small"})})}),u.jsx(dr,{title:"Lnea Horizontal",children:u.jsx(pt,{onClick:()=>t.chain().focus().setHorizontalRule().run(),sx:r,size:"small",children:u.jsx(EK,{fontSize:"small"})})}),e&&u.jsxs(u.Fragment,{children:[u.jsx(Ir,{orientation:"vertical",flexItem:!0,sx:{borderColor:"rgba(212, 175, 55, 0.3)",mx:.5}}),u.jsx(dr,{title:"Subir Imagen",children:u.jsx(pt,{onClick:e,sx:r,size:"small",children:u.jsx(TK,{fontSize:"small"})})})]}),u.jsx(dr,{title:"Spoiler",children:u.jsx(pt,{onClick:()=>t.chain().focus().toggleSpoiler().run(),className:t.isActive("spoiler")?"is-active":"",sx:r,size:"small",children:u.jsx(pI,{fontSize:"small"})})}),u.jsx(Ir,{orientation:"vertical",flexItem:!0,sx:{borderColor:"rgba(212, 175, 55, 0.3)",mx:.5}}),u.jsx(dr,{title:"Deshacer",children:u.jsx("span",{children:u.jsx(pt,{onClick:()=>t.chain().focus().undo().run(),disabled:!t.can().chain().focus().undo().run(),sx:r,size:"small",children:u.jsx(QK,{fontSize:"small"})})})}),u.jsx(dr,{title:"Rehacer",children:u.jsx("span",{children:u.jsx(pt,{onClick:()=>t.chain().focus().redo().run(),disabled:!t.can().chain().focus().redo().run(),sx:r,size:"small",children:u.jsx(WK,{fontSize:"small"})})})}),u.jsx(Ir,{orientation:"vertical",flexItem:!0,sx:{borderColor:"rgba(212, 175, 55, 0.3)",mx:.5}}),u.jsx(dr,{title:"Limpiar Formato",children:u.jsx(pt,{onClick:()=>t.chain().focus().unsetAllMarks().run(),sx:{...r,color:"#d32f2f"},size:"small",children:u.jsx(gK,{fontSize:"small"})})})]})},Ul=({content:t="",onChange:e,editable:r=!0,placeholder:n="Escribe algo pico...",onImageUpload:o})=>{const i=async()=>{if(!o)return;const a=document.createElement("input");a.type="file",a.accept="image/*",a.onchange=async()=>{var l;if((l=a.files)!=null&&l.length){const p=a.files[0],f=await o(p);f&&s&&s.chain().focus().setImage({src:f}).run()}},a.click()},s=toe({extensions:[Kie,lse,dse.configure({types:["heading","paragraph"],alignments:["left","center","right","justify"],defaultAlignment:"left"}),cse.configure({placeholder:n}),pse],content:t,editable:r,onUpdate:({editor:a})=>{e==null||e(a.getHTML())},editorProps:{attributes:{class:"prose prose-invert focus:outline-none min-h-[150px] p-4"},handleDrop:(a,l,p,f)=>{if(!f&&l.dataTransfer&&l.dataTransfer.files&&l.dataTransfer.files.length>0){const h=l.dataTransfer.files[0];if(h.type.startsWith("image/")&&o)return l.preventDefault(),o(h).then(m=>{if(m){const{schema:y}=a.state,v=a.posAtCoords({left:l.clientX,top:l.clientY});if(v){const b=y.nodes.image.create({src:m}),x=a.state.tr.insert(v.pos,b);a.dispatch(x)}}}),!0}return!1},handlePaste:(a,l,p)=>{if(l.clipboardData&&l.clipboardData.files&&l.clipboardData.files.length>0){const f=l.clipboardData.files[0];if(f.type.startsWith("image/")&&o)return l.preventDefault(),o(f).then(h=>{h&&(s==null||s.chain().focus().setImage({src:h}).run())}),!0}return!1}}});return S.useEffect(()=>{s&&t!==s.getHTML()&&s.commands.setContent(t)},[t,s]),u.jsxs(St,{elevation:3,sx:{overflow:"hidden",borderRadius:"8px",border:"1px solid rgba(212, 175, 55, 0.5)",backgroundColor:"rgba(20, 20, 20, 0.9)",color:"#e0e0e0","& .ProseMirror":{minHeight:"150px",maxHeight:"500px",overflowY:"auto",padding:"1rem",outline:"none","& p.is-editor-empty:first-of-type::before":{color:"#666",content:"attr(data-placeholder)",float:"left",height:0,pointerEvents:"none"},"& blockquote":{borderLeft:"3px solid #d4af37",paddingLeft:"1rem",fontStyle:"italic",color:"#aaa"},"& img":{maxWidth:"100%",borderRadius:"4px",border:"1px solid #444"}}},children:[u.jsx(G_,{styles:{".spoiler":{backgroundColor:"#000",color:"#000",cursor:"pointer",borderRadius:"4px",padding:"0 4px",transition:"color 0.2s"},".spoiler:hover":{color:"#fff"}}}),r&&u.jsx(fse,{editor:s,addImage:o?i:void 0}),u.jsx(nN,{editor:s})]})};var ef={},Gu={},Ag={},Xa={},mc={},o1={},t5;function ON(){return t5||(t5=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var e;(function(n){n.Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype"})(e=t.ElementType||(t.ElementType={}));function r(n){return n.type===e.Tag||n.type===e.Script||n.type===e.Style}t.isTag=r,t.Root=e.Root,t.Text=e.Text,t.Directive=e.Directive,t.Comment=e.Comment,t.Script=e.Script,t.Style=e.Style,t.Tag=e.Tag,t.CDATA=e.CDATA,t.Doctype=e.Doctype})(o1)),o1}var Xt={},r5;function n5(){if(r5)return Xt;r5=1;var t=Xt&&Xt.__extends||(function(){var k=function(A,_){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,P){I.__proto__=P}||function(I,P){for(var N in P)Object.prototype.hasOwnProperty.call(P,N)&&(I[N]=P[N])},k(A,_)};return function(A,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");k(A,_);function I(){this.constructor=A}A.prototype=_===null?Object.create(_):(I.prototype=_.prototype,new I)}})(),e=Xt&&Xt.__assign||function(){return e=Object.assign||function(k){for(var A,_=1,I=arguments.length;_<I;_++){A=arguments[_];for(var P in A)Object.prototype.hasOwnProperty.call(A,P)&&(k[P]=A[P])}return k},e.apply(this,arguments)};Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.cloneNode=Xt.hasChildren=Xt.isDocument=Xt.isDirective=Xt.isComment=Xt.isText=Xt.isCDATA=Xt.isTag=Xt.Element=Xt.Document=Xt.CDATA=Xt.NodeWithChildren=Xt.ProcessingInstruction=Xt.Comment=Xt.Text=Xt.DataNode=Xt.Node=void 0;var r=ON(),n=(function(){function k(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(k.prototype,"parentNode",{get:function(){return this.parent},set:function(A){this.parent=A},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"previousSibling",{get:function(){return this.prev},set:function(A){this.prev=A},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"nextSibling",{get:function(){return this.next},set:function(A){this.next=A},enumerable:!1,configurable:!0}),k.prototype.cloneNode=function(A){return A===void 0&&(A=!1),j(this,A)},k})();Xt.Node=n;var o=(function(k){t(A,k);function A(_){var I=k.call(this)||this;return I.data=_,I}return Object.defineProperty(A.prototype,"nodeValue",{get:function(){return this.data},set:function(_){this.data=_},enumerable:!1,configurable:!0}),A})(n);Xt.DataNode=o;var i=(function(k){t(A,k);function A(){var _=k!==null&&k.apply(this,arguments)||this;return _.type=r.ElementType.Text,_}return Object.defineProperty(A.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),A})(o);Xt.Text=i;var s=(function(k){t(A,k);function A(){var _=k!==null&&k.apply(this,arguments)||this;return _.type=r.ElementType.Comment,_}return Object.defineProperty(A.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),A})(o);Xt.Comment=s;var a=(function(k){t(A,k);function A(_,I){var P=k.call(this,I)||this;return P.name=_,P.type=r.ElementType.Directive,P}return Object.defineProperty(A.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),A})(o);Xt.ProcessingInstruction=a;var l=(function(k){t(A,k);function A(_){var I=k.call(this)||this;return I.children=_,I}return Object.defineProperty(A.prototype,"firstChild",{get:function(){var _;return(_=this.children[0])!==null&&_!==void 0?_:null},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"childNodes",{get:function(){return this.children},set:function(_){this.children=_},enumerable:!1,configurable:!0}),A})(n);Xt.NodeWithChildren=l;var p=(function(k){t(A,k);function A(){var _=k!==null&&k.apply(this,arguments)||this;return _.type=r.ElementType.CDATA,_}return Object.defineProperty(A.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),A})(l);Xt.CDATA=p;var f=(function(k){t(A,k);function A(){var _=k!==null&&k.apply(this,arguments)||this;return _.type=r.ElementType.Root,_}return Object.defineProperty(A.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),A})(l);Xt.Document=f;var h=(function(k){t(A,k);function A(_,I,P,N){P===void 0&&(P=[]),N===void 0&&(N=_==="script"?r.ElementType.Script:_==="style"?r.ElementType.Style:r.ElementType.Tag);var B=k.call(this,P)||this;return B.name=_,B.attribs=I,B.type=N,B}return Object.defineProperty(A.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"tagName",{get:function(){return this.name},set:function(_){this.name=_},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"attributes",{get:function(){var _=this;return Object.keys(this.attribs).map(function(I){var P,N;return{name:I,value:_.attribs[I],namespace:(P=_["x-attribsNamespace"])===null||P===void 0?void 0:P[I],prefix:(N=_["x-attribsPrefix"])===null||N===void 0?void 0:N[I]}})},enumerable:!1,configurable:!0}),A})(l);Xt.Element=h;function m(k){return(0,r.isTag)(k)}Xt.isTag=m;function y(k){return k.type===r.ElementType.CDATA}Xt.isCDATA=y;function v(k){return k.type===r.ElementType.Text}Xt.isText=v;function b(k){return k.type===r.ElementType.Comment}Xt.isComment=b;function x(k){return k.type===r.ElementType.Directive}Xt.isDirective=x;function C(k){return k.type===r.ElementType.Root}Xt.isDocument=C;function E(k){return Object.prototype.hasOwnProperty.call(k,"children")}Xt.hasChildren=E;function j(k,A){A===void 0&&(A=!1);var _;if(v(k))_=new i(k.data);else if(b(k))_=new s(k.data);else if(m(k)){var I=A?T(k.children):[],P=new h(k.name,e({},k.attribs),I);I.forEach(function(D){return D.parent=P}),k.namespace!=null&&(P.namespace=k.namespace),k["x-attribsNamespace"]&&(P["x-attribsNamespace"]=e({},k["x-attribsNamespace"])),k["x-attribsPrefix"]&&(P["x-attribsPrefix"]=e({},k["x-attribsPrefix"])),_=P}else if(y(k)){var I=A?T(k.children):[],N=new p(I);I.forEach(function(F){return F.parent=N}),_=N}else if(C(k)){var I=A?T(k.children):[],B=new f(I);I.forEach(function(F){return F.parent=B}),k["x-mode"]&&(B["x-mode"]=k["x-mode"]),_=B}else if(x(k)){var O=new a(k.name,k.data);k["x-name"]!=null&&(O["x-name"]=k["x-name"],O["x-publicId"]=k["x-publicId"],O["x-systemId"]=k["x-systemId"]),_=O}else throw new Error("Not implemented yet: ".concat(k.type));return _.startIndex=k.startIndex,_.endIndex=k.endIndex,k.sourceCodeLocation!=null&&(_.sourceCodeLocation=k.sourceCodeLocation),_}Xt.cloneNode=j;function T(k){for(var A=k.map(function(I){return j(I,!0)}),_=1;_<A.length;_++)A[_].prev=A[_-1],A[_-1].next=A[_];return A}return Xt}var o5;function PN(){return o5||(o5=1,(function(t){var e=mc&&mc.__createBinding||(Object.create?(function(a,l,p,f){f===void 0&&(f=p);var h=Object.getOwnPropertyDescriptor(l,p);(!h||("get"in h?!l.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return l[p]}}),Object.defineProperty(a,f,h)}):(function(a,l,p,f){f===void 0&&(f=p),a[f]=l[p]})),r=mc&&mc.__exportStar||function(a,l){for(var p in a)p!=="default"&&!Object.prototype.hasOwnProperty.call(l,p)&&e(l,a,p)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var n=ON(),o=n5();r(n5(),t);var i={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},s=(function(){function a(l,p,f){this.dom=[],this.root=new o.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof p=="function"&&(f=p,p=i),typeof l=="object"&&(p=l,l=void 0),this.callback=l??null,this.options=p??i,this.elementCB=f??null}return a.prototype.onparserinit=function(l){this.parser=l},a.prototype.onreset=function(){this.dom=[],this.root=new o.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},a.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},a.prototype.onerror=function(l){this.handleCallback(l)},a.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(l)},a.prototype.onopentag=function(l,p){var f=this.options.xmlMode?n.ElementType.Tag:void 0,h=new o.Element(l,p,void 0,f);this.addNode(h),this.tagStack.push(h)},a.prototype.ontext=function(l){var p=this.lastNode;if(p&&p.type===n.ElementType.Text)p.data+=l,this.options.withEndIndices&&(p.endIndex=this.parser.endIndex);else{var f=new o.Text(l);this.addNode(f),this.lastNode=f}},a.prototype.oncomment=function(l){if(this.lastNode&&this.lastNode.type===n.ElementType.Comment){this.lastNode.data+=l;return}var p=new o.Comment(l);this.addNode(p),this.lastNode=p},a.prototype.oncommentend=function(){this.lastNode=null},a.prototype.oncdatastart=function(){var l=new o.Text(""),p=new o.CDATA([l]);this.addNode(p),l.parent=p,this.lastNode=l},a.prototype.oncdataend=function(){this.lastNode=null},a.prototype.onprocessinginstruction=function(l,p){var f=new o.ProcessingInstruction(l,p);this.addNode(f)},a.prototype.handleCallback=function(l){if(typeof this.callback=="function")this.callback(l,this.dom);else if(l)throw l},a.prototype.addNode=function(l){var p=this.tagStack[this.tagStack.length-1],f=p.children[p.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex),this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),p.children.push(l),f&&(l.prev=f,f.next=l),l.parent=p,this.lastNode=null},a})();t.DomHandler=s,t.default=s})(mc)),mc}var i1={},i5;function hse(){return i5||(i5=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CARRIAGE_RETURN_PLACEHOLDER_REGEX=t.CARRIAGE_RETURN_PLACEHOLDER=t.CARRIAGE_RETURN_REGEX=t.CARRIAGE_RETURN=t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES=void 0,t.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES.reduce(function(e,r){return e[r.toLowerCase()]=r,e},{}),t.CARRIAGE_RETURN="\r",t.CARRIAGE_RETURN_REGEX=new RegExp(t.CARRIAGE_RETURN,"g"),t.CARRIAGE_RETURN_PLACEHOLDER="__HTML_DOM_PARSER_CARRIAGE_RETURN_PLACEHOLDER_".concat(Date.now().toString(),"__"),t.CARRIAGE_RETURN_PLACEHOLDER_REGEX=new RegExp(t.CARRIAGE_RETURN_PLACEHOLDER,"g")})(i1)),i1}var s5;function NN(){if(s5)return Xa;s5=1,Object.defineProperty(Xa,"__esModule",{value:!0}),Xa.formatAttributes=n,Xa.hasOpenTag=i,Xa.escapeSpecialCharacters=s,Xa.revertEscapedCharacters=a,Xa.formatDOM=l;var t=PN(),e=hse();function r(p){return e.CASE_SENSITIVE_TAG_NAMES_MAP[p]}function n(p){for(var f={},h=0,m=p.length;h<m;h++){var y=p[h];f[y.name]=y.value}return f}function o(p){p=p.toLowerCase();var f=r(p);return f||p}function i(p,f){var h="<"+f,m=p.toLowerCase().indexOf(h);if(m===-1)return!1;var y=p[m+h.length];return y===">"||y===" "||y==="	"||y===`
`||y==="\r"||y==="/"}function s(p){return p.replace(e.CARRIAGE_RETURN_REGEX,e.CARRIAGE_RETURN_PLACEHOLDER)}function a(p){return p.replace(e.CARRIAGE_RETURN_PLACEHOLDER_REGEX,e.CARRIAGE_RETURN)}function l(p,f,h){var m,y,v,b;f===void 0&&(f=null);for(var x=[],C,E=0,j=p.length;E<j;E++){var T=p[E];switch(T.nodeType){case 1:{var k=o(T.nodeName);C=new t.Element(k,n(T.attributes)),C.children=l(k==="template"?T.content.childNodes:T.childNodes,C);break}case 3:C=new t.Text(a((m=T.nodeValue)!==null&&m!==void 0?m:""));break;case 8:C=new t.Comment((y=T.nodeValue)!==null&&y!==void 0?y:"");break;default:continue}var A=(v=x[E-1])!==null&&v!==void 0?v:null;A&&(A.next=C),C.parent=f,C.prev=A,C.next=null,x.push(C)}return h&&(C=new t.ProcessingInstruction(h.substring(0,h.indexOf(" ")).toLowerCase(),h),C.next=(b=x[0])!==null&&b!==void 0?b:null,C.parent=f,x.unshift(C),x[1]&&(x[1].prev=x[0])),x}return Xa}var a5;function mse(){if(a5)return Ag;a5=1,Object.defineProperty(Ag,"__esModule",{value:!0}),Ag.default=v;var t=NN(),e="html",r="head",n="body",o=/<([a-zA-Z]+[0-9]?)/,i=function(b,x){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},s=function(b,x){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},a=typeof window=="object"&&window.DOMParser;if(typeof a=="function"){var l=new a,p="text/html";s=function(b,x){return x&&(b="<".concat(x,">").concat(b,"</").concat(x,">")),l.parseFromString(b,p)},i=s}if(typeof document=="object"&&document.implementation){var f=document.implementation.createHTMLDocument();i=function(b,x){if(x){var C=f.documentElement.querySelector(x);return C&&(C.innerHTML=b),f}return f.documentElement.innerHTML=b,f}}var h=typeof document=="object"&&document.createElement("template"),m;h&&h.content&&(m=function(b){return h.innerHTML=b,h.content.childNodes});var y=function(){return document.createDocumentFragment().childNodes};function v(b){var x,C,E,j,T,k;b=(0,t.escapeSpecialCharacters)(b);var A=o.exec(b),_=(x=A==null?void 0:A[1])===null||x===void 0?void 0:x.toLowerCase();switch(_){case e:{var I=s(b);if(!(0,t.hasOpenTag)(b,r)){var P=I.querySelector(r);(C=P==null?void 0:P.parentNode)===null||C===void 0||C.removeChild(P)}if(!(0,t.hasOpenTag)(b,n)){var P=I.querySelector(n);(E=P==null?void 0:P.parentNode)===null||E===void 0||E.removeChild(P)}return I.querySelectorAll(e)}case r:case n:{var N=i(b).querySelectorAll(_);return(0,t.hasOpenTag)(b,n)&&(0,t.hasOpenTag)(b,r)?(T=(j=N[0].parentNode)===null||j===void 0?void 0:j.childNodes)!==null&&T!==void 0?T:y():N}default:{if(m)return m(b);var P=i(b,n).querySelector(n);return(k=P==null?void 0:P.childNodes)!==null&&k!==void 0?k:y()}}}return Ag}var l5;function gse(){if(l5)return Gu;l5=1;var t=Gu&&Gu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Gu,"__esModule",{value:!0}),Gu.default=o;var e=t(mse()),r=NN(),n=/<(![a-zA-Z\s]+)>/;function o(i){if(typeof i!="string")throw new TypeError("First argument must be a string");if(!i)return[];var s=n.exec(i),a=s?s[1]:void 0;return(0,r.formatDOM)((0,e.default)(i),null,a)}return Gu}var _g={},Si={},tf={},c5;function yse(){if(c5)return tf;c5=1;var t=0;tf.SAME=t;var e=1;return tf.CAMELCASE=e,tf.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1},tf}var u5;function vse(){if(u5)return Si;u5=1;const t=0,e=1,r=2,n=3,o=4,i=5,s=6;function a(k){return p.hasOwnProperty(k)?p[k]:null}function l(k,A,_,I,P,N,B){this.acceptsBooleans=A===r||A===n||A===o,this.attributeName=I,this.attributeNamespace=P,this.mustUseProperty=_,this.propertyName=k,this.type=A,this.sanitizeURL=N,this.removeEmptyString=B}const p={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach(k=>{p[k]=new l(k,t,!1,k,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([k,A])=>{p[k]=new l(k,e,!1,A,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(k=>{p[k]=new l(k,r,!1,k.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(k=>{p[k]=new l(k,r,!1,k,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(k=>{p[k]=new l(k,n,!1,k.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(k=>{p[k]=new l(k,n,!0,k,null,!1,!1)}),["capture","download"].forEach(k=>{p[k]=new l(k,o,!1,k,null,!1,!1)}),["cols","rows","size","span"].forEach(k=>{p[k]=new l(k,s,!1,k,null,!1,!1)}),["rowSpan","start"].forEach(k=>{p[k]=new l(k,i,!1,k.toLowerCase(),null,!1,!1)});const h=/[\-\:]([a-z])/g,m=k=>k[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(k=>{const A=k.replace(h,m);p[A]=new l(A,e,!1,k,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(k=>{const A=k.replace(h,m);p[A]=new l(A,e,!1,k,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(k=>{const A=k.replace(h,m);p[A]=new l(A,e,!1,k,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(k=>{p[k]=new l(k,e,!1,k.toLowerCase(),null,!1,!1)});const y="xlinkHref";p[y]=new l("xlinkHref",e,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(k=>{p[k]=new l(k,e,!1,k.toLowerCase(),null,!0,!0)});const{CAMELCASE:v,SAME:b,possibleStandardNames:x}=yse(),E=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD"+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",j=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+E+"]*$")),T=Object.keys(x).reduce((k,A)=>{const _=x[A];return _===b?k[A]=A:_===v?k[A.toLowerCase()]=A:k[A]=_,k},{});return Si.BOOLEAN=n,Si.BOOLEANISH_STRING=r,Si.NUMERIC=i,Si.OVERLOADED_BOOLEAN=o,Si.POSITIVE_NUMERIC=s,Si.RESERVED=t,Si.STRING=e,Si.getPropertyInfo=a,Si.isCustomAttribute=j,Si.possibleStandardNames=T,Si}var rf={},Ku={},s1,d5;function xse(){if(d5)return s1;d5=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,r=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,i=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,p="/",f="*",h="",m="comment",y="declaration";function v(x,C){if(typeof x!="string")throw new TypeError("First argument must be a string");if(!x)return[];C=C||{};var E=1,j=1;function T(F){var U=F.match(e);U&&(E+=U.length);var V=F.lastIndexOf(l);j=~V?F.length-V:j+F.length}function k(){var F={line:E,column:j};return function(U){return U.position=new A(F),P(),U}}function A(F){this.start=F,this.end={line:E,column:j},this.source=C.source}A.prototype.content=x;function _(F){var U=new Error(C.source+":"+E+":"+j+": "+F);if(U.reason=F,U.filename=C.source,U.line=E,U.column=j,U.source=x,!C.silent)throw U}function I(F){var U=F.exec(x);if(U){var V=U[0];return T(V),x=x.slice(V.length),U}}function P(){I(r)}function N(F){var U;for(F=F||[];U=B();)U!==!1&&F.push(U);return F}function B(){var F=k();if(!(p!=x.charAt(0)||f!=x.charAt(1))){for(var U=2;h!=x.charAt(U)&&(f!=x.charAt(U)||p!=x.charAt(U+1));)++U;if(U+=2,h===x.charAt(U-1))return _("End of comment missing");var V=x.slice(2,U-2);return j+=2,T(V),x=x.slice(U),j+=2,F({type:m,comment:V})}}function O(){var F=k(),U=I(n);if(U){if(B(),!I(o))return _("property missing ':'");var V=I(i),G=F({type:y,property:b(U[0].replace(t,h)),value:V?b(V[0].replace(t,h)):h});return I(s),G}}function D(){var F=[];N(F);for(var U;U=O();)U!==!1&&(F.push(U),N(F));return F}return P(),D()}function b(x){return x?x.replace(a,h):h}return s1=v,s1}var p5;function bse(){if(p5)return Ku;p5=1;var t=Ku&&Ku.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.default=r;const e=t(xse());function r(n,o){let i=null;if(!n||typeof n!="string")return i;const s=(0,e.default)(n),a=typeof o=="function";return s.forEach(l=>{if(l.type!=="declaration")return;const{property:p,value:f}=l;a?o(p,f,l):f&&(i=i||{},i[p]=f)}),i}return Ku}var nf={},f5;function wse(){if(f5)return nf;f5=1,Object.defineProperty(nf,"__esModule",{value:!0}),nf.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,r=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,i=function(p){return!p||r.test(p)||t.test(p)},s=function(p,f){return f.toUpperCase()},a=function(p,f){return"".concat(f,"-")},l=function(p,f){return f===void 0&&(f={}),i(p)?p:(p=p.toLowerCase(),f.reactCompat?p=p.replace(o,a):p=p.replace(n,a),p.replace(e,s))};return nf.camelCase=l,nf}var of,h5;function Sse(){if(h5)return of;h5=1;var t=of&&of.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},e=t(bse()),r=wse();function n(o,i){var s={};return!o||typeof o!="string"||(0,e.default)(o,function(a,l){a&&l&&(s[(0,r.camelCase)(a,i)]=l)}),s}return n.default=n,of=n,of}var m5;function LN(){return m5||(m5=1,(function(t){var e=rf&&rf.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(t,"__esModule",{value:!0}),t.returnFirstArg=t.canTextBeChildOfNode=t.ELEMENTS_WITH_NO_TEXT_CHILDREN=t.PRESERVE_CUSTOM_ATTRIBUTES=void 0,t.isCustomComponent=i,t.setStyleProp=a;var r=nu(),n=e(Sse()),o=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function i(f,h){return f.includes("-")?!o.has(f):!!(h&&typeof h.is=="string")}var s={reactCompat:!0};function a(f,h){if(typeof f=="string"){if(!f.trim()){h.style={};return}try{h.style=(0,n.default)(f,s)}catch{h.style={}}}}t.PRESERVE_CUSTOM_ATTRIBUTES=Number(r.version.split(".")[0])>=16,t.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var l=function(f){return!t.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(f.name)};t.canTextBeChildOfNode=l;var p=function(f){return f};t.returnFirstArg=p})(rf)),rf}var g5;function DN(){if(g5)return _g;g5=1,Object.defineProperty(_g,"__esModule",{value:!0}),_g.default=i;var t=vse(),e=LN(),r=["checked","value"],n=["input","select","textarea"],o={reset:!0,submit:!0};function i(a,l){a===void 0&&(a={});var p={},f=!!(a.type&&o[a.type]);for(var h in a){var m=a[h];if((0,t.isCustomAttribute)(h)){p[h]=m;continue}var y=h.toLowerCase(),v=s(y);if(v){var b=(0,t.getPropertyInfo)(v);switch(r.includes(v)&&n.includes(l)&&!f&&(v=s("default"+y)),p[v]=m,b==null?void 0:b.type){case t.BOOLEAN:p[v]=!0;break;case t.OVERLOADED_BOOLEAN:m===""&&(p[v]=!0);break}continue}e.PRESERVE_CUSTOM_ATTRIBUTES&&(p[h]=m)}return(0,e.setStyleProp)(a.style,p),p}function s(a){return t.possibleStandardNames[a]}return _g}var Yu={},y5;function Cse(){if(y5)return Yu;y5=1;var t=Yu&&Yu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.default=i;var e=nu(),r=t(DN()),n=LN(),o={cloneElement:e.cloneElement,createElement:e.createElement,isValidElement:e.isValidElement};function i(a,l){var p,f,h,m,y;l===void 0&&(l={});for(var v=[],b=typeof l.replace=="function",x=(p=l.transform)!==null&&p!==void 0?p:n.returnFirstArg,C=(f=l.library)!==null&&f!==void 0?f:o,E=C.cloneElement,j=C.createElement,T=C.isValidElement,k=a.length,A=0;A<k;A++){var _=a[A];if(b){var I=(h=l.replace)===null||h===void 0?void 0:h.call(l,_,A);if(T(I)){k>1&&(I=E(I,{key:(m=I.key)!==null&&m!==void 0?m:A})),v.push(x(I,_,A));continue}}if(_.type==="text"){var P=!_.data.trim().length;if(P&&_.parent&&!(0,n.canTextBeChildOfNode)(_.parent)||l.trim&&P)continue;v.push(x(_.data,_,A));continue}var N=_,B={};s(N)?((0,n.setStyleProp)(N.attribs.style,N.attribs),B=N.attribs):N.attribs&&(B=(0,r.default)(N.attribs,N.name));var O=void 0;switch(_.type){case"script":case"style":_.children[0]&&(B.dangerouslySetInnerHTML={__html:_.children[0].data});break;case"tag":_.name==="textarea"&&_.children[0]?B.defaultValue=_.children[0].data:!((y=_.children)===null||y===void 0)&&y.length&&(O=i(_.children,l));break;default:continue}k>1&&(B.key=A),v.push(x(j(_.name,B,O),_,A))}return v.length===1?v[0]:v}function s(a){return n.PRESERVE_CUSTOM_ATTRIBUTES&&a.type==="tag"&&(0,n.isCustomComponent)(a.name,a.attribs)}return Yu}var v5;function kse(){return v5||(v5=1,(function(t){var e=ef&&ef.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0}),t.htmlToDOM=t.domToReact=t.attributesToProps=t.Text=t.ProcessingInstruction=t.Element=t.Comment=void 0,t.default=a;var r=e(gse());t.htmlToDOM=r.default;var n=e(DN());t.attributesToProps=n.default;var o=e(Cse());t.domToReact=o.default;var i=PN();Object.defineProperty(t,"Comment",{enumerable:!0,get:function(){return i.Comment}}),Object.defineProperty(t,"Element",{enumerable:!0,get:function(){return i.Element}}),Object.defineProperty(t,"ProcessingInstruction",{enumerable:!0,get:function(){return i.ProcessingInstruction}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return i.Text}});var s={lowerCaseAttributeNames:!1};function a(l,p){var f;if(typeof l!="string")throw new TypeError("First argument must be a string");return l?(0,o.default)((0,r.default)(l,(f=p==null?void 0:p.htmlparser2)!==null&&f!==void 0?f:s),p):[]}})(ef)),ef}var zN=kse();const x5=Th(zN),Ese=x5.default||x5,Ll=({content:t,sx:e})=>{const r=Yt(),n=Ese(t||"",{replace:o=>{if(o instanceof zN.Element&&o.name==="img"){let{src:i,alt:s,width:a,height:l,style:p,"data-align":f}=o.attribs;if(p&&(!a||!l)){const m=p.match(/width:\s*([^;]+)/),y=p.match(/height:\s*([^;]+)/);m&&!a&&(a=m[1]),y&&!l&&(l=y[1])}a&&!isNaN(Number(a))&&(a=`${a}px`),l&&!isNaN(Number(l))&&(l=`${l}px`);const h={maxWidth:"100%",borderRadius:"4px",objectFit:"contain",display:"block"};return f==="left"?(h.float="left",h.marginRight="1rem",h.marginBottom="0.5rem",h.display="inline-block",h.clear="both"):f==="right"?(h.float="right",h.marginLeft="1rem",h.marginBottom="0.5rem",h.display="inline-block",h.clear="both"):(h.margin="0 auto",h.display="block"),a&&(h.width=a),l&&(h.height=l),u.jsx("img",{src:i,alt:s,style:h})}return o}});return u.jsx(L,{sx:{"& p":{margin:"0 0 1em 0"},"& blockquote":{borderLeft:`3px solid ${r.palette.secondary.main}`,paddingLeft:"1rem",fontStyle:"italic",color:"text.secondary",margin:"1em 0"},"& .spoiler":{backgroundColor:"#000",color:"#000",cursor:"pointer",borderRadius:"4px",padding:"0 4px",transition:"color 0.2s","&:hover":{color:"#fff"}},"& h1, & h2, & h3, & h4, & h5, & h6":{fontFamily:"Cinzel, serif",color:"secondary.main",margin:"1.5em 0 0.5em 0"},"& ul, & ol":{paddingLeft:"1.5rem",margin:"1em 0"},"& li":{marginBottom:"0.5em"},...e},children:n})};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */var a1,b5;function w5(){if(b5)return a1;b5=1;const{entries:t,setPrototypeOf:e,isFrozen:r,getPrototypeOf:n,getOwnPropertyDescriptor:o}=Object;let{freeze:i,seal:s,create:a}=Object,{apply:l,construct:p}=typeof Reflect<"u"&&Reflect;i||(i=function(Ce){return Ce}),s||(s=function(Ce){return Ce}),l||(l=function(Ce,We){for(var Qe=arguments.length,mt=new Array(Qe>2?Qe-2:0),je=2;je<Qe;je++)mt[je-2]=arguments[je];return Ce.apply(We,mt)}),p||(p=function(Ce){for(var We=arguments.length,Qe=new Array(We>1?We-1:0),mt=1;mt<We;mt++)Qe[mt-1]=arguments[mt];return new Ce(...Qe)});const f=I(Array.prototype.forEach),h=I(Array.prototype.lastIndexOf),m=I(Array.prototype.pop),y=I(Array.prototype.push),v=I(Array.prototype.splice),b=I(String.prototype.toLowerCase),x=I(String.prototype.toString),C=I(String.prototype.match),E=I(String.prototype.replace),j=I(String.prototype.indexOf),T=I(String.prototype.trim),k=I(Object.prototype.hasOwnProperty),A=I(RegExp.prototype.test),_=P(TypeError);function I(ie){return function(Ce){Ce instanceof RegExp&&(Ce.lastIndex=0);for(var We=arguments.length,Qe=new Array(We>1?We-1:0),mt=1;mt<We;mt++)Qe[mt-1]=arguments[mt];return l(ie,Ce,Qe)}}function P(ie){return function(){for(var Ce=arguments.length,We=new Array(Ce),Qe=0;Qe<Ce;Qe++)We[Qe]=arguments[Qe];return p(ie,We)}}function N(ie,Ce){let We=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b;e&&e(ie,null);let Qe=Ce.length;for(;Qe--;){let mt=Ce[Qe];if(typeof mt=="string"){const je=We(mt);je!==mt&&(r(Ce)||(Ce[Qe]=je),mt=je)}ie[mt]=!0}return ie}function B(ie){for(let Ce=0;Ce<ie.length;Ce++)k(ie,Ce)||(ie[Ce]=null);return ie}function O(ie){const Ce=a(null);for(const[We,Qe]of t(ie))k(ie,We)&&(Array.isArray(Qe)?Ce[We]=B(Qe):Qe&&typeof Qe=="object"&&Qe.constructor===Object?Ce[We]=O(Qe):Ce[We]=Qe);return Ce}function D(ie,Ce){for(;ie!==null;){const Qe=o(ie,Ce);if(Qe){if(Qe.get)return I(Qe.get);if(typeof Qe.value=="function")return I(Qe.value)}ie=n(ie)}function We(){return null}return We}const F=i(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),U=i(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),V=i(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),G=i(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),W=i(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),K=i(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),H=i(["#text"]),J=i(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ne=i(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),me=i(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ge=i(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ce=s(/\{\{[\w\W]*|[\w\W]*\}\}/gm),te=s(/<%[\w\W]*|[\w\W]*%>/gm),ve=s(/\$\{[\w\W]*/gm),Ie=s(/^data-[\-\w.\u00B7-\uFFFF]+$/),qe=s(/^aria-[\-\w]+$/),Ne=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),lt=s(/^(?:\w+script|data):/i),Xe=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),He=s(/^html$/i),Le=s(/^[a-z][.\w]*(-[.\w]+)+$/i);var Re=Object.freeze({__proto__:null,ARIA_ATTR:qe,ATTR_WHITESPACE:Xe,CUSTOM_ELEMENT:Le,DATA_ATTR:Ie,DOCTYPE_NAME:He,ERB_EXPR:te,IS_ALLOWED_URI:Ne,IS_SCRIPT_OR_DATA:lt,MUSTACHE_EXPR:ce,TMPLIT_EXPR:ve});const ae={element:1,text:3,progressingInstruction:7,comment:8,document:9},ke=function(){return typeof window>"u"?null:window},fe=function(Ce,We){if(typeof Ce!="object"||typeof Ce.createPolicy!="function")return null;let Qe=null;const mt="data-tt-policy-suffix";We&&We.hasAttribute(mt)&&(Qe=We.getAttribute(mt));const je="dompurify"+(Qe?"#"+Qe:"");try{return Ce.createPolicy(je,{createHTML(Ze){return Ze},createScriptURL(Ze){return Ze}})}catch{return console.warn("TrustedTypes policy "+je+" could not be created."),null}},dt=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Be(){let ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ke();const Ce=Mt=>Be(Mt);if(Ce.version="3.3.1",Ce.removed=[],!ie||!ie.document||ie.document.nodeType!==ae.document||!ie.Element)return Ce.isSupported=!1,Ce;let{document:We}=ie;const Qe=We,mt=Qe.currentScript,{DocumentFragment:je,HTMLTemplateElement:Ze,Node:ot,Element:ft,NodeFilter:Ae,NamedNodeMap:ct=ie.NamedNodeMap||ie.MozNamedAttrMap,HTMLFormElement:at,DOMParser:ee,trustedTypes:we}=ie,Me=ft.prototype,_t=D(Me,"cloneNode"),gt=D(Me,"remove"),$t=D(Me,"nextSibling"),or=D(Me,"childNodes"),Oe=D(Me,"parentNode");if(typeof Ze=="function"){const Mt=We.createElement("template");Mt.content&&Mt.content.ownerDocument&&(We=Mt.content.ownerDocument)}let Je,Lt="";const{implementation:qt,createNodeIterator:vr,createDocumentFragment:xr,getElementsByTagName:Ct}=We,{importNode:ir}=Qe;let $e=dt();Ce.isSupported=typeof t=="function"&&typeof Oe=="function"&&qt&&qt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Ge,ERB_EXPR:At,TMPLIT_EXPR:jt,DATA_ATTR:Jt,ARIA_ATTR:jr,IS_SCRIPT_OR_DATA:Wr,ATTR_WHITESPACE:Pr,CUSTOM_ELEMENT:On}=Re;let{IS_ALLOWED_URI:Pn}=Re,Qt=null;const qr=N({},[...F,...U,...V,...W,...H]);let cr=null;const zs=N({},[...J,...ne,...me,...ge]);let br=Object.seal(a(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ci=null,ye=null;const he=Object.seal(a(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let ut=!0,It=!0,Wt=!1,Gr=!0,Ft=!1,Nn=!0,oo=!1,$s=!1,Vo=!1,qo=!1,Zt=!1,Ln=!1,tn=!0,ds=!1;const Go="user-content-";let lp=!0,Vl=!1,ka={},go=null;const Ea=N({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ta=null;const ql=N({},["audio","video","img","source","image","track"]);let cp=null;const Gh=N({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ja="http://www.w3.org/1998/Math/MathML",Gl="http://www.w3.org/2000/svg",Ko="http://www.w3.org/1999/xhtml";let ui=Ko,up=!1,Kl=null;const hr=N({},[ja,Gl,Ko],x);let Yl=N({},["mi","mo","mn","ms","mtext"]),Jl=N({},["annotation-xml"]);const dp=N({},["title","style","font","a","script"]);let Ra=null;const Kh=["application/xhtml+xml","text/html"],Yh="text/html";let Kr=null,Wi=null;const ps=We.createElement("form"),Hi=function(Z){return Z instanceof RegExp||Z instanceof Function},di=function(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Wi&&Wi===Z)){if((!Z||typeof Z!="object")&&(Z={}),Z=O(Z),Ra=Kh.indexOf(Z.PARSER_MEDIA_TYPE)===-1?Yh:Z.PARSER_MEDIA_TYPE,Kr=Ra==="application/xhtml+xml"?x:b,Qt=k(Z,"ALLOWED_TAGS")?N({},Z.ALLOWED_TAGS,Kr):qr,cr=k(Z,"ALLOWED_ATTR")?N({},Z.ALLOWED_ATTR,Kr):zs,Kl=k(Z,"ALLOWED_NAMESPACES")?N({},Z.ALLOWED_NAMESPACES,x):hr,cp=k(Z,"ADD_URI_SAFE_ATTR")?N(O(Gh),Z.ADD_URI_SAFE_ATTR,Kr):Gh,Ta=k(Z,"ADD_DATA_URI_TAGS")?N(O(ql),Z.ADD_DATA_URI_TAGS,Kr):ql,go=k(Z,"FORBID_CONTENTS")?N({},Z.FORBID_CONTENTS,Kr):Ea,ci=k(Z,"FORBID_TAGS")?N({},Z.FORBID_TAGS,Kr):O({}),ye=k(Z,"FORBID_ATTR")?N({},Z.FORBID_ATTR,Kr):O({}),ka=k(Z,"USE_PROFILES")?Z.USE_PROFILES:!1,ut=Z.ALLOW_ARIA_ATTR!==!1,It=Z.ALLOW_DATA_ATTR!==!1,Wt=Z.ALLOW_UNKNOWN_PROTOCOLS||!1,Gr=Z.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ft=Z.SAFE_FOR_TEMPLATES||!1,Nn=Z.SAFE_FOR_XML!==!1,oo=Z.WHOLE_DOCUMENT||!1,qo=Z.RETURN_DOM||!1,Zt=Z.RETURN_DOM_FRAGMENT||!1,Ln=Z.RETURN_TRUSTED_TYPE||!1,Vo=Z.FORCE_BODY||!1,tn=Z.SANITIZE_DOM!==!1,ds=Z.SANITIZE_NAMED_PROPS||!1,lp=Z.KEEP_CONTENT!==!1,Vl=Z.IN_PLACE||!1,Pn=Z.ALLOWED_URI_REGEXP||Ne,ui=Z.NAMESPACE||Ko,Yl=Z.MATHML_TEXT_INTEGRATION_POINTS||Yl,Jl=Z.HTML_INTEGRATION_POINTS||Jl,br=Z.CUSTOM_ELEMENT_HANDLING||{},Z.CUSTOM_ELEMENT_HANDLING&&Hi(Z.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(br.tagNameCheck=Z.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Z.CUSTOM_ELEMENT_HANDLING&&Hi(Z.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(br.attributeNameCheck=Z.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Z.CUSTOM_ELEMENT_HANDLING&&typeof Z.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(br.allowCustomizedBuiltInElements=Z.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ft&&(It=!1),Zt&&(qo=!0),ka&&(Qt=N({},H),cr=[],ka.html===!0&&(N(Qt,F),N(cr,J)),ka.svg===!0&&(N(Qt,U),N(cr,ne),N(cr,ge)),ka.svgFilters===!0&&(N(Qt,V),N(cr,ne),N(cr,ge)),ka.mathMl===!0&&(N(Qt,W),N(cr,me),N(cr,ge))),Z.ADD_TAGS&&(typeof Z.ADD_TAGS=="function"?he.tagCheck=Z.ADD_TAGS:(Qt===qr&&(Qt=O(Qt)),N(Qt,Z.ADD_TAGS,Kr))),Z.ADD_ATTR&&(typeof Z.ADD_ATTR=="function"?he.attributeCheck=Z.ADD_ATTR:(cr===zs&&(cr=O(cr)),N(cr,Z.ADD_ATTR,Kr))),Z.ADD_URI_SAFE_ATTR&&N(cp,Z.ADD_URI_SAFE_ATTR,Kr),Z.FORBID_CONTENTS&&(go===Ea&&(go=O(go)),N(go,Z.FORBID_CONTENTS,Kr)),Z.ADD_FORBID_CONTENTS&&(go===Ea&&(go=O(go)),N(go,Z.ADD_FORBID_CONTENTS,Kr)),lp&&(Qt["#text"]=!0),oo&&N(Qt,["html","head","body"]),Qt.table&&(N(Qt,["tbody"]),delete ci.tbody),Z.TRUSTED_TYPES_POLICY){if(typeof Z.TRUSTED_TYPES_POLICY.createHTML!="function")throw _('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Z.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw _('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Je=Z.TRUSTED_TYPES_POLICY,Lt=Je.createHTML("")}else Je===void 0&&(Je=fe(we,mt)),Je!==null&&typeof Lt=="string"&&(Lt=Je.createHTML(""));i&&i(Z),Wi=Z}},Aa=N({},[...U,...V,...G]),_a=N({},[...W,...K]),fs=function(Z){let Ue=Oe(Z);(!Ue||!Ue.tagName)&&(Ue={namespaceURI:ui,tagName:"template"});const xt=b(Z.tagName),Rr=b(Ue.tagName);return Kl[Z.namespaceURI]?Z.namespaceURI===Gl?Ue.namespaceURI===Ko?xt==="svg":Ue.namespaceURI===ja?xt==="svg"&&(Rr==="annotation-xml"||Yl[Rr]):!!Aa[xt]:Z.namespaceURI===ja?Ue.namespaceURI===Ko?xt==="math":Ue.namespaceURI===Gl?xt==="math"&&Jl[Rr]:!!_a[xt]:Z.namespaceURI===Ko?Ue.namespaceURI===Gl&&!Jl[Rr]||Ue.namespaceURI===ja&&!Yl[Rr]?!1:!_a[xt]&&(dp[xt]||!Aa[xt]):!!(Ra==="application/xhtml+xml"&&Kl[Z.namespaceURI]):!1},pi=function(Z){y(Ce.removed,{element:Z});try{Oe(Z).removeChild(Z)}catch{gt(Z)}},hs=function(Z,Ue){try{y(Ce.removed,{attribute:Ue.getAttributeNode(Z),from:Ue})}catch{y(Ce.removed,{attribute:null,from:Ue})}if(Ue.removeAttribute(Z),Z==="is")if(qo||Zt)try{pi(Ue)}catch{}else try{Ue.setAttribute(Z,"")}catch{}},Ma=function(Z){let Ue=null,xt=null;if(Vo)Z="<remove></remove>"+Z;else{const Cr=C(Z,/^[\r\n\t ]+/);xt=Cr&&Cr[0]}Ra==="application/xhtml+xml"&&ui===Ko&&(Z='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Z+"</body></html>");const Rr=Je?Je.createHTML(Z):Z;if(ui===Ko)try{Ue=new ee().parseFromString(Rr,Ra)}catch{}if(!Ue||!Ue.documentElement){Ue=qt.createDocument(ui,"template",null);try{Ue.documentElement.innerHTML=up?Lt:Rr}catch{}}const Cn=Ue.body||Ue.documentElement;return Z&&xt&&Cn.insertBefore(We.createTextNode(xt),Cn.childNodes[0]||null),ui===Ko?Ct.call(Ue,oo?"html":"body")[0]:oo?Ue.documentElement:Cn},Jh=function(Z){return vr.call(Z.ownerDocument||Z,Z,Ae.SHOW_ELEMENT|Ae.SHOW_COMMENT|Ae.SHOW_TEXT|Ae.SHOW_PROCESSING_INSTRUCTION|Ae.SHOW_CDATA_SECTION,null)},au=function(Z){return Z instanceof at&&(typeof Z.nodeName!="string"||typeof Z.textContent!="string"||typeof Z.removeChild!="function"||!(Z.attributes instanceof ct)||typeof Z.removeAttribute!="function"||typeof Z.setAttribute!="function"||typeof Z.namespaceURI!="string"||typeof Z.insertBefore!="function"||typeof Z.hasChildNodes!="function")},Xl=function(Z){return typeof ot=="function"&&Z instanceof ot};function fi(Mt,Z,Ue){f(Mt,xt=>{xt.call(Ce,Z,Ue,Wi)})}const Xh=function(Z){let Ue=null;if(fi($e.beforeSanitizeElements,Z,null),au(Z))return pi(Z),!0;const xt=Kr(Z.nodeName);if(fi($e.uponSanitizeElement,Z,{tagName:xt,allowedTags:Qt}),Nn&&Z.hasChildNodes()&&!Xl(Z.firstElementChild)&&A(/<[/\w!]/g,Z.innerHTML)&&A(/<[/\w!]/g,Z.textContent)||Z.nodeType===ae.progressingInstruction||Nn&&Z.nodeType===ae.comment&&A(/<[/\w]/g,Z.data))return pi(Z),!0;if(!(he.tagCheck instanceof Function&&he.tagCheck(xt))&&(!Qt[xt]||ci[xt])){if(!ci[xt]&&Oa(xt)&&(br.tagNameCheck instanceof RegExp&&A(br.tagNameCheck,xt)||br.tagNameCheck instanceof Function&&br.tagNameCheck(xt)))return!1;if(lp&&!go[xt]){const Rr=Oe(Z)||Z.parentNode,Cn=or(Z)||Z.childNodes;if(Cn&&Rr){const Cr=Cn.length;for(let Dn=Cr-1;Dn>=0;--Dn){const Ao=_t(Cn[Dn],!0);Ao.__removalCount=(Z.__removalCount||0)+1,Rr.insertBefore(Ao,$t(Z))}}}return pi(Z),!0}return Z instanceof ft&&!fs(Z)||(xt==="noscript"||xt==="noembed"||xt==="noframes")&&A(/<\/no(script|embed|frames)/i,Z.innerHTML)?(pi(Z),!0):(Ft&&Z.nodeType===ae.text&&(Ue=Z.textContent,f([Ge,At,jt],Rr=>{Ue=E(Ue,Rr," ")}),Z.textContent!==Ue&&(y(Ce.removed,{element:Z.cloneNode()}),Z.textContent=Ue)),fi($e.afterSanitizeElements,Z,null),!1)},Ia=function(Z,Ue,xt){if(tn&&(Ue==="id"||Ue==="name")&&(xt in We||xt in ps))return!1;if(!(It&&!ye[Ue]&&A(Jt,Ue))){if(!(ut&&A(jr,Ue))){if(!(he.attributeCheck instanceof Function&&he.attributeCheck(Ue,Z))){if(!cr[Ue]||ye[Ue]){if(!(Oa(Z)&&(br.tagNameCheck instanceof RegExp&&A(br.tagNameCheck,Z)||br.tagNameCheck instanceof Function&&br.tagNameCheck(Z))&&(br.attributeNameCheck instanceof RegExp&&A(br.attributeNameCheck,Ue)||br.attributeNameCheck instanceof Function&&br.attributeNameCheck(Ue,Z))||Ue==="is"&&br.allowCustomizedBuiltInElements&&(br.tagNameCheck instanceof RegExp&&A(br.tagNameCheck,xt)||br.tagNameCheck instanceof Function&&br.tagNameCheck(xt))))return!1}else if(!cp[Ue]){if(!A(Pn,E(xt,Pr,""))){if(!((Ue==="src"||Ue==="xlink:href"||Ue==="href")&&Z!=="script"&&j(xt,"data:")===0&&Ta[Z])){if(!(Wt&&!A(Wr,E(xt,Pr,"")))){if(xt)return!1}}}}}}}return!0},Oa=function(Z){return Z!=="annotation-xml"&&C(Z,On)},Fs=function(Z){fi($e.beforeSanitizeAttributes,Z,null);const{attributes:Ue}=Z;if(!Ue||au(Z))return;const xt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:cr,forceKeepAttr:void 0};let Rr=Ue.length;for(;Rr--;){const Cn=Ue[Rr],{name:Cr,namespaceURI:Dn,value:Ao}=Cn,Bs=Kr(Cr),Pa=Ao;let rn=Cr==="value"?Pa:T(Pa);if(xt.attrName=Bs,xt.attrValue=rn,xt.keepAttr=!0,xt.forceKeepAttr=void 0,fi($e.uponSanitizeAttribute,Z,xt),rn=xt.attrValue,ds&&(Bs==="id"||Bs==="name")&&(hs(Cr,Z),rn=Go+rn),Nn&&A(/((--!?|])>)|<\/(style|title|textarea)/i,rn)){hs(Cr,Z);continue}if(Bs==="attributename"&&C(rn,"href")){hs(Cr,Z);continue}if(xt.forceKeepAttr)continue;if(!xt.keepAttr){hs(Cr,Z);continue}if(!Gr&&A(/\/>/i,rn)){hs(Cr,Z);continue}Ft&&f([Ge,At,jt],io=>{rn=E(rn,io," ")});const pp=Kr(Z.nodeName);if(!Ia(pp,Bs,rn)){hs(Cr,Z);continue}if(Je&&typeof we=="object"&&typeof we.getAttributeType=="function"&&!Dn)switch(we.getAttributeType(pp,Bs)){case"TrustedHTML":{rn=Je.createHTML(rn);break}case"TrustedScriptURL":{rn=Je.createScriptURL(rn);break}}if(rn!==Pa)try{Dn?Z.setAttributeNS(Dn,Cr,rn):Z.setAttribute(Cr,rn),au(Z)?pi(Z):m(Ce.removed)}catch{hs(Cr,Z)}}fi($e.afterSanitizeAttributes,Z,null)},lu=function Mt(Z){let Ue=null;const xt=Jh(Z);for(fi($e.beforeSanitizeShadowDOM,Z,null);Ue=xt.nextNode();)fi($e.uponSanitizeShadowNode,Ue,null),Xh(Ue),Fs(Ue),Ue.content instanceof je&&Mt(Ue.content);fi($e.afterSanitizeShadowDOM,Z,null)};return Ce.sanitize=function(Mt){let Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ue=null,xt=null,Rr=null,Cn=null;if(up=!Mt,up&&(Mt="<!-->"),typeof Mt!="string"&&!Xl(Mt))if(typeof Mt.toString=="function"){if(Mt=Mt.toString(),typeof Mt!="string")throw _("dirty is not a string, aborting")}else throw _("toString is not a function");if(!Ce.isSupported)return Mt;if($s||di(Z),Ce.removed=[],typeof Mt=="string"&&(Vl=!1),Vl){if(Mt.nodeName){const Ao=Kr(Mt.nodeName);if(!Qt[Ao]||ci[Ao])throw _("root node is forbidden and cannot be sanitized in-place")}}else if(Mt instanceof ot)Ue=Ma("<!---->"),xt=Ue.ownerDocument.importNode(Mt,!0),xt.nodeType===ae.element&&xt.nodeName==="BODY"||xt.nodeName==="HTML"?Ue=xt:Ue.appendChild(xt);else{if(!qo&&!Ft&&!oo&&Mt.indexOf("<")===-1)return Je&&Ln?Je.createHTML(Mt):Mt;if(Ue=Ma(Mt),!Ue)return qo?null:Ln?Lt:""}Ue&&Vo&&pi(Ue.firstChild);const Cr=Jh(Vl?Mt:Ue);for(;Rr=Cr.nextNode();)Xh(Rr),Fs(Rr),Rr.content instanceof je&&lu(Rr.content);if(Vl)return Mt;if(qo){if(Zt)for(Cn=xr.call(Ue.ownerDocument);Ue.firstChild;)Cn.appendChild(Ue.firstChild);else Cn=Ue;return(cr.shadowroot||cr.shadowrootmode)&&(Cn=ir.call(Qe,Cn,!0)),Cn}let Dn=oo?Ue.outerHTML:Ue.innerHTML;return oo&&Qt["!doctype"]&&Ue.ownerDocument&&Ue.ownerDocument.doctype&&Ue.ownerDocument.doctype.name&&A(He,Ue.ownerDocument.doctype.name)&&(Dn="<!DOCTYPE "+Ue.ownerDocument.doctype.name+`>
`+Dn),Ft&&f([Ge,At,jt],Ao=>{Dn=E(Dn,Ao," ")}),Je&&Ln?Je.createHTML(Dn):Dn},Ce.setConfig=function(){let Mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};di(Mt),$s=!0},Ce.clearConfig=function(){Wi=null,$s=!1},Ce.isValidAttribute=function(Mt,Z,Ue){Wi||di({});const xt=Kr(Mt),Rr=Kr(Z);return Ia(xt,Rr,Ue)},Ce.addHook=function(Mt,Z){typeof Z=="function"&&y($e[Mt],Z)},Ce.removeHook=function(Mt,Z){if(Z!==void 0){const Ue=h($e[Mt],Z);return Ue===-1?void 0:v($e[Mt],Ue,1)[0]}return m($e[Mt])},Ce.removeHooks=function(Mt){$e[Mt]=[]},Ce.removeAllHooks=function(){$e=dt()},Ce}var Te=Be();return a1=Te,a1}var l1,S5;function Tse(){return S5||(S5=1,l1=self.DOMPurify||(self.DOMPurify=w5().default||w5())),l1}var jse=Tse();const Rse=Th(jse);function Ase(t,e=5){if(!t)return{isValid:!1,error:"No se seleccion ningn archivo"};const r=e*1024*1024;if(t.size>r)return{isValid:!1,error:`El archivo es muy grande. Mximo permitido: ${e}MB`};if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(t.type))return{isValid:!1,error:"Formato de archivo no permitido. Usa: JPG, PNG, WEBP o GIF"};const o=[".jpg",".jpeg",".png",".webp",".gif"],i=t.name.toLowerCase();if(!o.some(f=>i.endsWith(f)))return{isValid:!1,error:"Extensin de archivo no vlida"};const a=i.substring(i.lastIndexOf("."));return({"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"image/webp":[".webp"],"image/gif":[".gif"]}[t.type]||[]).includes(a)?{isValid:!0}:{isValid:!1,error:"El tipo de archivo no coincide con su extensin"}}function c1(t,e=5){return new Promise((r,n)=>{const o=Ase(t,e);if(!o.isValid){n(new Error(o.error));return}const i=new FileReader;i.onload=()=>{typeof i.result=="string"?r(i.result):n(new Error("Error al procesar la imagen"))},i.onerror=()=>{n(new Error("Error al leer el archivo"))},i.readAsDataURL(t)})}const _se=t=>{const e=new Date(t),n=new Date().getTime()-e.getTime(),o=Math.floor(n/(1e3*60*60*24));return o===0?"Hoy":o===1?"Ayer":o<7?`hace ${o} das`:o<30?`hace ${Math.floor(o/7)} semanas`:`hace ${Math.floor(o/30)} meses`},Mse=({size:t})=>{const e=S.useMemo(()=>{const n=t.toLowerCase();return n.includes("mediano")||n.includes("pequeo")||n.includes("medium")||n.includes("small")?1:n.includes("grande")||n.includes("large")?2:n.includes("enorme")||n.includes("huge")?3:n.includes("gargantuesco")||n.includes("gargantuan")?4:n.includes("colosal")||n.includes("colossal")?5:1},[t]),r=e*e;return u.jsxs(L,{sx:{mb:5,p:3,bgcolor:"rgba(0,0,0,0.4)",border:1,borderColor:"rgba(197, 160, 89, 0.2)",borderRadius:2,display:"flex",alignItems:"center",gap:3,position:"relative",overflow:"hidden"},children:[u.jsxs(L,{sx:{position:"relative",width:128,height:128,bgcolor:"background.paper",border:1,borderColor:"rgba(197, 160, 89, 0.1)",display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gridTemplateRows:"repeat(5, 1fr)",flexShrink:0},children:[[...Array(25)].map((n,o)=>{const i=Math.floor(o/5),s=o%5,a=Math.floor((5-e)/2),l=i>=a&&i<a+e&&s>=a&&s<a+e;return u.jsx(L,{sx:{border:"0.5px solid rgba(197, 160, 89, 0.05)",transition:"background-color 0.7s",bgcolor:l?"rgba(var(--color-primary), 0.5)":"transparent",boxShadow:l?"inset 0 0 10px var(--color-primary)":"none"}},o)}),u.jsx(L,{sx:{position:"absolute",border:2,borderColor:"primary.main",boxShadow:"0 0 15px var(--color-primary)",borderRadius:"2px",pointerEvents:"none",transition:"all 0.5s",width:`${e/5*100}%`,height:`${e/5*100}%`,top:`${Math.floor((5-e)/2)/5*100}%`,left:`${Math.floor((5-e)/2)/5*100}%`},children:u.jsx(L,{sx:{position:"absolute",inset:0,bgcolor:"primary.main",opacity:.2,animation:"pulse 2s infinite"}})})]}),u.jsxs(L,{sx:{flex:1},children:[u.jsx($,{variant:"overline",sx:{color:"grey.500",fontWeight:"bold",letterSpacing:2,mb:.5},children:"Huella Tctica"}),u.jsxs(L,{sx:{display:"flex",alignItems:"baseline",gap:1,mb:1},children:[u.jsx($,{variant:"h4",sx:{fontWeight:900,color:"common.white"},children:r}),u.jsx($,{variant:"caption",sx:{color:"secondary.main",opacity:.6,fontWeight:"bold",letterSpacing:1},children:"CUADRADOS OCUPADOS"})]}),u.jsxs(wt,{spacing:.5,children:[u.jsxs($,{variant:"caption",sx:{color:"grey.400",fontStyle:"italic"},children:["Este artefacto de escala ",t," ocupa una presencia de"," ",u.jsxs(L,{component:"span",sx:{color:"secondary.main",fontWeight:"bold"},children:[e,"x",e]})," ",'en una cuadrcula tctica estndar de 1".']}),u.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1,mt:1},children:[u.jsx(L,{sx:{width:6,height:6,borderRadius:"50%",bgcolor:"primary.main"}}),u.jsx($,{variant:"caption",sx:{fontSize:"0.6rem",textTransform:"uppercase",letterSpacing:1,color:"primary.main",fontWeight:"bold"},children:"Precisin de Escala Confirmada"})]})]})]}),u.jsx(L,{sx:{position:"absolute",top:0,right:0,p:2,opacity:.05,pointerEvents:"none"},children:u.jsx(CK,{sx:{fontSize:60}})})]})},Ise=()=>u.jsxs(fr,{maxWidth:"lg",sx:{py:6},children:[u.jsxs(L,{sx:{display:"flex",gap:1,mb:4},children:[u.jsx(Qs,{variant:"rectangular",width:80,height:20}),u.jsx(Qs,{variant:"rectangular",width:20,height:20}),u.jsx(Qs,{variant:"rectangular",width:120,height:20})]}),u.jsxs(_e,{container:!0,spacing:6,children:[u.jsxs(_e,{size:{xs:12,lg:6},children:[u.jsx(Qs,{variant:"rectangular",height:500,sx:{borderRadius:2}}),u.jsx(L,{sx:{display:"flex",gap:2,mt:2},children:[1,2,3].map(t=>u.jsx(Qs,{variant:"rectangular",width:80,height:80,sx:{borderRadius:1}},t))})]}),u.jsxs(_e,{size:{xs:12,lg:6},children:[u.jsx(Qs,{variant:"text",height:40,width:"60%"}),u.jsx(Qs,{variant:"text",height:60,width:"80%"}),u.jsx(Qs,{variant:"rectangular",height:100,sx:{my:4}}),u.jsx(Qs,{variant:"rectangular",height:50,width:200})]})]})]}),Ose=({productId:t,setView:e,wishlist:r,toggleWishlist:n,isAdmin:o=!1,user:i=null,onProductClick:s})=>{var at;const{data:a=[]}=op(),l=ou(),{addToCart:p}=Jd(),[f,h]=S.useState(t);S.useEffect(()=>{h(t)},[t]);const m=a.find(ee=>ee.id===t),y=S.useMemo(()=>{if(!m)return m;if(console.log("[ProductDetail] Initial product:",{id:m.id,name:m.name,set_name:m.set_name}),m.set_name&&m.set_name!=="Sin set"){const ee=a.filter(gt=>gt.set_name===m.set_name);console.log("[ProductDetail] Products in same set:",ee.map(gt=>({id:gt.id,name:gt.name,set_name:gt.set_name})));const we=[...ee].sort((gt,$t)=>{const or=gt.name.toLowerCase().includes("header"),Oe=$t.name.toLowerCase().includes("header");if(or&&!Oe)return-1;if(!or&&Oe)return 1;const Je=m.set_name.toLowerCase(),Lt=gt.name.replace(/\s*Header\s*/gi,"").trim().toLowerCase(),qt=$t.name.replace(/\s*Header\s*/gi,"").trim().toLowerCase();return Lt===Je&&qt!==Je?-1:Lt!==Je&&qt===Je?1:gt.id.localeCompare($t.id)}),[Me,..._t]=we;return console.log("[ProductDetail] Header:",Me==null?void 0:Me.name,"SubItems:",_t.length),{...Me,subItems:_t.map(gt=>({id:gt.id,name:gt.name,image:gt.image,description:gt.description}))}}return m},[m,a]),v=S.useMemo(()=>a.find(ee=>ee.id===f)||y,[f,a,y]),b=v?r.includes(v.id):!1,[x,C]=S.useState(!0),[E,j]=S.useState(0),[T,k]=S.useState(null),[A,_]=S.useState({x:0,y:0,show:!1}),I=S.useRef(null),[P,N]=S.useState(!1),[B,O]=S.useState({}),[D,F]=S.useState(!1),[U,V]=S.useState([]),[G,W]=S.useState(!0),[K,H]=S.useState({user:"",text:"",rating:5,image:null}),[J,ne]=S.useState(!1),[me,ge]=S.useState(!1),[ce,te]=S.useState(null),[ve,Ie]=S.useState(null),[qe,Ne]=S.useState("Gris Forja"),[lt,Xe]=S.useState(!1),[He,Le]=S.useState(!1);S.useEffect(()=>{(async()=>{if(!t)return;W(!0);const{data:we,error:Me}=await Ee.from("product_reviews").select("*").eq("product_id",t).order("created_at",{ascending:!1});Me?console.error("Error fetching reviews:",Me):V(we||[]),W(!1)})()},[t]);const Re=S.useMemo(()=>U.filter(ee=>ee.image).map(ee=>({url:ee.image,user:ee.user_name,reviewId:ee.id})),[U]);S.useEffect(()=>{v&&k(v.image)},[v]),S.useEffect(()=>{C(!0);const ee=setTimeout(()=>{C(!1),setTimeout(()=>{var we;(we=I.current)==null||we.scrollIntoView({behavior:"smooth",block:"center"})},100)},800);return()=>clearTimeout(ee)},[t]);const ae=S.useMemo(()=>U.length===0?0:U.reduce((we,Me)=>we+Me.rating,0)/U.length,[U]),ke=S.useMemo(()=>{var or;if(!y||a.length<=1)return[];const ee=new Set([y.id,...((or=y.subItems)==null?void 0:or.map(Oe=>Oe.id))||[]]),we=a.filter(Oe=>!ee.has(Oe.id)),Me=we.filter(Oe=>Oe.category===y.category),_t=we.filter(Oe=>Oe.category!==y.category&&(Oe.creature_type===y.creature_type&&y.creature_type||Oe.designer===y.designer&&y.designer)),gt=we.filter(Oe=>Oe.category!==y.category&&!_t.some(Je=>Je.id===Oe.id));return[...Me.sort(()=>.5-Math.random()),..._t.sort(()=>.5-Math.random()),...gt.sort(()=>.5-Math.random())].slice(0,3)},[y,a]);S.useMemo(()=>y?[{url:y.image,label:"Forja 12k"},...Re.map(ee=>({url:ee.url,label:`Gesta de ${ee.user}`}))]:[],[y,Re]);const fe=()=>{!P&&y&&O({...y}),N(!P)},dt=ee=>{const{name:we,value:Me}=ee.target;O(_t=>({..._t,[we]:Me}))},Be=async()=>{if(!y)return;F(!0);const{subItems:ee,...we}=B;we.gallery_images===void 0&&delete we.gallery_images;const Me={...we,price:typeof B.price=="string"?parseFloat(B.price):B.price};try{const{data:_t,error:gt}=await Ee.from("products").update(Me).eq("id",y.id).select().single();if(gt)throw gt;if(y.set_name&&y.set_name!=="Sin set"&&Me.set_name&&Me.set_name!==y.set_name){const{error:$t}=await Ee.from("products").update({set_name:Me.set_name}).eq("set_name",y.set_name);if($t)throw $t}_t&&(l.invalidateQueries({queryKey:["products"]}),N(!1),Me.set_name!==y.set_name&&window.location.reload())}catch(_t){alert("Error al guardar cambios: "+_t.message)}finally{F(!1)}},Te=S.useMemo(()=>{if(!v)return[];const ee=P&&B.image?B.image:v.image,we=B.gallery_images||[],Me=P&&we.length>=0&&B.gallery_images?B.gallery_images:v.gallery_images||[],_t=[{name:"Principal",url:ee||"",id:v.id}];return Me.length>0&&Me.forEach((gt,$t)=>{_t.push({name:`Vista ${$t+1}`,url:gt,isGallery:!0})}),y!=null&&y.subItems&&y.subItems.forEach(gt=>{gt.image&&gt.image!==ee&&_t.push({name:gt.name,url:gt.image,id:gt.id})}),y&&y.id!==v.id&&y.image!==ee&&_t.push({name:y.name,url:y.image,id:y.id}),_t.filter((gt,$t,or)=>$t===or.findIndex(Oe=>Oe.url===gt.url))},[v,y,P,B]),ie=ee=>{const{left:we,top:Me,width:_t,height:gt}=ee.currentTarget.getBoundingClientRect(),$t=(ee.clientX-we)/_t*100,or=(ee.clientY-Me)/gt*100,Oe=Te.length>1&&($t<15||$t>85);_({x:$t,y:or,show:!Oe})},Ce=()=>{_({...A,show:!1})},We=ee=>{ee==null||ee.stopPropagation();const we=(E+1)%Te.length;j(we);const Me=Te[we];k(Me.url),Me.id&&h(Me.id)},Qe=ee=>{ee==null||ee.stopPropagation();const we=(E-1+Te.length)%Te.length;j(we);const Me=Te[we];k(Me.url),Me.id&&h(Me.id)},mt=ee=>{j(ee);const we=Te[ee];k(we.url),we.id&&h(we.id)};S.useEffect(()=>{const ee=we=>{Te.length<=1||(we.key==="ArrowLeft"?Qe():we.key==="ArrowRight"&&We())};return window.addEventListener("keydown",ee),()=>window.removeEventListener("keydown",ee)},[Te,We,Qe]);const je=async ee=>{if(ee.target.files&&ee.target.files[0]){const we=ee.target.files[0];try{const Me=await c1(we,5);H(_t=>({..._t,image:Me}))}catch(Me){alert(Me instanceof Error?Me.message:"Error al cargar la imagen"),ee.target.value=""}}},Ze=async()=>{if(!i||!K.text||!t)return;ne(!0);const ee=Rse.sanitize(K.text,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]});if(ee.length<10){alert("La crnica debe tener al menos 10 caracteres."),ne(!1);return}if(ee.length>1e3){alert("La crnica no puede exceder 1000 caracteres."),ne(!1);return}const we={product_id:t,user_name:i.name,user_avatar:i.avatar,rating:K.rating,text:ee,image:K.image},{data:Me,error:_t}=await Ee.from("product_reviews").insert(we).select().single();_t?(console.error("Error submitting review:",_t),alert("Error al publicar la crnica. Intenta de nuevo.")):Me&&(V([Me,...U]),H({user:"",text:"",rating:5,image:null})),ne(!1)},ot=async ee=>{if(!confirm("Ests seguro de eliminar esta crnica?"))return;const{error:we}=await Ee.from("product_reviews").delete().eq("id",ee);we?(console.error("Error deleting review:",we),alert("Error al eliminar la crnica.")):V(U.filter(Me=>Me.id!==ee))},ft=async ee=>{if(!ee.target.files||!ee.target.files[0])return;const we=ee.target.files[0];try{F(!0),await c1(we,5);const Me=we.name.split(".").pop(),gt=`${`${v.id}-${Date.now()}.${Me}`}`,{error:$t}=await Ee.storage.from("products").upload(gt,we,{cacheControl:"3600",upsert:!1,contentType:we.type});if($t)throw $t;const{data:{publicUrl:or}}=Ee.storage.from("products").getPublicUrl(gt);O(Oe=>({...Oe,image:or})),alert("Imagen subida correctamente. Recuerda guardar los cambios.")}catch(Me){console.error("Error uploading image:",Me),alert("Error uploading image: "+(Me instanceof Error?Me.message:"Unknown error"))}finally{F(!1)}},Ae=async ee=>{if(!ee.target.files||!ee.target.files[0])return;const we=ee.target.files[0];try{F(!0),await c1(we,5);const Me=we.name.split(".").pop(),gt=`gallery/${`gallery-${v.id}-${Date.now()}.${Me}`}`,{error:$t}=await Ee.storage.from("products").upload(gt,we,{cacheControl:"3600",upsert:!1,contentType:we.type});if($t)throw $t;const{data:{publicUrl:or}}=Ee.storage.from("products").getPublicUrl(gt);O(Oe=>({...Oe,gallery_images:[...Oe.gallery_images||[],or]}))}catch(Me){console.error("Error uploading gallery image:",Me),alert("Error: "+(Me instanceof Error?Me.message:"Unknown"))}finally{F(!1)}},ct=ee=>{O(we=>({...we,gallery_images:(we.gallery_images||[]).filter(Me=>Me!==ee)}))};return x?u.jsx(Ise,{}):y?u.jsxs(fr,{maxWidth:"lg",sx:{py:10,px:{xs:3,sm:6}},children:[u.jsxs(L,{sx:{mb:6,display:"flex",flexDirection:"column",gap:2},children:[u.jsx(Ye,{startIcon:u.jsx(rp,{}),onClick:()=>e(be.CATALOG),sx:{alignSelf:"flex-start",color:"secondary.main",textTransform:"uppercase",letterSpacing:2,fontWeight:"bold","&:hover":{color:"primary.main",bgcolor:"transparent",transform:"translateX(-4px)"},transition:"all 0.3s"},children:"Volver al Catlogo"}),u.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1,color:"text.secondary",fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:1},children:[u.jsx($,{sx:{cursor:"pointer","&:hover":{color:"primary.main"}},onClick:()=>e(be.CATALOG),children:"Catlogo"}),u.jsx($,{color:"text.secondary",children:"/"}),u.jsx($,{color:"text.secondary",children:v.category}),u.jsx($,{color:"text.secondary",children:"/"}),u.jsx($,{color:"secondary.main",fontWeight:"bold",noWrap:!0,children:v.name.replace(/\s*Header\s*/gi,"").trim()})]})]}),u.jsxs(_e,{container:!0,spacing:6,children:[u.jsx(_e,{size:{xs:12,lg:6},children:u.jsxs(L,{sx:{display:"flex",flexDirection:"column",gap:4},children:[u.jsxs(St,{elevation:6,ref:I,sx:{position:"relative",aspectRatio:"1/1",bgcolor:"black",borderRadius:2,overflow:"hidden",cursor:"crosshair",border:1,borderColor:"secondary.main"},onMouseMove:ie,onMouseLeave:Ce,children:[u.jsx(L,{sx:{position:"absolute",inset:0,backgroundImage:`url("${T}")`,backgroundPosition:A.show?`${A.x}% ${A.y}%`:"center",backgroundSize:A.show?"200%":"contain",backgroundRepeat:"no-repeat",transition:"transform 0.1s ease-out"}}),Te.length>1&&u.jsxs(u.Fragment,{children:[u.jsx(L,{onClick:Qe,sx:{position:"absolute",left:0,top:0,bottom:0,width:"15%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:2,userSelect:"none","&:hover .nav-arrow":{opacity:1,color:"primary.main"}},children:u.jsx(pt,{className:"nav-arrow",disableRipple:!0,sx:{bgcolor:"rgba(0,0,0,0.6)",color:"white",opacity:.7,transition:"none",pointerEvents:"none"},children:u.jsx(KM,{})})}),u.jsx(L,{onClick:We,sx:{position:"absolute",right:0,top:0,bottom:0,width:"15%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:2,userSelect:"none","&:hover .nav-arrow":{opacity:1,color:"primary.main"}},children:u.jsx(pt,{className:"nav-arrow",disableRipple:!0,sx:{bgcolor:"rgba(0,0,0,0.6)",color:"white",opacity:.7,transition:"none",pointerEvents:"none"},children:u.jsx(YM,{})})})]}),!A.show&&u.jsxs(L,{sx:{position:"absolute",bottom:16,left:"50%",transform:"translateX(-50%)",bgcolor:"rgba(0,0,0,0.6)",borderRadius:4,px:2,py:.5,display:"flex",alignItems:"center",gap:1,backdropFilter:"blur(4px)",border:1,borderColor:"rgba(255,255,255,0.1)",userSelect:"none",pointerEvents:"none",zIndex:3},children:[u.jsx(rY,{sx:{fontSize:16,color:"white"}}),u.jsx($,{variant:"caption",sx:{color:"white",letterSpacing:1,textTransform:"uppercase"},children:"Mira de cerca para Inspeccionar"})]})]}),u.jsx(L,{sx:{display:"flex",gap:2,overflowX:"auto",pb:1},children:Te.map((ee,we)=>u.jsxs(L,{onClick:()=>mt(we),sx:{width:80,height:80,flexShrink:0,borderRadius:1,border:1,borderColor:we===E?"secondary.main":"transparent",opacity:we===E?1:.5,cursor:"pointer",overflow:"hidden",position:"relative",transition:"all 0.2s","&:hover":{opacity:1,borderColor:"secondary.main"}},children:[u.jsx(L,{component:"img",src:ee.url,sx:{width:"100%",height:"100%",objectFit:"contain",bgcolor:"black"}}),P&&ee.isGallery&&u.jsx(L,{onClick:Me=>{Me.stopPropagation(),ct(ee.url)},sx:{position:"absolute",top:0,right:0,bgcolor:"error.main",color:"white",width:24,height:24,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"0 0 0 4px",zIndex:10,boxShadow:2,"&:hover":{bgcolor:"error.dark",transform:"scale(1.1)"}},children:u.jsx(Ii,{sx:{fontSize:16,fontWeight:"bold"}})})]},we))})]})}),u.jsxs(_e,{size:{xs:12,lg:6},children:[u.jsxs(L,{sx:{mb:1,display:"flex",gap:2,alignItems:"center"},children:[u.jsx(Qr,{label:`Escala ${v.size||"M"}`,variant:"outlined",color:"primary",size:"small",sx:{fontWeight:"bold"}}),u.jsxs($,{variant:"caption",color:"text.secondary",sx:{letterSpacing:1},children:["REF: ",v.category.toUpperCase(),"-",v.id.padStart(3,"0")]})]}),o&&u.jsx(St,{sx:{mb:3,p:2,bgcolor:ee=>q(ee.palette.secondary.main,.05),border:1,borderStyle:"dashed",borderColor:"secondary.main",borderRadius:2},children:u.jsxs(wt,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",children:[u.jsx($,{variant:"caption",sx:{color:"secondary.main",fontWeight:"bold",letterSpacing:1},children:"CONTROLES DEL ALTO SUPERVISOR"}),u.jsx(wt,{direction:"row",spacing:1,children:P?u.jsxs(u.Fragment,{children:[u.jsx(Ye,{size:"small",variant:"contained",color:"primary",onClick:Be,disabled:D,children:D?"Guardando...":"Guardar Cambios"}),u.jsx(Ye,{size:"small",variant:"text",color:"inherit",onClick:fe,disabled:D,children:"Cancelar"})]}):u.jsx(Ye,{size:"small",variant:"outlined",color:"secondary",startIcon:u.jsx(jj,{}),onClick:fe,children:"Editar Pergamino"})})]})}),P?u.jsxs(wt,{spacing:2,sx:{mb:2},children:[u.jsxs(L,{sx:{p:2,border:"1px dashed grey",borderRadius:1,textAlign:"center"},children:[u.jsx("input",{accept:"image/*",style:{display:"none"},id:"product-image-upload",type:"file",onChange:ft,disabled:D}),u.jsx("label",{htmlFor:"product-image-upload",children:u.jsx(Ye,{variant:"outlined",component:"span",startIcon:u.jsx(J1,{}),disabled:D,children:"Cambiar Imagen del Artefacto"})}),B.image&&u.jsx($,{variant:"caption",display:"block",sx:{mt:1,color:"success.main"},children:"Nueva imagen cargada y lista para guardar."})]}),u.jsx(Ut,{fullWidth:!0,name:"name",label:"Nombre del Artefacto (Individual)",value:B.name,onChange:dt}),v.set_name&&v.set_name!=="Sin set"&&u.jsx(Ut,{fullWidth:!0,name:"set_name",label:"Nombre del Set (Grupo)",value:B.set_name||"",onChange:dt,helperText:"Cambiar esto actualizar el nombre del grupo para todos los miembros."})]}):u.jsx($,{variant:"h3",sx:{fontWeight:"bold",fontStyle:"italic",mb:2,color:"common.white",minHeight:"6rem",display:"flex",alignItems:"flex-start",lineHeight:1.2},children:v.set_name&&v.set_name!=="Sin set"?v.set_name:v.name.replace(/\s*Header\s*/gi,"").trim()}),u.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:3,mb:4,pb:4,borderBottom:1,borderColor:"rgba(197, 160, 89, 0.1)"},children:[P?u.jsx(Ut,{name:"price",type:"number",label:"Precio (GP)",value:B.price,onChange:dt,size:"small",sx:{width:120}}):u.jsx($,{variant:"h4",sx:{fontWeight:"bold",color:"secondary.main"},children:Xc(v.price)}),u.jsx(Ir,{orientation:"vertical",flexItem:!0,sx:{bgcolor:"grey.800"}}),u.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[u.jsx(Rf,{value:ae,readOnly:!0,precision:.5,emptyIcon:u.jsx(Bc,{style:{opacity:.3,color:"grey"},fontSize:"inherit"})}),u.jsxs($,{variant:"caption",color:"text.secondary",children:["(",U.length," Reviews)"]})]})]}),u.jsxs(L,{sx:{mb:5},children:[u.jsx($,{variant:"overline",color:"secondary.main",fontWeight:"bold",letterSpacing:2,display:"block",gutterBottom:!0,children:"Lore y Descripcin"}),P?u.jsx(L,{sx:{mt:1},children:u.jsx(Ul,{content:B.description||"",onChange:ee=>O(we=>({...we,description:ee})),placeholder:"Escribe el lore de este artefacto..."})}):u.jsx(L,{sx:{bgcolor:ee=>q(ee.palette.background.paper,.3),p:3,borderRadius:2,border:1,borderColor:ee=>q(ee.palette.secondary.main,.1)},children:u.jsx(Ll,{content:v.description||"Un raro artefacto recuperado de las mazmorras ms profundas. Los detalles de su origen estn envueltos en misterio, pero su artesana es innegable.",sx:{opacity:.9,minHeight:"100px",textAlign:"justify",lineHeight:2,fontFamily:'"Newsreader", serif',"& p":{margin:0,mb:2}}})})]}),P&&u.jsxs(L,{sx:{mb:4,p:2,border:"1px dashed grey",borderRadius:1},children:[u.jsx($,{variant:"subtitle2",color:"secondary",gutterBottom:!0,children:"Galera de Vistas Adicionales"}),u.jsx(L,{sx:{display:"flex",flexWrap:"wrap",gap:2,mb:2},children:(at=B.gallery_images)==null?void 0:at.map((ee,we)=>u.jsxs(L,{sx:{position:"relative",width:80,height:80},children:[u.jsx("img",{src:ee,alt:`Gallery ${we}`,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:4}}),u.jsx(pt,{size:"small",sx:{position:"absolute",top:-10,right:-10,bgcolor:"error.main",color:"white","&:hover":{bgcolor:"error.dark"}},onClick:()=>ct(ee),children:u.jsx(Ii,{fontSize:"small"})})]},we))}),u.jsx("input",{accept:"image/*",style:{display:"none"},id:"gallery-image-upload",type:"file",onChange:Ae,disabled:D}),u.jsx("label",{htmlFor:"gallery-image-upload",children:u.jsx(Ye,{variant:"outlined",component:"span",startIcon:u.jsx(nK,{}),size:"small",disabled:D,children:"Agregar Vista Adicional"})})]}),(y==null?void 0:y.subItems)&&y.subItems.length>0&&u.jsxs(L,{sx:{mb:4,display:"flex",flexWrap:"wrap",gap:1.5},children:[u.jsx(Qr,{label:y.name.replace(/\s*Header\s*/gi,"").trim(),onClick:()=>h(y.id),variant:v.id===y.id?"filled":"outlined",color:"secondary",sx:{fontFamily:"Cinzel",fontWeight:"bold",boxShadow:v.id===y.id?ee=>`0 0 15px ${q(ee.palette.secondary.main,.3)}`:"none"}}),y.subItems.map(ee=>u.jsx(Qr,{label:ee.name,onClick:()=>h(ee.id),variant:v.id===ee.id?"filled":"outlined",color:"secondary",sx:{fontFamily:"Cinzel",fontWeight:600,boxShadow:v.id===ee.id?we=>`0 0 15px ${q(we.palette.secondary.main,.3)}`:"none"}},ee.id))]}),u.jsx(Mse,{size:v.size||"Medium"}),P&&u.jsx(L,{sx:{mt:3,mb:3},children:u.jsx(Ut,{fullWidth:!0,name:"designer",label:"Gran Maestro (Diseador)",value:B.designer,onChange:dt,size:"small"})}),u.jsxs(St,{variant:"outlined",sx:{p:3,bgcolor:"transparent",borderColor:"rgba(197, 160, 89, 0.1)"},children:[u.jsxs($,{variant:"overline",color:"common.white",fontWeight:"bold",letterSpacing:2,gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[u.jsx(ZG,{fontSize:"small",color:"secondary"})," Especificaciones Tcnicas"]}),u.jsx(_e,{container:!0,spacing:2,children:[{label:"Identificador",value:`#${v.id.slice(0,8)}`,icon:u.jsx(eY,{fontSize:"small"}),editableField:null},{label:"Categora",value:v.category,icon:u.jsx(FS,{fontSize:"small"}),editableField:"category"},{label:"Gran Maestro",value:v.designer,icon:u.jsx(zg,{fontSize:"small"}),editableField:"designer"},{label:"Especie",value:v.creature_type,icon:u.jsx(VM,{fontSize:"small"}),editableField:"creature_type"},{label:"Arsenales",value:v.weapon,icon:u.jsx(SK,{fontSize:"small"}),editableField:"weapon"},{label:"Escala Comandante",value:v.size,icon:u.jsx(dI,{fontSize:"small"}),editableField:"size"}].map((ee,we)=>{const Me=P&&ee.editableField,_t=Me?Array.from(new Set(a.map(gt=>gt[ee.editableField]).filter(Boolean))).sort():[];return u.jsx(_e,{size:{xs:6,sm:4},children:u.jsxs(wt,{direction:"row",spacing:1,alignItems:"center",children:[u.jsx(L,{sx:{color:"secondary.main",display:"flex",mt:Me?1:0},children:ee.icon}),u.jsxs(L,{sx:{width:"100%"},children:[u.jsx($,{variant:"caption",color:"text.secondary",sx:{textTransform:"uppercase",letterSpacing:1},children:ee.label}),Me?u.jsx(yW,{freeSolo:!0,options:_t,value:B[ee.editableField]||"",onChange:(gt,$t)=>{O(or=>({...or,[ee.editableField]:$t}))},onInputChange:(gt,$t)=>{O(or=>({...or,[ee.editableField]:$t}))},renderInput:gt=>u.jsx(Ut,{...gt,fullWidth:!0,variant:"standard",size:"small",sx:{input:{color:"common.white",fontWeight:600,fontSize:"0.875rem"}}})}):u.jsx($,{variant:"body2",sx:{fontWeight:600,color:"common.white"},children:ee.value||"Desconocido"})]})]})},we)})})]}),u.jsxs(L,{sx:{mt:2,display:"flex",gap:1,alignItems:"flex-start"},children:[u.jsx(B0,{fontSize:"small",color:"secondary"}),u.jsx($,{variant:"caption",color:"text.secondary",fontStyle:"italic",children:"Embalado con encantamientos protectores (plstico de burbujas) para asegurar su llegada a salvo."})]}),u.jsxs(L,{sx:{mt:4},children:[u.jsx(Ye,{variant:"outlined",size:"large",fullWidth:!0,disabled:He,startIcon:u.jsx(YG,{}),onClick:async()=>{Le(!0),await new Promise(ee=>setTimeout(ee,500)),p(v),Le(!1),Xe(!0)},sx:{py:2,fontSize:"1.1rem",mb:2},children:He?"Aadiendo...":"Aadir al Carrito"}),u.jsx(Ye,{variant:"text",fullWidth:!0,startIcon:b?u.jsx(ih,{sx:{color:"primary.main"}}):u.jsx(BS,{}),onClick:()=>n(v.id),sx:{py:1},children:b?"En Lista de Deseos":"Aadir a Deseos"})]})]})]}),ke.length>0&&u.jsxs(L,{sx:{mb:10,mt:8},children:[u.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2,mb:4},children:[u.jsx(Ir,{sx:{flex:1,borderColor:"rgba(197, 160, 89, 0.2)"}}),u.jsx($,{variant:"h5",sx:{textTransform:"uppercase",letterSpacing:3,fontWeight:"bold",fontStyle:"italic",color:"common.white"},children:"Artefactos Relacionados"}),u.jsx(Ir,{sx:{flex:1,borderColor:"rgba(197, 160, 89, 0.2)"}})]}),u.jsx(_e,{container:!0,spacing:3,children:ke.map(ee=>u.jsx(_e,{size:{xs:12,md:4},children:u.jsxs(xl,{onClick:()=>s==null?void 0:s(ee.id),sx:{bgcolor:"background.paper",border:1,borderColor:"rgba(197, 160, 89, 0.2)",cursor:"pointer",transition:"all 0.3s","&:hover":{borderColor:"secondary.main",transform:"translateY(-4px)"}},children:[u.jsx(m7,{component:"img",height:"250",image:ee.image,alt:ee.name,sx:{opacity:.8,objectFit:"contain",bgcolor:"black"}}),u.jsxs(nh,{children:[u.jsx($,{variant:"h6",color:"common.white",fontWeight:"bold",children:ee.name}),u.jsx($,{variant:"body2",color:"secondary",children:Xc(ee.price)})]})]})},ee.id))})]}),Re.length>0&&u.jsxs(L,{sx:{mb:10},children:[u.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2,mb:4},children:[u.jsx(Ir,{sx:{flex:1,borderColor:"rgba(197, 160, 89, 0.2)"}}),u.jsxs($,{variant:"h5",sx:{display:"flex",alignItems:"center",gap:2,textTransform:"uppercase",letterSpacing:3,fontWeight:"bold",fontStyle:"italic",color:"common.white"},children:[u.jsx(jj,{})," Galera de Aventureros"]}),u.jsx(Ir,{sx:{flex:1,borderColor:"rgba(197, 160, 89, 0.2)"}})]}),u.jsx($,{variant:"body2",color:"grey.500",sx:{textAlign:"center",mb:3,fontStyle:"italic"},children:"Obras de arte pintadas por nuestra comunidad de aventureros"}),u.jsx(L,{sx:{display:"flex",gap:2,overflowX:"auto",pb:2},children:Re.map((ee,we)=>u.jsxs(L,{onClick:()=>{te(ee.url),ge(!0)},sx:{minWidth:200,maxWidth:200,position:"relative",borderRadius:2,overflow:"hidden",border:1,borderColor:"rgba(197, 160, 89, 0.1)",cursor:"pointer","&:hover img":{transform:"scale(1.1)"}},children:[u.jsx(L,{component:"img",src:ee.url,sx:{width:"100%",height:260,objectFit:"cover",transition:"transform 0.5s"}}),u.jsxs(L,{sx:{position:"absolute",bottom:0,left:0,right:0,p:1.5,background:"linear-gradient(transparent, rgba(0,0,0,0.8))",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsx($,{variant:"caption",sx:{color:"white",fontWeight:"bold"},children:ee.user}),o&&u.jsx(dr,{title:"Eliminar imagen (Admin)",arrow:!0,children:u.jsx(pt,{size:"small",onClick:Me=>{Me.stopPropagation(),ot(ee.reviewId)},sx:{color:"grey.400",p:.5,"&:hover":{color:"error.main"}},children:u.jsx(ko,{sx:{fontSize:16}})})})]})]},we))})]}),u.jsx(hd,{open:me,onClose:()=>ge(!1),maxWidth:"lg",PaperProps:{sx:{bgcolor:"transparent",boxShadow:"none"}},children:u.jsxs(Tf,{sx:{p:0,position:"relative"},children:[u.jsx(pt,{onClick:()=>ge(!1),sx:{position:"absolute",top:-40,right:0,color:"white"},children:u.jsx(Ii,{})}),ce&&u.jsx(L,{component:"img",src:ce,sx:{maxWidth:"90vw",maxHeight:"80vh",objectFit:"contain",borderRadius:2}})]})}),u.jsx(L,{sx:{borderTop:1,borderColor:"rgba(197, 160, 89, 0.2)",pt:6},children:u.jsxs(_e,{container:!0,spacing:6,children:[u.jsxs(_e,{size:{xs:12,lg:4},children:[u.jsx($,{variant:"h6",color:"secondary.main",gutterBottom:!0,sx:{textTransform:"uppercase",letterSpacing:2,fontWeight:"bold"},children:"Inscribe una Crnica"}),u.jsx($,{variant:"body2",color:"text.secondary",paragraph:!0,fontStyle:"italic",children:"Comparte tu experiencia con este artefacto. Tus relatos guan a otros aventureros."}),i?u.jsxs(wt,{spacing:3,sx:{mt:3},children:[u.jsxs(L,{sx:{p:2,bgcolor:"rgba(197, 160, 89, 0.1)",borderRadius:1,border:1,borderColor:"rgba(197, 160, 89, 0.2)"},children:[u.jsx($,{variant:"caption",color:"text.secondary",children:"Publicando como"}),u.jsx($,{variant:"subtitle2",color:"secondary.main",fontWeight:"bold",children:i.name})]}),u.jsxs(L,{children:[u.jsx($,{component:"legend",variant:"caption",color:"text.secondary",children:"Rating"}),u.jsx(Rf,{value:K.rating,onChange:(ee,we)=>H({...K,rating:we||5}),emptyIcon:u.jsx(Bc,{style:{opacity:.3,color:"grey"},fontSize:"inherit"})})]}),u.jsx(Ut,{label:"Crnica",multiline:!0,rows:4,variant:"outlined",fullWidth:!0,value:K.text,onChange:ee=>H({...K,text:ee.target.value})}),u.jsxs(L,{children:[u.jsx($,{variant:"caption",display:"block",color:"text.secondary",gutterBottom:!0,children:"Prueba Visual (Opcional)"}),u.jsxs(Ye,{variant:"outlined",component:"label",startIcon:u.jsx(J1,{}),color:"secondary",sx:{textTransform:"none"},children:["Adjuntar Imagen",u.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:je})]}),K.image&&u.jsxs(L,{sx:{mt:1,position:"relative",width:80,height:80,borderRadius:1,overflow:"hidden"},children:[u.jsx("img",{src:K.image,alt:"Preview",style:{width:"100%",height:"100%",objectFit:"cover"}}),u.jsx(pt,{size:"small",onClick:()=>H({...K,image:null}),sx:{position:"absolute",top:0,right:0,bgcolor:"rgba(0,0,0,0.6)",color:"white"},children:u.jsx(Ii,{fontSize:"small"})})]})]}),u.jsx(Ye,{variant:"contained",color:"secondary",fullWidth:!0,size:"large",onClick:Ze,disabled:!K.text||J,sx:{color:"background.default",fontWeight:"bold"},children:J?"Inscribiendo...":"Publicar Crnica"})]}):u.jsxs(L,{sx:{mt:3,p:4,textAlign:"center",bgcolor:"rgba(0,0,0,0.3)",borderRadius:2,border:1,borderColor:"rgba(197, 160, 89, 0.2)"},children:[u.jsx($,{variant:"body2",color:"text.secondary",paragraph:!0,fontStyle:"italic",children:"Debes iniciar sesin para dejar una crnica."}),u.jsx(Ye,{variant:"outlined",color:"secondary",onClick:()=>e(be.LOGIN),sx:{fontWeight:"bold"},children:"Iniciar Sesin"})]})]}),u.jsxs(_e,{size:{xs:12,lg:8},children:[u.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4,pb:2,borderBottom:1,borderColor:"rgba(197, 160, 89, 0.2)"},children:[u.jsx($,{variant:"h5",color:"common.white",fontWeight:"bold",sx:{fontStyle:"italic"},children:"Registro del Escriba"}),u.jsxs($,{variant:"caption",color:"secondary.main",children:[U.length," Entradas registradas"]})]}),u.jsx(wt,{spacing:4,children:G?u.jsx(L,{sx:{textAlign:"center",py:4},children:u.jsx($,{variant:"body2",color:"grey.500",fontStyle:"italic",children:"Consultando los archivos..."})}):U.length===0?u.jsx(L,{sx:{textAlign:"center",py:4},children:u.jsx($,{variant:"body2",color:"grey.500",fontStyle:"italic",children:"An no hay crnicas inscritas. S el primero en compartir tu experiencia!"})}):U.map(ee=>{var we;return u.jsxs(St,{elevation:0,sx:{p:3,bgcolor:"background.paper",border:1,borderColor:"rgba(197, 160, 89, 0.1)",position:"relative"},children:[o&&u.jsx(dr,{title:"Eliminar crnica (Admin)",arrow:!0,children:u.jsx(pt,{size:"small",onClick:()=>ot(ee.id),sx:{position:"absolute",top:8,right:8,color:"grey.600","&:hover":{color:"error.main"}},children:u.jsx(ko,{fontSize:"small"})})}),u.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[u.jsxs(L,{sx:{display:"flex",gap:2},children:[u.jsx(ai,{src:(we=ee.user_avatar)!=null&&we.includes("images/avatars/")?us:ee.user_avatar,alt:ee.user_name,sx:{bgcolor:"rgba(197, 160, 89, 0.2)",color:"secondary.main",fontWeight:"bold",border:1,borderColor:"rgba(197, 160, 89, 0.3)"},children:ee.user_name.charAt(0)}),u.jsxs(L,{children:[u.jsx($,{variant:"subtitle2",color:"common.white",fontWeight:"bold",children:ee.user_name}),u.jsx($,{variant:"caption",color:"text.secondary",children:_se(ee.created_at)})]})]}),u.jsx(Rf,{value:ee.rating,readOnly:!0,size:"small",emptyIcon:u.jsx(Bc,{style:{opacity:.3,color:"grey"},fontSize:"inherit"})})]}),u.jsxs($,{variant:"body2",color:"text.secondary",fontStyle:"italic",paragraph:!0,children:['"',ee.text,'"']}),ee.image&&u.jsx(L,{component:"img",src:ee.image,alt:"User upload",onClick:()=>{te(ee.image),ge(!0)},sx:{height:100,borderRadius:1,border:1,borderColor:"rgba(255,255,255,0.1)",cursor:"pointer","&:hover":{opacity:.8}}})]},ee.id)})})]})]})}),u.jsx(hd,{open:!!ve,onClose:()=>Ie(null),maxWidth:"lg",children:u.jsx(Tf,{sx:{p:0,position:"relative",bgcolor:"black",display:"flex",justifyContent:"center",alignItems:"center"},children:u.jsx(L,{component:"img",src:ve||"",alt:"Zoom",sx:{maxWidth:"100%",maxHeight:"90vh",objectFit:"contain"},onClick:()=>Ie(null)})})}),u.jsx(hd,{open:me,onClose:()=>ge(!1),maxWidth:"lg",children:u.jsx(Tf,{sx:{p:0,position:"relative",bgcolor:"black",display:"flex",justifyContent:"center",alignItems:"center"},children:u.jsx(L,{component:"img",src:ce||"",alt:"Gallery Zoom",sx:{maxWidth:"100%",maxHeight:"90vh",objectFit:"contain"},onClick:()=>ge(!1)})})}),u.jsx(z0,{open:lt,autoHideDuration:3e3,onClose:()=>Xe(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:u.jsxs(ya,{onClose:()=>Xe(!1),severity:"success",sx:{width:"100%"},children:[v==null?void 0:v.name," aadido a tu inventario."]})})]}):u.jsxs(L,{sx:{minHeight:"50vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",px:3},children:[u.jsx($,{variant:"h4",color:"secondary.main",fontWeight:"bold",gutterBottom:!0,children:"Artefacto Perdido"}),u.jsx($,{color:"text.secondary",paragraph:!0,children:"El orbe de adivinacin no puede localizar este objeto en los archivos."}),u.jsx(Ye,{onClick:()=>e(be.CATALOG),color:"primary",sx:{textDecoration:"underline"},children:"Volver a los Archivos"})]})},Pse=({setView:t,onLogin:e})=>{const r=Yt(),[n,o]=S.useState(""),[i,s]=S.useState(""),[a,l]=S.useState(!1),[p,f]=S.useState(null),h=async m=>{m.preventDefault(),f(null),l(!0);let y=n;if(!n.includes("@")){const{data:x,error:C}=await Ee.rpc("get_email_from_username",{input_username:n.trim()});if(C){f(`Error al buscar usuario: ${C.message}`),l(!1);return}if(!x){f("Usuario no encontrado. Verifica que el nombre de usuario sea correcto."),l(!1);return}y=x}const{data:v,error:b}=await Ee.auth.signInWithPassword({email:y,password:i});b?(f(b.message),l(!1)):v.user&&e(v.user)};return u.jsx(fr,{maxWidth:"sm",sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",py:6,position:"relative","&::before":{content:'""',position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh",backgroundImage:"url(https://ydcbptnxlslljccwedwi.supabase.co/storage/v1/object/sign/Soulforge%20-%20Misc/nozzip_a_fantasy_forest_--ar_8953_--profile_dehgnq4_--stylize_1_5b23a4ac-5a4a-42ee-bb78-6c774444151d.png?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV84MjAxNjBmNy1jMzIxLTRmMWUtYWEwOC04YzZkMTNkOTgyZTUiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJTb3VsZm9yZ2UgLSBNaXNjL25venppcF9hX2ZhbnRhc3lfZm9yZXN0Xy0tYXJfODk1M18tLXByb2ZpbGVfZGVoZ25xNF8tLXN0eWxpemVfMV81YjIzYTRhYy01YTRhLTQyZWUtYmI3OC02Yzc3NDQ0NDE1MWQucG5nIiwiaWF0IjoxNzY5Mzc4Nzk3LCJleHAiOjE5MjcwNTg3OTd9.AldMF4YQdVveQNEZo0Pg-BiqdFlNNRdXbsLtvAylhjk)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",transform:"scale(1.0)",WebkitTransform:"scale(1.0)",opacity:.35,zIndex:-1}},children:u.jsxs(QS,{sx:{width:"100%",maxWidth:400},children:[u.jsx(XS,{}),u.jsxs(L,{sx:{textAlign:"center",mb:5},children:[u.jsx(L,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:64,height:64,borderRadius:"50%",bgcolor:m=>q(m.palette.secondary.main,.1),border:1,borderColor:m=>q(m.palette.secondary.main,.3),mb:2,color:"secondary.main"},children:u.jsx($d,{sx:{fontSize:28}})}),u.jsx($,{variant:"h4",sx:{fontWeight:"bold",color:"common.white",textTransform:"uppercase",letterSpacing:3},children:"Identifcate"}),u.jsx($,{variant:"body2",sx:{color:"grey.500",fontStyle:"italic",mt:1},children:"Accede a los archivos de forma segura."})]}),u.jsx(Ms,{in:!!p,children:u.jsx(ya,{severity:"error",sx:{mb:3,bgcolor:q(r.palette.error.main,.1),color:"error.main",border:1,borderColor:"error.main"},children:p})}),u.jsx(L,{component:"form",onSubmit:h,children:u.jsxs(wt,{spacing:3,children:[u.jsx(Ut,{fullWidth:!0,label:"Email o Usuario",type:"text",required:!0,disabled:a,value:n,onChange:m=>o(m.target.value),placeholder:"mago@soulforge.com o Mago"}),u.jsx(Ut,{fullWidth:!0,label:"Runa Secreta",type:"password",required:!0,disabled:a,value:i,onChange:m=>s(m.target.value),placeholder:""}),u.jsx(Ye,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:a,size:"large",sx:{py:2,fontWeight:"bold",letterSpacing:3,border:1,borderColor:m=>q(m.palette.secondary.main,.2),boxShadow:m=>`0 0 20px ${q(m.palette.primary.main,.3)}`,"&:hover":{transform:"scale(1.02)"},"&:active":{transform:"scale(0.98)"}},children:a?u.jsxs(wt,{direction:"row",spacing:1,alignItems:"center",children:[u.jsx(Mn,{size:20,color:"inherit"}),u.jsx("span",{children:"Descifrando..."})]}):"Entrar al Reino"})]})}),u.jsx(Ir,{sx:{my:4}}),u.jsxs(L,{sx:{textAlign:"center"},children:[u.jsx($,{variant:"body2",sx:{color:"grey.500",fontStyle:"italic",mb:1},children:"Eres nuevo en la forja?"}),u.jsx(Ye,{onClick:()=>!a&&t(be.SIGNUP),disabled:a,endIcon:u.jsx(zh,{sx:{transition:"transform 0.2s"}}),sx:{color:"secondary.main",fontWeight:"bold",textTransform:"uppercase",letterSpacing:2,fontSize:"0.7rem","&:hover":{color:"common.white"},"&:hover .MuiSvgIcon-root":{transform:"translateX(4px)"}},children:"Inscribir Nuevo Nombre"})]})]})})},Nse=({setView:t,onLogin:e})=>{Yt();const[r,n]=S.useState(""),[o,i]=S.useState(""),[s,a]=S.useState(""),[l,p]=S.useState(!1),[f,h]=S.useState(null),m=/^[a-zA-Z0-9_]+$/,y=async v=>{if(v.preventDefault(),h(null),!r.trim()){h("Por favor, inscribe tu nombre para continuar.");return}if(!m.test(r)){h("El nombre solo puede contener letras, nmeros y guiones bajos. Sin espacios ni smbolos especiales.");return}if(r.length<3||r.length>20){h("El nombre debe tener entre 3 y 20 caracteres.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)){h("El pergamino de email parece estar mal escrito.");return}if(s.length<8){h("Tu runa secreta debe tener al menos 8 caracteres.");return}const x=/[A-Z]/.test(s),C=/[a-z]/.test(s),E=/[0-9]/.test(s),j=/[!@#$%^&*(),.?":{}|<>]/.test(s);if(!x||!C||!E||!j){h("Tu runa secreta debe contener maysculas, minsculas, nmeros y caracteres especiales.");return}p(!0);const{data:T,error:k}=await Ee.auth.signUp({email:o,password:s,options:{data:{full_name:r,username:r,avatar_url:us}}});if(k)h(k.message),p(!1);else if(T.user){if(!T.session){h("Cuenta creada. Por favor verifica tu correo electrnico para confirmar."),p(!1);return}const{error:A}=await Ee.from("profiles").upsert({id:T.user.id,username:r,full_name:r,avatar_url:us});A&&console.error("Error updating profile:",A),e(T.user)}};return u.jsx(fr,{maxWidth:"sm",sx:{minHeight:"70vh",display:"flex",alignItems:"center",justifyContent:"center",py:6},children:u.jsxs(QS,{sx:{width:"100%",maxWidth:400},children:[u.jsx(XS,{}),u.jsxs(L,{sx:{textAlign:"center",mb:5},children:[u.jsx(L,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:64,height:64,borderRadius:"50%",bgcolor:v=>q(v.palette.secondary.main,.1),border:1,borderColor:v=>q(v.palette.secondary.main,.3),mb:2,color:"secondary.main"},children:u.jsx(ly,{sx:{fontSize:28}})}),u.jsx($,{variant:"h4",sx:{fontWeight:"bold",color:"common.white",textTransform:"uppercase",letterSpacing:3},children:"nete al Gremio"}),u.jsx($,{variant:"body2",sx:{color:"grey.500",fontStyle:"italic",mt:1},children:"Comienza tu leyenda hoy."})]}),u.jsx(Ms,{in:!!f,children:u.jsx(ya,{severity:"error",icon:u.jsx(cK,{}),sx:{mb:3,bgcolor:v=>q(v.palette.error.main,.1),border:1,borderColor:"error.main"},children:u.jsx($,{variant:"body2",children:f})})}),u.jsx(L,{component:"form",onSubmit:y,children:u.jsxs(wt,{spacing:3,children:[u.jsx(Ut,{fullWidth:!0,label:"Nombre del Aventurero",type:"text",disabled:l,value:r,onChange:v=>n(v.target.value),placeholder:"GaldorElValiente",helperText:"Solo letras, nmeros y guiones bajos. Sin espacios (3-20 caracteres).",inputProps:{maxLength:20}}),u.jsx(Ut,{fullWidth:!0,label:"Pergamino de Email",type:"email",disabled:l,value:o,onChange:v=>i(v.target.value),placeholder:"mago@soulforge.com"}),u.jsx(Ut,{fullWidth:!0,label:"Runa Secreta",type:"password",disabled:l,value:s,onChange:v=>a(v.target.value),placeholder:""}),u.jsx(Ye,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",disabled:l,size:"large",sx:{py:2,fontWeight:"bold",letterSpacing:3,boxShadow:v=>`0 0 20px ${q(v.palette.secondary.main,.2)}`,"&:hover":{transform:"scale(1.02)",bgcolor:"common.white",color:"background.default"},"&:active":{transform:"scale(0.98)"}},children:l?u.jsxs(wt,{direction:"row",spacing:1,alignItems:"center",children:[u.jsx(Mn,{size:20,color:"inherit"}),u.jsx("span",{children:"Forjando Perfil..."})]}):"Inscribir Nombre"})]})}),u.jsx(Ir,{sx:{my:4}}),u.jsxs(L,{sx:{textAlign:"center"},children:[u.jsx($,{variant:"body2",sx:{color:"grey.500",fontStyle:"italic",mb:1},children:"Ya eres miembro?"}),u.jsx(Ye,{onClick:()=>!l&&t(be.LOGIN),disabled:l,sx:{color:"primary.main",fontWeight:"bold",textTransform:"uppercase",letterSpacing:2,fontSize:"0.7rem","&:hover":{color:"common.white"}},children:"Acceder a los Archivos"})]})]})})},Lse=({setView:t,onProductClick:e,wishlist:r,toggleWishlist:n})=>{const{data:o}=op();Yt();const{addToCart:i}=Jd(),s=S.useMemo(()=>o.filter(a=>r.includes(a.id)),[r,o]);return u.jsxs(fr,{maxWidth:"lg",sx:{py:6},children:[u.jsx(ah,{title:"Mi Lista de Deseos",description:"Artefactos marcados para futura adquisicin",icon:u.jsx(ih,{}),rightElement:u.jsx(Ye,{onClick:()=>t(be.CATALOG),sx:{color:"secondary.main",textDecoration:"underline",textTransform:"uppercase",letterSpacing:2,fontSize:"0.7rem","&:hover":{color:"common.white"}},children:"Continuar Explorando"})}),s.length===0?u.jsxs(St,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:10,textAlign:"center",opacity:.8,bgcolor:a=>q(a.palette.background.paper,.5),border:1,borderColor:a=>q(a.palette.secondary.main,.1),borderRadius:2},children:[u.jsx(QG,{sx:{fontSize:64,color:"grey.600",mb:2}}),u.jsx($,{variant:"h5",sx:{fontWeight:"bold",color:"common.white",mb:1},children:"Tu Lista de Deseos est Vaca"}),u.jsx($,{variant:"body2",color:"grey.500",sx:{maxWidth:400,mx:"auto",mb:4},children:"An no has marcado ningn artefacto. Explora los archivos para encontrar miniaturas dignas de tu campaa."}),u.jsx(Ye,{variant:"outlined",color:"secondary",onClick:()=>t(be.CATALOG),sx:{fontWeight:"bold",letterSpacing:2,px:4,py:1.5,"&:hover":{bgcolor:"secondary.main",color:"background.default"}},children:"Explorar Archivos"})]}):u.jsx(_e,{container:!0,spacing:4,children:s.map(a=>u.jsx(_e,{size:{xs:12,md:6,lg:4},children:u.jsxs(xl,{onClick:()=>e(a.id),sx:{bgcolor:"background.paper",border:1,borderColor:l=>q(l.palette.secondary.main,.2),transition:"all 0.3s",cursor:"pointer","&:hover":{borderColor:l=>q(l.palette.secondary.main,.6),transform:"translateY(-4px)",boxShadow:6}},children:[u.jsxs(L,{sx:{position:"relative",pt:"100%",overflow:"hidden",borderBottom:1,borderColor:"common.black"},children:[u.jsx(L,{sx:{position:"absolute",inset:0,backgroundImage:`url("${a.image}")`,backgroundSize:"cover",backgroundPosition:"center",transition:"transform 0.5s","&:hover":{transform:"scale(1.1)"}}}),u.jsx(dr,{title:"Eliminar de la Lista de Deseos",arrow:!0,children:u.jsx(pt,{onClick:l=>{l.stopPropagation(),n(a.id)},sx:{position:"absolute",top:8,right:8,bgcolor:l=>q(l.palette.common.black,.5),backdropFilter:"blur(4px)",color:"error.main","&:hover":{bgcolor:"error.dark",color:"common.white"},zIndex:1},children:u.jsx(ko,{fontSize:"small"})})})]}),u.jsxs(nh,{children:[u.jsx($,{variant:"h6",sx:{fontWeight:"bold",color:"grey.100",lineHeight:1.2,"&:hover":{color:"primary.main"},transition:"color 0.2s"},children:a.name}),u.jsxs($,{variant:"caption",sx:{color:"grey.500",fontStyle:"italic"},children:[a.size,"  ",a.category]})]}),u.jsxs(mM,{sx:{justifyContent:"space-between",px:2,pb:2,borderTop:"1px dashed",borderColor:l=>q(l.palette.grey[800],.5)},children:[u.jsx($,{variant:"h6",sx:{color:"secondary.main",fontWeight:"bold"},children:Xc(a.price)}),u.jsx(Ye,{variant:"contained",color:"primary",size:"small",startIcon:u.jsx(UM,{}),onClick:l=>{l.stopPropagation(),i(a)},sx:{fontWeight:"bold",letterSpacing:1,textTransform:"uppercase",fontSize:"0.65rem"},children:"Aadir al Botn"})]})]})},a.id))})]})},Gw=t=>new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS"}).format(t),Ju=Gw,Dse=({categories:t,sizes:e,onAddCategory:r,onAddSize:n,onDeleteCategory:o,onDeleteSize:i})=>{Yt();const s=ou(),[a,l]=S.useState({name:"",category:t[0]||"",size:e[0]||"",price:"",image:"",description:""}),[p,f]=S.useState([]),[h,m]=S.useState({name:"",image:""}),[y,v]=S.useState(!1),[b,x]=S.useState(""),[C,E]=S.useState(!1),[j,T]=S.useState(""),[k,A]=S.useState(null),[_,I]=S.useState(!1),[P,N]=S.useState(!1),B=W=>{const{name:K,value:H}=W.target;l(J=>({...J,[K]:H})),K==="image"&&H.startsWith("http")&&A(H)},O=(W,K)=>{if(W.target.files&&W.target.files[0]){const H=new FileReader;H.onload=J=>{var ne;if((ne=J.target)!=null&&ne.result){const me=J.target.result;K==="main"?(A(me),l(ge=>({...ge,image:me}))):m(ge=>({...ge,image:me}))}},H.readAsDataURL(W.target.files[0])}},D=()=>{b.trim()&&(r(b.trim()),l(W=>({...W,category:b.trim()})),x(""))},F=()=>{j.trim()&&(n(j.trim()),l(W=>({...W,size:j.trim()})),T(""))},U=()=>{if(!h.name)return;const W={id:Date.now().toString()+Math.random().toString(36).substr(2,5),name:h.name,image:h.image||a.image};f(K=>[...K,W]),m({name:"",image:""})},V=W=>{f(K=>K.filter(H=>H.id!==W))},G=async W=>{W.preventDefault(),N(!0);const K={name:a.name,category:a.category,size:a.size,price:parseFloat(a.price)||0,image:a.image||"https://via.placeholder.com/400?text=No+Image",description:a.description},{data:H,error:J}=await Ee.from("products").insert([K]).select();if(J){console.error("Error inserting product:",J),alert(`Error al forjar: ${J.message} (Verifica tus permisos de Supervisor)`),N(!1);return}H&&H[0]&&(await s.invalidateQueries({queryKey:["products"]}),I(!0),l({name:"",category:t[0]||"",size:e[0]||"",price:"",image:"",description:""}),f([]),A(null),setTimeout(()=>I(!1),3e3)),N(!1)};return u.jsxs(_e,{container:!0,spacing:6,children:[u.jsx(_e,{size:{xs:12,lg:7},children:u.jsxs(wt,{spacing:4,children:[u.jsxs(St,{sx:{p:4,background:W=>`linear-gradient(to bottom, ${W.palette.background.paper}, ${q(W.palette.background.default,.9)})`,border:2,borderColor:"accent.main",borderRadius:2,position:"relative",overflow:"hidden",boxShadow:W=>`0 0 50px ${q(W.palette.common.black,.5)}, inset 0 0 30px ${q(W.palette.common.black,.2)}`},children:[u.jsx(L,{sx:{position:"absolute",top:16,right:16,opacity:.1,pointerEvents:"none"},children:u.jsx(iK,{sx:{fontSize:80,color:"accent.main"}})}),u.jsx(Ms,{in:_,children:u.jsx(ya,{severity:"success",icon:u.jsx(GM,{}),sx:{mb:3,bgcolor:W=>q(W.palette.success.main,.1),border:1,borderColor:"success.main"},children:u.jsx($,{variant:"body2",sx:{fontWeight:"bold",textTransform:"uppercase",letterSpacing:1},children:"El plano ha sido inscrito en los archivos."})})}),u.jsx(L,{component:"form",onSubmit:G,children:u.jsxs(_e,{container:!0,spacing:3,children:[u.jsx(_e,{size:{xs:12,md:6},children:u.jsx(Ut,{fullWidth:!0,label:"Nombre del Artefacto",name:"name",required:!0,value:a.name,onChange:B,placeholder:"ej. Guiverno Acecha-Sombras"})}),u.jsx(_e,{size:{xs:12,md:6},children:u.jsx(Ut,{fullWidth:!0,label:"Precio (GP)",name:"price",type:"number",required:!0,value:a.price,onChange:B,placeholder:"45",helperText:a.price?`Equivalente: ${Gw(parseFloat(a.price)||0)}`:""})}),u.jsx(_e,{size:{xs:12,md:6},children:u.jsxs(L,{sx:{position:"relative"},children:[u.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[u.jsx($,{variant:"caption",sx:{color:"secondary.main",textTransform:"uppercase",letterSpacing:2,fontWeight:"bold"},children:"Origen del Mundo"}),u.jsx(pt,{size:"small",onClick:()=>v(!y),sx:{color:"secondary.main"},children:y?u.jsx(Ii,{fontSize:"small"}):u.jsx(Ij,{fontSize:"small"})})]}),y?u.jsxs(St,{sx:{p:2,bgcolor:"background.paper",border:1,borderColor:"secondary.main"},children:[u.jsx($,{variant:"caption",sx:{color:"secondary.main",display:"block",mb:1,borderBottom:1,borderColor:W=>q(W.palette.secondary.main,.2),pb:1},children:"Gestionar Orgenes"}),u.jsx(Ni,{dense:!0,sx:{maxHeight:150,overflowY:"auto",mb:2},children:t.map(W=>u.jsxs(un,{sx:{bgcolor:K=>q(K.palette.common.black,.3),borderRadius:1,mb:.5},children:[u.jsx(jn,{primary:W,primaryTypographyProps:{variant:"body2",color:"grey.300"}}),u.jsx(ay,{children:u.jsx(pt,{edge:"end",size:"small",onClick:()=>o(W),sx:{color:"grey.600","&:hover":{color:"error.main"}},children:u.jsx(ko,{fontSize:"small"})})})]},W))}),u.jsxs(wt,{direction:"row",spacing:1,children:[u.jsx(Ut,{size:"small",fullWidth:!0,value:b,onChange:W=>x(W.target.value),placeholder:"Nuevo Origen..."}),u.jsx(Ye,{variant:"contained",color:"secondary",onClick:D,sx:{fontWeight:"bold"},children:"Aadir"})]})]}):u.jsx(rs,{fullWidth:!0,size:"small",children:u.jsx(ns,{name:"category",value:a.category,onChange:B,sx:{bgcolor:"background.default",color:"white","& .MuiOutlinedInput-notchedOutline":{borderColor:W=>q(W.palette.secondary.main,.3)},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"secondary.main"},"& .MuiSvgIcon-root":{color:"secondary.main"}},children:t.map(W=>u.jsx(Dr,{value:W,children:W},W))})})]})}),u.jsx(_e,{size:{xs:12,md:6},children:u.jsxs(L,{sx:{position:"relative"},children:[u.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[u.jsx($,{variant:"caption",sx:{color:"secondary.main",textTransform:"uppercase",letterSpacing:2,fontWeight:"bold"},children:"Clase de Escala"}),u.jsx(pt,{size:"small",onClick:()=>E(!C),sx:{color:"secondary.main"},children:C?u.jsx(Ii,{fontSize:"small"}):u.jsx(Ij,{fontSize:"small"})})]}),C?u.jsxs(St,{sx:{p:2,bgcolor:"background.paper",border:1,borderColor:"secondary.main"},children:[u.jsx($,{variant:"caption",sx:{color:"secondary.main",display:"block",mb:1,borderBottom:1,borderColor:W=>q(W.palette.secondary.main,.2),pb:1},children:"Gestionar Clases de Escala"}),u.jsx(Ni,{dense:!0,sx:{maxHeight:150,overflowY:"auto",mb:2},children:e.map(W=>u.jsxs(un,{sx:{bgcolor:K=>q(K.palette.common.black,.3),borderRadius:1,mb:.5},children:[u.jsx(jn,{primary:W,primaryTypographyProps:{variant:"body2",color:"grey.300"}}),u.jsx(ay,{children:u.jsx(pt,{edge:"end",size:"small",onClick:()=>i(W),sx:{color:"grey.600","&:hover":{color:"error.main"}},children:u.jsx(ko,{fontSize:"small"})})})]},W))}),u.jsxs(wt,{direction:"row",spacing:1,children:[u.jsx(Ut,{size:"small",fullWidth:!0,value:j,onChange:W=>T(W.target.value),placeholder:"Nueva Escala..."}),u.jsx(Ye,{variant:"contained",color:"secondary",onClick:F,sx:{fontWeight:"bold"},children:"Aadir"})]})]}):u.jsx(rs,{fullWidth:!0,size:"small",children:u.jsx(ns,{name:"size",value:a.size,onChange:B,sx:{bgcolor:"background.default",color:"white","& .MuiOutlinedInput-notchedOutline":{borderColor:W=>q(W.palette.secondary.main,.3)},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"secondary.main"},"& .MuiSvgIcon-root":{color:"secondary.main"}},children:e.map(W=>u.jsx(Dr,{value:W,children:W},W))})})]})}),u.jsxs(_e,{size:{xs:12},children:[u.jsx($,{variant:"caption",sx:{color:"secondary.main",textTransform:"uppercase",letterSpacing:2,fontWeight:"bold",display:"block",mb:1},children:"Esencia Visual (Imagen Principal)"}),u.jsx(Ut,{fullWidth:!0,name:"image",value:a.image,onChange:B,placeholder:"Pega la URL o usa la carga de abajo...",sx:{mb:2}}),u.jsxs(wt,{direction:"row",spacing:2,alignItems:"center",children:[u.jsx($,{variant:"caption",color:"grey.600",children:"o"}),u.jsxs(Ye,{component:"label",variant:"outlined",startIcon:u.jsx(ZK,{}),sx:{flex:1,borderStyle:"dashed",borderColor:W=>q(W.palette.secondary.main,.4),color:"secondary.main","&:hover":{bgcolor:W=>q(W.palette.secondary.main,.05)}},children:["Transcribir Imagen Local",u.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:W=>O(W,"main")})]})]})]}),u.jsx(_e,{size:{xs:12},children:u.jsx(Ut,{fullWidth:!0,multiline:!0,rows:3,label:"Lore del Artefacto",name:"description",required:!0,value:a.description,onChange:B,placeholder:"Inscribe la historia de esta pieza..."})}),u.jsxs(_e,{size:{xs:12},children:[u.jsx(Ir,{sx:{my:2}}),u.jsx(Ye,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:P,startIcon:u.jsx($S,{}),sx:{py:2,fontWeight:"bold",letterSpacing:4,border:1,borderColor:W=>q(W.palette.secondary.main,.2)},children:P?"Forjando...":"Forjar Producto Final"})]})]})})]}),u.jsxs(St,{sx:{p:4,bgcolor:W=>q(W.palette.background.default,.8),border:1,borderColor:W=>q(W.palette.accent.main,.3),borderRadius:2},children:[u.jsxs(wt,{direction:"row",spacing:1,alignItems:"center",sx:{mb:3},children:[u.jsx(kK,{sx:{color:"accent.main"}}),u.jsx($,{variant:"h6",sx:{fontWeight:"bold",color:"common.white",textTransform:"uppercase",letterSpacing:2},children:"Composicin de la Unidad (El Conjunto)"})]}),u.jsx(St,{sx:{p:2,bgcolor:W=>q(W.palette.common.black,.3),border:1,borderColor:W=>q(W.palette.accent.main,.1),mb:3},children:u.jsxs(_e,{container:!0,spacing:2,children:[u.jsx(_e,{size:{xs:12,md:6},children:u.jsx(Ut,{size:"small",fullWidth:!0,label:"Nombre de la Sub-Unidad",value:h.name,onChange:W=>m(K=>({...K,name:W.target.value})),placeholder:"ej. Arquero #1"})}),u.jsx(_e,{size:{xs:12,md:6},children:u.jsxs(wt,{direction:"row",spacing:1,children:[u.jsx(Ut,{size:"small",fullWidth:!0,label:"Imagen Especfica (Opcional)",value:h.image,onChange:W=>m(K=>({...K,image:W.target.value})),placeholder:"URL..."}),u.jsxs(pt,{component:"label",sx:{bgcolor:W=>q(W.palette.secondary.main,.1),border:1,borderColor:W=>q(W.palette.secondary.main,.2),"&:hover":{bgcolor:W=>q(W.palette.secondary.main,.2)}},children:[u.jsx(J1,{sx:{color:"secondary.main"}}),u.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:W=>O(W,"sub")})]})]})}),u.jsx(_e,{size:{xs:12},children:u.jsx(Ye,{fullWidth:!0,variant:"outlined",color:"secondary",onClick:U,disabled:!h.name,sx:{fontWeight:"bold",letterSpacing:2},children:"Aadir a la Composicin"})})]})}),p.length>0&&u.jsx(wt,{spacing:1,children:p.map((W,K)=>u.jsxs(St,{sx:{display:"flex",alignItems:"center",gap:2,p:1.5,bgcolor:H=>q(H.palette.common.black,.4),border:1,borderColor:H=>q(H.palette.secondary.main,.1)},children:[u.jsxs($,{variant:"caption",onClick:()=>{confirm(`Destruir el artefacto "${W.name}"? Esta accin es irreversible.`)&&V(W.id)},sx:{color:H=>q(H.palette.secondary.main,.4),fontFamily:"monospace"},children:["#",K+1]}),u.jsx(L,{sx:{width:40,height:40,borderRadius:1,overflow:"hidden",border:1,borderColor:H=>q(H.palette.secondary.main,.2),flexShrink:0},children:u.jsx(L,{component:"img",src:W.image||a.image,alt:W.name,sx:{width:"100%",height:"100%",objectFit:"cover"}})}),u.jsx($,{variant:"body2",sx:{flex:1,fontWeight:"bold",color:"grey.300"},children:W.name}),u.jsx(pt,{size:"small",onClick:()=>V(W.id),sx:{color:"grey.600","&:hover":{color:"error.main"}},children:u.jsx(ko,{fontSize:"small"})})]},W.id))})]})]})}),u.jsx(_e,{size:{xs:12,lg:5},children:u.jsxs(wt,{spacing:4,children:[u.jsx($,{variant:"h6",sx:{color:"secondary.main",fontWeight:"bold",textTransform:"uppercase",letterSpacing:2,textAlign:"center"},children:"Visin del Artefacto"}),u.jsx(L,{sx:{position:"sticky",top:24},children:u.jsx(St,{elevation:10,sx:{overflow:"hidden",borderRadius:4,bgcolor:"background.paper",border:1,borderColor:"secondary.main"},children:u.jsxs(L,{sx:{position:"relative"},children:[u.jsx(L,{component:"img",src:k||"https://via.placeholder.com/400?text=Sin+Imagen",alt:"Preview",sx:{width:"100%",height:400,objectFit:"cover",filter:k?"none":"grayscale(100%) opacity(0.3)",transition:"all 0.3s"}}),u.jsxs(L,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(to top, rgba(0,0,0,0.9), transparent)",p:3,pt:8},children:[u.jsx($,{variant:"h4",sx:{color:"common.white",fontFamily:"Cinzel, serif",fontWeight:"bold",textShadow:"0 2px 4px rgba(0,0,0,0.5)"},children:a.name||"Nombre del Artefacto"}),u.jsxs(wt,{direction:"row",spacing:2,alignItems:"center",sx:{mt:1},children:[u.jsx($,{variant:"subtitle1",sx:{color:"secondary.main",fontWeight:"bold"},children:Gw(parseFloat(a.price)||0)}),a.category&&u.jsx($,{variant:"caption",sx:{bgcolor:"secondary.main",color:"common.black",px:1,py:.5,borderRadius:.5,fontWeight:"bold",textTransform:"uppercase"},children:a.category})]})]})]})})})]})})]})},zse=()=>{const[t,e]=S.useState([]),[r,n]=S.useState(!1),[o,i]=S.useState(null),s=async()=>{n(!0);const{data:m,error:y}=await Ee.from("orders").select("*, order_items(*)").order("created_at",{ascending:!1});y?console.error("Error fetching orders:",y):e(m||[]),n(!1)};S.useEffect(()=>{s()},[]);const a=async(m,y)=>{const{error:v}=await Ee.from("orders").update({status:y}).eq("id",m);v?alert("Error al actualizar estado: "+v.message):e(b=>b.map(x=>x.id===m?{...x,status:y}:x))},l=async(m,y)=>{const{error:v}=await Ee.from("orders").update({admin_notes:y}).eq("id",m);v?alert("Error al guardar notas: "+v.message):e(b=>b.map(x=>x.id===m?{...x,admin_notes:y}:x))},p=async m=>{if(!confirm("Ests seguro de romper este pacto? Esta accin es irreversible y eliminar todos los registros asociados."))return;const{error:y}=await Ee.from("order_items").delete().eq("order_id",m);if(y){console.error("Error deleting order items:",y),alert("Error al eliminar los tems del pedido: "+y.message);return}const{error:v,count:b}=await Ee.from("orders").delete({count:"exact"}).eq("id",m);v?(console.error("Error deleting order:",v),alert("Error al romper el pacto: "+v.message)):b===0?(console.warn("Order delete returned 0 rows"),e(x=>x.filter(C=>C.id!==m)),alert(`El pedido no se encontr en la base de datos (quizs ya fue eliminado). Se ha quitado de la lista local.

Si el problema persiste con nuevos pedidos, verifica las polticas RLS en Supabase.`)):(console.log("Order deleted successfully"),e(x=>x.filter(C=>C.id!==m)))},f=m=>{var C,E;const y=(C=m.order_items)==null?void 0:C.map(j=>`${j.quantity}x ${j.name}`).join(`
`),v=`*Pedido #${m.contract_number||m.id.slice(0,8)}*

*Cliente:* ${m.customer_name}
*Total:* ${Ju(m.total_gp)}
*Estado:* ${m.status}

*Items:*
${y}

*Direccin:* ${m.shipping_address}`,b=encodeURIComponent(v),x=`https://wa.me/${(E=m.customer_phone)==null?void 0:E.replace(/\D/g,"")}?text=${b}`;window.open(x,"_blank")},h=m=>{var b;const y=window.open("","_blank");if(!y)return;const v=(b=m.order_items)==null?void 0:b.map(x=>`
      <tr>
        <td style="padding: 8px; border-bottom: 1px solid #ddd;">
          <img src="${x.image_url||"https://via.placeholder.com/50"}" style="width: 50px; height: 50px; object-fit: cover;" />
        </td>
        <td style="padding: 8px; border-bottom: 1px solid #ddd;">${x.name}</td>
        <td style="padding: 8px; border-bottom: 1px solid #ddd; text-align: center;">${x.quantity}</td>
        <td style="padding: 8px; border-bottom: 1px solid #ddd; text-align: right;">${Ju(x.unit_price||0)}</td>
      </tr>
    `).join("");y.document.write(`
      <html>
        <head>
          <title>Pedido #${m.contract_number||m.id.slice(0,8)}</title>
          <style>
            body { font-family: Arial, sans-serif; padding: 20px; max-width: 800px; margin: 0 auto; }
            h1 { color: #333; border-bottom: 2px solid #333; padding-bottom: 10px; }
            .section { margin: 20px 0; }
            .label { font-weight: bold; color: #666; }
            table { width: 100%; border-collapse: collapse; margin-top: 10px; }
            th { background: #f5f5f5; padding: 10px; text-align: left; }
            .total { font-size: 1.2em; font-weight: bold; text-align: right; margin-top: 20px; }
          </style>
        </head>
        <body>
          <h1>Pedido #${m.contract_number||m.id.slice(0,8)}</h1>

          <div class="section">
            <p><span class="label">Cliente:</span> ${m.customer_name}</p>
            <p><span class="label">Email:</span> ${m.customer_email}</p>
            <p><span class="label">Telfono:</span> ${m.customer_phone}</p>
            <p><span class="label">DNI:</span> ${m.customer_dni||"N/A"}</p>
          </div>

          <div class="section">
            <p><span class="label">Direccin de envo:</span></p>
            <p>${m.shipping_address}</p>
          </div>

          <div class="section">
            <p><span class="label">Fecha:</span> ${new Date(m.created_at).toLocaleString()}</p>
            <p><span class="label">Estado:</span> ${m.status}</p>
          </div>

          <div class="section">
            <p><span class="label">Items:</span></p>
            <table>
              <thead>
                <tr>
                  <th>Imagen</th>
                  <th>Producto</th>
                  <th style="text-align: center;">Cantidad</th>
                  <th style="text-align: right;">Precio</th>
                </tr>
              </thead>
              <tbody>
                ${v}
              </tbody>
            </table>
          </div>

          <div class="total">
            Total: ${Ju(m.total_gp)}
          </div>

          ${m.admin_notes?`
            <div class="section" style="margin-top: 30px; padding-top: 20px; border-top: 2px solid #ddd;">
              <p><span class="label">Notas Admin:</span></p>
              <p>${m.admin_notes}</p>
            </div>
          `:""}
        </body>
      </html>
    `),y.document.close(),y.print()};return u.jsx(L,{children:r?u.jsx(L,{sx:{display:"flex",justifyContent:"center",py:10},children:u.jsx(Mn,{color:"secondary"})}):u.jsx(BM,{component:St,sx:{bgcolor:"background.paper",borderRadius:2,border:1,borderColor:m=>q(m.palette.secondary.main,.2),boxShadow:6},children:u.jsxs($M,{children:[u.jsx(WM,{sx:{bgcolor:m=>q(m.palette.common.black,.3)},children:u.jsxs(Ec,{children:[u.jsx(yr,{sx:{color:"secondary.main",fontWeight:"bold"},children:"Pacto"}),u.jsx(yr,{sx:{color:"secondary.main",fontWeight:"bold"},children:"Fecha del Pacto"}),u.jsx(yr,{sx:{color:"secondary.main",fontWeight:"bold"},children:"Aventurero"}),u.jsx(yr,{sx:{color:"secondary.main",fontWeight:"bold"},children:"Items"}),u.jsx(yr,{sx:{color:"secondary.main",fontWeight:"bold"},children:"Total"}),u.jsx(yr,{sx:{color:"secondary.main",fontWeight:"bold"},children:"Estado de la Forja"}),u.jsx(yr,{sx:{color:"secondary.main",fontWeight:"bold"}}),u.jsx(yr,{sx:{color:"secondary.main",fontWeight:"bold"}})]})}),u.jsxs(FM,{children:[t.map(m=>{var y,v,b;return u.jsxs(Gt.Fragment,{children:[u.jsxs(Ec,{onClick:()=>i(o===m.id?null:m.id),sx:{cursor:"pointer","&:hover":{bgcolor:x=>q(x.palette.common.white,.05)},bgcolor:o===m.id?x=>q(x.palette.secondary.main,.05):"inherit"},children:[u.jsx(yr,{sx:{color:"grey.300",fontFamily:"monospace"},children:u.jsxs($,{variant:"body2",sx:{fontWeight:"bold"},children:["#",m.contract_number||m.id.slice(0,8)]})}),u.jsxs(yr,{sx:{color:"grey.400"},children:[u.jsx($,{variant:"body2",children:new Date(m.created_at).toLocaleDateString()}),u.jsx($,{variant:"caption",sx:{color:"grey.600"},children:new Date(m.created_at).toLocaleTimeString()})]}),u.jsxs(yr,{sx:{color:"grey.400"},children:[u.jsx($,{variant:"body2",sx:{fontWeight:"bold",color:"common.white"},children:m.customer_name||m.phone}),u.jsx($,{variant:"caption",sx:{color:"grey.600"},children:m.customer_phone})]}),u.jsx(yr,{children:u.jsxs(wt,{spacing:.5,children:[(y=m.order_items)==null?void 0:y.slice(0,2).map((x,C)=>u.jsxs($,{variant:"caption",sx:{color:"grey.500",display:"block"},children:[" ",x.quantity,"x ",x.name]},C)),((v=m.order_items)==null?void 0:v.length)>2&&u.jsxs($,{variant:"caption",sx:{color:"grey.600",fontStyle:"italic"},children:["+",m.order_items.length-2," ms..."]})]})}),u.jsx(yr,{sx:{color:"secondary.main",fontWeight:"bold"},children:Ju(m.total_gp)}),u.jsx(yr,{children:u.jsx(rs,{size:"small",fullWidth:!0,children:u.jsxs(ns,{value:m.status,onChange:x=>a(m.id,x.target.value),onClick:x=>x.stopPropagation(),sx:{height:32,fontSize:"0.75rem",bgcolor:x=>{switch(m.status){case"Enviado":return q(x.palette.success.main,.1);case"En la Forja":return q(x.palette.warning.main,.1);case"Limpieza y Curado":return q(x.palette.info.main,.1);case"Recibido":return q(x.palette.grey[500],.1);case"Cancelado":return q(x.palette.error.main,.1);default:return"transparent"}}},children:[u.jsxs(Dr,{value:"Recibido",children:[u.jsx(nI,{sx:{fontSize:16,mr:1}})," Recibido"]}),u.jsxs(Dr,{value:"En la Forja",children:[u.jsx(HS,{sx:{fontSize:16,mr:1}})," En la Forja"]}),u.jsxs(Dr,{value:"Limpieza y Curado",children:[u.jsx(JM,{sx:{fontSize:16,mr:1}})," ","Limpieza y Curado"]}),u.jsxs(Dr,{value:"Enviado",children:[u.jsx(B0,{sx:{fontSize:16,mr:1}})," Enviado"]}),u.jsxs(Dr,{value:"Cancelado",children:[u.jsx(Ii,{sx:{fontSize:16,mr:1}})," Cancelado"]})]})})}),u.jsx(yr,{children:u.jsx(pt,{size:"small",onClick:x=>{x.stopPropagation(),i(o===m.id?null:m.id)},sx:{color:"secondary.main"},children:o===m.id?u.jsx(oI,{}):u.jsx(US,{})})}),u.jsx(yr,{children:u.jsx(pt,{size:"small",onClick:x=>{x.stopPropagation(),p(m.id)},sx:{color:"error.main","&:hover":{bgcolor:x=>q(x.palette.error.main,.1)}},title:"Romper Pacto (Eliminar)",children:u.jsx(sK,{})})})]}),u.jsx(Ec,{children:u.jsx(yr,{colSpan:8,sx:{p:0,border:0},children:u.jsx(Ms,{in:o===m.id,timeout:"auto",unmountOnExit:!0,children:u.jsx(St,{sx:{m:2,p:3,bgcolor:x=>q(x.palette.background.default,.8),border:1,borderColor:x=>q(x.palette.secondary.main,.2),borderRadius:2},children:u.jsxs(_e,{container:!0,spacing:3,children:[u.jsxs(_e,{size:{xs:12,md:6},children:[u.jsx($,{variant:"h6",sx:{color:"secondary.main",fontWeight:"bold",mb:2,textTransform:"uppercase",letterSpacing:1},children:"Informacin del Aventurero"}),u.jsxs(wt,{spacing:2,children:[u.jsxs(L,{children:[u.jsx($,{variant:"caption",sx:{color:"grey.500",textTransform:"uppercase",letterSpacing:1},children:"Nmero de Pacto"}),u.jsxs($,{variant:"body1",sx:{color:"common.white",fontWeight:"bold",fontFamily:"monospace"},children:["#",m.contract_number||m.id.slice(0,8)]})]}),u.jsxs(L,{children:[u.jsx($,{variant:"caption",sx:{color:"grey.500",textTransform:"uppercase",letterSpacing:1},children:"Nombre"}),u.jsx($,{variant:"body1",sx:{color:"common.white"},children:m.customer_name||"N/A"})]}),u.jsxs(L,{children:[u.jsx($,{variant:"caption",sx:{color:"grey.500",textTransform:"uppercase",letterSpacing:1},children:"Email"}),u.jsx($,{variant:"body1",sx:{color:"common.white"},children:m.customer_email||"N/A"})]}),u.jsxs(L,{children:[u.jsx($,{variant:"caption",sx:{color:"grey.500",textTransform:"uppercase",letterSpacing:1},children:"Telfono"}),u.jsx($,{variant:"body1",sx:{color:"common.white"},children:m.customer_phone||m.phone||"N/A"})]}),u.jsxs(L,{children:[u.jsx($,{variant:"caption",sx:{color:"grey.500",textTransform:"uppercase",letterSpacing:1},children:"DNI"}),u.jsx($,{variant:"body1",sx:{color:"common.white"},children:m.customer_dni||"N/A"})]})]})]}),u.jsxs(_e,{size:{xs:12,md:6},children:[u.jsx($,{variant:"h6",sx:{color:"secondary.main",fontWeight:"bold",mb:2,textTransform:"uppercase",letterSpacing:1},children:"Direccin de Envo"}),u.jsx(St,{sx:{p:2,bgcolor:x=>q(x.palette.common.black,.3),border:1,borderColor:x=>q(x.palette.secondary.main,.1),borderRadius:1},children:u.jsx($,{variant:"body1",sx:{color:"common.white",whiteSpace:"pre-wrap"},children:m.shipping_address||"Sin direccin registrada"})}),u.jsxs(L,{sx:{mt:3},children:[u.jsx($,{variant:"caption",sx:{color:"grey.500",textTransform:"uppercase",letterSpacing:1},children:"Fecha del Pedido"}),u.jsx($,{variant:"body1",sx:{color:"common.white"},children:new Date(m.created_at).toLocaleString("es-ES",{dateStyle:"full",timeStyle:"short"})})]}),u.jsxs(L,{sx:{mt:2},children:[u.jsx($,{variant:"caption",sx:{color:"grey.500",textTransform:"uppercase",letterSpacing:1},children:"Total"}),u.jsx($,{variant:"h5",sx:{color:"secondary.main",fontWeight:"bold"},children:Ju(m.total_gp)})]}),u.jsxs(L,{sx:{mt:2},children:[u.jsx($,{variant:"caption",sx:{color:"grey.500",textTransform:"uppercase",letterSpacing:1},children:"Estado Actual"}),u.jsx(Qr,{label:m.status,size:"small",sx:{ml:1,bgcolor:x=>{switch(m.status){case"Enviado":return q(x.palette.success.main,.2);case"En la Forja":return q(x.palette.warning.main,.2);case"Limpieza y Curado":return q(x.palette.info.main,.2);case"Recibido":return q(x.palette.grey[500],.2);case"Cancelado":return q(x.palette.error.main,.2);default:return"transparent"}},color:x=>{switch(m.status){case"Enviado":return x.palette.success.main;case"En la Forja":return x.palette.warning.main;case"Limpieza y Curado":return x.palette.info.main;case"Recibido":return x.palette.grey[400];case"Cancelado":return x.palette.error.main;default:return"inherit"}},fontWeight:"bold"}})]})]}),u.jsxs(_e,{size:{xs:12},children:[u.jsx($,{variant:"h6",sx:{color:"secondary.main",fontWeight:"bold",mb:2,textTransform:"uppercase",letterSpacing:1},children:"Items del Pedido"}),u.jsx(wt,{spacing:2,children:(b=m.order_items)==null?void 0:b.map((x,C)=>u.jsxs(St,{sx:{display:"flex",alignItems:"center",gap:2,p:2,bgcolor:E=>q(E.palette.common.black,.2),border:1,borderColor:E=>q(E.palette.secondary.main,.1),borderRadius:1},children:[u.jsx(L,{component:"img",src:x.image_url||"https://via.placeholder.com/80?text=No+Img",alt:x.name,sx:{width:80,height:80,objectFit:"cover",borderRadius:1,border:1,borderColor:E=>q(E.palette.secondary.main,.2)}}),u.jsxs(L,{sx:{flex:1},children:[u.jsx($,{variant:"body1",sx:{color:"common.white",fontWeight:"bold"},children:x.name}),u.jsxs($,{variant:"caption",sx:{color:"grey.500"},children:["Cantidad: ",x.quantity]})]}),u.jsx($,{variant:"body1",sx:{color:"secondary.main",fontWeight:"bold"},children:Ju((x.unit_price||0)*x.quantity)})]},C))})]}),u.jsxs(_e,{size:{xs:12},children:[u.jsx($,{variant:"h6",sx:{color:"secondary.main",fontWeight:"bold",mb:2,textTransform:"uppercase",letterSpacing:1},children:"Notas del Administrador"}),u.jsx(Ut,{fullWidth:!0,multiline:!0,rows:3,placeholder:"Aade notas internas sobre este pedido...",defaultValue:m.admin_notes||"",onBlur:x=>l(m.id,x.target.value),sx:{"& .MuiOutlinedInput-root":{bgcolor:x=>q(x.palette.common.black,.2),"& fieldset":{borderColor:x=>q(x.palette.secondary.main,.2)},"&:hover fieldset":{borderColor:"secondary.main"}}}})]}),u.jsx(_e,{size:{xs:12},children:u.jsxs(wt,{direction:"row",spacing:2,justifyContent:"flex-end",children:[u.jsx(Ye,{variant:"outlined",color:"success",startIcon:u.jsx(H0,{}),onClick:()=>f(m),sx:{borderColor:x=>q(x.palette.success.main,.4),"&:hover":{bgcolor:x=>q(x.palette.success.main,.1)}},children:"Enviar WhatsApp"}),u.jsx(Ye,{variant:"outlined",color:"secondary",startIcon:u.jsx($K,{}),onClick:()=>h(m),children:"Imprimir"})]})})]})})})})})]},m.id)}),t.length===0&&u.jsx(Ec,{children:u.jsx(yr,{colSpan:8,sx:{textAlign:"center",py:6,color:"grey.600",fontStyle:"italic"},children:"No hay requisiciones inscritas en el libro."})})]})]})})})},$se=()=>{const[t,e]=S.useState([]),[r,n]=S.useState(!1),[o,i]=S.useState(""),[s,a]=S.useState("all"),[l,p]=S.useState(""),[f,h]=S.useState(!1),m=async()=>{n(!0);const{data:E,error:j}=await Ee.from("product_reviews").select("*, products(name, category, image)").order("created_at",{ascending:!1});j?console.error("Error fetching reviews:",j):e(E||[]),n(!1)};S.useEffect(()=>{m()},[]);const y=async()=>{h(!0);const{data:E,error:j}=await Ee.rpc("generate_review_token");if(j)console.error("Error generating token:",j),alert("Error al generar el enlace mgico");else{const T=`${window.location.origin}/review?token=${E}`;p(T)}h(!1)},v=()=>{navigator.clipboard.writeText(l),alert("Enlace copiado al portapapeles")},b=async E=>{if(!confirm("Ests seguro de silenciar esta voz? La crnica se perder para siempre."))return;const{error:j}=await Ee.from("product_reviews").delete().eq("id",E);j?alert("Error al eliminar la resea"):e(T=>T.filter(k=>k.id!==E))},x=async E=>{if(!confirm("Deseas purgar la imagen de esta resea?"))return;const{error:j}=await Ee.from("product_reviews").update({image:null}).eq("id",E);j?alert("Error al eliminar la imagen"):e(T=>T.map(k=>k.id===E?{...k,image:null}:k))},C=t.filter(E=>{var T,k,A,_;const j=((T=E.user_name)==null?void 0:T.toLowerCase().includes(o.toLowerCase()))||((k=E.comment)==null?void 0:k.toLowerCase().includes(o.toLowerCase()))||((_=(A=E.products)==null?void 0:A.name)==null?void 0:_.toLowerCase().includes(o.toLowerCase()));return s==="all"?j:s==="with_image"?j&&E.image:s==="high_rating"?j&&E.rating>=4:s==="low_rating"?j&&E.rating<=2:j});return u.jsxs(L,{children:[u.jsx(St,{sx:{p:3,mb:4,bgcolor:E=>q(E.palette.background.default,.6),border:1,borderColor:E=>q(E.palette.secondary.main,.2),borderRadius:2},children:u.jsxs(_e,{container:!0,spacing:3,alignItems:"center",children:[u.jsxs(_e,{size:{xs:12,md:6},children:[u.jsxs($,{variant:"h6",sx:{mb:2,color:"secondary.main",fontWeight:"bold",textTransform:"uppercase",letterSpacing:1,display:"flex",alignItems:"center",gap:1},children:[u.jsx(_j,{})," Convocar Reseas"]}),u.jsx($,{variant:"body2",color:"grey.500",sx:{mb:2,maxWidth:"80%"},children:"Genera un enlace mgico nico para invitar a los aventureros a dejar su testimonio en los archivos."}),u.jsxs(wt,{direction:"row",spacing:2,alignItems:"center",children:[u.jsx(Ye,{variant:"contained",color:"secondary",onClick:y,disabled:f,startIcon:u.jsx(_j,{}),sx:{fontWeight:"bold",bgcolor:E=>q(E.palette.secondary.main,.8),"&:hover":{bgcolor:"secondary.main"}},children:f?"Tejiendo...":"Generar Enlace Mgico"}),l&&u.jsxs(St,{sx:{display:"flex",alignItems:"center",p:"4px 8px 4px 16px",bgcolor:E=>q(E.palette.common.black,.3),border:1,borderColor:E=>q(E.palette.secondary.main,.3),borderRadius:1,maxWidth:400},children:[u.jsx($,{variant:"caption",sx:{mr:1,fontFamily:"monospace",color:"grey.300",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:l}),u.jsx(Ir,{orientation:"vertical",flexItem:!0,sx:{mx:1}}),u.jsx(dr,{title:"Copiar al portapapeles",children:u.jsx(pt,{size:"small",onClick:v,children:u.jsx(XM,{fontSize:"small",sx:{color:"success.light"}})})})]})]})]}),u.jsx(_e,{size:{xs:12,md:6},children:u.jsx(St,{sx:{p:2,bgcolor:E=>q(E.palette.secondary.main,.05),border:1,borderStyle:"dashed",borderColor:E=>q(E.palette.secondary.main,.3),borderRadius:2},children:u.jsxs(wt,{direction:"row",spacing:2,alignItems:"center",children:[u.jsx(L,{sx:{p:1.5,bgcolor:E=>q(E.palette.secondary.main,.1),borderRadius:"50%"},children:u.jsx(Bc,{sx:{color:"secondary.main",fontSize:30}})}),u.jsxs(L,{children:[u.jsx($,{variant:"subtitle2",sx:{fontWeight:"bold"},children:"Sabidura de los Archivos"}),u.jsxs($,{variant:"caption",color:"text.secondary",children:["Total de Reseas: ",t.length]})]})]})})})]})}),u.jsxs(wt,{direction:{xs:"column",md:"row"},spacing:2,sx:{mb:3},children:[u.jsx(Ut,{size:"small",placeholder:"Buscar en las crnicas...",value:o,onChange:E=>i(E.target.value),sx:{flex:1,"& .MuiOutlinedInput-root":{bgcolor:E=>q(E.palette.background.paper,.5)}},InputProps:{startAdornment:u.jsx(H1,{position:"start",children:u.jsx(El,{sx:{color:"text.secondary"}})})}}),u.jsx(rs,{size:"small",sx:{minWidth:200,bgcolor:E=>q(E.palette.background.paper,.5)},children:u.jsxs(ns,{value:s,onChange:E=>a(E.target.value),displayEmpty:!0,startAdornment:u.jsx(H1,{position:"start",children:u.jsx(WS,{sx:{color:"text.secondary"}})}),children:[u.jsx(Dr,{value:"all",children:"Todas las Crnicas"}),u.jsx(Dr,{value:"with_image",children:"Con Evidencia Visual"}),u.jsx(Dr,{value:"high_rating",children:"Alta Valoracin (4+)"}),u.jsx(Dr,{value:"low_rating",children:"Baja Valoracin (2-)"})]})})]}),r?u.jsx(L,{sx:{display:"flex",justifyContent:"center",py:10},children:u.jsx(Mn,{color:"secondary"})}):u.jsx(BM,{component:St,sx:{bgcolor:"background.paper",borderRadius:2,border:1,borderColor:E=>q(E.palette.secondary.main,.2),boxShadow:6},children:u.jsxs($M,{children:[u.jsx(WM,{sx:{bgcolor:E=>q(E.palette.common.black,.3)},children:u.jsxs(Ec,{children:[u.jsx(yr,{sx:{color:"secondary.main",fontWeight:"bold"},children:"Aventurero"}),u.jsx(yr,{sx:{color:"secondary.main",fontWeight:"bold"},children:"Artefacto"}),u.jsx(yr,{sx:{color:"secondary.main",fontWeight:"bold"},children:"Valoracin"}),u.jsx(yr,{sx:{color:"secondary.main",fontWeight:"bold",width:"40%"},children:"Crnica"}),u.jsx(yr,{sx:{color:"secondary.main",fontWeight:"bold"},children:"Evidencia Visual"}),u.jsx(yr,{align:"right"})]})}),u.jsxs(FM,{children:[C.map(E=>{var j,T;return u.jsxs(Ec,{sx:{"&:hover":{bgcolor:k=>q(k.palette.common.white,.05)}},children:[u.jsx(yr,{children:u.jsxs(wt,{direction:"row",spacing:2,alignItems:"center",children:[u.jsx(ai,{src:(j=E.user_avatar)!=null&&j.includes("images/avatars/")?us:E.user_avatar,alt:E.user_name,sx:{width:32,height:32,border:1,borderColor:k=>q(k.palette.secondary.main,.5)},children:(T=E.user_name)==null?void 0:T.charAt(0)}),u.jsxs(L,{children:[u.jsx($,{variant:"body2",sx:{fontWeight:"bold"},children:E.user_name}),u.jsx($,{variant:"caption",color:"text.secondary",children:new Date(E.created_at).toLocaleDateString()})]})]})}),u.jsx(yr,{children:E.products?u.jsxs(wt,{direction:"row",spacing:1,alignItems:"center",children:[u.jsx(L,{component:"img",src:E.products.image||"https://via.placeholder.com/40",sx:{width:30,height:30,borderRadius:.5,objectFit:"cover"}}),u.jsx($,{variant:"body2",children:E.products.name})]}):u.jsx($,{variant:"caption",sx:{fontStyle:"italic",color:"text.disabled"},children:"Artefacto Desconocido"})}),u.jsx(yr,{children:u.jsx(Rf,{value:E.rating,readOnly:!0,size:"small",emptyIcon:u.jsx(Bc,{style:{opacity:.3},fontSize:"inherit"})})}),u.jsx(yr,{children:u.jsxs($,{variant:"body2",sx:{color:"grey.300",fontStyle:"italic"},children:['"',E.comment,'"']})}),u.jsx(yr,{children:E.image?u.jsxs(L,{sx:{position:"relative",width:60,height:60,"&:hover .remove-btn":{opacity:1}},children:[u.jsx(L,{component:"img",src:E.image,sx:{width:"100%",height:"100%",objectFit:"cover",borderRadius:1,border:1,borderColor:"grey.800",cursor:"pointer"},onClick:()=>window.open(E.image,"_blank")}),u.jsx(pt,{className:"remove-btn",size:"small",onClick:()=>x(E.id),sx:{position:"absolute",top:-8,right:-8,bgcolor:"error.main",color:"white",width:20,height:20,opacity:0,transition:"opacity 0.2s","&:hover":{bgcolor:"error.dark"}},children:u.jsx(Ii,{style:{fontSize:14}})})]}):u.jsxs(wt,{direction:"row",spacing:1,alignItems:"center",sx:{opacity:.3},children:[u.jsx(jK,{fontSize:"small"}),u.jsx($,{variant:"caption",children:"N/A"})]})}),u.jsx(yr,{align:"right",children:u.jsx(dr,{title:"Eliminar Resea",children:u.jsx(pt,{onClick:()=>b(E.id),sx:{color:"grey.600","&:hover":{color:"error.main",bgcolor:k=>q(k.palette.error.main,.1)}},children:u.jsx(ko,{})})})})]},E.id)}),C.length===0&&u.jsx(Ec,{children:u.jsx(yr,{colSpan:6,sx:{textAlign:"center",py:6,color:"grey.600",fontStyle:"italic"},children:"No se han encontrado crnicas que coincidan con la bsqueda."})})]})]})})]})},Fse=({setView:t,categories:e,sizes:r,onAddCategory:n,onAddSize:o,onDeleteCategory:i,onDeleteSize:s,isAdmin:a})=>{Yt();const[l,p]=S.useState(0);return a?u.jsxs(fr,{maxWidth:"xl",sx:{py:6},children:[u.jsx(ah,{title:"El Libro del Alto Supervisor",description:"Forja nuevas leyendas en los archivos",icon:u.jsx(ld,{}),rightElement:u.jsx(Ye,{variant:"outlined",color:"secondary",onClick:()=>t(be.CATALOG),startIcon:u.jsx(ld,{}),sx:{borderColor:f=>q(f.palette.secondary.main,.3),color:"secondary.main","&:hover":{borderColor:"secondary.main",bgcolor:f=>q(f.palette.secondary.main,.1)}},children:"Ver Catlogo"})}),u.jsxs(_e,{container:!0,spacing:4,children:[u.jsx(_e,{size:{xs:12,md:3,lg:2},children:u.jsx(St,{elevation:0,sx:{bgcolor:f=>q(f.palette.background.paper,.5),border:1,borderColor:f=>q(f.palette.secondary.main,.2),borderRadius:2,overflow:"hidden",position:"sticky",top:100},children:u.jsxs(zG,{orientation:"vertical",variant:"scrollable",value:l,onChange:(f,h)=>p(h),sx:{"& .MuiTab-root":{alignItems:"flex-start",textAlign:"left",py:3,px:3,borderLeft:3,borderColor:"transparent",justifyContent:"flex-start",transition:"all 0.2s","&.Mui-selected":{bgcolor:f=>q(f.palette.secondary.main,.1),borderLeftColor:"secondary.main",color:"secondary.main"},"&:hover":{bgcolor:f=>q(f.palette.common.white,.05)}},"& .MuiTabs-indicator":{display:"none"}},children:[u.jsx(yb,{icon:u.jsx(AK,{sx:{mb:0,mr:2}}),iconPosition:"start",label:"Forjar Artefactos",sx:{fontWeight:"bold",letterSpacing:1}}),u.jsx(yb,{icon:u.jsx(lI,{sx:{mb:0,mr:2}}),iconPosition:"start",label:"Gestin de Requisiciones",sx:{fontWeight:"bold",letterSpacing:1}}),u.jsx(yb,{icon:u.jsx(BK,{sx:{mb:0,mr:2}}),iconPosition:"start",label:"Crnicas de Aventureros",sx:{fontWeight:"bold",letterSpacing:1}})]})})}),u.jsxs(_e,{size:{xs:12,md:9,lg:10},children:[l===0&&u.jsx(S.Suspense,{fallback:u.jsx(L,{display:"flex",justifyContent:"center",p:4,children:u.jsx(Mn,{})}),children:u.jsx(Dse,{categories:e,sizes:r,onAddCategory:n,onAddSize:o,onDeleteCategory:i,onDeleteSize:s})}),l===1&&u.jsx(zse,{}),l===2&&u.jsx($se,{})]})]})]}):u.jsx(fr,{maxWidth:"xl",sx:{py:6,textAlign:"center"},children:u.jsxs(St,{sx:{p:4},children:[u.jsx(ld,{sx:{fontSize:60,color:"text.secondary",mb:2}}),u.jsx(ah,{title:"Acceso Restringido",description:"Esta seccin est reservada para los Altos Supervisores.",icon:u.jsx(ld,{})}),u.jsx(Ye,{variant:"contained",color:"primary",onClick:()=>t(be.CATALOG),sx:{mt:2},children:"Volver al Catlogo"})]})})},Bse=oe(DM)(({theme:t})=>({[`&.${Wu.alternativeLabel}`]:{top:10,left:"calc(-50% + 16px)",right:"calc(50% + 16px)"},[`&.${Wu.active}`]:{[`& .${Wu.line}`]:{borderColor:t.palette.secondary.main}},[`&.${Wu.completed}`]:{[`& .${Wu.line}`]:{borderColor:t.palette.secondary.main}},[`& .${Wu.line}`]:{borderColor:q(t.palette.grey[800],.5),borderTopWidth:2,borderRadius:1}})),$N=["Recibido","En la Forja","Limpieza y Curado","Enviado"],sf=t=>{if(t==="Cancelado")return-1;const e=$N.indexOf(t);return e>=0?e:0},Wse=({setView:t})=>{const[e,r]=S.useState([]),[n,o]=S.useState(!0),[i,s]=S.useState(null);S.useEffect(()=>{(async()=>{const{data:{session:h}}=await Ee.auth.getSession();if(s((h==null?void 0:h.user)??null),h!=null&&h.user){const{data:m,error:y}=await Ee.from("orders").select("*, order_items(*)").eq("user_id",h.user.id).order("created_at",{ascending:!1});y?console.error("Error fetching orders:",y):r(m)}o(!1)})()},[]);const a=f=>{switch(f){case"Enviado":return"success";case"En la Forja":return"warning";case"Limpieza y Curado":return"info";case"Recibido":return"default";case"Cancelado":return"error";default:return"default"}},l=f=>{switch(f){case"Enviado":return u.jsx(B0,{sx:{fontSize:"1rem !important"}});case"En la Forja":return u.jsx(HS,{sx:{fontSize:"1rem !important"}});case"Limpieza y Curado":return u.jsx(JM,{sx:{fontSize:"1rem !important"}});case"Recibido":return u.jsx(nI,{sx:{fontSize:"1rem !important"}});case"Cancelado":return u.jsx(qM,{sx:{fontSize:"1rem !important"}});default:return}},p=f=>{switch(f){case"Recibido":return"Tu pedido ha sido recibido y est en cola para ser procesado.";case"En la Forja":return"Tu miniatura est siendo impresa en nuestra forja de resina.";case"Limpieza y Curado":return"La pieza est siendo curada con luz UV y limpiada de soportes.";case"Enviado":return"Tu paquete est en camino hacia tu fortaleza.";case"Cancelado":return"Este pedido ha sido cancelado.";default:return""}};return u.jsxs(fr,{maxWidth:"md",sx:{py:6},children:[u.jsx(ah,{title:"Libro de Adquisiciones",description:"Tus pactos y embarques previos",icon:u.jsx(ly,{}),rightElement:u.jsx(Ye,{variant:"outlined",color:"secondary",onClick:()=>t(be.CATALOG),startIcon:u.jsx(JK,{}),sx:{borderColor:f=>q(f.palette.secondary.main,.3),"&:hover":{bgcolor:f=>q(f.palette.secondary.main,.2)}},children:"Continuar Navegando"})}),u.jsx(wt,{spacing:4,children:n?u.jsx(L,{sx:{display:"flex",justifyContent:"center",py:10},children:u.jsx(Mn,{color:"secondary"})}):i?e.length===0?u.jsxs(St,{sx:{textAlign:"center",py:10,bgcolor:f=>q(f.palette.background.paper,.5),border:1,borderColor:f=>q(f.palette.secondary.main,.1),borderRadius:2},children:[u.jsx(lI,{sx:{fontSize:64,color:"grey.700",mb:2}}),u.jsx($,{variant:"h5",sx:{fontWeight:"bold",color:"grey.300",mb:1},children:"El Libro est Vaco"}),u.jsx($,{variant:"body2",sx:{color:"grey.500",fontStyle:"italic"},children:"An no has realizado ninguna requisicin a la forja."})]}):e.map(f=>u.jsxs(St,{sx:{bgcolor:"background.paper",border:1,borderColor:h=>q(h.palette.secondary.main,.2),borderRadius:2,overflow:"hidden",boxShadow:6},children:[u.jsx(L,{sx:{bgcolor:h=>q(h.palette.common.black,.2),p:{xs:2,md:3},borderBottom:1,borderColor:h=>q(h.palette.secondary.main,.1)},children:u.jsxs(_e,{container:!0,spacing:{xs:1,md:2},alignItems:"center",children:[u.jsx(_e,{size:{xs:12,md:8},children:u.jsxs(wt,{direction:{xs:"column",sm:"row"},spacing:{xs:1,sm:4},children:[u.jsxs(L,{children:[u.jsx($,{variant:"caption",sx:{color:"grey.500",textTransform:"uppercase",letterSpacing:2,fontWeight:"bold",display:"block"},children:"Contrato"}),u.jsx($,{variant:"body2",sx:{color:"common.white",fontFamily:"monospace"},children:f.contract_number})]}),u.jsxs(L,{children:[u.jsx($,{variant:"caption",sx:{color:"grey.500",textTransform:"uppercase",letterSpacing:2,fontWeight:"bold",display:"block"},children:"Fecha"}),u.jsx($,{variant:"body2",sx:{color:"common.white"},children:new Date(f.created_at).toLocaleDateString()})]}),u.jsxs(L,{children:[u.jsx($,{variant:"caption",sx:{color:"grey.500",textTransform:"uppercase",letterSpacing:2,fontWeight:"bold",display:"block"},children:"Tributo"}),u.jsx($,{variant:"body2",sx:{color:"secondary.main",fontWeight:"bold"},children:If(f.total_gp)})]})]})}),u.jsx(_e,{size:{xs:12,md:4},children:u.jsxs(wt,{spacing:1,alignItems:{xs:"flex-start",md:"flex-end"},children:[u.jsx(Qr,{icon:l(f.status),label:f.status,color:a(f.status),size:"small",sx:{fontWeight:"bold",textTransform:"uppercase",letterSpacing:1}}),u.jsx($,{variant:"caption",sx:{color:"grey.500",fontStyle:"italic",maxWidth:200,textAlign:{xs:"left",md:"right"}},children:p(f.status)})]})})]})}),f.status!=="Cancelado"&&u.jsx(L,{sx:{px:{xs:2,md:4},py:3,bgcolor:h=>q(h.palette.common.black,.1)},children:u.jsx(Vq,{activeStep:sf(f.status),alternativeLabel:!0,connector:u.jsx(Bse,{}),children:$N.map((h,m)=>u.jsx(kq,{completed:m<=sf(f.status),children:u.jsx(LM,{StepIconProps:{sx:{color:m<=sf(f.status)?"secondary.main":"grey.700","&.Mui-active":{color:"secondary.main"},"&.Mui-completed":{color:"secondary.main"}}},children:u.jsx($,{variant:"caption",sx:{color:m<=sf(f.status)?"secondary.main":"grey.600",fontWeight:m===sf(f.status)?"bold":"normal",fontSize:"0.65rem",textTransform:"uppercase",letterSpacing:1},children:h})})},h))})}),u.jsx(L,{sx:{p:{xs:2,md:3}},children:u.jsx(wt,{spacing:3,children:f.order_items.map((h,m)=>u.jsxs(wt,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:{sm:"center"},children:[u.jsx(L,{sx:{width:80,height:80,bgcolor:y=>q(y.palette.common.black,.4),borderRadius:1,border:1,borderColor:y=>q(y.palette.secondary.main,.1),overflow:"hidden",flexShrink:0},children:u.jsx(L,{component:"img",src:h.image,alt:h.name,sx:{width:"100%",height:"100%",objectFit:"cover",opacity:.8}})}),u.jsxs(L,{sx:{flex:1},children:[u.jsx($,{variant:"body1",sx:{fontWeight:"bold",color:"common.white"},children:h.name}),u.jsxs($,{variant:"caption",sx:{color:"grey.500",fontStyle:"italic"},children:["Cant: ",h.quantity]})]}),u.jsxs($,{variant:"body2",sx:{color:"grey.400"},children:[Xc(h.price_gp)," c/u"]}),u.jsx(Ye,{size:"small",onClick:()=>t(be.CATALOG),sx:{color:"secondary.main",fontWeight:"bold",textTransform:"uppercase",letterSpacing:1,fontSize:"0.65rem","&:hover":{color:"common.white"}},children:"Navegar Forja"})]},m))})}),u.jsxs(L,{sx:{bgcolor:h=>q(h.palette.common.black,.4),px:3,py:1.5,borderTop:1,borderColor:h=>q(h.palette.secondary.main,.05),display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsx($,{variant:"caption",sx:{color:"grey.600",fontStyle:"italic"},children:"Mercader: Gremio Soulforge"}),u.jsx(Ye,{size:"small",startIcon:u.jsx(aK,{}),sx:{color:"grey.500",fontSize:"0.65rem","&:hover":{color:"common.white"}},children:"Descargar Pergamino"})]})]},f.id)):u.jsxs(St,{sx:{textAlign:"center",py:10,bgcolor:f=>q(f.palette.background.paper,.5),border:1,borderColor:f=>q(f.palette.secondary.main,.1),borderRadius:2},children:[u.jsx(ly,{sx:{fontSize:64,color:"grey.700",mb:2}}),u.jsx($,{variant:"h5",sx:{fontWeight:"bold",color:"grey.300",mb:1},children:"Cerrado a Extraos"}),u.jsx($,{variant:"body2",sx:{color:"grey.500",fontStyle:"italic",mb:3},children:"Debes inscribir tu alma o identificarte para ver tus pergaminos de adquisicin."}),u.jsx(Ye,{variant:"contained",color:"primary",onClick:()=>t(be.LOGIN),children:"Identificarse"})]})})]})},Hse=({setView:t,user:e,onLogin:r})=>{const n=Yt(),[o,i]=S.useState(null),[s,a]=S.useState(!0),[l,p]=S.useState(!1),[f,h]=S.useState(null),[m,y]=S.useState("login"),[v,b]=S.useState(""),[x,C]=S.useState(""),[E,j]=S.useState(""),[T,k]=S.useState(!1),[A,_]=S.useState(null),[I,P]=S.useState(""),[N,B]=S.useState(5),[O,D]=S.useState(""),[F,U]=S.useState(!1),[V,G]=S.useState(null),[W,K]=S.useState(!1);S.useEffect(()=>{const te=new URLSearchParams(window.location.search).get("token");if(!te){a(!1),h("Enlace invlido. No se encontr el sello de autenticidad.");return}i(te),H(te)},[]),S.useEffect(()=>{var ce,te;if(e&&!I){const ve=((ce=e.user_metadata)==null?void 0:ce.username)||((te=e.email)==null?void 0:te.split("@")[0])||"";P(ve)}},[e,I]);const H=async ce=>{try{const{data:te,error:ve}=await Ee.rpc("verify_feedback_token",{input_token:ce});if(ve)throw ve;te===!0?p(!0):h("Este pergamino ya ha sido usado o ha expirado.")}catch(te){console.error("Error validating token:",te),h("Error al verificar el sello mgico.")}finally{a(!1)}},J=async ce=>{ce.preventDefault(),_(null),k(!0);let te=v;if(!v.includes("@")){const{data:qe,error:Ne}=await Ee.rpc("get_email_from_username",{input_username:v.trim()});if(Ne||!qe){_("Usuario no encontrado."),k(!1);return}te=qe}const{data:ve,error:Ie}=await Ee.auth.signInWithPassword({email:te,password:x});Ie?_(Ie.message):ve.user&&r(ve.user),k(!1)},ne=async ce=>{ce.preventDefault(),_(null),k(!0);const{data:te,error:ve}=await Ee.auth.signUp({email:v,password:x,options:{data:{username:E||v.split("@")[0]}}});ve?_(ve.message):te.user&&r(te.user),k(!1)},me=async()=>{if(!(!o||!N||!I)){U(!0);try{const{data:ce,error:te}=await Ee.rpc("submit_review_and_get_coupon",{input_token:o,review_name:I,review_rating:N,review_comment:O});if(te)throw te;G(ce)}catch(ce){console.error("Error submitting review:",ce),h(ce.message||"Error al inscribir la resea.")}finally{U(!1)}}},ge=()=>{V&&(navigator.clipboard.writeText(V),K(!0),setTimeout(()=>K(!1),2e3))};return s?u.jsxs(fr,{maxWidth:"sm",sx:{py:10,textAlign:"center"},children:[u.jsx(Mn,{color:"secondary"}),u.jsx($,{sx:{mt:2,color:"text.secondary"},children:"Verificando sello de autenticidad..."})]}):V?u.jsx(fr,{maxWidth:"sm",sx:{py:8},children:u.jsxs(St,{elevation:4,sx:{p:6,textAlign:"center",border:2,borderColor:"secondary.main",bgcolor:"background.paper",position:"relative",overflow:"hidden"},children:[u.jsx(L,{sx:{position:"absolute",top:0,left:0,right:0,height:6,bgcolor:"secondary.main"}}),u.jsx(zS,{sx:{fontSize:60,color:"secondary.main",mb:2}}),u.jsx($,{variant:"h4",sx:{fontWeight:"bold",fontStyle:"italic",mb:2,color:"common.white"},children:"Honor a ti, Hroe!"}),u.jsx($,{sx:{color:"grey.400",mb:4},children:"Tu crnica ha sido inscrita en los archivos. Como agradecimiento, te otorgamos este tesoro para tu prxima aventura."}),u.jsxs(L,{sx:{bgcolor:"rgba(0,0,0,0.3)",p:3,borderRadius:2,border:"1px dashed",borderColor:"grey.700",mb:4},children:[u.jsx($,{variant:"overline",color:"text.secondary",children:"Tu Cdigo de Recompensa"}),u.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:2,mt:1},children:[u.jsx($,{variant:"h3",sx:{fontWeight:"bold",color:"primary.main",letterSpacing:2},children:V}),u.jsx(dr,{title:W?"Copiado!":"Copiar",children:u.jsx(pt,{onClick:ge,sx:{color:"common.white"},children:u.jsx(XM,{})})})]}),u.jsx($,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:1},children:"Vlido por 6 meses. Un solo uso. 15% de descuento."})]}),u.jsx(Ye,{variant:"contained",color:"secondary",size:"large",onClick:()=>t(be.CATALOG),fullWidth:!0,children:"Volver a la Tienda"})]})}):f||!l?u.jsx(fr,{maxWidth:"sm",sx:{py:10,textAlign:"center"},children:u.jsxs(St,{sx:{p:4,bgcolor:"background.paper",border:1,borderColor:"error.main"},children:[u.jsx($d,{sx:{fontSize:50,color:"error.main",mb:2}}),u.jsx($,{variant:"h5",color:"error",gutterBottom:!0,fontWeight:"bold",children:"Acceso Denegado"}),u.jsx($,{color:"text.secondary",paragraph:!0,children:f||"El token provisto no es vlido."}),u.jsx(Ye,{variant:"outlined",onClick:()=>t(be.HOME),children:"Volver al Inicio"})]})}):e?u.jsx(fr,{maxWidth:"sm",sx:{py:8},children:u.jsxs(St,{sx:{p:4,bgcolor:"background.paper",border:1,borderColor:"rgba(197, 160, 89, 0.3)"},children:[u.jsx($,{variant:"h4",sx:{fontWeight:"bold",fontStyle:"italic",mb:1,textAlign:"center",color:"common.white"},children:"Inscribe tu Crnica"}),u.jsx($,{variant:"body2",sx:{textAlign:"center",color:"grey.500",mb:4},children:"Comparte tu experiencia con los artefactos de Soulforge."}),u.jsxs(L,{component:"form",sx:{display:"flex",flexDirection:"column",gap:3},children:[u.jsx(Ut,{label:"Tu Nombre (o Alias)",value:I,onChange:ce=>P(ce.target.value),fullWidth:!0,required:!0,variant:"outlined"}),u.jsxs(L,{sx:{textAlign:"center"},children:[u.jsx($,{component:"legend",color:"text.secondary",children:"Calificacin"}),u.jsx(Rf,{name:"simple-controlled",value:N,onChange:(ce,te)=>B(te),size:"large",emptyIcon:u.jsx(Bc,{style:{opacity:.55},fontSize:"inherit"})})]}),u.jsx(Ut,{label:"Tu Opinin",multiline:!0,rows:4,value:O,onChange:ce=>D(ce.target.value),fullWidth:!0,placeholder:"Cmo fue la calidad de la impresin? El empaquetado estaba seguro?",required:!0}),u.jsx(Ye,{variant:"contained",color:"primary",size:"large",onClick:me,disabled:F||!I||!N,sx:{mt:2,py:1.5,fontSize:"1.1rem",fontWeight:"bold"},children:F?"Inscribiendo...":"Enviar Resea y Obtener Recompensa"})]})]})}):u.jsx(fr,{maxWidth:"sm",sx:{py:8},children:u.jsxs(QS,{sx:{width:"100%"},children:[u.jsx(XS,{}),u.jsxs(L,{sx:{textAlign:"center",mb:4},children:[u.jsx(L,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:64,height:64,borderRadius:"50%",bgcolor:ce=>q(ce.palette.secondary.main,.1),border:1,borderColor:ce=>q(ce.palette.secondary.main,.3),mb:2,color:"secondary.main"},children:m==="login"?u.jsx($d,{sx:{fontSize:28}}):u.jsx(sI,{sx:{fontSize:28}})}),u.jsx($,{variant:"h5",sx:{fontWeight:"bold",color:"common.white",mb:1},children:m==="login"?"Identifcate para Continuar":"Crea tu Cuenta"}),u.jsx($,{variant:"body2",sx:{color:"grey.500",fontStyle:"italic"},children:"Tu resea te espera. Solo necesitamos saber quin eres."})]}),u.jsx(Ms,{in:!!A,children:u.jsx(ya,{severity:"error",sx:{mb:3,bgcolor:q(n.palette.error.main,.1),color:"error.main",border:1,borderColor:"error.main"},children:A})}),u.jsx(L,{component:"form",onSubmit:m==="login"?J:ne,children:u.jsxs(wt,{spacing:3,children:[m==="signup"&&u.jsx(Ut,{fullWidth:!0,label:"Nombre de Usuario",type:"text",disabled:T,value:E,onChange:ce=>j(ce.target.value),placeholder:"HroeEpico42"}),u.jsx(Ut,{fullWidth:!0,label:m==="login"?"Email o Usuario":"Email",type:m==="login"?"text":"email",required:!0,disabled:T,value:v,onChange:ce=>b(ce.target.value),placeholder:m==="login"?"mago@soulforge.com":"tu@email.com"}),u.jsx(Ut,{fullWidth:!0,label:"Contrasea",type:"password",required:!0,disabled:T,value:x,onChange:ce=>C(ce.target.value),placeholder:""}),u.jsx(Ye,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:T,size:"large",sx:{py:2,fontWeight:"bold"},children:T?u.jsxs(wt,{direction:"row",spacing:1,alignItems:"center",children:[u.jsx(Mn,{size:20,color:"inherit"}),u.jsx("span",{children:"Procesando..."})]}):m==="login"?"Entrar":"Crear Cuenta"})]})}),u.jsx(Ir,{sx:{my:3}}),u.jsxs(L,{sx:{textAlign:"center"},children:[u.jsx($,{variant:"body2",sx:{color:"grey.500",fontStyle:"italic",mb:1},children:m==="login"?"No tienes cuenta?":"Ya tienes cuenta?"}),u.jsx(Ye,{onClick:()=>y(m==="login"?"signup":"login"),disabled:T,endIcon:u.jsx(zh,{sx:{transition:"transform 0.2s"}}),sx:{color:"secondary.main",fontWeight:"bold","&:hover .MuiSvgIcon-root":{transform:"translateX(4px)"}},children:m==="login"?"Crear una cuenta":"Iniciar sesin"})]})]})})},FN=({width:t=200,height:e})=>{const n=Yt().palette.primary.main==="#0ea5e9",o=n?"https://ydcbptnxlslljccwedwi.supabase.co/storage/v1/object/public/assets/guide/logo-warhammer.svg":"https://ydcbptnxlslljccwedwi.supabase.co/storage/v1/object/public/assets/guide/logo-fantasy.svg",i=n?"rgba(14, 165, 233, 0.35)":"rgba(197, 160, 89, 0.35)";return u.jsx(L,{component:"img",src:o,alt:"Soulforge Logo",sx:{width:t,height:e||"auto",display:"block",filter:`drop-shadow(0 4px 12px ${i})`,transition:"all 0.3s ease","&:hover":{transform:"scale(1.03)",filter:`drop-shadow(0 6px 16px ${i})`}}})},C5=[{title:"Crea tu Cuenta",description:"El primer paso para todo aventurero es inscribir su nombre en los registros de la Forja.",longDescription:"Regstrate en la Forja para acceder a tu inventario personal. Con una cuenta podrs guardar tus artefactos favoritos en la Lista de Deseos, ver el historial de tus pedidos y recibir beneficios exclusivos del gremio. Tu nombre de aventurero aparecer en todas las crnicas (reseas) que dejes y ser tu identidad en La Taberna (Foro).",icon:u.jsx(sI,{sx:{fontSize:32}}),tip:"Tener una cuenta acelera el proceso de invocacin (checkout). Nota: Tu nombre de usuario ser el mismo para el foro y no podr cambiarse."},{title:"Explora el Catlogo",description:"Navega por las estanteras digitales llenas de creaciones nicas.",longDescription:"Navega por nuestra coleccin de miniaturas picas. Cada artefacto muestra su tamao, diseador, y precio tanto en monedas de oro como en pesos argentinos. Haz clic en cualquier miniatura para ver ms detalles, imgenes y elegir la escala perfecta. La calidad es nuestra ley.",icon:u.jsx(FS,{sx:{fontSize:32}}),tip:"Puedes ver las miniaturas en 360 grados en algunos de nuestros modelos destacados."},{title:"Usa el Buscador",description:"Encuentra rpidamente el artefacto exacto que tu campaa necesita.",longDescription:"Usa nuestro buscador mgico para encontrar miniaturas por nombre, set, o diseador. El conocimiento es poder, y encontrar lo que buscas es el primer paso hacia la victoria. El buscador te mostrar sugerencias en tiempo real basadas en los archivos de la forja.",icon:u.jsx(El,{sx:{fontSize:32}}),tip:'Bscanos por "Dragon" o "Warrior" para ver la variedad de nuestras forjas.'},{title:"Filtra por Categoras",description:"Refina tu bsqueda segn las necesidades de tu grupo de aventureros.",longDescription:"Usa los filtros del catlogo para separar el trigo de la paja. Filtra por tamao (desde Small hasta Gargantuan), diseadores legendarios, tipo de criatura o el arma que portan. Puedes combinar mltiples filtros para encontrar esa quimera con espada que tanto buscas.",icon:u.jsx(WS,{sx:{fontSize:32}}),tip:"Los filtros se encuentran en la parte superior del catlogo en mviles y a la izquierda en PC."},{title:"Agrega al Carrito",description:"Asegura tus hallazgos antes de que otro aventurero se los lleve.",longDescription:'Cuando encuentres un artefacto digno, haz clic en "Aadir al Carrito". Tus elecciones se guardarn de forma segura mientras continas explorando las profundidades del catlogo. Si no tienes oro suficiente hoy, agrgalo a tu Wishlist para volver por l en tu prxima aventura.',icon:u.jsx(YK,{sx:{fontSize:32}}),tip:"El carrito guardar tus tesoros incluso si cierras el portal por error."},{title:"Revisa tu Carrito",description:"Verifica tu equipo antes de partir hacia la batalla final.",longDescription:"En el carrito podrs ajustar las cantidades de cada miniatura y verificar que todo est en orden. Si posees un pergamino de descuento (cupn), ahora es el momento de usar su magia! Los cupones de descuento se aplican directamente sobre el total de oro requerido.",icon:u.jsx(OK,{sx:{fontSize:32}}),tip:"Recuerda que si el total supera el lmite del reino, podras obtener envo gratuito!"},{title:"Carga tus Datos",description:"Dinos dnde debemos enviar los refuerzos para tu campaa.",longDescription:"Ingresa tu informacin de envo con precisin: nombre completo, direccin del refugio, ciudad, cdigo postal y tu nmero de contacto. La logstica es clave para un buen asedio. Verifica dos veces tu direccin; no querrs que tu dragn termine en el reino equivocado.",icon:u.jsx(B0,{sx:{fontSize:32}}),tip:"Tus datos estn protegidos por hechizos de cifrado de alto nivel."},{title:"Finaliza en WhatsApp",description:"Sella el pacto con los maestros forjadores de forma directa.",longDescription:"Al confirmar, invocars un portal directo a WhatsApp con nuestro equipo. All coordinaremos el pago (MercadoPago, transferencia) y los detalles del envo para que las piezas lleguen seguras. Estamos en lnea durante el da. Si envas tu mensaje de noche, te responderemos al amanecer.",icon:u.jsx(H0,{sx:{fontSize:32}}),tip:"Ten a mano tu nmero de pedido para una comunicacin ms fluida."},{title:"Review & Descuento",description:"Comparte tu leyenda y recibe tesoros por tu sabidura.",longDescription:"Tras recibir tu pedido, obtendrs un enlace nico para dejar tu opinin. Al escribir tu crnica, recibirs un pergamino de descuento del 15% para tu prxima adquisicin en la Forja. Tus crnicas ayudan a otros aventureros a conocer la calidad de nuestro acero (resina).",icon:u.jsx(Bc,{sx:{fontSize:32}}),tip:"Sube una foto de tu miniatura pintada para inspirar a otros guerreros!"}],Use=[{title:"La Llamada a la Aventura",description:"Qu es Dungeons & Dragons?",longDescription:"Imagina una historia donde t eres el protagonista. No hay guion, solo posibilidades infinitas. D&D es un juego de rol de mesa donde t y tus amigos crean una leyenda compartida. Un jugador, el Dungeon Master (DM), es el narrador y rbitro del mundo, mientras que t controlas a un hroe nico. Juntos explorarn mazmorras, lucharn contra bestias y forjarn su destino.",icon:u.jsx(ld,{sx:{fontSize:32}}),tip:"No necesitas ser actor ni experto en reglas para empezar. Solo necesitas imaginacin."},{title:"El Equipo Inicial",description:"Las herramientas del oficio.",longDescription:"Para comenzar tu viaje, necesitars lo bsico: un set de dados polidricos (el d20 ser tu mejor amigo y tu peor enemigo), una hoja de personaje para anotar tus habilidades, y un lpiz. Los manuales son tiles, pero un buen DM te guiar. No necesitas gastar una fortuna para dar tus primeros pasos.",icon:u.jsx(UM,{sx:{fontSize:32}}),tip:"Existen muchas aplicaciones gratuitas para lanzar dados si an no tienes los tuyos."},{title:"Tu Avatar en la Mesa",description:"Por qu necesito una miniatura?",longDescription:'Cuando la batalla comienza y el caos se desata, saber dnde ests parado puede salvarte la vida. Una miniatura no es solo una pieza de plstico; es la representacin fsica de tu hroe. Ver a tu paladn enfrentarse cara a cara con un dragn en el tablero convierte un "ataque" en una memoria pica. Es tu ancla en el mundo fsico para las hazaas de tu imaginacin.',icon:u.jsx(GG,{sx:{fontSize:32}}),tip:'Muchos jugadores comienzan con una miniatura que se "parezca" a su personaje y luego encargan una personalizada a medida que suben de nivel.'},{title:"El Tablero y el Mapa",description:"El mundo toma forma.",longDescription:"El combate en D&D suele jugarse en una cuadrcula de 1 pulgada, donde cada cuadro representa 5 pies (1.5 metros). Aqu es donde la tctica brilla: flanquear enemigos, cubrirse tras una roca, o lanzar una bola de fuego sin quemar a tus aliados. Las miniaturas y el terreno dan vida a estas situaciones, permitiendo que todos visualicen la misma escena.",icon:u.jsx(VS,{sx:{fontSize:32}}),tip:"No necesitas escenografa profesional al principio; un mapa dibujado en papel cuadriculado es suficiente para una gran aventura."},{title:"El Azar de los Dados",description:"Cuando el destino decide.",longDescription:"Logrars saltar el abismo? Tu espada atravesar la armadura del orco? Para averiguarlo, lanzas los dados. El resultado, sumado a tus habilidades, determina el xito o el fracaso. A veces un 1 (Fallo Crtico) crea una historia ms divertida que un 20 (xito Crtico). Abraza el caos.",icon:u.jsx(eK,{sx:{fontSize:32}})},{title:"nete a la Comunidad",description:"Nunca viajars solo.",longDescription:"La comunidad de rol es inmensa y acogedora. Desde tiendas locales hasta grupos en lnea, siempre hay una mesa buscando aventureros. No temas ser nuevo; todos fuimos nivel 1 alguna vez. Pregunta, aprende y, sobre todo, divirtete. Tu leyenda apenas comienza.",icon:u.jsx(zd,{sx:{fontSize:32}}),tip:'Pregunta en Soulforge o en tu tienda local por noches de "Aventureros de la Liga" para principiantes.'}],k5=({step:t,index:e})=>{const r=Yt();return u.jsxs(L,{id:`step-${e}`,sx:{position:"relative"},children:[u.jsxs(L,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[u.jsxs($,{variant:"h6",sx:{fontFamily:'"Cinzel", serif',color:"secondary.main",mr:2,opacity:.6,fontWeight:700,fontSize:"0.9rem"},children:["0",e+1]}),u.jsx(Ir,{sx:{flexGrow:1,borderColor:q(r.palette.secondary.main,.1)}})]}),u.jsxs($,{variant:"h4",sx:{fontFamily:'"Cinzel", serif',fontSize:"1.6rem",color:"common.white",fontWeight:700,mb:2,display:"flex",alignItems:"center",gap:2},children:[Gt.cloneElement(t.icon,{sx:{color:"secondary.main",fontSize:24}}),t.title]}),u.jsx($,{variant:"body1",sx:{fontFamily:'"Newsreader", serif',fontSize:"1.1rem",color:"text.secondary",lineHeight:1.5,fontStyle:"italic",mb:2,pl:2,borderLeft:"2px solid",borderColor:q(r.palette.secondary.main,.2)},children:t.description}),u.jsx($,{variant:"body1",sx:{fontFamily:'"Newsreader", serif',fontSize:"1.05rem",color:"text.primary",lineHeight:1.6,textAlign:"justify",mb:2},children:t.longDescription}),t.tip&&u.jsx(L,{sx:{p:2,bgcolor:q(r.palette.secondary.main,.03),borderLeft:"3px solid",borderColor:"secondary.main",borderRadius:"0 4px 4px 0"},children:u.jsxs($,{variant:"body2",sx:{fontFamily:'"Newsreader", serif',fontSize:"0.95rem",color:"text.secondary"},children:[u.jsx("strong",{children:"Sabidura:"})," ",t.tip]})})]})},Vse=({setView:t})=>{const e=Yt();return u.jsxs(L,{sx:{bgcolor:"background.default",minHeight:"100vh",pb:10,position:"relative",backgroundImage:"radial-gradient(circle, rgba(255,255,255,0.03) 1px, transparent 1px)",backgroundSize:"30px 30px"},children:[u.jsx(L,{sx:{width:"100%",height:{xs:350,md:900},position:"relative",backgroundImage:"url(https://ydcbptnxlslljccwedwi.supabase.co/storage/v1/object/public/assets/guide/dragon_banner.jpg)",backgroundSize:"cover",backgroundPosition:"center",display:"flex",alignItems:"center",justifyContent:"center",maskImage:"url(https://ydcbptnxlslljccwedwi.supabase.co/storage/v1/object/public/assets/masks/my-mask.png), linear-gradient(to bottom, black 50%, transparent 100%)",WebkitMaskImage:"url(https://ydcbptnxlslljccwedwi.supabase.co/storage/v1/object/public/assets/masks/my-mask.png), linear-gradient(to bottom, black 50%, transparent 100%)",maskSize:"100% 100%, 100% 100%",WebkitMaskSize:"100% 100%, 100% 100%",maskPosition:"center bottom, center",WebkitMaskPosition:"center bottom, center",maskRepeat:"no-repeat, no-repeat",WebkitMaskRepeat:"no-repeat, no-repeat",maskComposite:"source-over",WebkitMaskComposite:"source-over","&::after":{content:'""',position:"absolute",bottom:0,left:0,right:0,height:"70%",background:`linear-gradient(to top, ${e.palette.background.default}, transparent)`}},children:u.jsxs(L,{sx:{textAlign:"center",zIndex:1,mt:{xs:5,md:10},px:2},children:[u.jsx($,{variant:"h1",sx:{fontFamily:'"Cinzel", serif',fontSize:{xs:"2.5rem",md:"5rem"},color:"common.white",fontWeight:700,letterSpacing:10,textTransform:"uppercase",textShadow:"0 0 30px rgba(0,0,0,0.8), 0 0 10px rgba(197, 160, 89, 0.3)",mb:1,paddingTop:{xs:15,md:12}},children:"Gua de Compras"}),u.jsx($,{variant:"h6",sx:{fontFamily:'"Cinzel", serif',color:"secondary.main",letterSpacing:4,opacity:.9,fontSize:{xs:"0.8rem",md:"1.2rem"}},children:"Compendio Oficial del Aventurero"})]})}),u.jsxs(fr,{maxWidth:"lg",sx:{mt:5,position:"relative"},children:[u.jsxs(L,{sx:{textAlign:"center",mb:10,maxWidth:800,mx:"auto"},children:[u.jsx(ly,{sx:{color:"secondary.main",fontSize:40,mb:2}}),u.jsx($,{variant:"body1",sx:{fontFamily:'"Newsreader", serif',fontSize:"1.4rem",color:"text.secondary",lineHeight:1.6,fontStyle:"italic"},children:'"Desde las sombras de la forja hasta tu mesa de juego, cada miniatura sigue un camino sagrado. Esta gua contiene el conocimiento necesario para completar tu misin y armar tu propio ejrcito de leyendas."'}),u.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mt:4},children:[u.jsx(L,{sx:{height:1,width:60,bgcolor:q(e.palette.secondary.main,.4),mr:2}}),u.jsx(L,{sx:{width:8,height:8,bgcolor:"secondary.main",transform:"rotate(45deg)"}}),u.jsx(L,{sx:{height:1,width:60,bgcolor:q(e.palette.secondary.main,.4),ml:2}})]})]}),u.jsxs(_e,{container:!0,spacing:8,alignItems:"flex-start",children:[u.jsx(_e,{size:{xs:12,md:6},children:u.jsx(wt,{spacing:8,children:C5.slice(0,5).map((r,n)=>u.jsx(k5,{step:r,index:n},n))})}),u.jsxs(_e,{size:{xs:12,md:6},children:[u.jsx(wt,{spacing:8,children:C5.slice(5).map((r,n)=>u.jsx(k5,{step:r,index:n+5},n+5))}),u.jsxs(wt,{direction:{xs:"column",sm:"row"},spacing:2,sx:{mt:10,mb:{xs:8,md:0}},children:[u.jsx(Ye,{variant:"contained",onClick:()=>t(be.CATALOG),sx:{bgcolor:"secondary.main",color:"background.default",fontFamily:'"Cinzel", serif',px:4,py:1.2,fontSize:"0.9rem",fontWeight:"bold",flexGrow:1,"&:hover":{bgcolor:"secondary.light",transform:"translateY(-3px)"},transition:"all 0.3s ease"},children:"Comenzar Aventura"}),u.jsx(Ye,{variant:"outlined",onClick:()=>t(be.HOME),sx:{color:"secondary.main",borderColor:"secondary.main",fontFamily:'"Cinzel", serif',px:1,py:1.2,fontSize:"0.9rem",flexGrow:1,"&:hover":{borderColor:"common.white",color:"common.white",bgcolor:q("#fff",.05)},transition:"all 0.3s ease"},children:"Volver al Atrio"})]}),u.jsxs(L,{sx:{mt:{xs:10,md:15},textAlign:"center",position:"relative"},children:[u.jsx(L,{sx:{position:"relative",display:"inline-block",mb:2,mt:-4,opacity:.7},children:u.jsx(FN,{width:240})}),u.jsxs($,{sx:{fontFamily:'"Newsreader", serif',fontStyle:"italic",color:"text.secondary",maxWidth:550,mx:"auto",fontSize:"1.1rem",lineHeight:1.6,opacity:.8},children:["Donde cada alma encuentra su forma en resina pura.",u.jsx("br",{}),"Autenticado por el Gremio de Forjadores."]})]})]})]})]})]})},qse=({step:t})=>{const e=Yt();return u.jsxs(L,{sx:{height:"100%",p:3,position:"relative","&::before":{content:'""',position:"absolute",top:0,left:0,width:"100%",height:"100%",bgcolor:q(e.palette.background.paper,.02),zIndex:-1}},children:[u.jsx($,{variant:"h5",sx:{fontFamily:'"Cinzel", serif',color:"secondary.main",fontWeight:700,fontSize:"1.4rem",mb:1,borderBottom:`2px solid ${q(e.palette.secondary.main,.3)}`,pb:.5,display:"inline-block",width:"100%"},children:t.title}),u.jsx($,{variant:"subtitle2",sx:{fontFamily:'"Newsreader", serif',color:"text.primary",fontStyle:"italic",mb:2,fontWeight:600,fontSize:"1rem"},children:t.description}),u.jsx($,{variant:"body1",sx:{fontFamily:'"Newsreader", serif',fontSize:"1.05rem",color:"text.secondary",lineHeight:1.6,textAlign:"justify",mb:2},children:t.longDescription}),t.tip&&u.jsx(L,{sx:{p:2,bgcolor:q(e.palette.secondary.main,.1),borderRadius:1,border:`1px solid ${q(e.palette.secondary.main,.2)}`,mt:2},children:u.jsxs($,{variant:"body2",sx:{fontFamily:'"Newsreader", serif',fontSize:"0.9rem",color:"text.primary",fontWeight:500},children:[u.jsx("strong",{children:"Sabidura del DM:"})," ",t.tip]})})]})},Gse=({setView:t})=>{const e=Yt();return u.jsxs(L,{sx:{bgcolor:"background.default",minHeight:"100vh",pb:10,position:"relative",backgroundImage:"radial-gradient(circle, rgba(255,255,255,0.03) 1px, transparent 1px)",backgroundSize:"30px 30px"},children:[u.jsx(L,{sx:{width:"100%",height:{xs:350,md:1e3},position:"relative",backgroundImage:"url(https://ydcbptnxlslljccwedwi.supabase.co/storage/v1/object/public/assets/banners/adventurer_guide_banner.jpg)",backgroundSize:"cover",backgroundPosition:"center",display:"flex",alignItems:"center",justifyContent:"center",maskImage:"url(https://ydcbptnxlslljccwedwi.supabase.co/storage/v1/object/public/assets/masks/my-mask.png), linear-gradient(to bottom, black 50%, transparent 100%)",WebkitMaskImage:"url(https://ydcbptnxlslljccwedwi.supabase.co/storage/v1/object/public/assets/masks/my-mask.png), linear-gradient(to bottom, black 50%, transparent 100%)",maskSize:"100% 100%, 100% 100%",WebkitMaskSize:"100% 100%, 100% 100%",maskPosition:"center bottom, center",WebkitMaskPosition:"center bottom, center",maskRepeat:"no-repeat, no-repeat",WebkitMaskRepeat:"no-repeat, no-repeat",maskComposite:"source-over",WebkitMaskComposite:"source-over","&::after":{content:'""',position:"absolute",bottom:0,left:0,right:0,height:"70%",background:`linear-gradient(to top, ${e.palette.background.default}, transparent)`}},children:u.jsxs(L,{sx:{textAlign:"center",zIndex:1,mt:{xs:5,md:10},px:2},children:[u.jsx($,{variant:"h1",sx:{fontFamily:'"Cinzel", serif',fontSize:{xs:"2rem",md:"4.5rem"},color:"common.white",fontWeight:700,letterSpacing:8,textTransform:"uppercase",textShadow:"0 0 30px rgba(0,0,0,0.8), 0 0 10px rgba(197, 160, 89, 0.3)",mb:2,paddingTop:{xs:10,md:12}},children:"Gua del Nuevo Aventurero"}),u.jsx($,{variant:"h6",sx:{fontFamily:'"Newsreader", serif',color:"secondary.main",letterSpacing:2,opacity:.9,fontSize:{xs:"1rem",md:"1.4rem"},fontStyle:"italic",maxWidth:800,mx:"auto"},children:'"Acrcate al fuego, viajero. Tienes aspecto de alguien que busca escribir su propia leyenda..."'})]})}),u.jsxs(fr,{maxWidth:"lg",sx:{mt:5,position:"relative",pb:10},children:[u.jsxs(L,{sx:{textAlign:"center",mb:8,maxWidth:800,mx:"auto"},children:[u.jsxs($,{variant:"body1",sx:{fontFamily:'"Newsreader", serif',fontSize:"1.25rem",color:"text.secondary",lineHeight:1.8,textAlign:"justify",columnCount:{md:2},columnGap:4,"&::first-letter":{float:"left",fontSize:"3.5rem",lineHeight:.8,fontWeight:"bold",fontFamily:'"Cinzel", serif',color:"secondary.main",mr:1,mt:1}},children:['Bienvenido a los Reinos Olvidados, o quizs a Eberron, o tal vez a un mundo que t y tus amigos inventarn esta noche. Si ests aqu, es porque has sentido el llamado. No importa si nunca has tocado un dado de 20 caras o si crees que una "Tirada de Salvacin" es guardar la partida. Aqu en ',u.jsx("strong",{children:"Soulforge"}),", creemos que cada gran hroe comienza con un solo paso... y usualmente, con una buena miniatura."]}),u.jsx(L,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mt:4},children:u.jsx(L,{sx:{height:2,width:100,background:`linear-gradient(90deg, transparent, ${e.palette.secondary.main}, transparent)`}})})]}),u.jsx(_e,{container:!0,spacing:4,children:Use.map((r,n)=>u.jsx(_e,{size:{xs:12,md:6},children:u.jsx(qse,{step:r})},n))}),u.jsxs(L,{sx:{textAlign:"center",mt:15},children:[u.jsx($,{variant:"h3",sx:{fontFamily:'"Cinzel", serif',color:"common.white",mb:4,textShadow:"0 0 20px rgba(197, 160, 89, 0.4)"},children:"Listo para comenzar tu viaje?"}),u.jsxs(wt,{direction:{xs:"column",sm:"row"},spacing:3,justifyContent:"center",alignItems:"center",children:[u.jsx(Ye,{variant:"contained",size:"large",onClick:()=>t(be.CATALOG),endIcon:u.jsx(zh,{}),sx:{bgcolor:"secondary.main",color:"background.default",fontFamily:'"Cinzel", serif',px:6,py:2,fontSize:"1.1rem",fontWeight:"bold","&:hover":{bgcolor:"secondary.light",transform:"scale(1.05)"},transition:"all 0.3s ease"},children:"Explorar Miniaturas"}),u.jsx(Ye,{variant:"outlined",size:"large",onClick:()=>t(be.HOW_TO_BUY),sx:{color:"secondary.main",borderColor:"secondary.main",fontFamily:'"Cinzel", serif',px:6,py:2,fontSize:"1.1rem","&:hover":{borderColor:"common.white",color:"common.white",bgcolor:q(e.palette.common.white,.05)}},children:"Ver Gua de Compra"})]})]}),u.jsx(L,{sx:{mt:15,textAlign:"center",opacity:.7},children:u.jsx(FN,{width:200})})]})]})},Kse=({onThreadSelect:t,onProductSelect:e,onLFGClick:r})=>{const n=Yt(),[o,i]=S.useState([]),[s,a]=S.useState(null),[l,p]=S.useState(!0),[f,h]=S.useState(0),[m,y]=S.useState([]);S.useEffect(()=>{v()},[]);const v=async()=>{p(!0);try{const{data:b,error:x}=await Ee.from("products").select("*").order("created_at",{ascending:!1}).limit(1).single();x&&x.code!=="PGRST116"&&console.error("Error fetching latest product:",x),b&&a(b);const{data:C,error:E}=await Ee.from("lfg_posts").select("*, gm_profile:profiles(*)").order("created_at",{ascending:!1}).limit(3);E?console.error("Error fetching LFG posts:",E):i(C||[]);const{count:j,error:T}=await Ee.from("profiles").select("*",{count:"exact",head:!0});T?console.error("Error fetching user count:",T):h(j||0);const{data:k}=await Ee.from("profiles").select("*").limit(5);k&&y(k)}catch(b){console.error("Error fetching sidebar data:",b)}finally{p(!1)}};return u.jsxs(L,{sx:{display:"flex",flexDirection:"column",gap:4},children:[u.jsxs(xl,{sx:{bgcolor:q(n.palette.background.paper,.4),backdropFilter:"blur(8px)",border:`1px solid ${q(n.palette.secondary.main,.3)}`,backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))",overflow:"visible"},children:[u.jsxs(L,{sx:{p:2,borderBottom:`1px solid ${q(n.palette.secondary.main,.3)}`,display:"flex",alignItems:"center",gap:1.5,bgcolor:q(n.palette.secondary.main,.1),cursor:r?"pointer":"default"},onClick:r,children:[u.jsx(zd,{color:"secondary"}),u.jsx($,{variant:"h6",sx:{fontFamily:"Cinzel, serif",fontWeight:700,color:"secondary.main",letterSpacing:1,fontSize:"1rem"},children:"BUSCANDO GRUPO"})]}),u.jsx(Ni,{disablePadding:!0,children:o.length===0?u.jsx(un,{children:u.jsx(jn,{primary:"No hay misiones activas",secondary:"S el primero en publicar una!",primaryTypographyProps:{color:"text.secondary",fontFamily:"Cinzel, serif"}})}):o.map((b,x)=>{var C;return u.jsxs(Gt.Fragment,{children:[u.jsx(un,{disablePadding:!0,children:u.jsxs(bo,{onClick:r,alignItems:"flex-start",sx:{py:1.5,transition:"all 0.2s","&:hover":{bgcolor:q(n.palette.secondary.main,.1),pl:3}},children:[u.jsx(Lo,{sx:{minWidth:36,mt:.5},children:u.jsx(zd,{color:"secondary",fontSize:"small"})}),u.jsx(jn,{primary:u.jsx($,{variant:"body2",sx:{fontWeight:600,fontFamily:"Cinzel, serif",color:"text.primary",lineHeight:1.2,mb:.5,fontSize:"0.85rem"},children:b.game_name.toUpperCase()}),secondary:u.jsxs(L,{component:"span",children:[u.jsx($,{component:"span",variant:"caption",sx:{color:"secondary.main",fontWeight:"bold",display:"block",mb:.5},children:b.system}),u.jsxs($,{component:"span",variant:"caption",sx:{color:"text.secondary",fontFamily:"Newsreader, serif",fontStyle:"italic"},children:["by ",((C=b.gm_profile)==null?void 0:C.username)||"Desconocido"," "," ",b.date]})]})})]})}),x<o.length-1&&u.jsx(Ir,{component:"li",sx:{borderColor:q(n.palette.common.white,.05)}})]},b.id)})}),u.jsx(L,{sx:{p:1.5,borderTop:`1px solid ${q(n.palette.secondary.main,.3)}`},children:u.jsx(Ye,{fullWidth:!0,size:"small",color:"secondary",onClick:r,sx:{fontFamily:"Cinzel, serif",fontWeight:700,letterSpacing:1,fontSize:"0.75rem"},children:"VER TODAS LAS MISIONES"})})]}),s?u.jsx(xl,{sx:{position:"relative",overflow:"hidden",border:`1px solid ${q(n.palette.secondary.main,.5)}`,borderRadius:2,transition:"all 0.3s ease","&:hover":{borderColor:"secondary.main",boxShadow:`0 0 20px ${q(n.palette.secondary.main,.3)}`,transform:"translateY(-4px)"}},children:u.jsxs(hM,{onClick:()=>e&&e(s.id),children:[u.jsx(L,{sx:{height:180,backgroundImage:`linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0) 100%), url(${s.image})`,backgroundSize:"cover",backgroundPosition:"center",position:"relative"},children:u.jsx(Qr,{label:"RECIN FORJADO",color:"secondary",size:"small",sx:{position:"absolute",top:12,left:12,fontFamily:"Cinzel, serif",fontWeight:"bold",fontSize:"0.65rem",height:20}})}),u.jsxs(nh,{sx:{pt:1,pb:"16px !important"},children:[u.jsx($,{variant:"h6",sx:{fontFamily:"Cinzel, serif",fontWeight:700,color:"white",lineHeight:1.2,mb:.5},children:s.name}),u.jsx($,{variant:"body2",color:"text.secondary",sx:{mb:1,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",fontSize:"0.8rem"},children:s.description||"Un nuevo artefacto descubierto..."}),u.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsxs($,{variant:"subtitle1",color:"secondary.main",fontWeight:"bold",children:[s.price," GP"]}),u.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:.5},children:[u.jsx($,{variant:"caption",color:"secondary.main",fontWeight:"bold",children:"INSPECCIONAR"}),u.jsx(zh,{fontSize:"small",sx:{fontSize:14,color:"secondary.main"}})]})]})]})]})}):u.jsx(xl,{sx:{height:200,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:q(n.palette.background.paper,.2)},children:u.jsx($,{variant:"caption",color:"text.secondary",children:"Avivando la forja..."})}),u.jsxs(xl,{sx:{bgcolor:q(n.palette.background.paper,.4),backdropFilter:"blur(8px)",border:`1px solid ${q(n.palette.common.white,.1)}`},children:[u.jsx(L,{sx:{p:2,borderBottom:`1px solid ${q(n.palette.common.white,.1)}`},children:u.jsx($,{variant:"subtitle1",sx:{fontFamily:"Cinzel, serif",fontWeight:700,color:"text.primary",letterSpacing:1},children:"GREMIO DE AVENTUREROS"})}),u.jsxs(nh,{children:[u.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[u.jsx(_W,{max:5,sx:{"& .MuiAvatar-root":{borderColor:n.palette.background.paper,width:32,height:32,fontSize:"0.8rem"}},children:m.map(b=>{var x;return u.jsx(ai,{alt:b.username||"Hero",src:(x=b.avatar_url)!=null&&x.includes("images/avatars/")?us:b.avatar_url},b.id)})}),f>5&&u.jsxs(L,{sx:{bgcolor:q(n.palette.secondary.main,.2),borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",color:"secondary.main",fontWeight:"bold",fontSize:"0.7rem",border:`1px solid ${q(n.palette.secondary.main,.3)}`},children:["+",f-5]})]}),u.jsxs($,{variant:"caption",color:"text.secondary",children:[u.jsxs(L,{component:"span",sx:{color:"success.main",fontWeight:"bold",display:"inline-flex",alignItems:"center",gap:.5},children:[u.jsx(pK,{sx:{fontSize:10}})," ",f.toLocaleString()]})," ","hroes registrados en el reino."]})]})]})]})},Yse=t=>{const e=t.toLowerCase();return e.includes("taberna")?IK:e.includes("buscador")?zd:e.includes("forja")?HS:e.includes("historias")?VK:e.includes("reglas")?GK:e.includes("lore")||e.includes("mundo")?ld:e.includes("master")||e.includes("dm")?cI:e.includes("bestiario")||e.includes("monstruo")?aI:e.includes("ayuda")||e.includes("feedback")?rI:wK},Jse=({category:t,stats:e,onCategorySelect:r,onLFGClick:n})=>{const o=Yt(),i=Yse(t.name),s=()=>{t.name.toLowerCase().includes("buscador")&&n?n():r(t.id)};return u.jsx(xl,{sx:{bgcolor:q(o.palette.background.paper,.2),border:`1px solid ${q(o.palette.common.white,.05)}`,transition:"all 0.3s","&:hover":{bgcolor:q(o.palette.background.paper,.4),transform:"translateX(4px)",border:`1px solid ${q(o.palette.secondary.main,.4)}`}},children:u.jsx(hM,{onClick:s,sx:{p:2.5},children:u.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:3},children:[u.jsx(L,{sx:{p:1.5,bgcolor:q(o.palette.secondary.main,.1),borderRadius:2,display:"flex",color:"secondary.main"},children:u.jsx(i,{fontSize:"large"})}),u.jsxs(L,{sx:{flex:1},children:[u.jsx($,{variant:"h6",sx:{fontFamily:"Cinzel, serif",fontWeight:700,color:"text.primary",mb:.5},children:t.name}),u.jsx(Ll,{content:t.description,sx:{fontFamily:'"Newsreader", serif',"& p":{margin:0}}})]}),u.jsxs(L,{sx:{display:{xs:"none",sm:"flex"},gap:3,mr:2},children:[u.jsxs(L,{sx:{textAlign:"center"},children:[u.jsx($,{variant:"caption",color:"text.secondary",display:"block",children:"PERGAMINOS"}),u.jsx($,{variant:"body2",color:"secondary.main",fontWeight:"bold",children:(e==null?void 0:e.threads)||0})]}),u.jsxs(L,{sx:{textAlign:"center"},children:[u.jsx($,{variant:"caption",color:"text.secondary",display:"block",children:"RUNAS"}),u.jsx($,{variant:"body2",color:"secondary.main",fontWeight:"bold",children:(e==null?void 0:e.posts)||0})]})]})]})})})},Xse=({open:t,onClose:e,onCreate:r})=>{const n=Yt(),[o,i]=S.useState(""),[s,a]=S.useState(""),[l,p]=S.useState(1),f=async()=>{o.trim()&&(await r(o,s,l),i(""),a(""),p(1),e())};return u.jsxs(hd,{open:t,onClose:e,PaperProps:{sx:{bgcolor:q(n.palette.background.paper,.9),backdropFilter:"blur(10px)",border:`1px solid ${n.palette.secondary.main}`,minWidth:400}},children:[u.jsx(wM,{sx:{fontFamily:"Cinzel, serif",color:"secondary.main"},children:"Nueva Categora"}),u.jsxs(Tf,{children:[u.jsx(Ut,{autoFocus:!0,margin:"dense",label:"Nombre",fullWidth:!0,variant:"outlined",value:o,onChange:h=>i(h.target.value),sx:{mb:2}}),u.jsxs(L,{sx:{mb:2},children:[u.jsx($,{variant:"caption",color:"secondary",sx:{mb:1,display:"block"},children:"Descripcin"}),u.jsx(Ul,{content:s,onChange:a,placeholder:"Describe esta categora..."})]}),u.jsx(Ut,{margin:"dense",label:"Orden (Sort Order)",type:"number",fullWidth:!0,variant:"outlined",value:l,onChange:h=>p(Number(h.target.value))})]}),u.jsxs(bM,{children:[u.jsx($,{component:"p",variant:"caption",sx:{mr:"auto",ml:2,color:"text.secondary"},children:"* Icon auto-assigned based on name keywords"}),u.jsx(Ye,{onClick:e,color:"inherit",children:"Cancelar"}),u.jsx(Ye,{onClick:f,color:"secondary",variant:"contained",children:"Crear"})]})]})},Qse=t=>{const e=t.toLowerCase();return e.includes("reglas")||e.includes("builds")?"MANUAL DEL JUGADOR":e.includes("master")||e.includes("lore")||e.includes("mundo")?"GUA DEL DUNGEON MASTER":"DISCUSIN GENERAL"},Mg=({onCategorySelect:t,onThreadSelect:e,onProductSelect:r,onLFGClick:n,user:o,isAdmin:i=!1})=>{const s=Yt(),[a,l]=S.useState([]),[p,f]=S.useState(!0),[h,m]=S.useState({}),[y,v]=S.useState(!1),[b,x]=S.useState(!1);S.useEffect(()=>{C()},[]);const C=async()=>{try{const{data:A,error:_}=await Ee.from("forum_categories").select("*").order("sort_order",{ascending:!0});_&&console.error("Supabase error fetching categories:",_),A&&(l(A),E(A))}catch(A){console.error("Error fetching categories:",A)}finally{f(!1)}},E=async A=>{const _={};for(const I of A){const{count:P}=await Ee.from("forum_threads").select("*",{count:"exact",head:!0}).eq("category_id",I.id),{data:N}=await Ee.from("forum_threads").select("id").eq("category_id",I.id);let B=0;if(N&&N.length>0){const O=N.map(F=>F.id),{count:D}=await Ee.from("forum_posts").select("*",{count:"exact",head:!0}).in("thread_id",O);B=D||0}_[I.id]={threads:P||0,posts:B}}m(_)},j=async(A,_,I)=>{try{const{data:P,error:N}=await Ee.from("forum_categories").insert({name:A,description:_,sort_order:I}).select().single();if(N)throw N;P&&(l([...a,P].sort((B,O)=>B.sort_order-O.sort_order)),x(!1))}catch(P){console.error("Error creating category:",P),alert("Error al crear la categora")}},T=a.reduce((A,_)=>{const I=Qse(_.name);return A[I]||(A[I]=[]),A[I].push(_),A},{}),k=["MANUAL DEL JUGADOR","GUA DEL DUNGEON MASTER","DISCUSIN GENERAL"];return p?u.jsx(L,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:u.jsx(Mn,{color:"secondary"})}):u.jsxs(fr,{maxWidth:"xl",sx:{mt:16,mb:10},children:[u.jsxs(L,{sx:{textAlign:"center",mb:6,py:6,px:4,borderRadius:0,borderTop:`2px solid ${s.palette.secondary.main}`,borderBottom:`2px solid ${s.palette.secondary.main}`,background:`linear-gradient(to right, ${q(s.palette.background.default,0)}, ${q(s.palette.secondary.main,.1)}, ${q(s.palette.background.default,0)})`,position:"relative"},children:[u.jsx($,{variant:"h2",sx:{fontFamily:"Cinzel, serif",fontWeight:800,color:"secondary.main",textShadow:"0 2px 4px rgba(0,0,0,0.8)",letterSpacing:2,mb:1},children:"LA TABERNA DEL DRAGN"}),u.jsx($,{variant:"h6",sx:{fontFamily:'"Newsreader", serif',color:"text.primary",fontStyle:"italic",maxWidth:800,mx:"auto",opacity:.9},children:'"El fuego es clido, la cerveza est fra y las historias son legendarias. Bienvenido a casa, aventurero."'})]}),u.jsxs(_e,{container:!0,spacing:4,children:[u.jsx(_e,{size:{xs:12,lg:8},children:k.map(A=>{const _=T[A];if(!_||_.length===0)return null;let I=LK;return A.includes("MASTER")&&(I=cI),A.includes("MONSTER")&&(I=aI),u.jsxs(L,{sx:{mb:5},children:[u.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2,mb:2,borderBottom:`1px solid ${q(s.palette.secondary.main,.3)}`,pb:1},children:[u.jsx(I,{color:"secondary",sx:{fontSize:30}}),u.jsx($,{variant:"h5",sx:{fontFamily:"Cinzel, serif",fontWeight:700,color:"secondary.main",letterSpacing:1},children:A})]}),u.jsx(_e,{container:!0,spacing:2,children:_.map(P=>u.jsx(_e,{size:{xs:12},children:u.jsx(Jse,{category:P,stats:h[P.id],onCategorySelect:t,onLFGClick:n})},P.id))})]},A)})}),u.jsx(_e,{size:{xs:12,lg:4},children:e&&u.jsx(Kse,{onThreadSelect:e,onProductSelect:r,onLFGClick:n})})]}),i&&u.jsxs(L,{sx:{position:"fixed",bottom:32,right:32,zIndex:1e3},children:[u.jsx(NM,{in:y,children:u.jsx(L,{sx:{mb:2,display:"flex",flexDirection:"column",gap:2,alignItems:"flex-end"},children:u.jsxs(sy,{color:"secondary",size:"small",variant:"extended",onClick:()=>x(!0),sx:{fontFamily:"Cinzel, serif",fontWeight:"bold"},children:[u.jsx(FS,{sx:{mr:1}}),"Nueva Categora"]})})}),u.jsx(sy,{color:"secondary","aria-label":"add",onClick:()=>v(!y),sx:{transform:y?"rotate(45deg)":"rotate(0deg)",transition:"transform 0.3s"},children:u.jsx(tp,{})})]}),u.jsx(Xse,{open:b,onClose:()=>x(!1),onCreate:j})]})},E5=({categoryId:t,onThreadSelect:e,onBack:r,onCreateThread:n,user:o,isAdmin:i=!1})=>{const s=Yt(),[a,l]=S.useState(null),[p,f]=S.useState([]),[h,m]=S.useState(!0);S.useEffect(()=>{y();const C=Ee.channel(`category_threads:${t}`).on("postgres_changes",{event:"*",schema:"public",table:"forum_threads",filter:`category_id=eq.${t}`},()=>{y()}).subscribe();return()=>{Ee.removeChannel(C)}},[t]);const y=async()=>{m(!0);try{const{data:C,error:E}=await Ee.from("forum_categories").select("*").eq("id",t).single();if(E)throw E;l(C);const{data:j,error:T}=await Ee.from("forum_threads").select("*, author:profiles(username, avatar_url, title, faction)").eq("category_id",t).order("is_pinned",{ascending:!1}).order("updated_at",{ascending:!1});if(T)throw T;f(j||[])}catch(C){console.error("Error fetching forum data:",C)}finally{m(!1)}},v=async(C,E)=>{if(E.stopPropagation(),!!window.confirm("Ests seguro de que deseas borrar este hilo? Esta accin no se puede deshacer."))try{const{error:j}=await Ee.from("forum_threads").delete().eq("id",C);if(j)throw j;f(T=>T.filter(k=>k.id!==C))}catch(j){console.error("Error deleting thread:",j),alert("Error al borrar el hilo.")}},b=async(C,E,j)=>{j.stopPropagation();try{const{error:T}=await Ee.from("forum_threads").update({is_pinned:E}).eq("id",C);if(T)throw T;f(k=>k.map(A=>A.id===C?{...A,is_pinned:E}:A).sort((A,_)=>A.is_pinned===_.is_pinned?new Date(_.updated_at).getTime()-new Date(A.updated_at).getTime():A.is_pinned?-1:1))}catch(T){console.error("Error pinning thread:",T),alert("Error al fijar el hilo.")}},x=C=>new Date(C).toLocaleDateString("es-ES",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"});return h?u.jsx(L,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:u.jsx(Mn,{color:"secondary"})}):u.jsxs(fr,{maxWidth:"lg",sx:{mt:14,mb:10},children:[u.jsxs(L,{sx:{mb:4},children:[u.jsx(Ye,{startIcon:u.jsx(rp,{}),onClick:r,sx:{mb:2,color:"text.secondary"},children:"Volver a la Taberna"}),u.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[u.jsxs(L,{children:[u.jsx($,{variant:"h3",sx:{fontFamily:"Cinzel, serif",fontWeight:"bold",color:"secondary.main"},children:a==null?void 0:a.name}),u.jsx(Ll,{content:(a==null?void 0:a.description)||"",sx:{fontStyle:"italic",color:"text.secondary",fontSize:"1rem"}})]}),o&&u.jsx(Ye,{variant:"contained",color:"secondary",startIcon:u.jsx(tp,{}),sx:{fontFamily:"Cinzel, serif",fontWeight:"bold"},onClick:n,children:"Nuevo Pergamino"})]})]}),u.jsx(St,{sx:{bgcolor:q(s.palette.background.paper,.4),backdropFilter:"blur(8px)",border:`1px solid ${q(s.palette.common.white,.08)}`,borderRadius:2,overflow:"hidden"},children:p.length===0?u.jsxs(L,{sx:{p:6,textAlign:"center"},children:[u.jsx($,{variant:"h6",color:"text.secondary",children:"No hay pergaminos escritos aqu an."}),o&&u.jsx(Ye,{variant:"outlined",color:"secondary",sx:{mt:2},onClick:n,children:"S el primero en escribir"})]}):u.jsx(Ni,{disablePadding:!0,children:p.map((C,E)=>{var j,T,k,A,_,I,P;return u.jsxs(Gt.Fragment,{children:[u.jsx(un,{disablePadding:!0,secondaryAction:i&&u.jsxs(L,{children:[u.jsx(pt,{edge:"end","aria-label":"pin",onClick:N=>b(C.id,!C.is_pinned,N),sx:{color:C.is_pinned?"secondary.main":"text.disabled",mr:1},children:u.jsx(X1,{})}),u.jsx(pt,{edge:"end","aria-label":"delete",onClick:N=>v(C.id,N),color:"error",children:u.jsx(ko,{})})]}),children:u.jsxs(bo,{alignItems:"flex-start",onClick:()=>e(C.id),sx:{py:3,px:3,pr:i?8:3,transition:"all 0.2s",bgcolor:C.is_pinned?q(s.palette.secondary.main,.08):"transparent","&:hover":{bgcolor:C.is_pinned?q(s.palette.secondary.main,.15):q(s.palette.secondary.main,.05)}},children:[u.jsx(Lo,{sx:{minWidth:40,mt:.5},children:C.is_pinned?u.jsx(X1,{color:"secondary"}):C.is_locked?u.jsx($d,{color:"error"}):u.jsx(XG,{sx:{color:q(s.palette.text.primary,.4)}})}),u.jsx(jn,{secondaryTypographyProps:{component:"div"},primary:u.jsx($,{variant:"h6",component:"span",sx:{fontFamily:'"Newsreader", serif',fontWeight:600,color:"text.primary",fontSize:"1.1rem"},children:C.title}),secondary:u.jsxs(L,{component:"span",sx:{display:"flex",alignItems:"center",mt:1,gap:2,color:"text.secondary",fontSize:"0.875rem",flexWrap:"wrap"},children:[u.jsxs(L,{component:"span",sx:{display:"flex",alignItems:"center",gap:1},children:[u.jsx(ai,{src:(T=(j=C.author)==null?void 0:j.avatar_url)!=null&&T.includes("images/avatars/")?us:(k=C.author)==null?void 0:k.avatar_url,alt:(A=C.author)==null?void 0:A.username,sx:{width:24,height:24}}),u.jsx($,{variant:"caption",sx:{fontWeight:"bold",color:"secondary.main"},children:((_=C.author)==null?void 0:_.username)||((I=C.author)==null?void 0:I.full_name)||"Desconocido"}),((P=C.author)==null?void 0:P.title)&&u.jsx(Qr,{label:C.author.title,size:"small",variant:"outlined",sx:{height:20,fontSize:"0.65rem",borderColor:q(s.palette.secondary.main,.3)}})]}),u.jsxs($,{variant:"caption",children:[" ",x(C.created_at)]})]})}),u.jsxs(L,{sx:{display:{xs:"none",sm:"flex"},alignItems:"center",gap:3,color:"text.secondary",ml:2},children:[u.jsxs(L,{sx:{textAlign:"center",minWidth:60},children:[u.jsx(pI,{fontSize:"small",sx:{mb:.5}}),u.jsx($,{variant:"caption",display:"block",children:C.view_count})]}),u.jsxs(L,{sx:{textAlign:"center",minWidth:60},children:[u.jsx(oK,{fontSize:"small",sx:{mb:.5}}),u.jsx($,{variant:"caption",display:"block",children:"-"})]})]})]})}),E<p.length-1&&u.jsx(Ir,{component:"li",variant:"inset"})]},C.id)})})})]})},GC=async(t,e)=>{try{const r=await Zse(t),n=Date.now(),o=Math.random().toString(36).substring(2,8),i=`${e}/${n}-${o}.webp`,{data:s,error:a}=await Ee.storage.from("forum-images").upload(i,r,{contentType:"image/webp",upsert:!1});if(a)return console.error("Error uploading image:",a),(a.message.includes("bucket not found")||a.message.includes("The resource was not found"))&&(console.error('Please create a public bucket named "forum-images" in your Supabase project.'),alert('Error: "forum-images" bucket missing in Supabase.')),null;const{data:{publicUrl:l}}=Ee.storage.from("forum-images").getPublicUrl(i);return l}catch(r){return console.error("Image upload failed:",r),null}},Zse=t=>new Promise((e,r)=>{const n=new Image;n.onload=()=>{const o=document.createElement("canvas");let i=n.width,s=n.height;const a=1920;i>a&&(s=Math.round(s*a/i),i=a),o.width=i,o.height=s;const l=o.getContext("2d");if(!l){r(new Error("Canvas context not available"));return}l.drawImage(n,0,0,i,s),o.toBlob(p=>{p?e(p):r(new Error("Canvas to Blob failed"))},"image/webp",.8)},n.onerror=r,n.src=URL.createObjectURL(t)}),eae=({content:t,author:e,date:r,isOp:n=!1,postId:o,isAdmin:i=!1,onDelete:s,onQuote:a})=>{var m;const l=Yt(),p=y=>new Date(y).toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),h=(y=>{const v=y.split("").reduce((b,x)=>b+x.charCodeAt(0),0);return{lvl:v%20+1,xp:v*123%1e5,ac:10+v%10,hp:20+v%100,class:v%2===0?"Paladn":"Mago"}})((e==null?void 0:e.username)||"Invitado");return u.jsxs(St,{elevation:4,sx:{mb:3,bgcolor:n?q(l.palette.secondary.main,.05):q(l.palette.background.paper,.6),backdropFilter:"blur(10px)",border:n?`1px solid ${q(l.palette.secondary.main,.4)}`:`1px solid ${q(l.palette.common.white,.1)}`,borderRadius:2,overflow:"hidden",position:"relative",transition:"box-shadow 0.3s","&:hover":{boxShadow:`0 8px 24px ${q(l.palette.common.black,.5)}`}},children:[u.jsxs(L,{sx:{bgcolor:q(l.palette.background.paper,.8),p:1,px:2,display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:`1px solid ${q(l.palette.divider,.1)}`},children:[u.jsx($,{variant:"caption",sx:{fontFamily:"Cinzel, serif",color:"text.secondary",letterSpacing:1,fontWeight:"bold"},children:n?"INICIATIVA #1 (OP)":`PUBLICADO ${p(r).toUpperCase()}`}),u.jsxs(L,{children:[u.jsxs(pt,{size:"small",sx:{color:"text.secondary"},children:[" ",u.jsx(BS,{fontSize:"small"})," "]}),u.jsxs(pt,{size:"small",sx:{color:"text.secondary"},children:[" ",u.jsx(fK,{fontSize:"small"})," "]})]})]}),u.jsxs(L,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"}},children:[u.jsxs(L,{sx:{width:{xs:"100%",md:240},p:3,bgcolor:q(l.palette.background.default,.3),borderRight:{md:`1px solid ${q(l.palette.divider,.1)}`},borderBottom:{xs:`1px solid ${q(l.palette.divider,.1)}`,md:"none"},display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[u.jsxs(L,{sx:{position:"relative",mb:2},children:[u.jsx(ai,{src:(m=e==null?void 0:e.avatar_url)!=null&&m.includes("images/avatars/")?us:e==null?void 0:e.avatar_url,alt:e==null?void 0:e.username,variant:"rounded",sx:{width:96,height:96,borderRadius:2,border:`2px solid ${l.palette.secondary.main}`,boxShadow:`0 0 15px ${q(l.palette.secondary.main,.3)}`}}),u.jsx(Qr,{label:`Lvl ${h.lvl}`,size:"small",color:"secondary",sx:{position:"absolute",bottom:-10,left:"50%",transform:"translateX(-50%)",fontFamily:"Cinzel, serif",fontWeight:700,height:20}})]}),u.jsx($,{variant:"h6",sx:{fontFamily:"Cinzel, serif",fontWeight:700,color:"secondary.main",mb:.5},children:(e==null?void 0:e.username)||"Desconocido"}),u.jsx($,{variant:"caption",color:"text.secondary",gutterBottom:!0,sx:{fontStyle:"italic"},children:(e==null?void 0:e.title)||"Aventurero"}),u.jsxs(L,{sx:{mt:2,width:"100%",display:"grid",gridTemplateColumns:"1fr 1fr",gap:1,bgcolor:q(l.palette.background.paper,.3),p:1.5,borderRadius:1},children:[u.jsxs(L,{children:[u.jsx($,{variant:"caption",color:"text.secondary",display:"block",sx:{fontSize:"0.65rem"},children:"XP"}),u.jsx($,{variant:"body2",sx:{fontFamily:"Cinzel, serif"},children:h.xp})]}),u.jsxs(L,{children:[u.jsx($,{variant:"caption",color:"text.secondary",display:"block",sx:{fontSize:"0.65rem"},children:"AC"}),u.jsx($,{variant:"body2",sx:{fontFamily:"Cinzel, serif"},children:h.ac})]})]}),u.jsxs(L,{sx:{mt:2,display:"flex",alignItems:"center",gap:1},children:[u.jsx(L,{sx:{width:8,height:8,borderRadius:"50%",bgcolor:"success.main",boxShadow:"0 0 5px #4caf50"}}),u.jsx($,{variant:"caption",color:"text.secondary",children:"EN SESIN"})]})]}),u.jsxs(L,{sx:{flex:1,p:3,display:"flex",flexDirection:"column"},children:[u.jsx(Ll,{content:t,sx:{fontFamily:'"Newsreader", serif',fontSize:"1.1rem",lineHeight:1.7,mb:3,flex:1}}),u.jsxs(L,{sx:{display:"flex",justifyContent:"flex-end",gap:1,borderTop:`1px solid ${q(l.palette.divider,.1)}`,pt:2,mt:"auto"},children:[u.jsx(Ye,{startIcon:u.jsx(tI,{}),size:"small",color:"inherit",sx:{opacity:.7},onClick:()=>a&&a(t,(e==null?void 0:e.username)||"Desconocido"),children:"Citar"}),i&&o&&s&&u.jsx(Ye,{startIcon:u.jsx(ko,{}),size:"small",color:"error",onClick:()=>s(o),children:"Borrar"}),i&&o&&s&&u.jsx(Ye,{startIcon:u.jsx(ko,{}),size:"small",color:"error",onClick:()=>s(o),children:"Borrar"})]})]})]})]})},tae=({threadId:t,onBack:e,user:r,isAdmin:n=!1})=>{var _;const o=Yt(),[i,s]=S.useState(null),[a,l]=S.useState([]),[p,f]=S.useState(""),[h,m]=S.useState(!0),[y,v]=S.useState(!1),b=S.useRef(null);S.useEffect(()=>{C()},[t]);const x=async()=>{m(!0);try{const{data:I,error:P}=await Ee.from("forum_threads").select("*, author:profiles(username, avatar_url, title, faction)").eq("id",t).single();if(P)throw P;s(I);const{data:N,error:B}=await Ee.from("forum_posts").select("*, author:profiles(username, avatar_url, title, faction)").eq("thread_id",t).order("is_pinned",{ascending:!1}).order("created_at",{ascending:!0});if(B)throw B;l(N||[])}catch(I){console.error("Error fetching thread data:",I)}finally{m(!1)}},C=async()=>{await Ee.rpc("increment_thread_view",{thread_id:t})},E=async I=>{if(window.confirm("Ests seguro de que deseas borrar este mensaje? Esta accin no se puede deshacer."))try{const{error:P}=await Ee.from("forum_posts").delete().eq("id",I);if(P)throw P;l(N=>N.filter(B=>B.id!==I))}catch(P){console.error("Error deleting post:",P),alert("Error al borrar el mensaje.")}},j=async()=>{if(!(!p.trim()||!r)){v(!0);try{const{data:I,error:P}=await Ee.from("forum_posts").insert({thread_id:t,content:p,author_id:r.id}).select().single();if(P)throw P;const{data:N}=await Ee.from("forum_posts").select("*, author:profiles(username, avatar_url, title, faction)").eq("id",I.id).single();N&&(l([...a,N]),f(""),await Ee.from("forum_threads").update({updated_at:new Date().toISOString()}).eq("id",t),setTimeout(()=>{var B;(B=b.current)==null||B.scrollIntoView({behavior:"smooth"})},100))}catch(I){console.error("Error posting reply:",I),alert("Error al enviar la respuesta. Intntalo de nuevo.")}finally{v(!1)}}};S.useEffect(()=>{x();const I=Ee.channel(`thread:${t}`).on("postgres_changes",{event:"*",schema:"public",table:"forum_posts",filter:`thread_id=eq.${t}`},P=>{x()}).subscribe();return()=>{Ee.removeChannel(I)}},[t]);const T=(I,P)=>{const N=`<blockquote><strong>${P} escribi:</strong><br/>${I}</blockquote><p></p>`;f(B=>B+N)},k=async()=>{if(window.confirm("Ests seguro de que deseas borrar este hilo completo? Esta accin no se puede deshacer."))try{const{error:I}=await Ee.from("forum_threads").delete().eq("id",t);if(I)throw I;e()}catch(I){console.error("Error deleting thread:",I),alert("Error al borrar el hilo.")}},A=async I=>{if(i)try{const{error:P}=await Ee.from("forum_threads").update({is_pinned:I}).eq("id",t);if(P)throw P;s({...i,is_pinned:I})}catch(P){console.error("Error pinning thread:",P),alert("Error al fijar el hilo.")}};return h?u.jsx(L,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:u.jsx(Mn,{color:"secondary"})}):i?u.jsxs(fr,{maxWidth:"xl",sx:{mt:14,mb:10},children:[u.jsxs(L,{sx:{mb:4,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[u.jsx(Ye,{startIcon:u.jsx(rp,{}),onClick:e,sx:{color:"text.secondary"},children:"Volver a la Taberna"}),u.jsx($,{variant:"overline",color:"text.secondary",children:"Gua del Dungeon Master / Encuentros"}),n&&u.jsxs(L,{children:[u.jsx(Ye,{startIcon:u.jsx(X1,{}),color:i.is_pinned?"secondary":"inherit",onClick:()=>A(!i.is_pinned),sx:{mr:2},children:i.is_pinned?"Desfijar Hilo":"Fijar Hilo"}),u.jsx(Ye,{startIcon:u.jsx(ko,{}),color:"error",onClick:k,children:"Borrar Hilo"})]})]}),u.jsx($,{variant:"h3",sx:{fontFamily:"Cinzel, serif",fontWeight:800,color:"text.primary",mb:1,textShadow:`0 0 10px ${q(o.palette.secondary.main,.3)}`},children:i.title}),u.jsxs(L,{sx:{display:"flex",gap:2,mb:6,alignItems:"center"},children:[u.jsx(L,{sx:{width:12,height:12,borderRadius:"50%",bgcolor:"secondary.main"}}),u.jsxs($,{variant:"body2",color:"text.secondary",children:["Iniciado por"," ",u.jsx("span",{style:{color:o.palette.secondary.main},children:((_=i.author)==null?void 0:_.username)||"Desconocido"})," "," ",new Date(i.created_at).toLocaleDateString()]})]}),a.map((I,P)=>u.jsx(eae,{postId:I.id,content:I.content,author:I.author,date:I.created_at,isOp:P===0,isAdmin:n,onDelete:E,onQuote:T},I.id)),u.jsx("div",{ref:b}),r?u.jsxs(St,{sx:{p:0,mt:6,bgcolor:q(o.palette.background.paper,.3),backdropFilter:"blur(10px)",border:`1px solid ${q(o.palette.secondary.main,.2)}`,borderRadius:2,overflow:"hidden"},children:[u.jsx(L,{sx:{bgcolor:q(o.palette.background.paper,.8),p:1.5,px:3,borderBottom:`1px solid ${q(o.palette.divider,.1)}`},children:u.jsx($,{variant:"subtitle2",sx:{fontFamily:"Cinzel, serif",fontWeight:700,color:"text.secondary"},children:"ENVIAR MENSAJE"})}),u.jsxs(L,{sx:{p:3},children:[u.jsx(L,{sx:{mb:2},children:u.jsx(Ul,{content:p,onChange:f,placeholder:"Tira por Carisma... o simplemente escribe aqu...",onImageUpload:I=>GC(I,r.id)})}),u.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsx($,{variant:"caption",color:"text.secondary",children:"Runas dracnicas soportadas (Markdown)"}),u.jsx(Ye,{variant:"contained",color:"secondary",endIcon:y?u.jsx(Mn,{size:20,color:"inherit"}):u.jsx(W0,{}),onClick:j,disabled:y||!p.trim(),sx:{fontFamily:"Cinzel, serif",fontWeight:700,px:4},children:"Enviar"})]})]})]}):u.jsxs(St,{sx:{p:4,mt:6,textAlign:"center",bgcolor:q(o.palette.background.paper,.2),border:`1px dashed ${q(o.palette.text.secondary,.3)}`},children:[u.jsx($,{variant:"h6",fontFamily:"Cinzel, serif",gutterBottom:!0,color:"secondary",children:"Los Espritus Ancestrales Guardan Silencio"}),u.jsx($,{variant:"body1",color:"text.secondary",children:"Debes iniciar sesin para comunicarte con los espritus (publicar una respuesta)."})]})]}):null},rae=({categoryId:t,onCancel:e,onThreadCreated:r,user:n})=>{const o=Yt(),[i,s]=S.useState(""),[a,l]=S.useState(""),[p,f]=S.useState(!1),[h,m]=S.useState(null),y=async v=>{if(v.preventDefault(),!(!i.trim()||!a.trim())){f(!0),m(null);try{const{data:b,error:x}=await Ee.from("forum_threads").insert({category_id:t,author_id:n.id,title:i.trim(),view_count:0}).select().single();if(x)throw x;if(!b)throw new Error("No data returned from thread creation");const{error:C}=await Ee.from("forum_posts").insert({thread_id:b.id,author_id:n.id,content:a.trim()});if(C)throw C;r(b.id)}catch(b){console.error("Error creating thread:",b),m(b.message||"Error al crear el hilo.")}finally{f(!1)}}};return u.jsxs(fr,{maxWidth:"md",sx:{mt:14,mb:10},children:[u.jsxs(L,{sx:{mb:4},children:[u.jsx(Ye,{startIcon:u.jsx(rp,{}),onClick:e,sx:{mb:2,color:"text.secondary"},children:"Cancelar"}),u.jsx($,{variant:"h3",sx:{fontFamily:"Cinzel, serif",fontWeight:"bold",color:"secondary.main"},children:"Nuevo Pergamino"}),u.jsx($,{variant:"subtitle1",color:"text.secondary",children:"Inicia una nueva discusin en la Taberna."})]}),u.jsxs(St,{component:"form",onSubmit:y,sx:{p:4,bgcolor:q(o.palette.background.paper,.4),backdropFilter:"blur(8px)",border:`1px solid ${q(o.palette.common.white,.08)}`,borderRadius:2},children:[h&&u.jsx($,{color:"error",sx:{mb:3},children:h}),u.jsx(Ut,{label:"Ttulo del Hilo",fullWidth:!0,variant:"outlined",value:i,onChange:v=>s(v.target.value),required:!0,disabled:p,sx:{mb:4},inputProps:{maxLength:100},placeholder:"Ej: Busco grupo para campaa de Curse of Strahd"}),u.jsxs(L,{sx:{mb:4},children:[u.jsx($,{variant:"caption",sx:{mb:1,display:"block",color:"text.secondary"},children:"Contenido"}),u.jsx(Ul,{content:a,onChange:l,placeholder:"Escribe aqu tu mensaje... (Soporta Markdown, Dados, Spoilers)",onImageUpload:v=>GC(v,n.id)})]}),u.jsx(L,{sx:{display:"flex",justifyContent:"flex-end"},children:u.jsx(Ye,{type:"submit",variant:"contained",color:"secondary",size:"large",disabled:p||!i.trim()||!a.trim(),startIcon:p?u.jsx(Mn,{size:20,color:"inherit"}):u.jsx(W0,{}),children:"Publicar"})})]})]})},nae=({post:t,onBack:e,currentUser:r,onManage:n,isAdmin:o,onDelete:i})=>{var b,x,C;const[s,a]=S.useState(""),[l,p]=S.useState(!1),[f,h]=S.useState({open:!1,message:"",severity:"success"});S.useEffect(()=>{m()},[t.id,r]);const m=async()=>{if(!r)return;const{data:E,error:j}=await Ee.from("lfg_applications").select("id").eq("post_id",t.id).eq("applicant_id",r.id).maybeSingle();E&&p(!0)},y=async()=>{var j,T,k,A;if(!r){h({open:!0,message:"Debes iniciar sesin para postularte.",severity:"error"});return}const{error:E}=await Ee.from("lfg_applications").insert([{post_id:t.id,applicant_id:r.id,message:s,status:"pending"}]);if(E){if(E.code==="23505"){h({open:!0,message:"Ya te has postulado a esta misin!",severity:"info"}),p(!0);return}if(E.code==="23503"){console.warn("Profile missing for user, attempting to create...");const{error:_}=await Ee.from("profiles").insert({id:r.id,username:((j=r.user_metadata)==null?void 0:j.full_name)||((T=r.email)==null?void 0:T.split("@")[0])||"Aventurero",full_name:((k=r.user_metadata)==null?void 0:k.full_name)||"Desconocido",avatar_url:((A=r.user_metadata)==null?void 0:A.avatar_url)||us});if(_){console.error("Failed to create missing profile:",_),h({open:!0,message:"Error: No se pudo crear tu perfil de aventurero. Contacta con soporte.",severity:"error"});return}const{error:I}=await Ee.from("lfg_applications").insert([{post_id:t.id,applicant_id:r.id,message:s,status:"pending"}]);if(I){if(I.code==="23505"){h({open:!0,message:"Postulacin enviada exitosamente!",severity:"success"}),p(!0);return}console.error("Error applying after profile creation:",I),h({open:!0,message:"Error al postularte: "+I.message,severity:"error"})}else h({open:!0,message:"Postulacin enviada exitosamente! (Perfil creado)",severity:"success"}),p(!0);return}console.error("Error applying:",E),h({open:!0,message:"Error al postularte: "+E.message,severity:"error"})}else h({open:!0,message:"Postulacin enviada exitosamente!",severity:"success"}),p(!0)},v=(r==null?void 0:r.id)===t.gm_id;return u.jsxs(L,{sx:{color:"#3e2723",p:4},children:[u.jsxs(L,{sx:{p:2},children:[u.jsx($,{variant:"h3",sx:{fontFamily:"Cinzel, serif",fontWeight:800,mb:1,color:"#c5a059",textShadow:"0 2px 10px rgba(197, 160, 89, 0.3)",letterSpacing:"0.02em",textTransform:"uppercase"},children:t.game_name}),u.jsxs(L,{sx:{display:"flex",gap:2,mb:4,flexWrap:"wrap",alignItems:"center"},children:[u.jsx(Qr,{label:t.system,sx:{bgcolor:"#2d2d2d",color:"#ffecb3",fontFamily:"Cinzel, serif",fontWeight:600,border:"1px solid #5d4037",boxShadow:"0 2px 4px rgba(0,0,0,0.5)",borderRadius:"4px",height:"32px","& .MuiChip-label":{px:2}}}),u.jsx(Qr,{label:t.modality,variant:"outlined",sx:{borderColor:"#c5a059",color:"#c5a059",fontFamily:"Cinzel, serif",fontWeight:"bold",bgcolor:"rgba(0, 0, 0, 0.2)",borderRadius:"4px",height:"32px",boxShadow:"inset 0 0 5px rgba(0,0,0,0.5)"}}),u.jsxs($,{variant:"subtitle1",sx:{fontWeight:600,color:"#9e9e9e",fontFamily:"Cinzel, serif",display:"flex",alignItems:"center",gap:1},children:[u.jsx("span",{style:{color:"#c5a059"},children:""})," ",t.date," @"," ",t.time]})]}),u.jsxs(_e,{container:!0,spacing:4,children:[u.jsxs(_e,{size:{xs:12,md:8},children:[u.jsxs(L,{sx:{mb:2},children:[u.jsx($,{variant:"h6",sx:{fontFamily:"Cinzel, serif",fontWeight:700,color:"#c5a059",letterSpacing:"0.1em",borderBottom:"1px solid rgba(197, 160, 89, 0.3)",pb:.5,mb:2,display:"inline-block"},children:"Sinopsis"}),u.jsx(Ll,{content:t.synopsis,sx:{fontFamily:'"Newsreader", serif',fontSize:"1.15rem",lineHeight:1.8,mb:4,color:"#e0e0e0",fontWeight:400,textShadow:"0 1px 2px rgba(0,0,0,0.5)"}})]}),u.jsxs(L,{sx:{mb:4},children:[u.jsx($,{variant:"h6",sx:{fontFamily:"Cinzel, serif",fontWeight:700,color:"#c5a059",letterSpacing:"0.1em",borderBottom:"1px solid rgba(197, 160, 89, 0.3)",pb:.5,mb:2,display:"inline-block"},children:"Etiquetas"}),u.jsx(L,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:(b=t.tags)==null?void 0:b.map(E=>u.jsx(Qr,{label:E,size:"small",sx:{bgcolor:"rgba(197, 160, 89, 0.05)",color:"#c5a059",fontWeight:600,border:"1px solid rgba(197, 160, 89, 0.3)",borderRadius:"0px",transform:"skew(-10deg)","& .MuiChip-label":{transform:"skew(10deg)"}}},E))})]})]}),u.jsx(_e,{size:{xs:12,md:4},children:u.jsxs(St,{elevation:0,sx:{p:3,bgcolor:"rgba(0, 0, 0, 0.2)",boxShadow:"inset 0 0 20px rgba(0,0,0,0.8)",border:"1px solid rgba(255, 255, 255, 0.05)",color:"#e0e0e0",position:"relative"},children:[u.jsx(L,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"2px",background:"linear-gradient(90deg, transparent, #c5a059, transparent)",opacity:.5}}),u.jsx($,{variant:"h6",sx:{fontFamily:"Cinzel, serif",mb:2,align:"center",color:"#c5a059",letterSpacing:"0.1em"},children:"Director de Juego"}),u.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[u.jsx(ai,{src:(x=t.gm_profile)==null?void 0:x.avatar_url,sx:{width:64,height:64,border:"2px solid #c5a059",boxShadow:"0 0 10px rgba(197, 160, 89, 0.2)"}}),u.jsxs(L,{children:[u.jsx($,{variant:"h6",sx:{color:"#ffecb3",fontFamily:"Cinzel, serif"},children:((C=t.gm_profile)==null?void 0:C.username)||"Desconocido"}),u.jsx($,{variant:"caption",sx:{color:"#9e9e9e"},children:"Gran Narrador"})]})]}),u.jsx(L,{sx:{height:"1px",background:"linear-gradient(90deg, transparent, #c5a059, transparent)",my:2,opacity:.3}}),u.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",mb:1,color:"#e0e0e0"},children:[u.jsx($,{sx:{fontFamily:"Cinzel, serif"},children:"Plazas:"}),u.jsxs($,{fontWeight:"bold",sx:{color:"#c5a059",fontFamily:"Cinzel, serif"},children:[t.slots_taken," / ",t.slots_total]})]}),u.jsx(L,{sx:{width:"100%",height:"4px",bgcolor:"rgba(255,255,255,0.1)",borderRadius:"2px",mb:2,overflow:"hidden"},children:u.jsx(L,{sx:{width:`${Math.min(t.slots_taken/t.slots_total*100,100)}%`,height:"100%",bgcolor:"#c5a059",boxShadow:"0 0 5px #c5a059"}})}),u.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",mb:2,color:"#e0e0e0"},children:[u.jsx($,{sx:{fontFamily:"Cinzel, serif"},children:"Plataforma:"}),u.jsx($,{fontWeight:"bold",sx:{color:"#ffecb3",fontFamily:"Cinzel, serif"},children:t.platform})]}),u.jsx(L,{sx:{height:"1px",background:"linear-gradient(90deg, transparent, #c5a059, transparent)",my:2,opacity:.3}}),v?u.jsx(Ye,{variant:"contained",fullWidth:!0,startIcon:u.jsx(zd,{}),sx:{bgcolor:"#c5a059",color:"#000",fontWeight:"bold",fontFamily:"Cinzel, serif",borderRadius:"2px",boxShadow:"0 0 10px rgba(197, 160, 89, 0.3)","&:hover":{bgcolor:"#b38f42",boxShadow:"0 0 15px rgba(197, 160, 89, 0.5)"}},onClick:()=>{n&&n()},children:"Gestionar Postulaciones"}):null,o&&i&&u.jsx(Ye,{variant:"outlined",fullWidth:!0,color:"error",onClick:i,sx:{mt:2,fontFamily:"Cinzel, serif",fontWeight:"bold",borderColor:"#c62828",color:"#c62828","&:hover":{bgcolor:"rgba(198, 40, 40, 0.1)",borderColor:"#b71c1c",color:"#b71c1c"}},children:"Eliminar Misin (Admin)"}),v?null:l?u.jsx(Ye,{variant:"contained",fullWidth:!0,disabled:!0,sx:{bgcolor:"rgba(255, 255, 255, 0.05) !important",color:"#9e9e9e !important",border:"1px solid #5d4037",fontFamily:"Cinzel, serif"},children:"Postulacin Pendiente"}):u.jsxs(L,{children:[u.jsx($,{variant:"body2",sx:{mb:1,color:"#c5a059",fontFamily:"Cinzel, serif"},children:"Mensaje al vaco:"}),u.jsx(Ul,{content:s,onChange:a,placeholder:"Escribe tu mensaje al director..."}),u.jsx(Ye,{variant:"contained",fullWidth:!0,startIcon:u.jsx(W0,{}),onClick:y,sx:{background:"linear-gradient(45deg, #8d6e63 30%, #5d4037 90%)",color:"#ffecb3",fontWeight:"bold",fontFamily:"Cinzel, serif",border:"1px solid #5d4037","&:hover":{background:"linear-gradient(45deg, #a1887f 30%, #6d4c41 90%)",boxShadow:"0 0 10px rgba(141, 110, 99, 0.5)"}},children:"Enviar Postulacin"})]})]})})]})]}),u.jsx(z0,{open:f.open,autoHideDuration:6e3,onClose:()=>h({...f,open:!1}),children:u.jsx(ya,{onClose:()=>h({...f,open:!1}),severity:f.severity,sx:{width:"100%"},children:f.message})})]})},oae=({post:t,onBack:e,currentUser:r,onUpdate:n,isAdmin:o})=>{var k,A;const[i,s]=S.useState([]),[a,l]=S.useState(null),[p,f]=S.useState([]),[h,m]=S.useState("");S.useEffect(()=>{y()},[t.id]),S.useEffect(()=>{if(a){v(a.id);const _=Ee.channel(`chat:${a.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"lfg_chat_messages",filter:`application_id=eq.${a.id}`},I=>{const P=I.new;f(N=>N.some(B=>B.id===P.id)?N:[...N,P])}).subscribe();return()=>{Ee.removeChannel(_)}}},[a]);const y=async()=>{const{data:_,error:I}=await Ee.from("lfg_applications").select("*, applicant_profile:profiles(*)").eq("post_id",t.id);I?console.error("Error fetching applications:",I):(s(_),_&&_.length>0&&!a&&l(_[0]))},v=async _=>{const{data:I,error:P}=await Ee.from("lfg_chat_messages").select("*, sender_profile:profiles(*)").eq("application_id",_).order("created_at",{ascending:!0});P?console.error("Error fetching messages:",P):f(I)},b=async()=>{if(!h.trim()||!a)return;const{data:_,error:I}=await Ee.from("lfg_chat_messages").insert([{application_id:a.id,sender_id:r.id,content:h}]).select().single();!I&&_&&(m(""),f(P=>[...P,_]))},x=async _=>{if(!window.confirm("Ests seguro de que deseas eliminar esta postulacin? Esta accin no se puede deshacer."))return;const{error:I}=await Ee.from("lfg_applications").delete().eq("id",_);I?(console.error("Error deleting application:",I),alert("Error al eliminar la postulacin")):(s(P=>P.filter(N=>N.id!==_)),(a==null?void 0:a.id)===_&&l(null),n==null||n())},C=async _=>{if(!window.confirm("Ests seguro de que deseas eliminar este mensaje? Esta accin no se puede deshacer."))return;const{error:I}=await Ee.from("lfg_chat_messages").delete().eq("id",_);I?(console.error("Error deleting message:",I),alert("Error al eliminar el mensaje")):f(P=>P.filter(N=>N.id!==_))},E=async _=>{if(!a)return;const{error:I}=await Ee.from("lfg_applications").update({status:_}).eq("id",a.id);I||(s(P=>P.map(N=>N.id===a.id?{...N,status:_}:N)),l({...a,status:_}),n==null||n())},j=Gt.useRef(null),T=()=>{var _;(_=j.current)==null||_.scrollIntoView({behavior:"smooth",block:"nearest"})};return S.useEffect(()=>{T()},[p]),u.jsxs(L,{sx:{color:"#e0e0e0",p:0,height:"80vh",display:"flex",flexDirection:"column"},children:[e&&u.jsx(Ye,{startIcon:u.jsx(rp,{}),onClick:e,sx:{mb:2,color:"#c5a059",alignSelf:"flex-start",ml:2,mt:2},children:"Volver a la Publicacin"}),u.jsxs(_e,{container:!0,spacing:0,sx:{flexGrow:1,height:"100%",overflow:"hidden"},children:[u.jsxs(_e,{size:{xs:12,md:4},sx:{height:"100%",borderRight:"2px solid #5d4037",position:"relative"},children:[u.jsx(L,{sx:{position:"absolute",right:0,top:0,bottom:0,width:"1px",boxShadow:"0 0 10px rgba(0,0,0,0.8)",zIndex:1}}),u.jsxs(St,{square:!0,elevation:0,sx:{p:2,bgcolor:"rgba(0,0,0,0.4)",height:"100%",color:"#e0e0e0",overflowY:"auto","&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{bgcolor:"rgba(0,0,0,0.2)"},"&::-webkit-scrollbar-thumb":{bgcolor:"#5d4037",borderRadius:"3px"}},children:[u.jsxs($,{variant:"h6",sx:{mb:2,fontFamily:"Cinzel, serif",color:"#c5a059",fontWeight:"bold",borderBottom:"1px solid rgba(197, 160, 89, 0.3)",pb:1,letterSpacing:"0.05em"},children:["Postulaciones (",i.length,")"]}),u.jsx(Ni,{sx:{p:0},children:i.map(_=>{var I,P;return u.jsxs(bo,{selected:(a==null?void 0:a.id)===_.id,onClick:()=>l(_),sx:{mb:1,transition:"all 0.2s",borderLeft:(a==null?void 0:a.id)===_.id?"3px solid #c5a059":"3px solid transparent",background:(a==null?void 0:a.id)===_.id?"linear-gradient(90deg, rgba(197, 160, 89, 0.2), transparent)":"transparent","&:hover":{bgcolor:"rgba(255,255,255,0.05)",borderLeft:"3px solid rgba(197, 160, 89, 0.5)"}},children:[u.jsx(OU,{children:u.jsx(ai,{src:(I=_.applicant_profile)==null?void 0:I.avatar_url,sx:{border:"1px solid #c5a059",boxShadow:"0 0 5px rgba(0,0,0,0.5)"}})}),u.jsx(jn,{primary:((P=_.applicant_profile)==null?void 0:P.username)||"Desconocido",secondaryTypographyProps:{component:"div"},secondary:u.jsx(Qr,{label:_.status,size:"small",sx:{mt:.5,height:20,fontSize:"0.65rem",fontWeight:"bold",textTransform:"uppercase",bgcolor:_.status==="approved"?"rgba(46, 125, 50, 0.2)":_.status==="rejected"?"rgba(211, 47, 47, 0.2)":"rgba(255,255,255,0.05)",color:_.status==="approved"?"#81c784":_.status==="rejected"?"#e57373":"#bdbdbd",border:_.status==="approved"?"1px solid #2e7d32":_.status==="rejected"?"1px solid #c62828":"1px solid #424242"}}),primaryTypographyProps:{style:{color:"#ffecb3",fontWeight:"bold",fontFamily:"Cinzel, serif"}}}),(o||(r==null?void 0:r.id)===t.gm_id)&&u.jsx(pt,{size:"small",onClick:N=>{N.stopPropagation(),x(_.id)},sx:{color:"#c62828",ml:1,"&:hover":{bgcolor:"rgba(198, 40, 40, 0.1)"}},children:u.jsx($,{variant:"caption",sx:{fontSize:14,fontWeight:"bold"},children:""})})]},_.id)})})]})]}),u.jsx(_e,{size:{xs:12,md:8},sx:{height:"100%"},children:u.jsx(St,{square:!0,elevation:0,sx:{p:0,height:"100%",display:"flex",flexDirection:"column",bgcolor:"transparent",backgroundImage:"none"},children:a?u.jsxs(u.Fragment,{children:[u.jsxs(L,{sx:{p:2,borderBottom:"1px solid #5d4037",display:"flex",justifyContent:"space-between",alignItems:"center",bgcolor:"rgba(0,0,0,0.2)",boxShadow:"0 2px 10px rgba(0,0,0,0.3)",zIndex:2},children:[u.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:2},children:[u.jsx(ai,{src:(k=a.applicant_profile)==null?void 0:k.avatar_url,sx:{border:"2px solid #c5a059"}}),u.jsxs(L,{children:[u.jsx($,{variant:"h6",sx:{color:"#c5a059",fontFamily:"Cinzel, serif",lineHeight:1},children:(A=a.applicant_profile)==null?void 0:A.username}),u.jsx($,{variant:"caption",sx:{color:"#9e9e9e"},children:"Postulante"})]})]}),u.jsxs(L,{children:[u.jsx(Ye,{variant:"contained",color:"success",startIcon:u.jsx(GM,{}),onClick:()=>E("approved"),disabled:a.status==="approved",sx:{mr:1,fontWeight:"bold",fontFamily:"Cinzel, serif",bgcolor:"#2e7d32","&:hover":{bgcolor:"#1b5e20"}},children:"Aprobar"}),u.jsx(Ye,{variant:"contained",color:"error",startIcon:u.jsx(qM,{}),onClick:()=>E("rejected"),disabled:a.status==="rejected",sx:{fontWeight:"bold",fontFamily:"Cinzel, serif",bgcolor:"#c62828","&:hover":{bgcolor:"#b71c1c"}},children:"Rechazar"})]})]}),u.jsxs(L,{sx:{p:2,bgcolor:"rgba(0,0,0,0.2)",borderBottom:"1px solid #5d4037",boxShadow:"inset 0 0 10px rgba(0,0,0,0.5)"},children:[u.jsx($,{variant:"caption",sx:{color:"#c5a059",fontFamily:"Cinzel, serif",letterSpacing:"0.05em"},children:"PERGAMINO ORIGINAL:"}),u.jsx(Ll,{content:`"${a.message}"`,sx:{mt:.5,fontStyle:"italic",color:"#bdbdbd",fontFamily:'"Newsreader", serif'}})]}),u.jsxs(L,{sx:{flexGrow:1,p:2,overflowY:"auto",bgcolor:"rgba(0,0,0,0.1)","&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-track":{bgcolor:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-thumb":{bgcolor:"#5d4037",borderRadius:"4px",border:"1px solid #2d2d2d"}},children:[p.map(_=>{const I=_.sender_id===r.id;return u.jsx(L,{sx:{display:"flex",justifyContent:I?"flex-end":"flex-start",mb:2},children:u.jsxs(L,{sx:{bgcolor:I?"#3e2723":"#1a1a1a",p:2,borderRadius:I?"12px 12px 0 12px":"12px 12px 12px 0",maxWidth:"70%",border:I?"1px solid #c5a059":"1px solid #5d4037",boxShadow:"0 2px 5px rgba(0,0,0,0.5)",position:"relative"},children:[o&&u.jsx(pt,{size:"small",onClick:()=>C(_.id),sx:{position:"absolute",top:-8,right:-8,bgcolor:"rgba(198, 40, 40, 0.9)",color:"white",width:20,height:20,"&:hover":{bgcolor:"#b71c1c"}},children:u.jsx($,{variant:"caption",sx:{fontSize:14,fontWeight:"bold"},children:""})}),u.jsx(Ll,{content:_.content,sx:{color:"#e0e0e0",fontSize:"0.95rem"}}),u.jsx($,{variant:"caption",sx:{display:"block",mt:.5,textAlign:"right",color:"rgba(255,255,255,0.4)",fontSize:"0.7rem"},children:new Date(_.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},_.id)}),u.jsx("div",{ref:j})]}),u.jsxs(L,{sx:{p:2,borderTop:"1px solid #5d4037",display:"flex",gap:1,bgcolor:"rgba(0,0,0,0.3)",zIndex:2,boxShadow:"0 -2px 10px rgba(0,0,0,0.3)"},children:[u.jsx(Ul,{content:h,onChange:m,placeholder:"Escribe un mensaje..."}),u.jsx(pt,{onClick:b,sx:{color:"#c5a059",bgcolor:"rgba(197, 160, 89, 0.1)",border:"1px solid rgba(197, 160, 89, 0.3)","&:hover":{bgcolor:"rgba(197, 160, 89, 0.2)",boxShadow:"0 0 10px rgba(197, 160, 89, 0.3)",transform:"scale(1.05)"},transition:"all 0.2s"},children:u.jsx(W0,{})})]})]}):u.jsxs(L,{sx:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"#5d4037",flexDirection:"column",gap:2,opacity:.7},children:[u.jsx(tK,{sx:{fontSize:60,opacity:.5}}),u.jsx($,{sx:{fontFamily:"Cinzel, serif",fontSize:"1.2rem"},children:"Selecciona un pergamino para leer..."})]})})})]})]})},iae=()=>{const[t,e]=S.useState(!1),[r,n]=S.useState(!0);S.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:{user:i}}=await Ee.auth.getUser();if(!i){e(!1),n(!1);return}const{data:s,error:a}=await Ee.from("admin_users").select("user_id").eq("user_id",i.id).maybeSingle();e(!!s)}catch(i){console.error("Error checking admin status:",i),e(!1)}finally{n(!1)}};return{isAdmin:t,loading:r}},T5=["D&D 5e","Pathfinder 2e","Call of Cthulhu","Vampire: The Masquerade","Warhammer 40k","Cyberpunk RED","Other"],j5=["Campaign","One-Shot","West Marches","Historias Cortas"],sae=["Amigable para Principiantes","Enfoque en el Roleplay","Enfoque en el Combate","Enfoque en la Exploracin","18+","Horror","Sandbox","Modulo","Homebrew"],Kw="https://ydcbptnxlslljccwedwi.supabase.co/storage/v1/object/public/assets",aae={woodDark:`linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url("${Kw}/textures/wood-pattern.png"), #3e2723`},lae=({onBack:t})=>{Yt();const[e,r]=S.useState({gameName:"",system:"",modality:"",date:"",time:"",synopsis:"",slots:4,platform:""}),[n,o]=S.useState([]),[i,s]=S.useState([]),[a,l]=S.useState(null),[p,f]=S.useState(null),[h,m]=S.useState("board"),[y,v]=S.useState({open:!1,message:"",severity:"info"}),{isAdmin:b}=iae(),x=async D=>{if(window.confirm("Ests seguro de que deseas eliminar este contrato? Esta accin no se puede deshacer."))try{const{error:F}=await Ee.from("lfg_posts").delete().eq("id",D);if(F)throw F;s(U=>U.filter(V=>V.id!==D)),v({open:!0,message:"Contrato eliminado correctamente.",severity:"success"}),(p==null?void 0:p.id)===D&&O()}catch(F){console.error("Error deleting post:",F),v({open:!0,message:"Error al eliminar el contrato.",severity:"error"})}};S.useEffect(()=>{E(),C()},[]);const C=async()=>{const{data:{user:D}}=await Ee.auth.getUser();l(D)},E=async()=>{const{data:D,error:F}=await Ee.from("lfg_posts").select("*, gm_profile:profiles(*)").order("created_at",{ascending:!1});F?console.error("Error fetching posts:",F):s(D)},[j,T]=S.useState(""),[k,A]=S.useState("Todos"),[_,I]=S.useState("Todos"),P=i.filter(D=>{var G;const F=D.game_name.toLowerCase().includes(j.toLowerCase())||D.synopsis&&D.synopsis.toLowerCase().includes(j.toLowerCase())||((G=D.gm_profile)==null?void 0:G.username)&&D.gm_profile.username.toLowerCase().includes(j.toLowerCase()),U=k==="Todos"||D.system===k,V=_==="Todos"||D.modality===_;return F&&U&&V}),N=D=>{o(F=>F.includes(D)?F.filter(U=>U!==D):[...F,D])},B=async()=>{if(!a){v({open:!0,message:"Debes iniciar sesin para publicar un contrato.",severity:"error"});return}if(!e.gameName||!e.system||!e.modality||!e.date||!e.time){v({open:!0,message:"Por favor, completa todos los campos obligatorios.",severity:"error"});return}const{error:D}=await Ee.from("lfg_posts").insert([{gm_id:a.id,game_name:e.gameName,system:e.system,modality:e.modality,date:e.date,time:e.time,synopsis:e.synopsis,tags:n,slots_total:e.slots,slots_taken:0,platform:e.platform||"TBD"}]);D?(console.error("Error creating post:",D),v({open:!0,message:"Error al crear la publicacin: "+D.message,severity:"error"})):(v({open:!0,message:"Contrato publicado exitosamente!",severity:"success"}),E(),r({gameName:"",system:"",modality:"",date:"",time:"",synopsis:"",slots:4,platform:""}),o([]))},O=()=>{f(null),m("board")};return u.jsxs(fr,{maxWidth:"xl",sx:{mt:14,mb:10},children:[u.jsx(hd,{open:!!p,onClose:O,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{background:`
              linear-gradient(rgba(20, 20, 20, 0.9), rgba(20, 20, 20, 0.9)),
              radial-gradient(circle at 50% 50%, #4a3b32 0%, #1a1a1a 100%)
            `,border:"1px solid #c5a059",borderRadius:"4px",boxShadow:`
              0 0 0 4px #0f0f0f,  /* Inner dark band */
              0 0 0 6px #5d4037,  /* Outer leather/wood rim */
              0 0 15px 6px rgba(0, 0, 0, 0.8), /* Deep drop shadow */
              0 0 30px rgba(197, 160, 89, 0.1) /* Faint magical glow */
            `,p:0,overflow:"hidden",color:"#e0e0e0",position:"relative","&::before":{content:'""',position:"absolute",inset:0,border:"1px solid rgba(197, 160, 89, 0.3)",margin:"4px",pointerEvents:"none"}}},sx:{"& .MuiDialog-paper":{margin:{xs:2,md:4},overflow:"visible"},"& .MuiBackdrop-root":{backdropFilter:"blur(5px)",backgroundColor:"rgba(0, 0, 0, 0.7)"}},children:u.jsxs(L,{sx:{position:"relative",height:"80vh",overflowY:"auto"},children:[p&&h==="details"&&u.jsx(nae,{post:p,onBack:O,currentUser:a,onManage:()=>m("management"),isAdmin:b,onDelete:()=>x(p.id)}),p&&h==="management"&&u.jsx(oae,{post:p,onBack:()=>m("details"),currentUser:a,isAdmin:b,onUpdate:()=>{Ee.from("lfg_posts").select("*, gm_profile:profiles(*)").eq("id",p.id).single().then(({data:D})=>{D&&f(D),E()})}}),u.jsx(pt,{onClick:O,sx:{position:"absolute",top:16,right:16,bgcolor:"rgba(93, 64, 55, 0.8)",color:"#ffecb3","&:hover":{bgcolor:"#3e2723"},zIndex:10},children:u.jsx(Ii,{})})]})}),u.jsxs(L,{sx:{p:4,background:aae.woodDark,borderRadius:2,boxShadow:"0 10px 30px rgba(0,0,0,0.8), inset 0 0 60px rgba(0,0,0,0.9)",border:"4px solid #5d4037",position:"relative"},children:[[].map((D,F)=>u.jsx(L,{sx:{position:"absolute",width:20,height:20,bgcolor:"#c5a059",borderRadius:"50%",boxShadow:"inset -2px -2px 4px rgba(0,0,0,0.5), 2px 2px 4px rgba(0,0,0,0.5)",border:"2px solid #5d4037",zIndex:2,...D}},F)),u.jsxs(L,{sx:{mb:6,textAlign:"center",position:"relative",zIndex:1},children:[u.jsx($,{variant:"h2",sx:{fontFamily:"Cinzel, serif",fontWeight:800,color:"#ffecb3",textShadow:"0 2px 4px rgba(0,0,0,0.9), 0 0 10px rgba(197, 160, 89, 0.5)",letterSpacing:4,mb:1,textTransform:"uppercase"},children:"Tabln de Misiones"}),u.jsx($,{variant:"h6",sx:{fontFamily:'"Newsreader", serif',color:"#d7ccc8",fontStyle:"italic",maxWidth:600,mx:"auto",textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:'"Se buscan hroes. La oscuridad se alza. Responde al llamado."'}),u.jsx(Ye,{onClick:t,sx:{mt:2,color:"#c5a059",textTransform:"none","&:hover":{color:"#ffecb3",bgcolor:"rgba(197, 160, 89, 0.1)"}},children:" Volver a la Taberna"})]}),u.jsxs(_e,{container:!0,spacing:4,children:[u.jsx(_e,{size:{xs:12,md:4,lg:3},children:u.jsxs(St,{elevation:12,sx:{p:3,background:"linear-gradient(to bottom, #2d2d2d, #1a1a1a)",border:"2px solid #c5a059",borderRadius:1,position:"sticky",top:100,boxShadow:"0 8px 16px rgba(0,0,0,0.6)"},children:[u.jsx(L,{sx:{textAlign:"center",mb:3,borderBottom:"1px solid #c5a059",pb:2},children:u.jsx($,{variant:"h5",sx:{fontFamily:"Cinzel, serif",fontWeight:700,color:"#c5a059",letterSpacing:1},children:"ESCRIBIR UNA MISIN"})}),u.jsxs(L,{component:"form",sx:{display:"flex",flexDirection:"column",gap:2.5},children:[u.jsx(Ut,{label:"Ttulo de la Misin",variant:"filled",fullWidth:!0,size:"small",value:e.gameName,onChange:D=>r({...e,gameName:D.target.value}),placeholder:"Nombra tu aventura...",sx:{bgcolor:"rgba(0,0,0,0.3)",input:{color:"#e0e0e0"},label:{color:"#9e9e9e"},"& .MuiFilledInput-root":{"&:before":{borderBottomColor:"#5d4037"}}}}),u.jsxs(_e,{container:!0,spacing:2,children:[u.jsx(_e,{size:{xs:6},children:u.jsxs(rs,{fullWidth:!0,size:"small",variant:"filled",sx:{bgcolor:"rgba(0,0,0,0.3)"},children:[u.jsx(pf,{sx:{color:"#9e9e9e"},children:"Sistema"}),u.jsx(ns,{value:e.system,onChange:D=>r({...e,system:D.target.value}),sx:{color:"#e0e0e0"},children:T5.map(D=>u.jsx(Dr,{value:D,children:D},D))})]})}),u.jsx(_e,{size:{xs:6},children:u.jsxs(rs,{fullWidth:!0,size:"small",variant:"filled",sx:{bgcolor:"rgba(0,0,0,0.3)"},children:[u.jsx(pf,{sx:{color:"#9e9e9e"},children:"Modalidad"}),u.jsx(ns,{value:e.modality,onChange:D=>r({...e,modality:D.target.value}),sx:{color:"#e0e0e0"},children:j5.map(D=>u.jsx(Dr,{value:D,children:D},D))})]})})]}),u.jsxs(_e,{container:!0,spacing:2,children:[u.jsx(_e,{size:{xs:7},children:u.jsx(Ut,{type:"date",label:"Fecha",InputLabelProps:{shrink:!0,sx:{color:"#9e9e9e"}},fullWidth:!0,size:"small",variant:"filled",value:e.date,onChange:D=>r({...e,date:D.target.value}),sx:{bgcolor:"rgba(0,0,0,0.3)",input:{color:"#e0e0e0"}}})}),u.jsx(_e,{size:{xs:5},children:u.jsx(Ut,{type:"time",label:"Hora",InputLabelProps:{shrink:!0,sx:{color:"#9e9e9e"}},fullWidth:!0,size:"small",variant:"filled",value:e.time,onChange:D=>r({...e,time:D.target.value}),sx:{bgcolor:"rgba(0,0,0,0.3)",input:{color:"#e0e0e0"}}})})]}),u.jsxs(L,{sx:{mb:2},children:[u.jsx($,{variant:"caption",sx:{mb:1,display:"block",color:"#c5a059",fontWeight:"bold"},children:"SINOPSIS"}),u.jsx(Ul,{content:e.synopsis,onChange:D=>r({...e,synopsis:D}),placeholder:"Detalles del contrato..."})]}),u.jsx(Ut,{label:"Plataforma / VTT",variant:"filled",fullWidth:!0,size:"small",value:e.platform,onChange:D=>r({...e,platform:D.target.value}),sx:{bgcolor:"rgba(0,0,0,0.3)",input:{color:"#e0e0e0"},label:{color:"#9e9e9e"}}}),u.jsxs(L,{children:[u.jsx($,{variant:"caption",sx:{mb:1,display:"block",color:"#c5a059",fontWeight:"bold"},children:"ETIQUETAS"}),u.jsx(L,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:sae.map(D=>u.jsx(Qr,{label:D,size:"small",onClick:()=>N(D),clickable:!0,sx:{fontSize:"0.7rem",bgcolor:n.includes(D)?"#c5a059":"rgba(255,255,255,0.1)",color:n.includes(D)?"#000":"#e0e0e0","&:hover":{bgcolor:n.includes(D)?"#bcaaa4":"rgba(255,255,255,0.2)"}}},D))})]}),u.jsxs(L,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[u.jsx($,{variant:"body2",sx:{color:"#c5a059"},children:"Tamao del Grupo:"}),u.jsx(Ut,{type:"number",size:"small",variant:"filled",sx:{width:80,bgcolor:"rgba(0,0,0,0.3)",input:{color:"#e0e0e0"}},value:e.slots,onChange:D=>r({...e,slots:parseInt(D.target.value)}),inputProps:{min:1,max:10}})]}),u.jsx(Ye,{variant:"contained",size:"large",fullWidth:!0,onClick:B,startIcon:u.jsx(tp,{}),sx:{fontFamily:"Cinzel, serif",fontWeight:700,mt:2,background:"linear-gradient(to bottom, #c5a059, #8d6e63)",color:"#3e2723",border:"1px solid #5d4037","&:hover":{background:"linear-gradient(to bottom, #d7ccc8, #a1887f)"}},children:"PUBLICAR CONTRATO"})]})]})}),u.jsxs(_e,{size:{xs:12,md:8,lg:9},children:[u.jsxs(St,{sx:{p:2,mb:4,display:"flex",flexWrap:"wrap",gap:2,alignItems:"center",background:"linear-gradient(to bottom, #2d2d2d, #1a1a1a)",border:"2px solid #c5a059",borderRadius:1,boxShadow:"0 4px 6px rgba(0,0,0,0.6)",position:"relative"},children:[u.jsx(Ut,{size:"small",placeholder:"Buscar misiones...",value:j,onChange:D=>T(D.target.value),InputProps:{startAdornment:u.jsx(El,{sx:{mr:1,color:"#c5a059"}})},sx:{flexGrow:1,minWidth:200,bgcolor:"rgba(0,0,0,0.3)",input:{color:"#e0e0e0"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"rgba(197, 160, 89, 0.3)"},"&:hover fieldset":{borderColor:"#c5a059"},"&.Mui-focused fieldset":{borderColor:"#c5a059"}}}}),u.jsxs(rs,{size:"small",sx:{minWidth:150},children:[u.jsx(pf,{sx:{color:"#9e9e9e"},children:"Sistema"}),u.jsxs(ns,{value:k,label:"Sistema",onChange:D=>A(D.target.value),sx:{bgcolor:"rgba(0,0,0,0.3)",color:"#e0e0e0",".MuiOutlinedInput-notchedOutline":{borderColor:"rgba(197, 160, 89, 0.3)"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#c5a059"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#c5a059"},".MuiSvgIcon-root":{color:"#c5a059"}},children:[u.jsx(Dr,{value:"Todos",children:"Todos los Sistemas"}),T5.map(D=>u.jsx(Dr,{value:D,children:D},D))]})]}),u.jsxs(rs,{size:"small",sx:{minWidth:150},children:[u.jsx(pf,{sx:{color:"#9e9e9e"},children:"Modalidad"}),u.jsxs(ns,{value:_,label:"Modalidad",onChange:D=>I(D.target.value),sx:{bgcolor:"rgba(0,0,0,0.3)",color:"#e0e0e0",".MuiOutlinedInput-notchedOutline":{borderColor:"rgba(197, 160, 89, 0.3)"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#c5a059"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#c5a059"},".MuiSvgIcon-root":{color:"#c5a059"}},children:[u.jsx(Dr,{value:"Todos",children:"Todas las Modalidades"}),j5.map(D=>u.jsx(Dr,{value:D,children:D},D))]})]})]}),u.jsx(L,{sx:{display:"flex",flexDirection:"column",gap:4},children:P.length===0?u.jsx(L,{sx:{textAlign:"center",py:8,opacity:.6},children:u.jsx($,{variant:"h6",fontFamily:"Cinzel, serif",sx:{color:"#d7ccc8"},children:"No se encontraron misiones con tus criterios."})}):P.map(D=>{var F,U,V;return u.jsxs(St,{elevation:4,sx:{position:"relative",overflow:"hidden",borderRadius:"8px",background:"transparent",backgroundImage:`url("${Kw}/quest-card.jpg")`,backgroundSize:"100% 100%",backgroundRepeat:"no-repeat",color:"#3e2723",p:0,display:"flex",flexDirection:{xs:"column",md:"row"},transition:"transform 0.2s",boxShadow:"none",filter:"drop-shadow(0px 4px 8px rgba(0,0,0,0.5))","&:hover":{transform:"translateY(-4px)",filter:"drop-shadow(0px 8px 16px rgba(0,0,0,0.6)) brightness(1.1)"}},children:[u.jsxs(L,{onClick:()=>{f(D),m("details")},sx:{position:"absolute",right:{xs:16,md:80},bottom:{xs:16,md:"auto"},top:{md:"50%"},transform:{md:"translateY(-50%)"},display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",zIndex:5,transition:"transform 0.2s","&:hover":{transform:{md:"translateY(-50%) scale(1.1)",xs:"scale(1.1)"}}},children:[u.jsx($,{variant:"subtitle2",sx:{fontFamily:"Cinzel, serif",fontWeight:"bold",color:"#5d4037",mb:.5,textShadow:"0 0 4px rgba(255,255,255,0.8)"},children:"Unirse"}),u.jsx(L,{sx:{width:250,height:80,backgroundImage:`url("${Kw}/wax-seal.png")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",filter:"drop-shadow(0 4px 4px rgba(0,0,0,0.5))",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s"}}),u.jsx($,{variant:"subtitle2",sx:{fontFamily:"Cinzel, serif",fontWeight:"bold",color:"#5d4037",mb:.5,textShadow:"0 0 4px rgba(255,255,255,0.8)"},children:"A la quest"})]}),u.jsxs(L,{sx:{flex:1,p:{xs:6,md:8},display:"flex",flexDirection:"column",gap:3,alignItems:"center",textAlign:"center"},children:[u.jsxs(L,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:1,width:"100%"},children:[u.jsx($,{variant:"h4",sx:{fontFamily:"Cinzel, serif",fontWeight:800,color:"#2d1b15",lineHeight:1.1,textShadow:"0 1px 2px rgba(255,255,255,0.4), 0 -1px 1px rgba(0,0,0,0.1)",fontSize:{xs:"1.8rem",md:"2.2rem"}},children:D.game_name}),u.jsxs($,{variant:"h6",sx:{fontFamily:"Cinzel, serif",fontWeight:600,color:"#5d4037",fontSize:"1rem",letterSpacing:1,textTransform:"uppercase",opacity:.9},children:[D.system,"  ",D.modality]}),u.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1,mt:.5,color:"#2d1b15"},children:[u.jsx(zd,{fontSize:"small"}),u.jsxs($,{variant:"body2",sx:{fontFamily:"Cinzel, serif",fontWeight:700,fontSize:"0.9rem"},children:[D.slots_taken," / ",D.slots_total," Hroes"]})]})]}),u.jsxs(_e,{container:!0,spacing:4,sx:{mt:1,justifyContent:"center"},children:[u.jsx(_e,{size:{xs:12,sm:"auto"},children:u.jsxs(L,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:.5},children:[u.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[u.jsx(qG,{fontSize:"small",sx:{color:"#5d4037"}}),u.jsx($,{variant:"caption",sx:{fontWeight:900,color:"#5d4037",fontFamily:"Cinzel, serif",letterSpacing:1},children:"CUANDO"})]}),u.jsxs($,{variant:"body1",sx:{fontWeight:700,fontFamily:'"Newsreader", serif',fontSize:"1.1rem",color:"#2d1b15"},children:[D.date," @ ",D.time," (GMT-3)"]})]})}),u.jsx(_e,{size:{xs:12,sm:"auto"},children:u.jsxs(L,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:.5},children:[u.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1},children:[u.jsx(VS,{fontSize:"small",sx:{color:"#5d4037"}}),u.jsx($,{variant:"caption",sx:{fontWeight:900,color:"#5d4037",fontFamily:"Cinzel, serif",letterSpacing:1},children:"DONDE"})]}),u.jsx($,{variant:"body1",sx:{fontWeight:700,fontFamily:'"Newsreader", serif',fontSize:"1.1rem",color:"#2d1b15"},children:D.platform})]})})]}),u.jsx(Ir,{sx:{borderColor:"rgba(62, 39, 35, 0.3)",my:1}}),u.jsx(Ll,{content:`"${D.synopsis}"`,sx:{fontStyle:"italic",fontWeight:700,fontFamily:'"Newsreader", serif',fontSize:"1.2rem",lineHeight:1.6,color:"#2d1b15",maxWidth:"90%",textAlign:"center","& p":{margin:0}}}),u.jsxs(L,{sx:{mt:"auto",pt:2,display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[u.jsx(L,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:(F=D.tags)==null?void 0:F.map(G=>u.jsx(Qr,{label:G,size:"small",variant:"outlined",sx:{borderColor:"#8d6e63",color:"#3e2723",fontWeight:"bold",fontSize:"0.75rem",bgcolor:"rgba(255,255,255,0.6)",fontFamily:"Cinzel, serif"}},G))}),u.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[u.jsx(ai,{src:(U=D.gm_profile)==null?void 0:U.avatar_url,sx:{width:40,height:40,border:"2px solid #5d4037"}}),u.jsxs(L,{children:[u.jsx($,{variant:"caption",sx:{display:"block",color:"#5d4037",lineHeight:1,fontFamily:"Cinzel, serif",fontWeight:800,fontSize:"0.7rem",letterSpacing:1},children:"DIRECTOR DE JUEGO"}),u.jsx($,{variant:"body2",sx:{fontWeight:700,color:"#3e2723",fontFamily:'"Newsreader", serif'},children:((V=D.gm_profile)==null?void 0:V.username)||"Desconocido"})]})]})]})]}),b&&u.jsx(pt,{onClick:G=>{G.stopPropagation(),x(D.id)},sx:{position:"absolute",top:8,right:8,color:"#c62828",bgcolor:"rgba(255,255,255,0.8)","&:hover":{bgcolor:"#ffebee"},zIndex:10},children:u.jsx(ko,{})})]},D.id)})})]})]})]})," ",u.jsx(z0,{open:y.open,autoHideDuration:6e3,onClose:()=>v({...y,open:!1}),children:u.jsx(ya,{onClose:()=>v({...y,open:!1}),severity:y.severity,sx:{width:"100%"},children:y.message})})]})},cae=({open:t,onClose:e,onSelect:r})=>{const n=Yt(),[o,i]=S.useState([]),[s,a]=S.useState(!1),[l,p]=S.useState(null);S.useEffect(()=>{t&&f()},[t]);const f=async()=>{a(!0),p(null);try{const{data:h,error:m}=await Ee.storage.from("avatar").list();if(m)throw m;if(h){const y=h.map(v=>{const{data:b}=Ee.storage.from("avatar").getPublicUrl(v.name);return b.publicUrl});i(y)}}catch(h){console.error("Error fetching avatars:",h),p("Error al cargar los avatares. "+(h.message||""))}finally{a(!1)}};return u.jsxs(hd,{open:t,onClose:e,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{bgcolor:q(n.palette.background.paper,.9),backdropFilter:"blur(10px)",border:`1px solid ${q(n.palette.secondary.main,.3)}`,borderRadius:2}},children:[u.jsx(wM,{sx:{fontFamily:"Cinzel, serif",color:"secondary.main",borderBottom:`1px solid ${q(n.palette.divider,.1)}`},children:"Elige tu Semblante"}),u.jsx(Tf,{sx:{p:4},children:s?u.jsx(L,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200},children:u.jsx(Mn,{color:"secondary"})}):l?u.jsx($,{color:"error",align:"center",children:l}):o.length===0?u.jsx($,{color:"text.secondary",align:"center",children:"No se encontraron avatares disponibles."}):u.jsx(_e,{container:!0,spacing:2,children:o.map((h,m)=>u.jsx(_e,{size:{xs:3,sm:2},children:u.jsx(L,{onClick:()=>r(h),sx:{width:"100%",paddingTop:"100%",position:"relative",cursor:"pointer",borderRadius:1,overflow:"hidden",border:"2px solid transparent",transition:"all 0.2s","&:hover":{border:`2px solid ${n.palette.secondary.main}`,transform:"scale(1.05)",boxShadow:`0 0 10px ${q(n.palette.secondary.main,.5)}`}},children:u.jsx("img",{src:h,alt:`Avatar ${m+1}`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})})},m))})}),u.jsx(bM,{sx:{p:2,borderTop:`1px solid ${q(n.palette.divider,.1)}`},children:u.jsx(Ye,{onClick:e,color:"inherit",children:"Cancelar"})})]})},uae=["Harpers","Order of the Gauntlet","Emerald Enclave","Lords' Alliance","Zhentarim"],R5=t=>t>=20?"Epic Legend":t>=15?"Master of the Realm":t>=10?"Veteran Hero":t>=5?"Dungeon Explorer":"Novice Adventurer",dae=({user:t,onProfileUpdate:e})=>{const r=Yt(),[n,o]=S.useState(null),[i,s]=S.useState(!0),[a,l]=S.useState(!1),[p,f]=S.useState(!1),[h,m]=S.useState(!1),[y,v]=S.useState({faction:"",avatar_url:""});S.useEffect(()=>{t&&b()},[t]);const b=async()=>{var E,j,T,k;try{s(!0);const{data:A,error:_}=await Ee.from("profiles").select("*").eq("id",t.id).single();if(_)if(_.code==="PGRST116"){const I={id:t.id,username:((E=t.user_metadata)==null?void 0:E.full_name)||((j=t.email)==null?void 0:j.split("@")[0])||"Aventurero",full_name:((T=t.user_metadata)==null?void 0:T.full_name)||"",avatar_url:((k=t.user_metadata)==null?void 0:k.avatar_url)||"",faction:"Harpers",title:"Novice Adventurer",xp:0,level:1};o(I),v({faction:I.faction,avatar_url:I.avatar_url})}else throw _;else o(A),v({faction:A.faction||"Harpers",avatar_url:A.avatar_url||""})}catch(A){console.error("Error fetching profile:",A)}finally{s(!1)}},x=async()=>{l(!0);try{const E={id:t.id,...y,username:n==null?void 0:n.username,title:R5((n==null?void 0:n.level)||1),updated_at:new Date().toISOString()},{error:j}=await Ee.from("profiles").upsert(E);if(j)throw j;o({...n,...E}),f(!1),e&&e()}catch(E){alert("Error saving profile: "+E.message)}finally{l(!1)}};if(i)return u.jsx(L,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:u.jsx(Mn,{color:"secondary"})});const C=R5((n==null?void 0:n.level)||1);return u.jsxs(fr,{maxWidth:"md",sx:{mt:14,mb:10},children:[u.jsxs(St,{elevation:0,sx:{p:{xs:3,md:6},bgcolor:q(r.palette.background.paper,.8),backdropFilter:"blur(12px)",border:`1px solid ${q(r.palette.secondary.main,.3)}`,borderRadius:4,position:"relative",overflow:"hidden"},children:[u.jsx(L,{sx:{position:"absolute",top:0,left:0,right:0,height:150,background:`linear-gradient(180deg, ${q(r.palette.primary.main,.2)} 0%, transparent 100%)`,zIndex:0}}),u.jsxs(L,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"center",sm:"flex-end"},gap:4,mb:4,position:"relative",zIndex:1,mt:4},children:[u.jsxs(L,{sx:{position:"relative"},children:[u.jsx(ai,{src:y.avatar_url||us,sx:{width:140,height:140,border:`4px solid ${r.palette.background.paper}`,boxShadow:`0 8px 16px ${q(r.palette.common.black,.3)}`}}),p&&u.jsx(Ye,{variant:"contained",size:"small",sx:{position:"absolute",bottom:0,right:0,minWidth:"auto",p:1,borderRadius:"50%"},onClick:()=>{m(!0)},children:u.jsx(Rj,{fontSize:"small"})})]}),u.jsxs(L,{sx:{textAlign:{xs:"center",sm:"left"},flexGrow:1},children:[u.jsx($,{variant:"h3",sx:{fontFamily:"Cinzel, serif",fontWeight:"bold",color:"secondary.main"},children:n==null?void 0:n.username}),u.jsx($,{variant:"h6",color:"text.secondary",children:C}),u.jsxs(L,{sx:{display:"flex",alignItems:"center",gap:1,mt:1,justifyContent:{xs:"center",sm:"flex-start"},color:"warning.main"},children:[u.jsx(KK,{fontSize:"small"}),u.jsx($,{variant:"body2",sx:{fontWeight:"bold"},children:(n==null?void 0:n.faction)||"Sin Faccin"})]})]}),u.jsx(Ye,{variant:p?"outlined":"contained",color:"secondary",startIcon:p?null:u.jsx(Rj,{}),onClick:()=>{p?(f(!1),v({faction:(n==null?void 0:n.faction)||"",avatar_url:(n==null?void 0:n.avatar_url)||""})):f(!0)},children:p?"Cancelar":"Editar"})]}),u.jsx(Ir,{sx:{mb:4}}),u.jsxs(L,{sx:{mb:6},children:[u.jsxs(L,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[u.jsxs($,{variant:"h6",sx:{fontFamily:"Cinzel, serif"},children:["Nivel ",n==null?void 0:n.level]}),u.jsxs($,{variant:"body2",color:"text.secondary",children:[n==null?void 0:n.xp," XP / ",((n==null?void 0:n.level)||1)*1e3," XP"]})]}),u.jsx(TM,{variant:"determinate",value:Math.min(((n==null?void 0:n.xp)||0)/(((n==null?void 0:n.level)||1)*1e3)*100,100),color:"secondary",sx:{height:10,borderRadius:5}})]}),u.jsx(_e,{container:!0,spacing:4,justifyContent:"center",children:u.jsx(_e,{size:{xs:12,md:8},children:u.jsx(Ut,{select:!0,label:"Faction",fullWidth:!0,variant:"outlined",value:y.faction,onChange:E=>v({...y,faction:E.target.value}),disabled:!p,sx:{mb:3},children:uae.map(E=>u.jsx(Dr,{value:E,children:E},E))})})}),p&&u.jsx(L,{sx:{display:"flex",justifyContent:"flex-end",mt:4},children:u.jsx(Ye,{variant:"contained",color:"secondary",startIcon:a?u.jsx(Mn,{size:20,color:"inherit"}):u.jsx(qK,{}),onClick:x,disabled:a,size:"large",children:"Guardar Cambios"})})]}),u.jsx(cae,{open:h,onClose:()=>m(!1),onSelect:E=>{v({...y,avatar_url:E}),m(!1)}})]})},pae=()=>{const[t,e]=S.useState("<p>Welcome to the <strong>SoulForge</strong> editor!</p>"),r=async n=>await GC(n,"test-user")||"";return u.jsx(EI,{setView:()=>{},currentView:be.EDITOR_TEST,onSearch:()=>{},onProductSelect:()=>{},user:null,isAdmin:!0,onLogout:async()=>{},isWarhammer:!1,onToggleTheme:()=>{},products:[],children:u.jsxs(L,{sx:{p:4,maxWidth:"800px",margin:"0 auto"},children:[u.jsx($,{variant:"h4",sx:{color:"#d4af37",mb:2,fontFamily:"Cinzel, serif"},children:"Editor Test"}),u.jsx(Ul,{content:t,onChange:e,placeholder:"Start typing your adventure...",onImageUpload:r}),u.jsxs(L,{sx:{mt:4,p:2,border:"1px dashed #666",borderRadius:"4px",color:"#aaa"},children:[u.jsx($,{variant:"h6",sx:{mb:1},children:"HTML Output:"}),u.jsx("pre",{style:{whiteSpace:"pre-wrap",fontFamily:"monospace"},children:t})]})]})})};class fae extends S.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Uncaught error:",e,r)}render(){return this.state.hasError?u.jsx(fr,{maxWidth:"md",children:u.jsxs(L,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"60vh",textAlign:"center",gap:3},children:[u.jsx(VM,{sx:{fontSize:80,color:"error.main",opacity:.5}}),u.jsx($,{variant:"h4",sx:{fontFamily:"Cinzel, serif",color:"secondary.main"},children:"Falla en el Sistema de Adivinacin"}),u.jsx($,{variant:"body1",color:"text.secondary",children:"Parece que un gremlin ha interferido con el pergamino. Los bibliotecarios ya han sido notificados."}),this.state.error&&u.jsx(L,{sx:{p:2,bgcolor:"rgba(255,0,0,0.05)",border:"1px solid rgba(255,0,0,0.1)",borderRadius:1,maxWidth:"100%",overflow:"auto"},children:u.jsx($,{variant:"caption",sx:{fontFamily:"monospace",color:"error.main"},children:this.state.error.toString()})}),u.jsx(Ye,{variant:"contained",color:"secondary",startIcon:u.jsx(HK,{}),onClick:()=>window.location.reload(),sx:{mt:2},children:"Reiniciar el Portal"})]})}):this.props.children}}const hae=Zr`
  0%, 100% {
    transform: rotate(-30deg);
  }
  50% {
    transform: rotate(30deg);
  }
`,mae=Zr`
  0%, 100% {
    opacity: 0;
    transform: scale(0) translateY(0);
  }
  50% {
    opacity: 1;
    transform: scale(1) translateY(-20px);
  }
`,gae=Zr`
  0%, 100% {
    box-shadow: 0 0 10px rgba(197, 160, 89, 0.3);
  }
  50% {
    box-shadow: 0 0 30px rgba(197, 160, 89, 0.8), 0 0 60px rgba(197, 160, 89, 0.4);
  }
`,u1=Zr`
  0%, 100% {
    opacity: 0.5;
  }
  50% {
    opacity: 1;
  }
`,yae=({message:t="Forjando artefactos...",size:e="medium"})=>{const n={small:{anvil:40,hammer:30,container:80},medium:{anvil:60,hammer:45,container:120},large:{anvil:80,hammer:60,container:160}}[e];return u.jsxs(L,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:6},children:[u.jsxs(L,{sx:{position:"relative",width:n.container,height:n.container,display:"flex",alignItems:"flex-end",justifyContent:"center"},children:[u.jsxs(L,{sx:{position:"absolute",top:0,left:"50%",transformOrigin:"bottom center",animation:`${hae} 0.6s ease-in-out infinite`,zIndex:2},children:[u.jsx(L,{sx:{width:n.hammer*.8,height:n.hammer*.4,bgcolor:"#4A4A4A",borderRadius:1,position:"relative",left:-n.hammer*.4,boxShadow:"2px 2px 4px rgba(0,0,0,0.5)","&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",height:"60%",bgcolor:"#5D5D5D",borderRadius:.5}}}),u.jsx(L,{sx:{width:n.hammer*.15,height:n.hammer*1.2,bgcolor:"#8B4513",borderRadius:.5,margin:"0 auto",boxShadow:"1px 1px 2px rgba(0,0,0,0.3)"}})]}),[...Array(3)].map((o,i)=>u.jsx(L,{sx:{position:"absolute",bottom:n.anvil*.6,left:`${40+i*10}%`,width:6,height:6,bgcolor:"secondary.main",borderRadius:"50%",animation:`${mae} 0.6s ease-out infinite`,animationDelay:`${i*.15}s`}},i)),u.jsxs(L,{sx:{width:n.anvil,height:n.anvil*.5,position:"relative",animation:`${gae} 0.6s ease-in-out infinite`,borderRadius:1},children:[u.jsx(L,{sx:{position:"absolute",top:0,left:"50%",transform:"translateX(-50%)",width:"120%",height:"30%",bgcolor:"#3D3D3D",borderRadius:"4px 4px 0 0",boxShadow:"inset 0 -2px 4px rgba(0,0,0,0.3)"}}),u.jsx(L,{sx:{position:"absolute",top:"30%",left:"50%",transform:"translateX(-50%)",width:"100%",height:"40%",bgcolor:"#2D2D2D"}}),u.jsx(L,{sx:{position:"absolute",bottom:0,left:"50%",transform:"translateX(-50%)",width:"80%",height:"30%",bgcolor:"#1D1D1D",borderRadius:"0 0 2px 2px"}}),u.jsx(L,{sx:{position:"absolute",top:"-10%",left:"50%",transform:"translateX(-50%)",width:"40%",height:"20%",bgcolor:"#FF6B35",borderRadius:1,animation:`${u1} 0.3s ease-in-out infinite`,boxShadow:"0 0 10px #FF6B35, 0 0 20px rgba(255, 107, 53, 0.5)"}})]})]}),u.jsx($,{variant:"body2",sx:{mt:3,color:"secondary.main",fontStyle:"italic",letterSpacing:2,textTransform:"uppercase",animation:`${u1} 1.5s ease-in-out infinite`},children:t}),u.jsx(L,{sx:{display:"flex",gap:1,mt:2},children:[0,1,2].map(o=>u.jsx(L,{sx:{width:6,height:6,bgcolor:"secondary.main",borderRadius:"50%",opacity:.3,animation:`${u1} 1s ease-in-out infinite`,animationDelay:`${o*.2}s`}},o))})]})},BN={fontFamily:'"Newsreader", "Cinzel", serif',h1:{fontFamily:'"Cinzel", serif',fontWeight:700},h2:{fontFamily:'"Cinzel", serif',fontWeight:700},h3:{fontFamily:'"Cinzel", serif',fontWeight:700},h4:{fontFamily:'"Cinzel", serif',fontWeight:700},h5:{fontFamily:'"Cinzel", serif',fontWeight:700},h6:{fontFamily:'"Cinzel", serif',fontWeight:700},button:{fontFamily:'"Cinzel", serif',fontWeight:700,letterSpacing:"0.1em"}},vae=Ph({palette:{mode:"dark",primary:{main:"#d41111",light:"#ff4444",dark:"#960018",contrastText:"#f2e9d0"},secondary:{main:"#c5a059",light:"#e8c978",dark:"#9d7a3d",contrastText:"#1a0d0d"},background:{default:"#1a0d0d",paper:"#2d1b1b"},text:{primary:"#f2e9d0",secondary:"#c5a059"},accent:{main:"#c5a059"},parchment:{main:"#2d1b1b"},glow:{main:"#c5a059"}},typography:{...BN,fontFamily:'"Newsreader", serif'},components:{MuiButton:{styleOverrides:{root:{borderRadius:2,textTransform:"uppercase",transition:"all 0.25s ease"},contained:{boxShadow:"0 4px 12px rgba(212, 17, 17, 0.25)","&:hover":{boxShadow:"0 6px 16px rgba(212, 17, 17, 0.35), 0 0 20px rgba(197, 160, 89, 0.15)",transform:"translateY(-2px)"}},outlined:{borderWidth:2,"&:hover":{borderWidth:2,backgroundColor:"rgba(197, 160, 89, 0.08)"}}}},MuiCssBaseline:{styleOverrides:{body:{backgroundImage:"url('https://www.transparenttextures.com/patterns/dark-leather.png')",backgroundBlendMode:"overlay"},"::selection":{backgroundColor:"#c5a059",color:"#ffffff",textShadow:"0 1px 2px rgba(0,0,0,0.8)"},"::-moz-selection":{backgroundColor:"#c5a059",color:"#ffffff",textShadow:"0 1px 2px rgba(0,0,0,0.8)"},"*::-webkit-scrollbar":{width:"8px",height:"8px"},"*::-webkit-scrollbar-track":{backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:"4px"},"*::-webkit-scrollbar-thumb":{backgroundColor:"rgba(197, 160, 89, 0.3)",borderRadius:"4px",border:"2px solid transparent",backgroundClip:"content-box","&:hover":{backgroundColor:"rgba(197, 160, 89, 0.6)"}}}},MuiTextField:{styleOverrides:{root:({theme:t})=>({"& .MuiOutlinedInput-root":{backgroundColor:q(t.palette.background.default,.8),backdropFilter:"blur(4px)","& fieldset":{borderColor:"rgba(197, 160, 89, 0.3)",borderWidth:2},"&:hover fieldset":{borderColor:t.palette.secondary.main,boxShadow:"0 0 10px rgba(197, 160, 89, 0.2)"},"&.Mui-focused fieldset":{borderColor:t.palette.secondary.main,boxShadow:"0 0 15px rgba(197, 160, 89, 0.3)"}},"& .MuiInputLabel-root":{color:t.palette.secondary.main,textTransform:"uppercase",fontSize:"0.7rem",letterSpacing:"2px",fontWeight:"bold"},"& .MuiInputBase-input":{color:t.palette.common.white}})}},MuiPaper:{styleOverrides:{root:({theme:t})=>({backgroundImage:"none",position:"relative","&::before":{content:'""',position:"absolute",inset:0,borderRadius:"inherit",boxShadow:"inset 0 0 30px rgba(0,0,0,0.3)",pointerEvents:"none"}})}},MuiCard:{styleOverrides:{root:({theme:t})=>({backgroundColor:t.palette.background.paper,transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative","&::after":{content:'""',position:"absolute",inset:-1,borderRadius:"inherit",background:"linear-gradient(135deg, rgba(197, 160, 89, 0.3), transparent, rgba(197, 160, 89, 0.1))",opacity:0,transition:"opacity 0.4s ease",pointerEvents:"none",zIndex:-1},"&:hover":{transform:"translateY(-6px)",boxShadow:"0 12px 40px rgba(0,0,0,0.5), 0 0 30px rgba(197, 160, 89, 0.15)","&::after":{opacity:1}}})}},MuiDivider:{styleOverrides:{root:({theme:t})=>({borderColor:"rgba(197, 160, 89, 0.2)","&::before, &::after":{borderColor:"inherit"}})}},MuiChip:{styleOverrides:{root:({theme:t})=>({fontFamily:'"Cinzel", serif',fontWeight:600,letterSpacing:"0.05em",...t.palette.mode==="dark"&&{"&.MuiChip-outlinedSecondary":{borderColor:q(t.palette.secondary.main,.5),color:t.palette.secondary.main},"&.MuiChip-filledSecondary":{backgroundColor:"#1a0d0d",color:"#c5a059",border:"1px solid #c5a059",fontWeight:800,letterSpacing:"0.1em","&:hover":{backgroundColor:"#2d1b1b",color:"#e8c978"}}}}),filled:{boxShadow:"0 2px 8px rgba(0,0,0,0.3)"}}},MuiIconButton:{styleOverrides:{root:{transition:"all 0.3s ease","&:hover":{transform:"scale(1.1)"}}}}}}),xae=Ph({palette:{mode:"dark",primary:{main:"#0ea5e9",light:"#38bdf8",dark:"#0369a1",contrastText:"#ffffff"},secondary:{main:"#9ca3af",light:"#d1d5db",dark:"#4b5563",contrastText:"#ffffff"},background:{default:"#030712",paper:"#111827"},text:{primary:"#f2e9d0",secondary:"#9ca3af"},accent:{main:"#9ca3af"},glow:{main:"#0ea5e9"}},typography:{...BN,fontFamily:'"Cinzel", serif'},components:{MuiButton:{styleOverrides:{root:{borderRadius:2,textTransform:"uppercase",transition:"all 0.25s ease"},contained:{boxShadow:"0 4px 12px rgba(14, 165, 233, 0.25)","&:hover":{boxShadow:"0 6px 16px rgba(14, 165, 233, 0.4), 0 0 20px rgba(14, 165, 233, 0.2)",transform:"translateY(-2px)"}},outlined:{borderWidth:2,"&:hover":{borderWidth:2,backgroundColor:"rgba(14, 165, 233, 0.08)"}}}},MuiCssBaseline:{styleOverrides:{body:{backgroundImage:"url('https://www.transparenttextures.com/patterns/carbon-fibre.png')",backgroundBlendMode:"screen"},"::selection":{backgroundColor:"#374151",color:"#ffffff",textShadow:"0 1px 2px rgba(0,0,0,0.9)"},"::-moz-selection":{backgroundColor:"#374151",color:"#ffffff",textShadow:"0 1px 2px rgba(0,0,0,0.8)"},"*::-webkit-scrollbar":{width:"8px",height:"8px"},"*::-webkit-scrollbar-track":{backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:"4px"},"*::-webkit-scrollbar-thumb":{backgroundColor:"rgba(14, 165, 233, 0.3)",borderRadius:"4px",border:"2px solid transparent",backgroundClip:"content-box","&:hover":{backgroundColor:"rgba(14, 165, 233, 0.6)"}}}},MuiTextField:{styleOverrides:{root:({theme:t})=>({"& .MuiOutlinedInput-root":{backgroundColor:q(t.palette.background.default,.8),backdropFilter:"blur(4px)","& fieldset":{borderColor:q(t.palette.primary.main,.3),borderWidth:2},"&:hover fieldset":{borderColor:t.palette.primary.main,boxShadow:"0 0 10px rgba(14, 165, 233, 0.3)"},"&.Mui-focused fieldset":{borderColor:t.palette.primary.main,boxShadow:"0 0 15px rgba(14, 165, 233, 0.4)"}},"& .MuiInputLabel-root":{color:t.palette.primary.main,textTransform:"uppercase",fontSize:"0.7rem",letterSpacing:"2px",fontWeight:"bold"},"& .MuiInputBase-input":{color:t.palette.common.white}})}},MuiPaper:{styleOverrides:{root:({theme:t})=>({backgroundImage:"none",position:"relative","&::before":{content:'""',position:"absolute",inset:0,borderRadius:"inherit",boxShadow:"inset 0 0 30px rgba(0,0,0,0.4)",pointerEvents:"none"}})}},MuiCard:{styleOverrides:{root:({theme:t})=>({backgroundColor:t.palette.background.paper,transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative","&::after":{content:'""',position:"absolute",inset:-1,borderRadius:"inherit",background:"linear-gradient(135deg, rgba(14, 165, 233, 0.3), transparent, rgba(14, 165, 233, 0.1))",opacity:0,transition:"opacity 0.4s ease",pointerEvents:"none",zIndex:-1},"&:hover":{transform:"translateY(-6px)",boxShadow:"0 12px 40px rgba(0,0,0,0.6), 0 0 30px rgba(14, 165, 233, 0.2)","&::after":{opacity:1}}})}},MuiDivider:{styleOverrides:{root:({theme:t})=>({borderColor:q(t.palette.primary.main,.2),"&::before, &::after":{borderColor:"inherit"}})}},MuiChip:{styleOverrides:{root:{fontFamily:'"Cinzel", serif',fontWeight:600,letterSpacing:"0.05em"},filled:{boxShadow:"0 2px 8px rgba(0,0,0,0.4)"}}},MuiIconButton:{styleOverrides:{root:{transition:"all 0.3s ease","&:hover":{transform:"scale(1.1)"}}}}}}),bae=({title:t,description:e,image:r,url:n})=>{document.title=t;const o=(i,s,a=!1)=>{const l=a?"property":"name";let p=document.querySelector(`meta[${l}="${i}"]`);p||(p=document.createElement("meta"),p.setAttribute(l,i),document.head.appendChild(p)),p.setAttribute("content",s)};o("description",e),o("og:title",t,!0),o("og:description",e,!0),o("og:type","website",!0),r&&o("og:image",r,!0),n&&o("og:url",n,!0),o("twitter:card","summary_large_image"),o("twitter:title",t),o("twitter:description",e),r&&o("twitter:image",r)},wae=(t,e)=>{const r=window.location.origin,n="Soulforge";switch(t){case be.HOME:return{title:`${n} | Miniaturas de Resina para D&D, Warhammer y ms`,description:"Impresiones de resina de alta calidad para tus juegos de rol y wargames. Encuentra dragones, hroes, monstruos y mucho ms.",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuCOt5aQZidteyosgKEH6adeFrjY70HvrEfGe899g00U3xAIYG56c8fgeqBKxO8l7H88pIM9fvKCjOFj31ZRGXSNJMm0amjBByouYk2tQS9cJlO5tRXVypnfYTl4GOedXMMTeHteiT4YEek0yhThUIU-I3adq46F_jGdWXWA81N4fXwHAGu-qCKql3q3IOj_6RX7xJ3VDGhUy-IG7TOmabJh_2bG_B3XyQLiG6dKr1cd6iFYDBbZoCfADZlGEJy_eQT0j1kbKsuRM9c",url:r};case be.CATALOG:return{title:`Catlogo de Miniaturas | ${n}`,description:"Explora nuestra coleccin completa de miniaturas de resina. D&D, Warhammer, Sci-Fi, Anime y ms.",url:`${r}/catalog`};case be.PRODUCT_DETAIL:return{title:`Producto | ${n}`,description:"Miniatura de resina de alta calidad."};case be.CART:return{title:`Tu Botn | ${n}`,description:"Revisa los artefactos en tu carrito antes de completar tu pedido."};case be.CHECKOUT:return{title:`Checkout | ${n}`,description:"Completa tu pedido de miniaturas de resina."};case be.WISHLIST:return{title:`Lista de Deseos | ${n}`,description:"Tus miniaturas favoritas guardadas para futuras compras."};case be.ORDERS:return{title:`Mis Pedidos | ${n}`,description:"Historial de tus pedidos y estado de envo."};case be.ADMIN:return{title:`Panel de Administracin | ${n}`,description:"Gestiona productos y pedidos."};default:return{title:n,description:"Miniaturas de resina de alta calidad."}}},Sae=()=>{var Re;const[t,e]=S.useState(be.HOME),[r,n]=S.useState(null),[o,i]=S.useState(""),[s,a]=S.useState(null),[l,p]=S.useState(null);S.useEffect(()=>{new URLSearchParams(window.location.search).get("token")&&e(be.FEEDBACK)},[]);const[f,h]=S.useState({}),[m,y]=S.useState({page:1,searchQuery:"",selectedCategories:[],selectedSizes:[],selectedDesigners:[],selectedCreatureTypes:[],selectedWeapons:[],sortOption:"newest"}),[v,b]=S.useState(()=>{try{const ae=localStorage.getItem("resinforge_categories");if(ae){const ke=JSON.parse(ae);if(Array.isArray(ke))return ke}return["D&D","Warhammer","Sci-Fi","Anime","Cine"]}catch{return["D&D","Warhammer","Sci-Fi","Anime","Cine"]}}),[x,C]=S.useState(()=>{try{const ae=localStorage.getItem("resinforge_sizes");if(ae){const ke=JSON.parse(ae);if(Array.isArray(ke))return ke}return["Small","Medium","Large","Huge","Gargantuan"]}catch{return["Small","Medium","Large","Huge","Gargantuan"]}}),{data:E=[]}=op(),j=S.useMemo(()=>{const ae=Array.from(new Set(E.map(ke=>ke.category).filter(Boolean)));return Array.from(new Set([...v,...ae])).sort()},[E,v]),T=S.useMemo(()=>{const ae=Array.from(new Set(E.map(ke=>ke.size).filter(Boolean)));return Array.from(new Set([...x,...ae])).sort()},[E,x]);S.useEffect(()=>{localStorage.setItem("resinforge_categories",JSON.stringify(v))},[v]),S.useEffect(()=>{localStorage.setItem("resinforge_sizes",JSON.stringify(x))},[x]);const[k,A]=S.useState(null),[_,I]=S.useState(!1),[P,N]=S.useState(null);S.useEffect(()=>{Ee.auth.getSession().then(({data:{session:ke}})=>{A((ke==null?void 0:ke.user)??null)});const{data:{subscription:ae}}=Ee.auth.onAuthStateChange((ke,fe)=>{A((fe==null?void 0:fe.user)??null)});return()=>ae.unsubscribe()},[]);const B=async()=>{var fe,dt,Be,Te;if(!k){N(null);return}const{data:ae,error:ke}=await Ee.from("profiles").select("*").eq("id",k.id).maybeSingle();if(!ke&&ae)N(ae);else if(!ke&&!ae){const ie=(fe=k.user_metadata)==null?void 0:fe.avatar_url,Ce=ie&&!ie.includes("images/avatars/")?ie:us;N({id:k.id,avatar_url:Ce,username:((dt=k.user_metadata)==null?void 0:dt.full_name)||((Be=k.email)==null?void 0:Be.split("@")[0]),full_name:((Te=k.user_metadata)==null?void 0:Te.full_name)||"",xp:0,level:1})}};S.useEffect(()=>{B()},[k]),S.useEffect(()=>{(async()=>{if(!k){I(!1);return}const{data:ke,error:fe}=await Ee.from("admin_users").select("user_id").eq("user_id",k.id).maybeSingle();I(!fe&&!!ke)})()},[k]);const[O,D]=S.useState(()=>{try{const ae=localStorage.getItem("resinforge_wishlist");return ae?JSON.parse(ae):[]}catch{return[]}});S.useEffect(()=>{(async()=>{if(k){const{data:ke,error:fe}=await Ee.from("wishlists").select("product_id").eq("user_id",k.id);if(!fe&&ke){const dt=ke.map(Be=>Be.product_id);D(dt),localStorage.setItem("resinforge_wishlist",JSON.stringify(dt))}}})()},[k]),S.useEffect(()=>{localStorage.setItem("resinforge_wishlist",JSON.stringify(O))},[O]);const F=async ae=>{const ke=O.includes(ae);D(fe=>ke?fe.filter(dt=>dt!==ae):[...fe,ae]),k&&(ke?await Ee.from("wishlists").delete().eq("user_id",k.id).eq("product_id",ae):await Ee.from("wishlists").insert({user_id:k.id,product_id:ae}))},U=ae=>{n(ae),V(be.PRODUCT_DETAIL)},V=(ae,ke)=>{const fe=t;[be.CATALOG,be.FORUM_HOME,be.FORUM_CATEGORY,be.HOW_TO_BUY,be.NEW_ADVENTURER].includes(fe)&&h(ie=>({...ie,[fe]:window.scrollY}));const Te=(fe===be.PRODUCT_DETAIL&&ae===be.CATALOG||fe===be.FORUM_THREAD&&ae===be.FORUM_CATEGORY||fe===be.FORUM_CATEGORY&&ae===be.FORUM_HOME)&&(ke==null?void 0:ke.resetScroll)!==!0;if(Te){const ie=f[ae]||0;e(ae);const Ce=We=>{if(We>10)return;const Qe=window.scrollY,mt=document.documentElement.scrollHeight-window.innerHeight;if(ie>mt&&mt<5e3){setTimeout(()=>Ce(We+1),150);return}if(ae===be.CATALOG&&ie<300){const je=document.getElementById("catalog-content");if(je){je.scrollIntoView({behavior:"smooth"});return}}Math.abs(Qe-ie)>50&&(window.scrollTo({top:ie,behavior:"instant"}),setTimeout(()=>Ce(We+1),100))};ae===be.CATALOG&&ie<300||window.scrollTo({top:ie,behavior:"instant"}),setTimeout(()=>Ce(1),50)}else h(ie=>({...ie,[ae]:0})),e(ae),ae===be.CATALOG?setTimeout(()=>{const ie=document.getElementById("catalog-content");ie?(console.log("[Navigation] Initial Catalog visit. Scrolling to content."),ie.scrollIntoView({behavior:"smooth"})):window.scrollTo(0,0)},100):window.scrollTo(0,0);ae===be.CATALOG&&!Te&&(i(""),y(ie=>({...ie,page:1})))},G=(ae,ke)=>{V(ae,ke)},W=ae=>{i(""),y(ke=>({...ke,page:1,searchQuery:"",selectedCategories:ae.categories||[],selectedCreatureTypes:ae.creatureTypes||[],selectedSizes:[],selectedDesigners:[],selectedWeapons:[]})),h(ke=>({...ke,[be.CATALOG]:0})),window.scrollTo(0,0),e(be.CATALOG)},K=ae=>{i(ae),y(ke=>({...ke,searchQuery:ae,page:1})),h(ke=>({...ke,[be.CATALOG]:0})),window.scrollTo(0,0),e(be.CATALOG)};S.useEffect(()=>{const ae=wae(t);bae(ae)},[t,r]);const H=ae=>{A(ae),t!==be.FEEDBACK&&e(be.HOME)},J=async()=>{await Ee.auth.signOut(),A(null),e(be.HOME)},ne=ae=>{v.includes(ae)||b(ke=>[...ke,ae])},me=ae=>{x.includes(ae)||C(ke=>[...ke,ae])},ge=ae=>{b(ke=>ke.filter(fe=>fe!==ae))},ce=ae=>{C(ke=>ke.filter(fe=>fe!==ae))},te=ae=>{a(ae),V(be.FORUM_CATEGORY)},ve=ae=>{p(ae),i(""),V(be.FORUM_THREAD)},Ie=()=>{a(null),V(be.FORUM_HOME)},qe=()=>{p(null),V(be.FORUM_CATEGORY)},Ne=()=>{e(be.FORUM_LFG)},lt=()=>u.jsx(fae,{children:(()=>{var ae;switch(t){case be.HOME:return u.jsx(Xj,{setView:G,onFilterNavigate:W});case be.CATALOG:return u.jsx(UX,{categories:j,sizes:T,onProductClick:U,initialSearchQuery:o,wishlist:O,toggleWishlist:F,isAdmin:_,catalogState:m,onCatalogStateChange:y});case be.CART:return u.jsx(VX,{setView:G});case be.CHECKOUT:return u.jsx(GX,{});case be.PRODUCT_DETAIL:return u.jsx(Ose,{productId:r,setView:G,wishlist:O,toggleWishlist:F,isAdmin:_,user:k?{name:((ae=k.user_metadata)==null?void 0:ae.full_name)||k.email||"Usuario",id:k.id,avatar:(P==null?void 0:P.avatar_url)||us}:null,onProductClick:U});case be.LOGIN:return u.jsx(Pse,{setView:G,onLogin:H});case be.SIGNUP:return u.jsx(Nse,{setView:G,onLogin:H});case be.WISHLIST:return u.jsx(Lse,{setView:G,onProductClick:U,wishlist:O,toggleWishlist:F});case be.ORDERS:return u.jsx(Wse,{setView:G});case be.FEEDBACK:return u.jsx(Hse,{setView:G,user:k,onLogin:H});case be.HOW_TO_BUY:return u.jsx(Vse,{setView:G});case be.NEW_ADVENTURER:return u.jsx(Gse,{setView:G});case be.ADMIN:return u.jsx(Fse,{setView:G,categories:j,sizes:T,onAddCategory:ne,onAddSize:me,onDeleteCategory:ge,onDeleteSize:ce,isAdmin:_});case be.FORUM_HOME:return u.jsx(Mg,{onCategorySelect:te,onThreadSelect:ve,onProductSelect:U,onLFGClick:Ne,user:k,isAdmin:_});case be.FORUM_CATEGORY:return s?u.jsx(E5,{categoryId:s,onThreadSelect:ve,onBack:Ie,onCreateThread:()=>G(be.FORUM_CREATE_THREAD),user:k,isAdmin:_}):u.jsx(Mg,{onCategorySelect:te,user:k,isAdmin:_});case be.FORUM_CREATE_THREAD:return s?u.jsx(rae,{categoryId:s,onCancel:()=>G(be.FORUM_CATEGORY),onThreadCreated:ke=>{ve(ke)},user:k}):u.jsx(Mg,{onCategorySelect:te,user:k,isAdmin:_});case be.FORUM_LFG:return u.jsx(lae,{onBack:Ie});case be.FORUM_THREAD:return l?u.jsx(tae,{threadId:l,onBack:qe,user:k,isAdmin:_}):s?u.jsx(E5,{categoryId:s,onThreadSelect:ve,onBack:Ie,onCreateThread:()=>G(be.FORUM_CREATE_THREAD),user:k,isAdmin:_}):u.jsx(Mg,{onCategorySelect:te,user:k,isAdmin:_});case be.PROFILE:return u.jsx(dae,{user:k,onProfileUpdate:B});case be.EDITOR_TEST:return u.jsx(pae,{});default:return u.jsx(Xj,{setView:G,onFilterNavigate:W})}})()}),[Xe,He]=S.useState(()=>{try{return localStorage.getItem("resinforge_theme")==="warhammer"}catch{return!1}}),Le=()=>{He(ae=>!ae)};return S.useEffect(()=>{localStorage.setItem("resinforge_theme",Xe?"warhammer":"fantasy")},[Xe]),u.jsxs(o9,{theme:Xe?xae:vae,children:[u.jsx(L7,{}),u.jsx(az,{children:u.jsx(S.Suspense,{fallback:u.jsx(yae,{}),children:u.jsx(EI,{setView:G,currentView:t,onSearch:K,onProductSelect:U,user:k?((Re=k.user_metadata)==null?void 0:Re.full_name)||k.email:null,userProfile:P,isAdmin:_,onLogout:J,isWarhammer:Xe,onToggleTheme:Le,children:lt()})})})]})},Cae=new jY({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*30,retry:1,refetchOnWindowFocus:!1}}}),WN=document.getElementById("root");if(!WN)throw new Error("Could not find root element to mount to");const kae=j4.createRoot(WN);kae.render(u.jsx(Gt.StrictMode,{children:u.jsx(RY,{client:Cae,children:u.jsx(Sae,{})})}));
